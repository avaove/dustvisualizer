// modules are defined as an array
// [ module function, map of requires ]
//
// map of requires is short require name -> numeric require
//
// anything defined in a previous bundle is accessed via the
// orig method which is the require for previous bundles
parcelRequire = (function (modules, cache, entry, globalName) {
  // Save the require from previous bundle to this closure if any
  var previousRequire = typeof parcelRequire === 'function' && parcelRequire;
  var nodeRequire = typeof require === 'function' && require;

  function newRequire(name, jumped) {
    if (!cache[name]) {
      if (!modules[name]) {
        // if we cannot find the module within our internal map or
        // cache jump to the current global require ie. the last bundle
        // that was added to the page.
        var currentRequire = typeof parcelRequire === 'function' && parcelRequire;
        if (!jumped && currentRequire) {
          return currentRequire(name, true);
        }

        // If there are other bundles on this page the require from the
        // previous one is saved to 'previousRequire'. Repeat this as
        // many times as there are bundles until the module is found or
        // we exhaust the require chain.
        if (previousRequire) {
          return previousRequire(name, true);
        }

        // Try the node require function if it exists.
        if (nodeRequire && typeof name === 'string') {
          return nodeRequire(name);
        }

        var err = new Error('Cannot find module \'' + name + '\'');
        err.code = 'MODULE_NOT_FOUND';
        throw err;
      }

      localRequire.resolve = resolve;
      localRequire.cache = {};

      var module = cache[name] = new newRequire.Module(name);

      modules[name][0].call(module.exports, localRequire, module, module.exports, this);
    }

    return cache[name].exports;

    function localRequire(x){
      return newRequire(localRequire.resolve(x));
    }

    function resolve(x){
      return modules[name][1][x] || x;
    }
  }

  function Module(moduleName) {
    this.id = moduleName;
    this.bundle = newRequire;
    this.exports = {};
  }

  newRequire.isParcelRequire = true;
  newRequire.Module = Module;
  newRequire.modules = modules;
  newRequire.cache = cache;
  newRequire.parent = previousRequire;
  newRequire.register = function (id, exports) {
    modules[id] = [function (require, module) {
      module.exports = exports;
    }, {}];
  };

  var error;
  for (var i = 0; i < entry.length; i++) {
    try {
      newRequire(entry[i]);
    } catch (e) {
      // Save first error but execute all entries
      if (!error) {
        error = e;
      }
    }
  }

  if (entry.length) {
    // Expose entry point to Node, AMD or browser globals
    // Based on https://github.com/ForbesLindesay/umd/blob/master/template.js
    var mainExports = newRequire(entry[entry.length - 1]);

    // CommonJS
    if (typeof exports === "object" && typeof module !== "undefined") {
      module.exports = mainExports;

    // RequireJS
    } else if (typeof define === "function" && define.amd) {
     define(function () {
       return mainExports;
     });

    // <script>
    } else if (globalName) {
      this[globalName] = mainExports;
    }
  }

  // Override the current require with this new one
  parcelRequire = newRequire;

  if (error) {
    // throw error from earlier, _after updating parcelRequire_
    throw error;
  }

  return newRequire;
})({"node_modules/parcel-bundler/src/builtins/bundle-url.js":[function(require,module,exports) {
var bundleURL = null;

function getBundleURLCached() {
  if (!bundleURL) {
    bundleURL = getBundleURL();
  }

  return bundleURL;
}

function getBundleURL() {
  // Attempt to find the URL of the current script and use that as the base URL
  try {
    throw new Error();
  } catch (err) {
    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);

    if (matches) {
      return getBaseURL(matches[0]);
    }
  }

  return '/';
}

function getBaseURL(url) {
  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/, '$1') + '/';
}

exports.getBundleURL = getBundleURLCached;
exports.getBaseURL = getBaseURL;
},{}],"node_modules/parcel-bundler/src/builtins/css-loader.js":[function(require,module,exports) {
var bundle = require('./bundle-url');

function updateLink(link) {
  var newLink = link.cloneNode();

  newLink.onload = function () {
    link.remove();
  };

  newLink.href = link.href.split('?')[0] + '?' + Date.now();
  link.parentNode.insertBefore(newLink, link.nextSibling);
}

var cssTimeout = null;

function reloadCSS() {
  if (cssTimeout) {
    return;
  }

  cssTimeout = setTimeout(function () {
    var links = document.querySelectorAll('link[rel="stylesheet"]');

    for (var i = 0; i < links.length; i++) {
      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {
        updateLink(links[i]);
      }
    }

    cssTimeout = null;
  }, 50);
}

module.exports = reloadCSS;
},{"./bundle-url":"node_modules/parcel-bundler/src/builtins/bundle-url.js"}],"styles.css":[function(require,module,exports) {
var reloadCSS = require('_css_loader');

module.hot.dispose(reloadCSS);
module.hot.accept(reloadCSS);
},{"_css_loader":"node_modules/parcel-bundler/src/builtins/css-loader.js"}],"node_modules/three/build/three.module.js":[function(require,module,exports) {
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AlwaysStencilFunc = exports.AlwaysDepth = exports.AlphaFormat = exports.AdditiveBlending = exports.AddOperation = exports.AddEquation = exports.ACESFilmicToneMapping = void 0;
exports.AmbientLight = AmbientLight;
exports.AmbientLightProbe = AmbientLightProbe;
exports.AnimationClip = AnimationClip;
exports.AnimationLoader = AnimationLoader;
exports.AnimationMixer = AnimationMixer;
exports.AnimationObjectGroup = AnimationObjectGroup;
exports.AnimationUtils = void 0;
exports.ArcCurve = ArcCurve;
exports.ArrayCamera = ArrayCamera;
exports.ArrowHelper = ArrowHelper;
exports.Audio = Audio;
exports.AudioAnalyser = AudioAnalyser;
exports.AudioContext = void 0;
exports.AudioListener = AudioListener;
exports.AudioLoader = AudioLoader;
exports.AxesHelper = AxesHelper;
exports.AxisHelper = AxisHelper;
exports.BasicShadowMap = exports.BasicDepthPacking = exports.BackSide = void 0;
exports.BinaryTextureLoader = BinaryTextureLoader;
exports.Bone = Bone;
exports.BooleanKeyframeTrack = BooleanKeyframeTrack;
exports.BoundingBoxHelper = BoundingBoxHelper;
exports.Box2 = Box2;
exports.Box3 = Box3;
exports.Box3Helper = Box3Helper;
exports.BoxBufferGeometry = BoxBufferGeometry;
exports.CubeGeometry = exports.BoxGeometry = BoxGeometry;
exports.BoxHelper = BoxHelper;
exports.BufferAttribute = BufferAttribute;
exports.BufferGeometry = BufferGeometry;
exports.BufferGeometryLoader = BufferGeometryLoader;
exports.Cache = exports.ByteType = void 0;
exports.Camera = Camera;
exports.CameraHelper = CameraHelper;
exports.CanvasRenderer = CanvasRenderer;
exports.CanvasTexture = CanvasTexture;
exports.CatmullRomCurve3 = CatmullRomCurve3;
exports.CineonToneMapping = void 0;
exports.CircleBufferGeometry = CircleBufferGeometry;
exports.CircleGeometry = CircleGeometry;
exports.ClampToEdgeWrapping = void 0;
exports.Clock = Clock;
exports.ClosedSplineCurve3 = ClosedSplineCurve3;
exports.Color = Color;
exports.ColorKeyframeTrack = ColorKeyframeTrack;
exports.CompressedTexture = CompressedTexture;
exports.CompressedTextureLoader = CompressedTextureLoader;
exports.ConeBufferGeometry = ConeBufferGeometry;
exports.ConeGeometry = ConeGeometry;
exports.CubeCamera = CubeCamera;
exports.CubeRefractionMapping = exports.CubeReflectionMapping = void 0;
exports.CubeTexture = CubeTexture;
exports.CubeTextureLoader = CubeTextureLoader;
exports.CubeUVRefractionMapping = exports.CubeUVReflectionMapping = void 0;
exports.CubicBezierCurve = CubicBezierCurve;
exports.CubicBezierCurve3 = CubicBezierCurve3;
exports.CubicInterpolant = CubicInterpolant;
exports.CullFaceNone = exports.CullFaceFrontBack = exports.CullFaceFront = exports.CullFaceBack = void 0;
exports.Curve = Curve;
exports.CurvePath = CurvePath;
exports.CustomBlending = void 0;
exports.CylinderBufferGeometry = CylinderBufferGeometry;
exports.CylinderGeometry = CylinderGeometry;
exports.Cylindrical = Cylindrical;
exports.DataTexture = DataTexture;
exports.DataTexture2DArray = DataTexture2DArray;
exports.DataTexture3D = DataTexture3D;
exports.DataTextureLoader = DataTextureLoader;
exports.DepthStencilFormat = exports.DepthFormat = exports.DefaultLoadingManager = exports.DecrementWrapStencilOp = exports.DecrementStencilOp = void 0;
exports.DepthTexture = DepthTexture;
exports.DirectionalLight = DirectionalLight;
exports.DirectionalLightHelper = DirectionalLightHelper;
exports.DirectionalLightShadow = DirectionalLightShadow;
exports.DiscreteInterpolant = DiscreteInterpolant;
exports.DodecahedronBufferGeometry = DodecahedronBufferGeometry;
exports.DodecahedronGeometry = DodecahedronGeometry;
exports.DstColorFactor = exports.DstAlphaFactor = exports.DoubleSide = void 0;
exports.DynamicBufferAttribute = DynamicBufferAttribute;
exports.EdgesGeometry = EdgesGeometry;
exports.EdgesHelper = EdgesHelper;
exports.EllipseCurve = EllipseCurve;
exports.EquirectangularRefractionMapping = exports.EquirectangularReflectionMapping = exports.EqualStencilFunc = exports.EqualDepth = void 0;
exports.Euler = Euler;
exports.EventDispatcher = EventDispatcher;
exports.ExtrudeBufferGeometry = ExtrudeBufferGeometry;
exports.ExtrudeGeometry = ExtrudeGeometry;
exports.Face3 = Face3;
exports.Face4 = Face4;
exports.FaceColors = void 0;
exports.FaceNormalsHelper = FaceNormalsHelper;
exports.FileLoader = FileLoader;
exports.FlatShading = void 0;
exports.Float32Attribute = Float32Attribute;
exports.Float32BufferAttribute = Float32BufferAttribute;
exports.Float64Attribute = Float64Attribute;
exports.Float64BufferAttribute = Float64BufferAttribute;
exports.FloatType = void 0;
exports.Fog = Fog;
exports.FogExp2 = FogExp2;
exports.Font = Font;
exports.FontLoader = FontLoader;
exports.FrontSide = exports.FrontFaceDirectionCW = exports.FrontFaceDirectionCCW = void 0;
exports.Frustum = Frustum;
exports.GammaEncoding = void 0;
exports.Geometry = Geometry;
exports.GreaterStencilFunc = exports.GreaterEqualStencilFunc = exports.GreaterEqualDepth = exports.GreaterDepth = exports.GeometryUtils = void 0;
exports.GridHelper = GridHelper;
exports.Group = Group;
exports.HalfFloatType = void 0;
exports.HemisphereLight = HemisphereLight;
exports.HemisphereLightHelper = HemisphereLightHelper;
exports.HemisphereLightProbe = HemisphereLightProbe;
exports.IcosahedronBufferGeometry = IcosahedronBufferGeometry;
exports.IcosahedronGeometry = IcosahedronGeometry;
exports.ImageBitmapLoader = ImageBitmapLoader;
exports.ImageLoader = ImageLoader;
exports.ImageUtils = void 0;
exports.ImmediateRenderObject = ImmediateRenderObject;
exports.IncrementWrapStencilOp = exports.IncrementStencilOp = void 0;
exports.InstancedBufferAttribute = InstancedBufferAttribute;
exports.InstancedBufferGeometry = InstancedBufferGeometry;
exports.InstancedInterleavedBuffer = InstancedInterleavedBuffer;
exports.Int16Attribute = Int16Attribute;
exports.Int16BufferAttribute = Int16BufferAttribute;
exports.Int32Attribute = Int32Attribute;
exports.Int32BufferAttribute = Int32BufferAttribute;
exports.Int8Attribute = Int8Attribute;
exports.Int8BufferAttribute = Int8BufferAttribute;
exports.IntType = void 0;
exports.InterleavedBuffer = InterleavedBuffer;
exports.InterleavedBufferAttribute = InterleavedBufferAttribute;
exports.Interpolant = Interpolant;
exports.InvertStencilOp = exports.InterpolateSmooth = exports.InterpolateLinear = exports.InterpolateDiscrete = void 0;
exports.JSONLoader = JSONLoader;
exports.KeepStencilOp = void 0;
exports.KeyframeTrack = KeyframeTrack;
exports.LOD = LOD;
exports.LatheBufferGeometry = LatheBufferGeometry;
exports.LatheGeometry = LatheGeometry;
exports.Layers = Layers;
exports.LensFlare = LensFlare;
exports.LessStencilFunc = exports.LessEqualStencilFunc = exports.LessEqualDepth = exports.LessDepth = void 0;
exports.Light = Light;
exports.LightProbe = LightProbe;
exports.LightProbeHelper = LightProbeHelper;
exports.LightShadow = LightShadow;
exports.Line = Line;
exports.Line3 = Line3;
exports.LineBasicMaterial = LineBasicMaterial;
exports.LineCurve = LineCurve;
exports.LineCurve3 = LineCurve3;
exports.LineDashedMaterial = LineDashedMaterial;
exports.LineLoop = LineLoop;
exports.LinePieces = void 0;
exports.LineSegments = LineSegments;
exports.LinearFilter = exports.LinearEncoding = exports.LineStrip = void 0;
exports.LinearInterpolant = LinearInterpolant;
exports.LinearMipmapNearestFilter = exports.LinearMipmapLinearFilter = exports.LinearMipMapNearestFilter = exports.LinearMipMapLinearFilter = void 0;
exports.LinearToneMapping = void 0;
exports.Loader = Loader;
exports.LoaderUtils = void 0;
exports.LoadingManager = LoadingManager;
exports.MOUSE = exports.LuminanceFormat = exports.LuminanceAlphaFormat = exports.LoopRepeat = exports.LoopPingPong = exports.LoopOnce = exports.LogLuvEncoding = void 0;
exports.Material = Material;
exports.MaterialLoader = MaterialLoader;
exports.Math = void 0;
exports.Matrix3 = Matrix3;
exports.Matrix4 = Matrix4;
exports.MaxEquation = void 0;
exports.Mesh = Mesh;
exports.MeshBasicMaterial = MeshBasicMaterial;
exports.MeshDepthMaterial = MeshDepthMaterial;
exports.MeshDistanceMaterial = MeshDistanceMaterial;
exports.MeshFaceMaterial = MeshFaceMaterial;
exports.MeshLambertMaterial = MeshLambertMaterial;
exports.MeshMatcapMaterial = MeshMatcapMaterial;
exports.MeshNormalMaterial = MeshNormalMaterial;
exports.MeshPhongMaterial = MeshPhongMaterial;
exports.MeshPhysicalMaterial = MeshPhysicalMaterial;
exports.MeshStandardMaterial = MeshStandardMaterial;
exports.MeshToonMaterial = MeshToonMaterial;
exports.MixOperation = exports.MirroredRepeatWrapping = exports.MinEquation = void 0;
exports.MultiMaterial = MultiMaterial;
exports.NotEqualStencilFunc = exports.NotEqualDepth = exports.NormalBlending = exports.NoToneMapping = exports.NoColors = exports.NoBlending = exports.NeverStencilFunc = exports.NeverDepth = exports.NearestMipmapNearestFilter = exports.NearestMipmapLinearFilter = exports.NearestMipMapNearestFilter = exports.NearestMipMapLinearFilter = exports.NearestFilter = exports.MultiplyOperation = exports.MultiplyBlending = void 0;
exports.NumberKeyframeTrack = NumberKeyframeTrack;
exports.Object3D = Object3D;
exports.ObjectLoader = ObjectLoader;
exports.ObjectSpaceNormalMap = void 0;
exports.OctahedronBufferGeometry = OctahedronBufferGeometry;
exports.OctahedronGeometry = OctahedronGeometry;
exports.OneMinusSrcColorFactor = exports.OneMinusSrcAlphaFactor = exports.OneMinusDstColorFactor = exports.OneMinusDstAlphaFactor = exports.OneFactor = void 0;
exports.OrthographicCamera = OrthographicCamera;
exports.PCFSoftShadowMap = exports.PCFShadowMap = void 0;
exports.ParametricBufferGeometry = ParametricBufferGeometry;
exports.ParametricGeometry = ParametricGeometry;
exports.Particle = Particle;
exports.ParticleBasicMaterial = ParticleBasicMaterial;
exports.ParticleSystem = ParticleSystem;
exports.ParticleSystemMaterial = ParticleSystemMaterial;
exports.Path = Path;
exports.PerspectiveCamera = PerspectiveCamera;
exports.Plane = Plane;
exports.PlaneBufferGeometry = PlaneBufferGeometry;
exports.PlaneGeometry = PlaneGeometry;
exports.PlaneHelper = PlaneHelper;
exports.PointCloud = PointCloud;
exports.PointCloudMaterial = PointCloudMaterial;
exports.PointLight = PointLight;
exports.PointLightHelper = PointLightHelper;
exports.Points = Points;
exports.PointsMaterial = PointsMaterial;
exports.PolarGridHelper = PolarGridHelper;
exports.PolyhedronBufferGeometry = PolyhedronBufferGeometry;
exports.PolyhedronGeometry = PolyhedronGeometry;
exports.PositionalAudio = PositionalAudio;
exports.PositionalAudioHelper = PositionalAudioHelper;
exports.PropertyBinding = PropertyBinding;
exports.PropertyMixer = PropertyMixer;
exports.QuadraticBezierCurve = QuadraticBezierCurve;
exports.QuadraticBezierCurve3 = QuadraticBezierCurve3;
exports.Quaternion = Quaternion;
exports.QuaternionKeyframeTrack = QuaternionKeyframeTrack;
exports.QuaternionLinearInterpolant = QuaternionLinearInterpolant;
exports.RGBA_ASTC_12x10_Format = exports.RGBA_ASTC_10x8_Format = exports.RGBA_ASTC_10x6_Format = exports.RGBA_ASTC_10x5_Format = exports.RGBA_ASTC_10x10_Format = exports.RGBAFormat = exports.RGBADepthPacking = exports.REVISION = void 0;
exports.RGB_S3TC_DXT1_Format = exports.RGB_PVRTC_4BPPV1_Format = exports.RGB_PVRTC_2BPPV1_Format = exports.RGB_ETC1_Format = exports.RGBM7Encoding = exports.RGBM16Encoding = exports.RGBFormat = exports.RGBEFormat = exports.RGBEEncoding = exports.RGBDEncoding = exports.RGBA_S3TC_DXT5_Format = exports.RGBA_S3TC_DXT3_Format = exports.RGBA_S3TC_DXT1_Format = exports.RGBA_PVRTC_4BPPV1_Format = exports.RGBA_PVRTC_2BPPV1_Format = exports.RGBA_ASTC_8x8_Format = exports.RGBA_ASTC_8x6_Format = exports.RGBA_ASTC_8x5_Format = exports.RGBA_ASTC_6x6_Format = exports.RGBA_ASTC_6x5_Format = exports.RGBA_ASTC_5x5_Format = exports.RGBA_ASTC_5x4_Format = exports.RGBA_ASTC_4x4_Format = exports.RGBA_ASTC_12x12_Format = void 0;
exports.RawShaderMaterial = RawShaderMaterial;
exports.Ray = Ray;
exports.Raycaster = Raycaster;
exports.RectAreaLight = RectAreaLight;
exports.RectAreaLightHelper = RectAreaLightHelper;
exports.ReverseSubtractEquation = exports.ReplaceStencilOp = exports.RepeatWrapping = exports.ReinhardToneMapping = exports.RedFormat = void 0;
exports.RingBufferGeometry = RingBufferGeometry;
exports.RingGeometry = RingGeometry;
exports.Scene = Scene;
exports.ShaderLib = exports.ShaderChunk = exports.SceneUtils = void 0;
exports.ShaderMaterial = ShaderMaterial;
exports.ShadowMaterial = ShadowMaterial;
exports.Shape = Shape;
exports.ShapeBufferGeometry = ShapeBufferGeometry;
exports.ShapeGeometry = ShapeGeometry;
exports.ShapePath = ShapePath;
exports.ShortType = exports.ShapeUtils = void 0;
exports.Skeleton = Skeleton;
exports.SkeletonHelper = SkeletonHelper;
exports.SkinnedMesh = SkinnedMesh;
exports.SmoothShading = void 0;
exports.Sphere = Sphere;
exports.SphereBufferGeometry = SphereBufferGeometry;
exports.SphereGeometry = SphereGeometry;
exports.Spherical = Spherical;
exports.SphericalHarmonics3 = SphericalHarmonics3;
exports.SphericalReflectionMapping = void 0;
exports.Spline = Spline;
exports.SplineCurve = SplineCurve;
exports.SplineCurve3 = SplineCurve3;
exports.SpotLight = SpotLight;
exports.SpotLightHelper = SpotLightHelper;
exports.SpotLightShadow = SpotLightShadow;
exports.Sprite = Sprite;
exports.SpriteMaterial = SpriteMaterial;
exports.SrcColorFactor = exports.SrcAlphaSaturateFactor = exports.SrcAlphaFactor = void 0;
exports.StereoCamera = StereoCamera;
exports.StringKeyframeTrack = StringKeyframeTrack;
exports.TangentSpaceNormalMap = exports.TOUCH = exports.SubtractiveBlending = exports.SubtractEquation = void 0;
exports.TetrahedronBufferGeometry = TetrahedronBufferGeometry;
exports.TetrahedronGeometry = TetrahedronGeometry;
exports.TextBufferGeometry = TextBufferGeometry;
exports.TextGeometry = TextGeometry;
exports.Texture = Texture;
exports.TextureLoader = TextureLoader;
exports.TorusBufferGeometry = TorusBufferGeometry;
exports.TorusGeometry = TorusGeometry;
exports.TorusKnotBufferGeometry = TorusKnotBufferGeometry;
exports.TorusKnotGeometry = TorusKnotGeometry;
exports.Triangle = Triangle;
exports.TrianglesDrawMode = exports.TriangleStripDrawMode = exports.TriangleFanDrawMode = void 0;
exports.TubeBufferGeometry = TubeBufferGeometry;
exports.TubeGeometry = TubeGeometry;
exports.UVMapping = void 0;
exports.Uint16Attribute = Uint16Attribute;
exports.Uint16BufferAttribute = Uint16BufferAttribute;
exports.Uint32Attribute = Uint32Attribute;
exports.Uint32BufferAttribute = Uint32BufferAttribute;
exports.Uint8Attribute = Uint8Attribute;
exports.Uint8BufferAttribute = Uint8BufferAttribute;
exports.Uint8ClampedAttribute = Uint8ClampedAttribute;
exports.Uint8ClampedBufferAttribute = Uint8ClampedBufferAttribute;
exports.Uncharted2ToneMapping = void 0;
exports.Uniform = Uniform;
exports.UnsignedShortType = exports.UnsignedShort565Type = exports.UnsignedShort5551Type = exports.UnsignedShort4444Type = exports.UnsignedIntType = exports.UnsignedInt248Type = exports.UnsignedByteType = exports.UniformsUtils = exports.UniformsLib = void 0;
exports.Vector2 = Vector2;
exports.Vector3 = Vector3;
exports.Vector4 = Vector4;
exports.VectorKeyframeTrack = VectorKeyframeTrack;
exports.Vertex = Vertex;
exports.VertexColors = void 0;
exports.VertexNormalsHelper = VertexNormalsHelper;
exports.VideoTexture = VideoTexture;
exports.WebGLMultisampleRenderTarget = WebGLMultisampleRenderTarget;
exports.WebGLRenderTarget = WebGLRenderTarget;
exports.WebGLRenderTargetCube = WebGLRenderTargetCube;
exports.WebGLRenderer = WebGLRenderer;
exports.WebGLUtils = WebGLUtils;
exports.WireframeGeometry = WireframeGeometry;
exports.WireframeHelper = WireframeHelper;
exports.WrapAroundEnding = void 0;
exports.XHRLoader = XHRLoader;
exports.sRGBEncoding = exports.ZeroStencilOp = exports.ZeroSlopeEnding = exports.ZeroFactor = exports.ZeroCurvatureEnding = void 0;

// Polyfills
if (Number.EPSILON === undefined) {
  Number.EPSILON = Math.pow(2, -52);
}

if (Number.isInteger === undefined) {
  // Missing in IE
  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger
  Number.isInteger = function (value) {
    return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;
  };
} //


if (Math.sign === undefined) {
  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign
  Math.sign = function (x) {
    return x < 0 ? -1 : x > 0 ? 1 : +x;
  };
}

if ('name' in Function.prototype === false) {
  // Missing in IE
  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name
  Object.defineProperty(Function.prototype, 'name', {
    get: function () {
      return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1];
    }
  });
}

if (Object.assign === undefined) {
  // Missing in IE
  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign
  (function () {
    Object.assign = function (target) {
      if (target === undefined || target === null) {
        throw new TypeError('Cannot convert undefined or null to object');
      }

      var output = Object(target);

      for (var index = 1; index < arguments.length; index++) {
        var source = arguments[index];

        if (source !== undefined && source !== null) {
          for (var nextKey in source) {
            if (Object.prototype.hasOwnProperty.call(source, nextKey)) {
              output[nextKey] = source[nextKey];
            }
          }
        }
      }

      return output;
    };
  })();
}
/**
 * https://github.com/mrdoob/eventdispatcher.js/
 */


function EventDispatcher() {}

Object.assign(EventDispatcher.prototype, {
  addEventListener: function (type, listener) {
    if (this._listeners === undefined) this._listeners = {};
    var listeners = this._listeners;

    if (listeners[type] === undefined) {
      listeners[type] = [];
    }

    if (listeners[type].indexOf(listener) === -1) {
      listeners[type].push(listener);
    }
  },
  hasEventListener: function (type, listener) {
    if (this._listeners === undefined) return false;
    var listeners = this._listeners;
    return listeners[type] !== undefined && listeners[type].indexOf(listener) !== -1;
  },
  removeEventListener: function (type, listener) {
    if (this._listeners === undefined) return;
    var listeners = this._listeners;
    var listenerArray = listeners[type];

    if (listenerArray !== undefined) {
      var index = listenerArray.indexOf(listener);

      if (index !== -1) {
        listenerArray.splice(index, 1);
      }
    }
  },
  dispatchEvent: function (event) {
    if (this._listeners === undefined) return;
    var listeners = this._listeners;
    var listenerArray = listeners[event.type];

    if (listenerArray !== undefined) {
      event.target = this;
      var array = listenerArray.slice(0);

      for (var i = 0, l = array.length; i < l; i++) {
        array[i].call(this, event);
      }
    }
  }
});
var REVISION = '107';
exports.REVISION = REVISION;
var MOUSE = {
  LEFT: 0,
  MIDDLE: 1,
  RIGHT: 2,
  ROTATE: 0,
  DOLLY: 1,
  PAN: 2
};
exports.MOUSE = MOUSE;
var TOUCH = {
  ROTATE: 0,
  PAN: 1,
  DOLLY_PAN: 2,
  DOLLY_ROTATE: 3
};
exports.TOUCH = TOUCH;
var CullFaceNone = 0;
exports.CullFaceNone = CullFaceNone;
var CullFaceBack = 1;
exports.CullFaceBack = CullFaceBack;
var CullFaceFront = 2;
exports.CullFaceFront = CullFaceFront;
var CullFaceFrontBack = 3;
exports.CullFaceFrontBack = CullFaceFrontBack;
var FrontFaceDirectionCW = 0;
exports.FrontFaceDirectionCW = FrontFaceDirectionCW;
var FrontFaceDirectionCCW = 1;
exports.FrontFaceDirectionCCW = FrontFaceDirectionCCW;
var BasicShadowMap = 0;
exports.BasicShadowMap = BasicShadowMap;
var PCFShadowMap = 1;
exports.PCFShadowMap = PCFShadowMap;
var PCFSoftShadowMap = 2;
exports.PCFSoftShadowMap = PCFSoftShadowMap;
var FrontSide = 0;
exports.FrontSide = FrontSide;
var BackSide = 1;
exports.BackSide = BackSide;
var DoubleSide = 2;
exports.DoubleSide = DoubleSide;
var FlatShading = 1;
exports.FlatShading = FlatShading;
var SmoothShading = 2;
exports.SmoothShading = SmoothShading;
var NoColors = 0;
exports.NoColors = NoColors;
var FaceColors = 1;
exports.FaceColors = FaceColors;
var VertexColors = 2;
exports.VertexColors = VertexColors;
var NoBlending = 0;
exports.NoBlending = NoBlending;
var NormalBlending = 1;
exports.NormalBlending = NormalBlending;
var AdditiveBlending = 2;
exports.AdditiveBlending = AdditiveBlending;
var SubtractiveBlending = 3;
exports.SubtractiveBlending = SubtractiveBlending;
var MultiplyBlending = 4;
exports.MultiplyBlending = MultiplyBlending;
var CustomBlending = 5;
exports.CustomBlending = CustomBlending;
var AddEquation = 100;
exports.AddEquation = AddEquation;
var SubtractEquation = 101;
exports.SubtractEquation = SubtractEquation;
var ReverseSubtractEquation = 102;
exports.ReverseSubtractEquation = ReverseSubtractEquation;
var MinEquation = 103;
exports.MinEquation = MinEquation;
var MaxEquation = 104;
exports.MaxEquation = MaxEquation;
var ZeroFactor = 200;
exports.ZeroFactor = ZeroFactor;
var OneFactor = 201;
exports.OneFactor = OneFactor;
var SrcColorFactor = 202;
exports.SrcColorFactor = SrcColorFactor;
var OneMinusSrcColorFactor = 203;
exports.OneMinusSrcColorFactor = OneMinusSrcColorFactor;
var SrcAlphaFactor = 204;
exports.SrcAlphaFactor = SrcAlphaFactor;
var OneMinusSrcAlphaFactor = 205;
exports.OneMinusSrcAlphaFactor = OneMinusSrcAlphaFactor;
var DstAlphaFactor = 206;
exports.DstAlphaFactor = DstAlphaFactor;
var OneMinusDstAlphaFactor = 207;
exports.OneMinusDstAlphaFactor = OneMinusDstAlphaFactor;
var DstColorFactor = 208;
exports.DstColorFactor = DstColorFactor;
var OneMinusDstColorFactor = 209;
exports.OneMinusDstColorFactor = OneMinusDstColorFactor;
var SrcAlphaSaturateFactor = 210;
exports.SrcAlphaSaturateFactor = SrcAlphaSaturateFactor;
var NeverDepth = 0;
exports.NeverDepth = NeverDepth;
var AlwaysDepth = 1;
exports.AlwaysDepth = AlwaysDepth;
var LessDepth = 2;
exports.LessDepth = LessDepth;
var LessEqualDepth = 3;
exports.LessEqualDepth = LessEqualDepth;
var EqualDepth = 4;
exports.EqualDepth = EqualDepth;
var GreaterEqualDepth = 5;
exports.GreaterEqualDepth = GreaterEqualDepth;
var GreaterDepth = 6;
exports.GreaterDepth = GreaterDepth;
var NotEqualDepth = 7;
exports.NotEqualDepth = NotEqualDepth;
var MultiplyOperation = 0;
exports.MultiplyOperation = MultiplyOperation;
var MixOperation = 1;
exports.MixOperation = MixOperation;
var AddOperation = 2;
exports.AddOperation = AddOperation;
var NoToneMapping = 0;
exports.NoToneMapping = NoToneMapping;
var LinearToneMapping = 1;
exports.LinearToneMapping = LinearToneMapping;
var ReinhardToneMapping = 2;
exports.ReinhardToneMapping = ReinhardToneMapping;
var Uncharted2ToneMapping = 3;
exports.Uncharted2ToneMapping = Uncharted2ToneMapping;
var CineonToneMapping = 4;
exports.CineonToneMapping = CineonToneMapping;
var ACESFilmicToneMapping = 5;
exports.ACESFilmicToneMapping = ACESFilmicToneMapping;
var UVMapping = 300;
exports.UVMapping = UVMapping;
var CubeReflectionMapping = 301;
exports.CubeReflectionMapping = CubeReflectionMapping;
var CubeRefractionMapping = 302;
exports.CubeRefractionMapping = CubeRefractionMapping;
var EquirectangularReflectionMapping = 303;
exports.EquirectangularReflectionMapping = EquirectangularReflectionMapping;
var EquirectangularRefractionMapping = 304;
exports.EquirectangularRefractionMapping = EquirectangularRefractionMapping;
var SphericalReflectionMapping = 305;
exports.SphericalReflectionMapping = SphericalReflectionMapping;
var CubeUVReflectionMapping = 306;
exports.CubeUVReflectionMapping = CubeUVReflectionMapping;
var CubeUVRefractionMapping = 307;
exports.CubeUVRefractionMapping = CubeUVRefractionMapping;
var RepeatWrapping = 1000;
exports.RepeatWrapping = RepeatWrapping;
var ClampToEdgeWrapping = 1001;
exports.ClampToEdgeWrapping = ClampToEdgeWrapping;
var MirroredRepeatWrapping = 1002;
exports.MirroredRepeatWrapping = MirroredRepeatWrapping;
var NearestFilter = 1003;
exports.NearestFilter = NearestFilter;
var NearestMipmapNearestFilter = 1004;
exports.NearestMipmapNearestFilter = NearestMipmapNearestFilter;
var NearestMipMapNearestFilter = 1004;
exports.NearestMipMapNearestFilter = NearestMipMapNearestFilter;
var NearestMipmapLinearFilter = 1005;
exports.NearestMipmapLinearFilter = NearestMipmapLinearFilter;
var NearestMipMapLinearFilter = 1005;
exports.NearestMipMapLinearFilter = NearestMipMapLinearFilter;
var LinearFilter = 1006;
exports.LinearFilter = LinearFilter;
var LinearMipmapNearestFilter = 1007;
exports.LinearMipmapNearestFilter = LinearMipmapNearestFilter;
var LinearMipMapNearestFilter = 1007;
exports.LinearMipMapNearestFilter = LinearMipMapNearestFilter;
var LinearMipmapLinearFilter = 1008;
exports.LinearMipmapLinearFilter = LinearMipmapLinearFilter;
var LinearMipMapLinearFilter = 1008;
exports.LinearMipMapLinearFilter = LinearMipMapLinearFilter;
var UnsignedByteType = 1009;
exports.UnsignedByteType = UnsignedByteType;
var ByteType = 1010;
exports.ByteType = ByteType;
var ShortType = 1011;
exports.ShortType = ShortType;
var UnsignedShortType = 1012;
exports.UnsignedShortType = UnsignedShortType;
var IntType = 1013;
exports.IntType = IntType;
var UnsignedIntType = 1014;
exports.UnsignedIntType = UnsignedIntType;
var FloatType = 1015;
exports.FloatType = FloatType;
var HalfFloatType = 1016;
exports.HalfFloatType = HalfFloatType;
var UnsignedShort4444Type = 1017;
exports.UnsignedShort4444Type = UnsignedShort4444Type;
var UnsignedShort5551Type = 1018;
exports.UnsignedShort5551Type = UnsignedShort5551Type;
var UnsignedShort565Type = 1019;
exports.UnsignedShort565Type = UnsignedShort565Type;
var UnsignedInt248Type = 1020;
exports.UnsignedInt248Type = UnsignedInt248Type;
var AlphaFormat = 1021;
exports.AlphaFormat = AlphaFormat;
var RGBFormat = 1022;
exports.RGBFormat = RGBFormat;
var RGBAFormat = 1023;
exports.RGBAFormat = RGBAFormat;
var LuminanceFormat = 1024;
exports.LuminanceFormat = LuminanceFormat;
var LuminanceAlphaFormat = 1025;
exports.LuminanceAlphaFormat = LuminanceAlphaFormat;
var RGBEFormat = RGBAFormat;
exports.RGBEFormat = RGBEFormat;
var DepthFormat = 1026;
exports.DepthFormat = DepthFormat;
var DepthStencilFormat = 1027;
exports.DepthStencilFormat = DepthStencilFormat;
var RedFormat = 1028;
exports.RedFormat = RedFormat;
var RGB_S3TC_DXT1_Format = 33776;
exports.RGB_S3TC_DXT1_Format = RGB_S3TC_DXT1_Format;
var RGBA_S3TC_DXT1_Format = 33777;
exports.RGBA_S3TC_DXT1_Format = RGBA_S3TC_DXT1_Format;
var RGBA_S3TC_DXT3_Format = 33778;
exports.RGBA_S3TC_DXT3_Format = RGBA_S3TC_DXT3_Format;
var RGBA_S3TC_DXT5_Format = 33779;
exports.RGBA_S3TC_DXT5_Format = RGBA_S3TC_DXT5_Format;
var RGB_PVRTC_4BPPV1_Format = 35840;
exports.RGB_PVRTC_4BPPV1_Format = RGB_PVRTC_4BPPV1_Format;
var RGB_PVRTC_2BPPV1_Format = 35841;
exports.RGB_PVRTC_2BPPV1_Format = RGB_PVRTC_2BPPV1_Format;
var RGBA_PVRTC_4BPPV1_Format = 35842;
exports.RGBA_PVRTC_4BPPV1_Format = RGBA_PVRTC_4BPPV1_Format;
var RGBA_PVRTC_2BPPV1_Format = 35843;
exports.RGBA_PVRTC_2BPPV1_Format = RGBA_PVRTC_2BPPV1_Format;
var RGB_ETC1_Format = 36196;
exports.RGB_ETC1_Format = RGB_ETC1_Format;
var RGBA_ASTC_4x4_Format = 37808;
exports.RGBA_ASTC_4x4_Format = RGBA_ASTC_4x4_Format;
var RGBA_ASTC_5x4_Format = 37809;
exports.RGBA_ASTC_5x4_Format = RGBA_ASTC_5x4_Format;
var RGBA_ASTC_5x5_Format = 37810;
exports.RGBA_ASTC_5x5_Format = RGBA_ASTC_5x5_Format;
var RGBA_ASTC_6x5_Format = 37811;
exports.RGBA_ASTC_6x5_Format = RGBA_ASTC_6x5_Format;
var RGBA_ASTC_6x6_Format = 37812;
exports.RGBA_ASTC_6x6_Format = RGBA_ASTC_6x6_Format;
var RGBA_ASTC_8x5_Format = 37813;
exports.RGBA_ASTC_8x5_Format = RGBA_ASTC_8x5_Format;
var RGBA_ASTC_8x6_Format = 37814;
exports.RGBA_ASTC_8x6_Format = RGBA_ASTC_8x6_Format;
var RGBA_ASTC_8x8_Format = 37815;
exports.RGBA_ASTC_8x8_Format = RGBA_ASTC_8x8_Format;
var RGBA_ASTC_10x5_Format = 37816;
exports.RGBA_ASTC_10x5_Format = RGBA_ASTC_10x5_Format;
var RGBA_ASTC_10x6_Format = 37817;
exports.RGBA_ASTC_10x6_Format = RGBA_ASTC_10x6_Format;
var RGBA_ASTC_10x8_Format = 37818;
exports.RGBA_ASTC_10x8_Format = RGBA_ASTC_10x8_Format;
var RGBA_ASTC_10x10_Format = 37819;
exports.RGBA_ASTC_10x10_Format = RGBA_ASTC_10x10_Format;
var RGBA_ASTC_12x10_Format = 37820;
exports.RGBA_ASTC_12x10_Format = RGBA_ASTC_12x10_Format;
var RGBA_ASTC_12x12_Format = 37821;
exports.RGBA_ASTC_12x12_Format = RGBA_ASTC_12x12_Format;
var LoopOnce = 2200;
exports.LoopOnce = LoopOnce;
var LoopRepeat = 2201;
exports.LoopRepeat = LoopRepeat;
var LoopPingPong = 2202;
exports.LoopPingPong = LoopPingPong;
var InterpolateDiscrete = 2300;
exports.InterpolateDiscrete = InterpolateDiscrete;
var InterpolateLinear = 2301;
exports.InterpolateLinear = InterpolateLinear;
var InterpolateSmooth = 2302;
exports.InterpolateSmooth = InterpolateSmooth;
var ZeroCurvatureEnding = 2400;
exports.ZeroCurvatureEnding = ZeroCurvatureEnding;
var ZeroSlopeEnding = 2401;
exports.ZeroSlopeEnding = ZeroSlopeEnding;
var WrapAroundEnding = 2402;
exports.WrapAroundEnding = WrapAroundEnding;
var TrianglesDrawMode = 0;
exports.TrianglesDrawMode = TrianglesDrawMode;
var TriangleStripDrawMode = 1;
exports.TriangleStripDrawMode = TriangleStripDrawMode;
var TriangleFanDrawMode = 2;
exports.TriangleFanDrawMode = TriangleFanDrawMode;
var LinearEncoding = 3000;
exports.LinearEncoding = LinearEncoding;
var sRGBEncoding = 3001;
exports.sRGBEncoding = sRGBEncoding;
var GammaEncoding = 3007;
exports.GammaEncoding = GammaEncoding;
var RGBEEncoding = 3002;
exports.RGBEEncoding = RGBEEncoding;
var LogLuvEncoding = 3003;
exports.LogLuvEncoding = LogLuvEncoding;
var RGBM7Encoding = 3004;
exports.RGBM7Encoding = RGBM7Encoding;
var RGBM16Encoding = 3005;
exports.RGBM16Encoding = RGBM16Encoding;
var RGBDEncoding = 3006;
exports.RGBDEncoding = RGBDEncoding;
var BasicDepthPacking = 3200;
exports.BasicDepthPacking = BasicDepthPacking;
var RGBADepthPacking = 3201;
exports.RGBADepthPacking = RGBADepthPacking;
var TangentSpaceNormalMap = 0;
exports.TangentSpaceNormalMap = TangentSpaceNormalMap;
var ObjectSpaceNormalMap = 1;
exports.ObjectSpaceNormalMap = ObjectSpaceNormalMap;
var ZeroStencilOp = 0;
exports.ZeroStencilOp = ZeroStencilOp;
var KeepStencilOp = 7680;
exports.KeepStencilOp = KeepStencilOp;
var ReplaceStencilOp = 7681;
exports.ReplaceStencilOp = ReplaceStencilOp;
var IncrementStencilOp = 7682;
exports.IncrementStencilOp = IncrementStencilOp;
var DecrementStencilOp = 7683;
exports.DecrementStencilOp = DecrementStencilOp;
var IncrementWrapStencilOp = 34055;
exports.IncrementWrapStencilOp = IncrementWrapStencilOp;
var DecrementWrapStencilOp = 34056;
exports.DecrementWrapStencilOp = DecrementWrapStencilOp;
var InvertStencilOp = 5386;
exports.InvertStencilOp = InvertStencilOp;
var NeverStencilFunc = 512;
exports.NeverStencilFunc = NeverStencilFunc;
var LessStencilFunc = 513;
exports.LessStencilFunc = LessStencilFunc;
var EqualStencilFunc = 514;
exports.EqualStencilFunc = EqualStencilFunc;
var LessEqualStencilFunc = 515;
exports.LessEqualStencilFunc = LessEqualStencilFunc;
var GreaterStencilFunc = 516;
exports.GreaterStencilFunc = GreaterStencilFunc;
var NotEqualStencilFunc = 517;
exports.NotEqualStencilFunc = NotEqualStencilFunc;
var GreaterEqualStencilFunc = 518;
exports.GreaterEqualStencilFunc = GreaterEqualStencilFunc;
var AlwaysStencilFunc = 519;
/**
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
 */

exports.AlwaysStencilFunc = AlwaysStencilFunc;
var _Math = {
  DEG2RAD: Math.PI / 180,
  RAD2DEG: 180 / Math.PI,
  generateUUID: function () {
    // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136
    var lut = [];

    for (var i = 0; i < 256; i++) {
      lut[i] = (i < 16 ? '0' : '') + i.toString(16);
    }

    return function generateUUID() {
      var d0 = Math.random() * 0xffffffff | 0;
      var d1 = Math.random() * 0xffffffff | 0;
      var d2 = Math.random() * 0xffffffff | 0;
      var d3 = Math.random() * 0xffffffff | 0;
      var uuid = lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] + lut[d0 >> 24 & 0xff] + '-' + lut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' + lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' + lut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] + lut[d2 >> 24 & 0xff] + lut[d3 & 0xff] + lut[d3 >> 8 & 0xff] + lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff]; // .toUpperCase() here flattens concatenated strings to save heap memory space.

      return uuid.toUpperCase();
    };
  }(),
  clamp: function (value, min, max) {
    return Math.max(min, Math.min(max, value));
  },
  // compute euclidian modulo of m % n
  // https://en.wikipedia.org/wiki/Modulo_operation
  euclideanModulo: function (n, m) {
    return (n % m + m) % m;
  },
  // Linear mapping from range <a1, a2> to range <b1, b2>
  mapLinear: function (x, a1, a2, b1, b2) {
    return b1 + (x - a1) * (b2 - b1) / (a2 - a1);
  },
  // https://en.wikipedia.org/wiki/Linear_interpolation
  lerp: function (x, y, t) {
    return (1 - t) * x + t * y;
  },
  // http://en.wikipedia.org/wiki/Smoothstep
  smoothstep: function (x, min, max) {
    if (x <= min) return 0;
    if (x >= max) return 1;
    x = (x - min) / (max - min);
    return x * x * (3 - 2 * x);
  },
  smootherstep: function (x, min, max) {
    if (x <= min) return 0;
    if (x >= max) return 1;
    x = (x - min) / (max - min);
    return x * x * x * (x * (x * 6 - 15) + 10);
  },
  // Random integer from <low, high> interval
  randInt: function (low, high) {
    return low + Math.floor(Math.random() * (high - low + 1));
  },
  // Random float from <low, high> interval
  randFloat: function (low, high) {
    return low + Math.random() * (high - low);
  },
  // Random float from <-range/2, range/2> interval
  randFloatSpread: function (range) {
    return range * (0.5 - Math.random());
  },
  degToRad: function (degrees) {
    return degrees * _Math.DEG2RAD;
  },
  radToDeg: function (radians) {
    return radians * _Math.RAD2DEG;
  },
  isPowerOfTwo: function (value) {
    return (value & value - 1) === 0 && value !== 0;
  },
  ceilPowerOfTwo: function (value) {
    return Math.pow(2, Math.ceil(Math.log(value) / Math.LN2));
  },
  floorPowerOfTwo: function (value) {
    return Math.pow(2, Math.floor(Math.log(value) / Math.LN2));
  }
};
/**
 * @author mrdoob / http://mrdoob.com/
 * @author philogb / http://blog.thejit.org/
 * @author egraether / http://egraether.com/
 * @author zz85 / http://www.lab4games.net/zz85/blog
 */

exports.Math = _Math;

function Vector2(x, y) {
  this.x = x || 0;
  this.y = y || 0;
}

Object.defineProperties(Vector2.prototype, {
  "width": {
    get: function () {
      return this.x;
    },
    set: function (value) {
      this.x = value;
    }
  },
  "height": {
    get: function () {
      return this.y;
    },
    set: function (value) {
      this.y = value;
    }
  }
});
Object.assign(Vector2.prototype, {
  isVector2: true,
  set: function (x, y) {
    this.x = x;
    this.y = y;
    return this;
  },
  setScalar: function (scalar) {
    this.x = scalar;
    this.y = scalar;
    return this;
  },
  setX: function (x) {
    this.x = x;
    return this;
  },
  setY: function (y) {
    this.y = y;
    return this;
  },
  setComponent: function (index, value) {
    switch (index) {
      case 0:
        this.x = value;
        break;

      case 1:
        this.y = value;
        break;

      default:
        throw new Error('index is out of range: ' + index);
    }

    return this;
  },
  getComponent: function (index) {
    switch (index) {
      case 0:
        return this.x;

      case 1:
        return this.y;

      default:
        throw new Error('index is out of range: ' + index);
    }
  },
  clone: function () {
    return new this.constructor(this.x, this.y);
  },
  copy: function (v) {
    this.x = v.x;
    this.y = v.y;
    return this;
  },
  add: function (v, w) {
    if (w !== undefined) {
      console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');
      return this.addVectors(v, w);
    }

    this.x += v.x;
    this.y += v.y;
    return this;
  },
  addScalar: function (s) {
    this.x += s;
    this.y += s;
    return this;
  },
  addVectors: function (a, b) {
    this.x = a.x + b.x;
    this.y = a.y + b.y;
    return this;
  },
  addScaledVector: function (v, s) {
    this.x += v.x * s;
    this.y += v.y * s;
    return this;
  },
  sub: function (v, w) {
    if (w !== undefined) {
      console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');
      return this.subVectors(v, w);
    }

    this.x -= v.x;
    this.y -= v.y;
    return this;
  },
  subScalar: function (s) {
    this.x -= s;
    this.y -= s;
    return this;
  },
  subVectors: function (a, b) {
    this.x = a.x - b.x;
    this.y = a.y - b.y;
    return this;
  },
  multiply: function (v) {
    this.x *= v.x;
    this.y *= v.y;
    return this;
  },
  multiplyScalar: function (scalar) {
    this.x *= scalar;
    this.y *= scalar;
    return this;
  },
  divide: function (v) {
    this.x /= v.x;
    this.y /= v.y;
    return this;
  },
  divideScalar: function (scalar) {
    return this.multiplyScalar(1 / scalar);
  },
  applyMatrix3: function (m) {
    var x = this.x,
        y = this.y;
    var e = m.elements;
    this.x = e[0] * x + e[3] * y + e[6];
    this.y = e[1] * x + e[4] * y + e[7];
    return this;
  },
  min: function (v) {
    this.x = Math.min(this.x, v.x);
    this.y = Math.min(this.y, v.y);
    return this;
  },
  max: function (v) {
    this.x = Math.max(this.x, v.x);
    this.y = Math.max(this.y, v.y);
    return this;
  },
  clamp: function (min, max) {
    // assumes min < max, componentwise
    this.x = Math.max(min.x, Math.min(max.x, this.x));
    this.y = Math.max(min.y, Math.min(max.y, this.y));
    return this;
  },
  clampScalar: function (minVal, maxVal) {
    this.x = Math.max(minVal, Math.min(maxVal, this.x));
    this.y = Math.max(minVal, Math.min(maxVal, this.y));
    return this;
  },
  clampLength: function (min, max) {
    var length = this.length();
    return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));
  },
  floor: function () {
    this.x = Math.floor(this.x);
    this.y = Math.floor(this.y);
    return this;
  },
  ceil: function () {
    this.x = Math.ceil(this.x);
    this.y = Math.ceil(this.y);
    return this;
  },
  round: function () {
    this.x = Math.round(this.x);
    this.y = Math.round(this.y);
    return this;
  },
  roundToZero: function () {
    this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);
    this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);
    return this;
  },
  negate: function () {
    this.x = -this.x;
    this.y = -this.y;
    return this;
  },
  dot: function (v) {
    return this.x * v.x + this.y * v.y;
  },
  cross: function (v) {
    return this.x * v.y - this.y * v.x;
  },
  lengthSq: function () {
    return this.x * this.x + this.y * this.y;
  },
  length: function () {
    return Math.sqrt(this.x * this.x + this.y * this.y);
  },
  manhattanLength: function () {
    return Math.abs(this.x) + Math.abs(this.y);
  },
  normalize: function () {
    return this.divideScalar(this.length() || 1);
  },
  angle: function () {
    // computes the angle in radians with respect to the positive x-axis
    var angle = Math.atan2(this.y, this.x);
    if (angle < 0) angle += 2 * Math.PI;
    return angle;
  },
  distanceTo: function (v) {
    return Math.sqrt(this.distanceToSquared(v));
  },
  distanceToSquared: function (v) {
    var dx = this.x - v.x,
        dy = this.y - v.y;
    return dx * dx + dy * dy;
  },
  manhattanDistanceTo: function (v) {
    return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);
  },
  setLength: function (length) {
    return this.normalize().multiplyScalar(length);
  },
  lerp: function (v, alpha) {
    this.x += (v.x - this.x) * alpha;
    this.y += (v.y - this.y) * alpha;
    return this;
  },
  lerpVectors: function (v1, v2, alpha) {
    return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);
  },
  equals: function (v) {
    return v.x === this.x && v.y === this.y;
  },
  fromArray: function (array, offset) {
    if (offset === undefined) offset = 0;
    this.x = array[offset];
    this.y = array[offset + 1];
    return this;
  },
  toArray: function (array, offset) {
    if (array === undefined) array = [];
    if (offset === undefined) offset = 0;
    array[offset] = this.x;
    array[offset + 1] = this.y;
    return array;
  },
  fromBufferAttribute: function (attribute, index, offset) {
    if (offset !== undefined) {
      console.warn('THREE.Vector2: offset has been removed from .fromBufferAttribute().');
    }

    this.x = attribute.getX(index);
    this.y = attribute.getY(index);
    return this;
  },
  rotateAround: function (center, angle) {
    var c = Math.cos(angle),
        s = Math.sin(angle);
    var x = this.x - center.x;
    var y = this.y - center.y;
    this.x = x * c - y * s + center.x;
    this.y = x * s + y * c + center.y;
    return this;
  }
});
/**
 * @author mikael emtinger / http://gomo.se/
 * @author alteredq / http://alteredqualia.com/
 * @author WestLangley / http://github.com/WestLangley
 * @author bhouston / http://clara.io
 */

function Quaternion(x, y, z, w) {
  this._x = x || 0;
  this._y = y || 0;
  this._z = z || 0;
  this._w = w !== undefined ? w : 1;
}

Object.assign(Quaternion, {
  slerp: function (qa, qb, qm, t) {
    return qm.copy(qa).slerp(qb, t);
  },
  slerpFlat: function (dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t) {
    // fuzz-free, array-based Quaternion SLERP operation
    var x0 = src0[srcOffset0 + 0],
        y0 = src0[srcOffset0 + 1],
        z0 = src0[srcOffset0 + 2],
        w0 = src0[srcOffset0 + 3],
        x1 = src1[srcOffset1 + 0],
        y1 = src1[srcOffset1 + 1],
        z1 = src1[srcOffset1 + 2],
        w1 = src1[srcOffset1 + 3];

    if (w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1) {
      var s = 1 - t,
          cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,
          dir = cos >= 0 ? 1 : -1,
          sqrSin = 1 - cos * cos; // Skip the Slerp for tiny steps to avoid numeric problems:

      if (sqrSin > Number.EPSILON) {
        var sin = Math.sqrt(sqrSin),
            len = Math.atan2(sin, cos * dir);
        s = Math.sin(s * len) / sin;
        t = Math.sin(t * len) / sin;
      }

      var tDir = t * dir;
      x0 = x0 * s + x1 * tDir;
      y0 = y0 * s + y1 * tDir;
      z0 = z0 * s + z1 * tDir;
      w0 = w0 * s + w1 * tDir; // Normalize in case we just did a lerp:

      if (s === 1 - t) {
        var f = 1 / Math.sqrt(x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0);
        x0 *= f;
        y0 *= f;
        z0 *= f;
        w0 *= f;
      }
    }

    dst[dstOffset] = x0;
    dst[dstOffset + 1] = y0;
    dst[dstOffset + 2] = z0;
    dst[dstOffset + 3] = w0;
  }
});
Object.defineProperties(Quaternion.prototype, {
  x: {
    get: function () {
      return this._x;
    },
    set: function (value) {
      this._x = value;

      this._onChangeCallback();
    }
  },
  y: {
    get: function () {
      return this._y;
    },
    set: function (value) {
      this._y = value;

      this._onChangeCallback();
    }
  },
  z: {
    get: function () {
      return this._z;
    },
    set: function (value) {
      this._z = value;

      this._onChangeCallback();
    }
  },
  w: {
    get: function () {
      return this._w;
    },
    set: function (value) {
      this._w = value;

      this._onChangeCallback();
    }
  }
});
Object.assign(Quaternion.prototype, {
  isQuaternion: true,
  set: function (x, y, z, w) {
    this._x = x;
    this._y = y;
    this._z = z;
    this._w = w;

    this._onChangeCallback();

    return this;
  },
  clone: function () {
    return new this.constructor(this._x, this._y, this._z, this._w);
  },
  copy: function (quaternion) {
    this._x = quaternion.x;
    this._y = quaternion.y;
    this._z = quaternion.z;
    this._w = quaternion.w;

    this._onChangeCallback();

    return this;
  },
  setFromEuler: function (euler, update) {
    if (!(euler && euler.isEuler)) {
      throw new Error('THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.');
    }

    var x = euler._x,
        y = euler._y,
        z = euler._z,
        order = euler.order; // http://www.mathworks.com/matlabcentral/fileexchange/
    // 	20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/
    //	content/SpinCalc.m

    var cos = Math.cos;
    var sin = Math.sin;
    var c1 = cos(x / 2);
    var c2 = cos(y / 2);
    var c3 = cos(z / 2);
    var s1 = sin(x / 2);
    var s2 = sin(y / 2);
    var s3 = sin(z / 2);

    if (order === 'XYZ') {
      this._x = s1 * c2 * c3 + c1 * s2 * s3;
      this._y = c1 * s2 * c3 - s1 * c2 * s3;
      this._z = c1 * c2 * s3 + s1 * s2 * c3;
      this._w = c1 * c2 * c3 - s1 * s2 * s3;
    } else if (order === 'YXZ') {
      this._x = s1 * c2 * c3 + c1 * s2 * s3;
      this._y = c1 * s2 * c3 - s1 * c2 * s3;
      this._z = c1 * c2 * s3 - s1 * s2 * c3;
      this._w = c1 * c2 * c3 + s1 * s2 * s3;
    } else if (order === 'ZXY') {
      this._x = s1 * c2 * c3 - c1 * s2 * s3;
      this._y = c1 * s2 * c3 + s1 * c2 * s3;
      this._z = c1 * c2 * s3 + s1 * s2 * c3;
      this._w = c1 * c2 * c3 - s1 * s2 * s3;
    } else if (order === 'ZYX') {
      this._x = s1 * c2 * c3 - c1 * s2 * s3;
      this._y = c1 * s2 * c3 + s1 * c2 * s3;
      this._z = c1 * c2 * s3 - s1 * s2 * c3;
      this._w = c1 * c2 * c3 + s1 * s2 * s3;
    } else if (order === 'YZX') {
      this._x = s1 * c2 * c3 + c1 * s2 * s3;
      this._y = c1 * s2 * c3 + s1 * c2 * s3;
      this._z = c1 * c2 * s3 - s1 * s2 * c3;
      this._w = c1 * c2 * c3 - s1 * s2 * s3;
    } else if (order === 'XZY') {
      this._x = s1 * c2 * c3 - c1 * s2 * s3;
      this._y = c1 * s2 * c3 - s1 * c2 * s3;
      this._z = c1 * c2 * s3 + s1 * s2 * c3;
      this._w = c1 * c2 * c3 + s1 * s2 * s3;
    }

    if (update !== false) this._onChangeCallback();
    return this;
  },
  setFromAxisAngle: function (axis, angle) {
    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm
    // assumes axis is normalized
    var halfAngle = angle / 2,
        s = Math.sin(halfAngle);
    this._x = axis.x * s;
    this._y = axis.y * s;
    this._z = axis.z * s;
    this._w = Math.cos(halfAngle);

    this._onChangeCallback();

    return this;
  },
  setFromRotationMatrix: function (m) {
    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm
    // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)
    var te = m.elements,
        m11 = te[0],
        m12 = te[4],
        m13 = te[8],
        m21 = te[1],
        m22 = te[5],
        m23 = te[9],
        m31 = te[2],
        m32 = te[6],
        m33 = te[10],
        trace = m11 + m22 + m33,
        s;

    if (trace > 0) {
      s = 0.5 / Math.sqrt(trace + 1.0);
      this._w = 0.25 / s;
      this._x = (m32 - m23) * s;
      this._y = (m13 - m31) * s;
      this._z = (m21 - m12) * s;
    } else if (m11 > m22 && m11 > m33) {
      s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);
      this._w = (m32 - m23) / s;
      this._x = 0.25 * s;
      this._y = (m12 + m21) / s;
      this._z = (m13 + m31) / s;
    } else if (m22 > m33) {
      s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);
      this._w = (m13 - m31) / s;
      this._x = (m12 + m21) / s;
      this._y = 0.25 * s;
      this._z = (m23 + m32) / s;
    } else {
      s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);
      this._w = (m21 - m12) / s;
      this._x = (m13 + m31) / s;
      this._y = (m23 + m32) / s;
      this._z = 0.25 * s;
    }

    this._onChangeCallback();

    return this;
  },
  setFromUnitVectors: function (vFrom, vTo) {
    // assumes direction vectors vFrom and vTo are normalized
    var EPS = 0.000001;
    var r = vFrom.dot(vTo) + 1;

    if (r < EPS) {
      r = 0;

      if (Math.abs(vFrom.x) > Math.abs(vFrom.z)) {
        this._x = -vFrom.y;
        this._y = vFrom.x;
        this._z = 0;
        this._w = r;
      } else {
        this._x = 0;
        this._y = -vFrom.z;
        this._z = vFrom.y;
        this._w = r;
      }
    } else {
      // crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3
      this._x = vFrom.y * vTo.z - vFrom.z * vTo.y;
      this._y = vFrom.z * vTo.x - vFrom.x * vTo.z;
      this._z = vFrom.x * vTo.y - vFrom.y * vTo.x;
      this._w = r;
    }

    return this.normalize();
  },
  angleTo: function (q) {
    return 2 * Math.acos(Math.abs(_Math.clamp(this.dot(q), -1, 1)));
  },
  rotateTowards: function (q, step) {
    var angle = this.angleTo(q);
    if (angle === 0) return this;
    var t = Math.min(1, step / angle);
    this.slerp(q, t);
    return this;
  },
  inverse: function () {
    // quaternion is assumed to have unit length
    return this.conjugate();
  },
  conjugate: function () {
    this._x *= -1;
    this._y *= -1;
    this._z *= -1;

    this._onChangeCallback();

    return this;
  },
  dot: function (v) {
    return this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;
  },
  lengthSq: function () {
    return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;
  },
  length: function () {
    return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);
  },
  normalize: function () {
    var l = this.length();

    if (l === 0) {
      this._x = 0;
      this._y = 0;
      this._z = 0;
      this._w = 1;
    } else {
      l = 1 / l;
      this._x = this._x * l;
      this._y = this._y * l;
      this._z = this._z * l;
      this._w = this._w * l;
    }

    this._onChangeCallback();

    return this;
  },
  multiply: function (q, p) {
    if (p !== undefined) {
      console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');
      return this.multiplyQuaternions(q, p);
    }

    return this.multiplyQuaternions(this, q);
  },
  premultiply: function (q) {
    return this.multiplyQuaternions(q, this);
  },
  multiplyQuaternions: function (a, b) {
    // from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm
    var qax = a._x,
        qay = a._y,
        qaz = a._z,
        qaw = a._w;
    var qbx = b._x,
        qby = b._y,
        qbz = b._z,
        qbw = b._w;
    this._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;
    this._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;
    this._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;
    this._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;

    this._onChangeCallback();

    return this;
  },
  slerp: function (qb, t) {
    if (t === 0) return this;
    if (t === 1) return this.copy(qb);
    var x = this._x,
        y = this._y,
        z = this._z,
        w = this._w; // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/

    var cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;

    if (cosHalfTheta < 0) {
      this._w = -qb._w;
      this._x = -qb._x;
      this._y = -qb._y;
      this._z = -qb._z;
      cosHalfTheta = -cosHalfTheta;
    } else {
      this.copy(qb);
    }

    if (cosHalfTheta >= 1.0) {
      this._w = w;
      this._x = x;
      this._y = y;
      this._z = z;
      return this;
    }

    var sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;

    if (sqrSinHalfTheta <= Number.EPSILON) {
      var s = 1 - t;
      this._w = s * w + t * this._w;
      this._x = s * x + t * this._x;
      this._y = s * y + t * this._y;
      this._z = s * z + t * this._z;
      this.normalize();

      this._onChangeCallback();

      return this;
    }

    var sinHalfTheta = Math.sqrt(sqrSinHalfTheta);
    var halfTheta = Math.atan2(sinHalfTheta, cosHalfTheta);
    var ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta,
        ratioB = Math.sin(t * halfTheta) / sinHalfTheta;
    this._w = w * ratioA + this._w * ratioB;
    this._x = x * ratioA + this._x * ratioB;
    this._y = y * ratioA + this._y * ratioB;
    this._z = z * ratioA + this._z * ratioB;

    this._onChangeCallback();

    return this;
  },
  equals: function (quaternion) {
    return quaternion._x === this._x && quaternion._y === this._y && quaternion._z === this._z && quaternion._w === this._w;
  },
  fromArray: function (array, offset) {
    if (offset === undefined) offset = 0;
    this._x = array[offset];
    this._y = array[offset + 1];
    this._z = array[offset + 2];
    this._w = array[offset + 3];

    this._onChangeCallback();

    return this;
  },
  toArray: function (array, offset) {
    if (array === undefined) array = [];
    if (offset === undefined) offset = 0;
    array[offset] = this._x;
    array[offset + 1] = this._y;
    array[offset + 2] = this._z;
    array[offset + 3] = this._w;
    return array;
  },
  _onChange: function (callback) {
    this._onChangeCallback = callback;
    return this;
  },
  _onChangeCallback: function () {}
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author kile / http://kile.stravaganza.org/
 * @author philogb / http://blog.thejit.org/
 * @author mikael emtinger / http://gomo.se/
 * @author egraether / http://egraether.com/
 * @author WestLangley / http://github.com/WestLangley
 */

function Vector3(x, y, z) {
  this.x = x || 0;
  this.y = y || 0;
  this.z = z || 0;
}

Object.assign(Vector3.prototype, {
  isVector3: true,
  set: function (x, y, z) {
    this.x = x;
    this.y = y;
    this.z = z;
    return this;
  },
  setScalar: function (scalar) {
    this.x = scalar;
    this.y = scalar;
    this.z = scalar;
    return this;
  },
  setX: function (x) {
    this.x = x;
    return this;
  },
  setY: function (y) {
    this.y = y;
    return this;
  },
  setZ: function (z) {
    this.z = z;
    return this;
  },
  setComponent: function (index, value) {
    switch (index) {
      case 0:
        this.x = value;
        break;

      case 1:
        this.y = value;
        break;

      case 2:
        this.z = value;
        break;

      default:
        throw new Error('index is out of range: ' + index);
    }

    return this;
  },
  getComponent: function (index) {
    switch (index) {
      case 0:
        return this.x;

      case 1:
        return this.y;

      case 2:
        return this.z;

      default:
        throw new Error('index is out of range: ' + index);
    }
  },
  clone: function () {
    return new this.constructor(this.x, this.y, this.z);
  },
  copy: function (v) {
    this.x = v.x;
    this.y = v.y;
    this.z = v.z;
    return this;
  },
  add: function (v, w) {
    if (w !== undefined) {
      console.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');
      return this.addVectors(v, w);
    }

    this.x += v.x;
    this.y += v.y;
    this.z += v.z;
    return this;
  },
  addScalar: function (s) {
    this.x += s;
    this.y += s;
    this.z += s;
    return this;
  },
  addVectors: function (a, b) {
    this.x = a.x + b.x;
    this.y = a.y + b.y;
    this.z = a.z + b.z;
    return this;
  },
  addScaledVector: function (v, s) {
    this.x += v.x * s;
    this.y += v.y * s;
    this.z += v.z * s;
    return this;
  },
  sub: function (v, w) {
    if (w !== undefined) {
      console.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');
      return this.subVectors(v, w);
    }

    this.x -= v.x;
    this.y -= v.y;
    this.z -= v.z;
    return this;
  },
  subScalar: function (s) {
    this.x -= s;
    this.y -= s;
    this.z -= s;
    return this;
  },
  subVectors: function (a, b) {
    this.x = a.x - b.x;
    this.y = a.y - b.y;
    this.z = a.z - b.z;
    return this;
  },
  multiply: function (v, w) {
    if (w !== undefined) {
      console.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.');
      return this.multiplyVectors(v, w);
    }

    this.x *= v.x;
    this.y *= v.y;
    this.z *= v.z;
    return this;
  },
  multiplyScalar: function (scalar) {
    this.x *= scalar;
    this.y *= scalar;
    this.z *= scalar;
    return this;
  },
  multiplyVectors: function (a, b) {
    this.x = a.x * b.x;
    this.y = a.y * b.y;
    this.z = a.z * b.z;
    return this;
  },
  applyEuler: function () {
    var quaternion = new Quaternion();
    return function applyEuler(euler) {
      if (!(euler && euler.isEuler)) {
        console.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.');
      }

      return this.applyQuaternion(quaternion.setFromEuler(euler));
    };
  }(),
  applyAxisAngle: function () {
    var quaternion = new Quaternion();
    return function applyAxisAngle(axis, angle) {
      return this.applyQuaternion(quaternion.setFromAxisAngle(axis, angle));
    };
  }(),
  applyMatrix3: function (m) {
    var x = this.x,
        y = this.y,
        z = this.z;
    var e = m.elements;
    this.x = e[0] * x + e[3] * y + e[6] * z;
    this.y = e[1] * x + e[4] * y + e[7] * z;
    this.z = e[2] * x + e[5] * y + e[8] * z;
    return this;
  },
  applyMatrix4: function (m) {
    var x = this.x,
        y = this.y,
        z = this.z;
    var e = m.elements;
    var w = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);
    this.x = (e[0] * x + e[4] * y + e[8] * z + e[12]) * w;
    this.y = (e[1] * x + e[5] * y + e[9] * z + e[13]) * w;
    this.z = (e[2] * x + e[6] * y + e[10] * z + e[14]) * w;
    return this;
  },
  applyQuaternion: function (q) {
    var x = this.x,
        y = this.y,
        z = this.z;
    var qx = q.x,
        qy = q.y,
        qz = q.z,
        qw = q.w; // calculate quat * vector

    var ix = qw * x + qy * z - qz * y;
    var iy = qw * y + qz * x - qx * z;
    var iz = qw * z + qx * y - qy * x;
    var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat

    this.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;
    this.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;
    this.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;
    return this;
  },
  project: function (camera) {
    return this.applyMatrix4(camera.matrixWorldInverse).applyMatrix4(camera.projectionMatrix);
  },
  unproject: function (camera) {
    return this.applyMatrix4(camera.projectionMatrixInverse).applyMatrix4(camera.matrixWorld);
  },
  transformDirection: function (m) {
    // input: THREE.Matrix4 affine matrix
    // vector interpreted as a direction
    var x = this.x,
        y = this.y,
        z = this.z;
    var e = m.elements;
    this.x = e[0] * x + e[4] * y + e[8] * z;
    this.y = e[1] * x + e[5] * y + e[9] * z;
    this.z = e[2] * x + e[6] * y + e[10] * z;
    return this.normalize();
  },
  divide: function (v) {
    this.x /= v.x;
    this.y /= v.y;
    this.z /= v.z;
    return this;
  },
  divideScalar: function (scalar) {
    return this.multiplyScalar(1 / scalar);
  },
  min: function (v) {
    this.x = Math.min(this.x, v.x);
    this.y = Math.min(this.y, v.y);
    this.z = Math.min(this.z, v.z);
    return this;
  },
  max: function (v) {
    this.x = Math.max(this.x, v.x);
    this.y = Math.max(this.y, v.y);
    this.z = Math.max(this.z, v.z);
    return this;
  },
  clamp: function (min, max) {
    // assumes min < max, componentwise
    this.x = Math.max(min.x, Math.min(max.x, this.x));
    this.y = Math.max(min.y, Math.min(max.y, this.y));
    this.z = Math.max(min.z, Math.min(max.z, this.z));
    return this;
  },
  clampScalar: function (minVal, maxVal) {
    this.x = Math.max(minVal, Math.min(maxVal, this.x));
    this.y = Math.max(minVal, Math.min(maxVal, this.y));
    this.z = Math.max(minVal, Math.min(maxVal, this.z));
    return this;
  },
  clampLength: function (min, max) {
    var length = this.length();
    return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));
  },
  floor: function () {
    this.x = Math.floor(this.x);
    this.y = Math.floor(this.y);
    this.z = Math.floor(this.z);
    return this;
  },
  ceil: function () {
    this.x = Math.ceil(this.x);
    this.y = Math.ceil(this.y);
    this.z = Math.ceil(this.z);
    return this;
  },
  round: function () {
    this.x = Math.round(this.x);
    this.y = Math.round(this.y);
    this.z = Math.round(this.z);
    return this;
  },
  roundToZero: function () {
    this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);
    this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);
    this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);
    return this;
  },
  negate: function () {
    this.x = -this.x;
    this.y = -this.y;
    this.z = -this.z;
    return this;
  },
  dot: function (v) {
    return this.x * v.x + this.y * v.y + this.z * v.z;
  },
  // TODO lengthSquared?
  lengthSq: function () {
    return this.x * this.x + this.y * this.y + this.z * this.z;
  },
  length: function () {
    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
  },
  manhattanLength: function () {
    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);
  },
  normalize: function () {
    return this.divideScalar(this.length() || 1);
  },
  setLength: function (length) {
    return this.normalize().multiplyScalar(length);
  },
  lerp: function (v, alpha) {
    this.x += (v.x - this.x) * alpha;
    this.y += (v.y - this.y) * alpha;
    this.z += (v.z - this.z) * alpha;
    return this;
  },
  lerpVectors: function (v1, v2, alpha) {
    return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);
  },
  cross: function (v, w) {
    if (w !== undefined) {
      console.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.');
      return this.crossVectors(v, w);
    }

    return this.crossVectors(this, v);
  },
  crossVectors: function (a, b) {
    var ax = a.x,
        ay = a.y,
        az = a.z;
    var bx = b.x,
        by = b.y,
        bz = b.z;
    this.x = ay * bz - az * by;
    this.y = az * bx - ax * bz;
    this.z = ax * by - ay * bx;
    return this;
  },
  projectOnVector: function (vector) {
    var scalar = vector.dot(this) / vector.lengthSq();
    return this.copy(vector).multiplyScalar(scalar);
  },
  projectOnPlane: function () {
    var v1 = new Vector3();
    return function projectOnPlane(planeNormal) {
      v1.copy(this).projectOnVector(planeNormal);
      return this.sub(v1);
    };
  }(),
  reflect: function () {
    // reflect incident vector off plane orthogonal to normal
    // normal is assumed to have unit length
    var v1 = new Vector3();
    return function reflect(normal) {
      return this.sub(v1.copy(normal).multiplyScalar(2 * this.dot(normal)));
    };
  }(),
  angleTo: function (v) {
    var theta = this.dot(v) / Math.sqrt(this.lengthSq() * v.lengthSq()); // clamp, to handle numerical problems

    return Math.acos(_Math.clamp(theta, -1, 1));
  },
  distanceTo: function (v) {
    return Math.sqrt(this.distanceToSquared(v));
  },
  distanceToSquared: function (v) {
    var dx = this.x - v.x,
        dy = this.y - v.y,
        dz = this.z - v.z;
    return dx * dx + dy * dy + dz * dz;
  },
  manhattanDistanceTo: function (v) {
    return Math.abs(this.x - v.x) + Math.abs(this.y - v.y) + Math.abs(this.z - v.z);
  },
  setFromSpherical: function (s) {
    return this.setFromSphericalCoords(s.radius, s.phi, s.theta);
  },
  setFromSphericalCoords: function (radius, phi, theta) {
    var sinPhiRadius = Math.sin(phi) * radius;
    this.x = sinPhiRadius * Math.sin(theta);
    this.y = Math.cos(phi) * radius;
    this.z = sinPhiRadius * Math.cos(theta);
    return this;
  },
  setFromCylindrical: function (c) {
    return this.setFromCylindricalCoords(c.radius, c.theta, c.y);
  },
  setFromCylindricalCoords: function (radius, theta, y) {
    this.x = radius * Math.sin(theta);
    this.y = y;
    this.z = radius * Math.cos(theta);
    return this;
  },
  setFromMatrixPosition: function (m) {
    var e = m.elements;
    this.x = e[12];
    this.y = e[13];
    this.z = e[14];
    return this;
  },
  setFromMatrixScale: function (m) {
    var sx = this.setFromMatrixColumn(m, 0).length();
    var sy = this.setFromMatrixColumn(m, 1).length();
    var sz = this.setFromMatrixColumn(m, 2).length();
    this.x = sx;
    this.y = sy;
    this.z = sz;
    return this;
  },
  setFromMatrixColumn: function (m, index) {
    return this.fromArray(m.elements, index * 4);
  },
  equals: function (v) {
    return v.x === this.x && v.y === this.y && v.z === this.z;
  },
  fromArray: function (array, offset) {
    if (offset === undefined) offset = 0;
    this.x = array[offset];
    this.y = array[offset + 1];
    this.z = array[offset + 2];
    return this;
  },
  toArray: function (array, offset) {
    if (array === undefined) array = [];
    if (offset === undefined) offset = 0;
    array[offset] = this.x;
    array[offset + 1] = this.y;
    array[offset + 2] = this.z;
    return array;
  },
  fromBufferAttribute: function (attribute, index, offset) {
    if (offset !== undefined) {
      console.warn('THREE.Vector3: offset has been removed from .fromBufferAttribute().');
    }

    this.x = attribute.getX(index);
    this.y = attribute.getY(index);
    this.z = attribute.getZ(index);
    return this;
  }
});
/**
 * @author alteredq / http://alteredqualia.com/
 * @author WestLangley / http://github.com/WestLangley
 * @author bhouston / http://clara.io
 * @author tschw
 */

var _vector;

function Matrix3() {
  this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1];

  if (arguments.length > 0) {
    console.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');
  }
}

Object.assign(Matrix3.prototype, {
  isMatrix3: true,
  set: function (n11, n12, n13, n21, n22, n23, n31, n32, n33) {
    var te = this.elements;
    te[0] = n11;
    te[1] = n21;
    te[2] = n31;
    te[3] = n12;
    te[4] = n22;
    te[5] = n32;
    te[6] = n13;
    te[7] = n23;
    te[8] = n33;
    return this;
  },
  identity: function () {
    this.set(1, 0, 0, 0, 1, 0, 0, 0, 1);
    return this;
  },
  clone: function () {
    return new this.constructor().fromArray(this.elements);
  },
  copy: function (m) {
    var te = this.elements;
    var me = m.elements;
    te[0] = me[0];
    te[1] = me[1];
    te[2] = me[2];
    te[3] = me[3];
    te[4] = me[4];
    te[5] = me[5];
    te[6] = me[6];
    te[7] = me[7];
    te[8] = me[8];
    return this;
  },
  setFromMatrix4: function (m) {
    var me = m.elements;
    this.set(me[0], me[4], me[8], me[1], me[5], me[9], me[2], me[6], me[10]);
    return this;
  },
  applyToBufferAttribute: function (attribute) {
    if (_vector === undefined) _vector = new Vector3();

    for (var i = 0, l = attribute.count; i < l; i++) {
      _vector.x = attribute.getX(i);
      _vector.y = attribute.getY(i);
      _vector.z = attribute.getZ(i);

      _vector.applyMatrix3(this);

      attribute.setXYZ(i, _vector.x, _vector.y, _vector.z);
    }

    return attribute;
  },
  multiply: function (m) {
    return this.multiplyMatrices(this, m);
  },
  premultiply: function (m) {
    return this.multiplyMatrices(m, this);
  },
  multiplyMatrices: function (a, b) {
    var ae = a.elements;
    var be = b.elements;
    var te = this.elements;
    var a11 = ae[0],
        a12 = ae[3],
        a13 = ae[6];
    var a21 = ae[1],
        a22 = ae[4],
        a23 = ae[7];
    var a31 = ae[2],
        a32 = ae[5],
        a33 = ae[8];
    var b11 = be[0],
        b12 = be[3],
        b13 = be[6];
    var b21 = be[1],
        b22 = be[4],
        b23 = be[7];
    var b31 = be[2],
        b32 = be[5],
        b33 = be[8];
    te[0] = a11 * b11 + a12 * b21 + a13 * b31;
    te[3] = a11 * b12 + a12 * b22 + a13 * b32;
    te[6] = a11 * b13 + a12 * b23 + a13 * b33;
    te[1] = a21 * b11 + a22 * b21 + a23 * b31;
    te[4] = a21 * b12 + a22 * b22 + a23 * b32;
    te[7] = a21 * b13 + a22 * b23 + a23 * b33;
    te[2] = a31 * b11 + a32 * b21 + a33 * b31;
    te[5] = a31 * b12 + a32 * b22 + a33 * b32;
    te[8] = a31 * b13 + a32 * b23 + a33 * b33;
    return this;
  },
  multiplyScalar: function (s) {
    var te = this.elements;
    te[0] *= s;
    te[3] *= s;
    te[6] *= s;
    te[1] *= s;
    te[4] *= s;
    te[7] *= s;
    te[2] *= s;
    te[5] *= s;
    te[8] *= s;
    return this;
  },
  determinant: function () {
    var te = this.elements;
    var a = te[0],
        b = te[1],
        c = te[2],
        d = te[3],
        e = te[4],
        f = te[5],
        g = te[6],
        h = te[7],
        i = te[8];
    return a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;
  },
  getInverse: function (matrix, throwOnDegenerate) {
    if (matrix && matrix.isMatrix4) {
      console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");
    }

    var me = matrix.elements,
        te = this.elements,
        n11 = me[0],
        n21 = me[1],
        n31 = me[2],
        n12 = me[3],
        n22 = me[4],
        n32 = me[5],
        n13 = me[6],
        n23 = me[7],
        n33 = me[8],
        t11 = n33 * n22 - n32 * n23,
        t12 = n32 * n13 - n33 * n12,
        t13 = n23 * n12 - n22 * n13,
        det = n11 * t11 + n21 * t12 + n31 * t13;

    if (det === 0) {
      var msg = "THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";

      if (throwOnDegenerate === true) {
        throw new Error(msg);
      } else {
        console.warn(msg);
      }

      return this.identity();
    }

    var detInv = 1 / det;
    te[0] = t11 * detInv;
    te[1] = (n31 * n23 - n33 * n21) * detInv;
    te[2] = (n32 * n21 - n31 * n22) * detInv;
    te[3] = t12 * detInv;
    te[4] = (n33 * n11 - n31 * n13) * detInv;
    te[5] = (n31 * n12 - n32 * n11) * detInv;
    te[6] = t13 * detInv;
    te[7] = (n21 * n13 - n23 * n11) * detInv;
    te[8] = (n22 * n11 - n21 * n12) * detInv;
    return this;
  },
  transpose: function () {
    var tmp,
        m = this.elements;
    tmp = m[1];
    m[1] = m[3];
    m[3] = tmp;
    tmp = m[2];
    m[2] = m[6];
    m[6] = tmp;
    tmp = m[5];
    m[5] = m[7];
    m[7] = tmp;
    return this;
  },
  getNormalMatrix: function (matrix4) {
    return this.setFromMatrix4(matrix4).getInverse(this).transpose();
  },
  transposeIntoArray: function (r) {
    var m = this.elements;
    r[0] = m[0];
    r[1] = m[3];
    r[2] = m[6];
    r[3] = m[1];
    r[4] = m[4];
    r[5] = m[7];
    r[6] = m[2];
    r[7] = m[5];
    r[8] = m[8];
    return this;
  },
  setUvTransform: function (tx, ty, sx, sy, rotation, cx, cy) {
    var c = Math.cos(rotation);
    var s = Math.sin(rotation);
    this.set(sx * c, sx * s, -sx * (c * cx + s * cy) + cx + tx, -sy * s, sy * c, -sy * (-s * cx + c * cy) + cy + ty, 0, 0, 1);
  },
  scale: function (sx, sy) {
    var te = this.elements;
    te[0] *= sx;
    te[3] *= sx;
    te[6] *= sx;
    te[1] *= sy;
    te[4] *= sy;
    te[7] *= sy;
    return this;
  },
  rotate: function (theta) {
    var c = Math.cos(theta);
    var s = Math.sin(theta);
    var te = this.elements;
    var a11 = te[0],
        a12 = te[3],
        a13 = te[6];
    var a21 = te[1],
        a22 = te[4],
        a23 = te[7];
    te[0] = c * a11 + s * a21;
    te[3] = c * a12 + s * a22;
    te[6] = c * a13 + s * a23;
    te[1] = -s * a11 + c * a21;
    te[4] = -s * a12 + c * a22;
    te[7] = -s * a13 + c * a23;
    return this;
  },
  translate: function (tx, ty) {
    var te = this.elements;
    te[0] += tx * te[2];
    te[3] += tx * te[5];
    te[6] += tx * te[8];
    te[1] += ty * te[2];
    te[4] += ty * te[5];
    te[7] += ty * te[8];
    return this;
  },
  equals: function (matrix) {
    var te = this.elements;
    var me = matrix.elements;

    for (var i = 0; i < 9; i++) {
      if (te[i] !== me[i]) return false;
    }

    return true;
  },
  fromArray: function (array, offset) {
    if (offset === undefined) offset = 0;

    for (var i = 0; i < 9; i++) {
      this.elements[i] = array[i + offset];
    }

    return this;
  },
  toArray: function (array, offset) {
    if (array === undefined) array = [];
    if (offset === undefined) offset = 0;
    var te = this.elements;
    array[offset] = te[0];
    array[offset + 1] = te[1];
    array[offset + 2] = te[2];
    array[offset + 3] = te[3];
    array[offset + 4] = te[4];
    array[offset + 5] = te[5];
    array[offset + 6] = te[6];
    array[offset + 7] = te[7];
    array[offset + 8] = te[8];
    return array;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 * @author szimek / https://github.com/szimek/
 */

var _canvas;

var ImageUtils = {
  getDataURL: function (image) {
    var canvas;

    if (typeof HTMLCanvasElement == 'undefined') {
      return image.src;
    } else if (image instanceof HTMLCanvasElement) {
      canvas = image;
    } else {
      if (_canvas === undefined) _canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');
      _canvas.width = image.width;
      _canvas.height = image.height;

      var context = _canvas.getContext('2d');

      if (image instanceof ImageData) {
        context.putImageData(image, 0, 0);
      } else {
        context.drawImage(image, 0, 0, image.width, image.height);
      }

      canvas = _canvas;
    }

    if (canvas.width > 2048 || canvas.height > 2048) {
      return canvas.toDataURL('image/jpeg', 0.6);
    } else {
      return canvas.toDataURL('image/png');
    }
  }
};
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 * @author szimek / https://github.com/szimek/
 */

exports.ImageUtils = ImageUtils;
var textureId = 0;

function Texture(image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {
  Object.defineProperty(this, 'id', {
    value: textureId++
  });
  this.uuid = _Math.generateUUID();
  this.name = '';
  this.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;
  this.mipmaps = [];
  this.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;
  this.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;
  this.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;
  this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;
  this.minFilter = minFilter !== undefined ? minFilter : LinearMipmapLinearFilter;
  this.anisotropy = anisotropy !== undefined ? anisotropy : 1;
  this.format = format !== undefined ? format : RGBAFormat;
  this.type = type !== undefined ? type : UnsignedByteType;
  this.offset = new Vector2(0, 0);
  this.repeat = new Vector2(1, 1);
  this.center = new Vector2(0, 0);
  this.rotation = 0;
  this.matrixAutoUpdate = true;
  this.matrix = new Matrix3();
  this.generateMipmaps = true;
  this.premultiplyAlpha = false;
  this.flipY = true;
  this.unpackAlignment = 4; // valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)
  // Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.
  //
  // Also changing the encoding after already used by a Material will not automatically make the Material
  // update. You need to explicitly call Material.needsUpdate to trigger it to recompile.

  this.encoding = encoding !== undefined ? encoding : LinearEncoding;
  this.version = 0;
  this.onUpdate = null;
}

Texture.DEFAULT_IMAGE = undefined;
Texture.DEFAULT_MAPPING = UVMapping;
Texture.prototype = Object.assign(Object.create(EventDispatcher.prototype), {
  constructor: Texture,
  isTexture: true,
  updateMatrix: function () {
    this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y);
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (source) {
    this.name = source.name;
    this.image = source.image;
    this.mipmaps = source.mipmaps.slice(0);
    this.mapping = source.mapping;
    this.wrapS = source.wrapS;
    this.wrapT = source.wrapT;
    this.magFilter = source.magFilter;
    this.minFilter = source.minFilter;
    this.anisotropy = source.anisotropy;
    this.format = source.format;
    this.type = source.type;
    this.offset.copy(source.offset);
    this.repeat.copy(source.repeat);
    this.center.copy(source.center);
    this.rotation = source.rotation;
    this.matrixAutoUpdate = source.matrixAutoUpdate;
    this.matrix.copy(source.matrix);
    this.generateMipmaps = source.generateMipmaps;
    this.premultiplyAlpha = source.premultiplyAlpha;
    this.flipY = source.flipY;
    this.unpackAlignment = source.unpackAlignment;
    this.encoding = source.encoding;
    return this;
  },
  toJSON: function (meta) {
    var isRootObject = meta === undefined || typeof meta === 'string';

    if (!isRootObject && meta.textures[this.uuid] !== undefined) {
      return meta.textures[this.uuid];
    }

    var output = {
      metadata: {
        version: 4.5,
        type: 'Texture',
        generator: 'Texture.toJSON'
      },
      uuid: this.uuid,
      name: this.name,
      mapping: this.mapping,
      repeat: [this.repeat.x, this.repeat.y],
      offset: [this.offset.x, this.offset.y],
      center: [this.center.x, this.center.y],
      rotation: this.rotation,
      wrap: [this.wrapS, this.wrapT],
      format: this.format,
      type: this.type,
      encoding: this.encoding,
      minFilter: this.minFilter,
      magFilter: this.magFilter,
      anisotropy: this.anisotropy,
      flipY: this.flipY,
      premultiplyAlpha: this.premultiplyAlpha,
      unpackAlignment: this.unpackAlignment
    };

    if (this.image !== undefined) {
      // TODO: Move to THREE.Image
      var image = this.image;

      if (image.uuid === undefined) {
        image.uuid = _Math.generateUUID(); // UGH
      }

      if (!isRootObject && meta.images[image.uuid] === undefined) {
        var url;

        if (Array.isArray(image)) {
          // process array of images e.g. CubeTexture
          url = [];

          for (var i = 0, l = image.length; i < l; i++) {
            url.push(ImageUtils.getDataURL(image[i]));
          }
        } else {
          // process single image
          url = ImageUtils.getDataURL(image);
        }

        meta.images[image.uuid] = {
          uuid: image.uuid,
          url: url
        };
      }

      output.image = image.uuid;
    }

    if (!isRootObject) {
      meta.textures[this.uuid] = output;
    }

    return output;
  },
  dispose: function () {
    this.dispatchEvent({
      type: 'dispose'
    });
  },
  transformUv: function (uv) {
    if (this.mapping !== UVMapping) return uv;
    uv.applyMatrix3(this.matrix);

    if (uv.x < 0 || uv.x > 1) {
      switch (this.wrapS) {
        case RepeatWrapping:
          uv.x = uv.x - Math.floor(uv.x);
          break;

        case ClampToEdgeWrapping:
          uv.x = uv.x < 0 ? 0 : 1;
          break;

        case MirroredRepeatWrapping:
          if (Math.abs(Math.floor(uv.x) % 2) === 1) {
            uv.x = Math.ceil(uv.x) - uv.x;
          } else {
            uv.x = uv.x - Math.floor(uv.x);
          }

          break;
      }
    }

    if (uv.y < 0 || uv.y > 1) {
      switch (this.wrapT) {
        case RepeatWrapping:
          uv.y = uv.y - Math.floor(uv.y);
          break;

        case ClampToEdgeWrapping:
          uv.y = uv.y < 0 ? 0 : 1;
          break;

        case MirroredRepeatWrapping:
          if (Math.abs(Math.floor(uv.y) % 2) === 1) {
            uv.y = Math.ceil(uv.y) - uv.y;
          } else {
            uv.y = uv.y - Math.floor(uv.y);
          }

          break;
      }
    }

    if (this.flipY) {
      uv.y = 1 - uv.y;
    }

    return uv;
  }
});
Object.defineProperty(Texture.prototype, "needsUpdate", {
  set: function (value) {
    if (value === true) this.version++;
  }
});
/**
 * @author supereggbert / http://www.paulbrunt.co.uk/
 * @author philogb / http://blog.thejit.org/
 * @author mikael emtinger / http://gomo.se/
 * @author egraether / http://egraether.com/
 * @author WestLangley / http://github.com/WestLangley
 */

function Vector4(x, y, z, w) {
  this.x = x || 0;
  this.y = y || 0;
  this.z = z || 0;
  this.w = w !== undefined ? w : 1;
}

Object.defineProperties(Vector4.prototype, {
  "width": {
    get: function () {
      return this.z;
    },
    set: function (value) {
      this.z = value;
    }
  },
  "height": {
    get: function () {
      return this.w;
    },
    set: function (value) {
      this.w = value;
    }
  }
});
Object.assign(Vector4.prototype, {
  isVector4: true,
  set: function (x, y, z, w) {
    this.x = x;
    this.y = y;
    this.z = z;
    this.w = w;
    return this;
  },
  setScalar: function (scalar) {
    this.x = scalar;
    this.y = scalar;
    this.z = scalar;
    this.w = scalar;
    return this;
  },
  setX: function (x) {
    this.x = x;
    return this;
  },
  setY: function (y) {
    this.y = y;
    return this;
  },
  setZ: function (z) {
    this.z = z;
    return this;
  },
  setW: function (w) {
    this.w = w;
    return this;
  },
  setComponent: function (index, value) {
    switch (index) {
      case 0:
        this.x = value;
        break;

      case 1:
        this.y = value;
        break;

      case 2:
        this.z = value;
        break;

      case 3:
        this.w = value;
        break;

      default:
        throw new Error('index is out of range: ' + index);
    }

    return this;
  },
  getComponent: function (index) {
    switch (index) {
      case 0:
        return this.x;

      case 1:
        return this.y;

      case 2:
        return this.z;

      case 3:
        return this.w;

      default:
        throw new Error('index is out of range: ' + index);
    }
  },
  clone: function () {
    return new this.constructor(this.x, this.y, this.z, this.w);
  },
  copy: function (v) {
    this.x = v.x;
    this.y = v.y;
    this.z = v.z;
    this.w = v.w !== undefined ? v.w : 1;
    return this;
  },
  add: function (v, w) {
    if (w !== undefined) {
      console.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');
      return this.addVectors(v, w);
    }

    this.x += v.x;
    this.y += v.y;
    this.z += v.z;
    this.w += v.w;
    return this;
  },
  addScalar: function (s) {
    this.x += s;
    this.y += s;
    this.z += s;
    this.w += s;
    return this;
  },
  addVectors: function (a, b) {
    this.x = a.x + b.x;
    this.y = a.y + b.y;
    this.z = a.z + b.z;
    this.w = a.w + b.w;
    return this;
  },
  addScaledVector: function (v, s) {
    this.x += v.x * s;
    this.y += v.y * s;
    this.z += v.z * s;
    this.w += v.w * s;
    return this;
  },
  sub: function (v, w) {
    if (w !== undefined) {
      console.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');
      return this.subVectors(v, w);
    }

    this.x -= v.x;
    this.y -= v.y;
    this.z -= v.z;
    this.w -= v.w;
    return this;
  },
  subScalar: function (s) {
    this.x -= s;
    this.y -= s;
    this.z -= s;
    this.w -= s;
    return this;
  },
  subVectors: function (a, b) {
    this.x = a.x - b.x;
    this.y = a.y - b.y;
    this.z = a.z - b.z;
    this.w = a.w - b.w;
    return this;
  },
  multiplyScalar: function (scalar) {
    this.x *= scalar;
    this.y *= scalar;
    this.z *= scalar;
    this.w *= scalar;
    return this;
  },
  applyMatrix4: function (m) {
    var x = this.x,
        y = this.y,
        z = this.z,
        w = this.w;
    var e = m.elements;
    this.x = e[0] * x + e[4] * y + e[8] * z + e[12] * w;
    this.y = e[1] * x + e[5] * y + e[9] * z + e[13] * w;
    this.z = e[2] * x + e[6] * y + e[10] * z + e[14] * w;
    this.w = e[3] * x + e[7] * y + e[11] * z + e[15] * w;
    return this;
  },
  divideScalar: function (scalar) {
    return this.multiplyScalar(1 / scalar);
  },
  setAxisAngleFromQuaternion: function (q) {
    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm
    // q is assumed to be normalized
    this.w = 2 * Math.acos(q.w);
    var s = Math.sqrt(1 - q.w * q.w);

    if (s < 0.0001) {
      this.x = 1;
      this.y = 0;
      this.z = 0;
    } else {
      this.x = q.x / s;
      this.y = q.y / s;
      this.z = q.z / s;
    }

    return this;
  },
  setAxisAngleFromRotationMatrix: function (m) {
    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm
    // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)
    var angle,
        x,
        y,
        z,
        // variables for result
    epsilon = 0.01,
        // margin to allow for rounding errors
    epsilon2 = 0.1,
        // margin to distinguish between 0 and 180 degrees
    te = m.elements,
        m11 = te[0],
        m12 = te[4],
        m13 = te[8],
        m21 = te[1],
        m22 = te[5],
        m23 = te[9],
        m31 = te[2],
        m32 = te[6],
        m33 = te[10];

    if (Math.abs(m12 - m21) < epsilon && Math.abs(m13 - m31) < epsilon && Math.abs(m23 - m32) < epsilon) {
      // singularity found
      // first check for identity matrix which must have +1 for all terms
      // in leading diagonal and zero in other terms
      if (Math.abs(m12 + m21) < epsilon2 && Math.abs(m13 + m31) < epsilon2 && Math.abs(m23 + m32) < epsilon2 && Math.abs(m11 + m22 + m33 - 3) < epsilon2) {
        // this singularity is identity matrix so angle = 0
        this.set(1, 0, 0, 0);
        return this; // zero angle, arbitrary axis
      } // otherwise this singularity is angle = 180


      angle = Math.PI;
      var xx = (m11 + 1) / 2;
      var yy = (m22 + 1) / 2;
      var zz = (m33 + 1) / 2;
      var xy = (m12 + m21) / 4;
      var xz = (m13 + m31) / 4;
      var yz = (m23 + m32) / 4;

      if (xx > yy && xx > zz) {
        // m11 is the largest diagonal term
        if (xx < epsilon) {
          x = 0;
          y = 0.707106781;
          z = 0.707106781;
        } else {
          x = Math.sqrt(xx);
          y = xy / x;
          z = xz / x;
        }
      } else if (yy > zz) {
        // m22 is the largest diagonal term
        if (yy < epsilon) {
          x = 0.707106781;
          y = 0;
          z = 0.707106781;
        } else {
          y = Math.sqrt(yy);
          x = xy / y;
          z = yz / y;
        }
      } else {
        // m33 is the largest diagonal term so base result on this
        if (zz < epsilon) {
          x = 0.707106781;
          y = 0.707106781;
          z = 0;
        } else {
          z = Math.sqrt(zz);
          x = xz / z;
          y = yz / z;
        }
      }

      this.set(x, y, z, angle);
      return this; // return 180 deg rotation
    } // as we have reached here there are no singularities so we can handle normally


    var s = Math.sqrt((m32 - m23) * (m32 - m23) + (m13 - m31) * (m13 - m31) + (m21 - m12) * (m21 - m12)); // used to normalize

    if (Math.abs(s) < 0.001) s = 1; // prevent divide by zero, should not happen if matrix is orthogonal and should be
    // caught by singularity test above, but I've left it in just in case

    this.x = (m32 - m23) / s;
    this.y = (m13 - m31) / s;
    this.z = (m21 - m12) / s;
    this.w = Math.acos((m11 + m22 + m33 - 1) / 2);
    return this;
  },
  min: function (v) {
    this.x = Math.min(this.x, v.x);
    this.y = Math.min(this.y, v.y);
    this.z = Math.min(this.z, v.z);
    this.w = Math.min(this.w, v.w);
    return this;
  },
  max: function (v) {
    this.x = Math.max(this.x, v.x);
    this.y = Math.max(this.y, v.y);
    this.z = Math.max(this.z, v.z);
    this.w = Math.max(this.w, v.w);
    return this;
  },
  clamp: function (min, max) {
    // assumes min < max, componentwise
    this.x = Math.max(min.x, Math.min(max.x, this.x));
    this.y = Math.max(min.y, Math.min(max.y, this.y));
    this.z = Math.max(min.z, Math.min(max.z, this.z));
    this.w = Math.max(min.w, Math.min(max.w, this.w));
    return this;
  },
  clampScalar: function (minVal, maxVal) {
    this.x = Math.max(minVal, Math.min(maxVal, this.x));
    this.y = Math.max(minVal, Math.min(maxVal, this.y));
    this.z = Math.max(minVal, Math.min(maxVal, this.z));
    this.w = Math.max(minVal, Math.min(maxVal, this.w));
    return this;
  },
  clampLength: function (min, max) {
    var length = this.length();
    return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));
  },
  floor: function () {
    this.x = Math.floor(this.x);
    this.y = Math.floor(this.y);
    this.z = Math.floor(this.z);
    this.w = Math.floor(this.w);
    return this;
  },
  ceil: function () {
    this.x = Math.ceil(this.x);
    this.y = Math.ceil(this.y);
    this.z = Math.ceil(this.z);
    this.w = Math.ceil(this.w);
    return this;
  },
  round: function () {
    this.x = Math.round(this.x);
    this.y = Math.round(this.y);
    this.z = Math.round(this.z);
    this.w = Math.round(this.w);
    return this;
  },
  roundToZero: function () {
    this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);
    this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);
    this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);
    this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w);
    return this;
  },
  negate: function () {
    this.x = -this.x;
    this.y = -this.y;
    this.z = -this.z;
    this.w = -this.w;
    return this;
  },
  dot: function (v) {
    return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;
  },
  lengthSq: function () {
    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;
  },
  length: function () {
    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
  },
  manhattanLength: function () {
    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);
  },
  normalize: function () {
    return this.divideScalar(this.length() || 1);
  },
  setLength: function (length) {
    return this.normalize().multiplyScalar(length);
  },
  lerp: function (v, alpha) {
    this.x += (v.x - this.x) * alpha;
    this.y += (v.y - this.y) * alpha;
    this.z += (v.z - this.z) * alpha;
    this.w += (v.w - this.w) * alpha;
    return this;
  },
  lerpVectors: function (v1, v2, alpha) {
    return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);
  },
  equals: function (v) {
    return v.x === this.x && v.y === this.y && v.z === this.z && v.w === this.w;
  },
  fromArray: function (array, offset) {
    if (offset === undefined) offset = 0;
    this.x = array[offset];
    this.y = array[offset + 1];
    this.z = array[offset + 2];
    this.w = array[offset + 3];
    return this;
  },
  toArray: function (array, offset) {
    if (array === undefined) array = [];
    if (offset === undefined) offset = 0;
    array[offset] = this.x;
    array[offset + 1] = this.y;
    array[offset + 2] = this.z;
    array[offset + 3] = this.w;
    return array;
  },
  fromBufferAttribute: function (attribute, index, offset) {
    if (offset !== undefined) {
      console.warn('THREE.Vector4: offset has been removed from .fromBufferAttribute().');
    }

    this.x = attribute.getX(index);
    this.y = attribute.getY(index);
    this.z = attribute.getZ(index);
    this.w = attribute.getW(index);
    return this;
  }
});
/**
 * @author szimek / https://github.com/szimek/
 * @author alteredq / http://alteredqualia.com/
 * @author Marius Kintel / https://github.com/kintel
 */

/*
 In options, we can specify:
 * Texture parameters for an auto-generated target texture
 * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers
*/

function WebGLRenderTarget(width, height, options) {
  this.width = width;
  this.height = height;
  this.scissor = new Vector4(0, 0, width, height);
  this.scissorTest = false;
  this.viewport = new Vector4(0, 0, width, height);
  options = options || {};
  this.texture = new Texture(undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);
  this.texture.image = {};
  this.texture.image.width = width;
  this.texture.image.height = height;
  this.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;
  this.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;
  this.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;
  this.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;
  this.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;
}

WebGLRenderTarget.prototype = Object.assign(Object.create(EventDispatcher.prototype), {
  constructor: WebGLRenderTarget,
  isWebGLRenderTarget: true,
  setSize: function (width, height) {
    if (this.width !== width || this.height !== height) {
      this.width = width;
      this.height = height;
      this.texture.image.width = width;
      this.texture.image.height = height;
      this.dispose();
    }

    this.viewport.set(0, 0, width, height);
    this.scissor.set(0, 0, width, height);
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (source) {
    this.width = source.width;
    this.height = source.height;
    this.viewport.copy(source.viewport);
    this.texture = source.texture.clone();
    this.depthBuffer = source.depthBuffer;
    this.stencilBuffer = source.stencilBuffer;
    this.depthTexture = source.depthTexture;
    return this;
  },
  dispose: function () {
    this.dispatchEvent({
      type: 'dispose'
    });
  }
});
/**
 * @author Mugen87 / https://github.com/Mugen87
 * @author Matt DesLauriers / @mattdesl
 */

function WebGLMultisampleRenderTarget(width, height, options) {
  WebGLRenderTarget.call(this, width, height, options);
  this.samples = 4;
}

WebGLMultisampleRenderTarget.prototype = Object.assign(Object.create(WebGLRenderTarget.prototype), {
  constructor: WebGLMultisampleRenderTarget,
  isWebGLMultisampleRenderTarget: true,
  copy: function (source) {
    WebGLRenderTarget.prototype.copy.call(this, source);
    this.samples = source.samples;
    return this;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author supereggbert / http://www.paulbrunt.co.uk/
 * @author philogb / http://blog.thejit.org/
 * @author jordi_ros / http://plattsoft.com
 * @author D1plo1d / http://github.com/D1plo1d
 * @author alteredq / http://alteredqualia.com/
 * @author mikael emtinger / http://gomo.se/
 * @author timknip / http://www.floorplanner.com/
 * @author bhouston / http://clara.io
 * @author WestLangley / http://github.com/WestLangley
 */

function Matrix4() {
  this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];

  if (arguments.length > 0) {
    console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');
  }
}

Object.assign(Matrix4.prototype, {
  isMatrix4: true,
  set: function (n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {
    var te = this.elements;
    te[0] = n11;
    te[4] = n12;
    te[8] = n13;
    te[12] = n14;
    te[1] = n21;
    te[5] = n22;
    te[9] = n23;
    te[13] = n24;
    te[2] = n31;
    te[6] = n32;
    te[10] = n33;
    te[14] = n34;
    te[3] = n41;
    te[7] = n42;
    te[11] = n43;
    te[15] = n44;
    return this;
  },
  identity: function () {
    this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    return this;
  },
  clone: function () {
    return new Matrix4().fromArray(this.elements);
  },
  copy: function (m) {
    var te = this.elements;
    var me = m.elements;
    te[0] = me[0];
    te[1] = me[1];
    te[2] = me[2];
    te[3] = me[3];
    te[4] = me[4];
    te[5] = me[5];
    te[6] = me[6];
    te[7] = me[7];
    te[8] = me[8];
    te[9] = me[9];
    te[10] = me[10];
    te[11] = me[11];
    te[12] = me[12];
    te[13] = me[13];
    te[14] = me[14];
    te[15] = me[15];
    return this;
  },
  copyPosition: function (m) {
    var te = this.elements,
        me = m.elements;
    te[12] = me[12];
    te[13] = me[13];
    te[14] = me[14];
    return this;
  },
  extractBasis: function (xAxis, yAxis, zAxis) {
    xAxis.setFromMatrixColumn(this, 0);
    yAxis.setFromMatrixColumn(this, 1);
    zAxis.setFromMatrixColumn(this, 2);
    return this;
  },
  makeBasis: function (xAxis, yAxis, zAxis) {
    this.set(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, 0, 0, 0, 1);
    return this;
  },
  extractRotation: function () {
    var v1 = new Vector3();
    return function extractRotation(m) {
      // this method does not support reflection matrices
      var te = this.elements;
      var me = m.elements;
      var scaleX = 1 / v1.setFromMatrixColumn(m, 0).length();
      var scaleY = 1 / v1.setFromMatrixColumn(m, 1).length();
      var scaleZ = 1 / v1.setFromMatrixColumn(m, 2).length();
      te[0] = me[0] * scaleX;
      te[1] = me[1] * scaleX;
      te[2] = me[2] * scaleX;
      te[3] = 0;
      te[4] = me[4] * scaleY;
      te[5] = me[5] * scaleY;
      te[6] = me[6] * scaleY;
      te[7] = 0;
      te[8] = me[8] * scaleZ;
      te[9] = me[9] * scaleZ;
      te[10] = me[10] * scaleZ;
      te[11] = 0;
      te[12] = 0;
      te[13] = 0;
      te[14] = 0;
      te[15] = 1;
      return this;
    };
  }(),
  makeRotationFromEuler: function (euler) {
    if (!(euler && euler.isEuler)) {
      console.error('THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');
    }

    var te = this.elements;
    var x = euler.x,
        y = euler.y,
        z = euler.z;
    var a = Math.cos(x),
        b = Math.sin(x);
    var c = Math.cos(y),
        d = Math.sin(y);
    var e = Math.cos(z),
        f = Math.sin(z);

    if (euler.order === 'XYZ') {
      var ae = a * e,
          af = a * f,
          be = b * e,
          bf = b * f;
      te[0] = c * e;
      te[4] = -c * f;
      te[8] = d;
      te[1] = af + be * d;
      te[5] = ae - bf * d;
      te[9] = -b * c;
      te[2] = bf - ae * d;
      te[6] = be + af * d;
      te[10] = a * c;
    } else if (euler.order === 'YXZ') {
      var ce = c * e,
          cf = c * f,
          de = d * e,
          df = d * f;
      te[0] = ce + df * b;
      te[4] = de * b - cf;
      te[8] = a * d;
      te[1] = a * f;
      te[5] = a * e;
      te[9] = -b;
      te[2] = cf * b - de;
      te[6] = df + ce * b;
      te[10] = a * c;
    } else if (euler.order === 'ZXY') {
      var ce = c * e,
          cf = c * f,
          de = d * e,
          df = d * f;
      te[0] = ce - df * b;
      te[4] = -a * f;
      te[8] = de + cf * b;
      te[1] = cf + de * b;
      te[5] = a * e;
      te[9] = df - ce * b;
      te[2] = -a * d;
      te[6] = b;
      te[10] = a * c;
    } else if (euler.order === 'ZYX') {
      var ae = a * e,
          af = a * f,
          be = b * e,
          bf = b * f;
      te[0] = c * e;
      te[4] = be * d - af;
      te[8] = ae * d + bf;
      te[1] = c * f;
      te[5] = bf * d + ae;
      te[9] = af * d - be;
      te[2] = -d;
      te[6] = b * c;
      te[10] = a * c;
    } else if (euler.order === 'YZX') {
      var ac = a * c,
          ad = a * d,
          bc = b * c,
          bd = b * d;
      te[0] = c * e;
      te[4] = bd - ac * f;
      te[8] = bc * f + ad;
      te[1] = f;
      te[5] = a * e;
      te[9] = -b * e;
      te[2] = -d * e;
      te[6] = ad * f + bc;
      te[10] = ac - bd * f;
    } else if (euler.order === 'XZY') {
      var ac = a * c,
          ad = a * d,
          bc = b * c,
          bd = b * d;
      te[0] = c * e;
      te[4] = -f;
      te[8] = d * e;
      te[1] = ac * f + bd;
      te[5] = a * e;
      te[9] = ad * f - bc;
      te[2] = bc * f - ad;
      te[6] = b * e;
      te[10] = bd * f + ac;
    } // bottom row


    te[3] = 0;
    te[7] = 0;
    te[11] = 0; // last column

    te[12] = 0;
    te[13] = 0;
    te[14] = 0;
    te[15] = 1;
    return this;
  },
  makeRotationFromQuaternion: function () {
    var zero = new Vector3(0, 0, 0);
    var one = new Vector3(1, 1, 1);
    return function makeRotationFromQuaternion(q) {
      return this.compose(zero, q, one);
    };
  }(),
  lookAt: function () {
    var x = new Vector3();
    var y = new Vector3();
    var z = new Vector3();
    return function lookAt(eye, target, up) {
      var te = this.elements;
      z.subVectors(eye, target);

      if (z.lengthSq() === 0) {
        // eye and target are in the same position
        z.z = 1;
      }

      z.normalize();
      x.crossVectors(up, z);

      if (x.lengthSq() === 0) {
        // up and z are parallel
        if (Math.abs(up.z) === 1) {
          z.x += 0.0001;
        } else {
          z.z += 0.0001;
        }

        z.normalize();
        x.crossVectors(up, z);
      }

      x.normalize();
      y.crossVectors(z, x);
      te[0] = x.x;
      te[4] = y.x;
      te[8] = z.x;
      te[1] = x.y;
      te[5] = y.y;
      te[9] = z.y;
      te[2] = x.z;
      te[6] = y.z;
      te[10] = z.z;
      return this;
    };
  }(),
  multiply: function (m, n) {
    if (n !== undefined) {
      console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');
      return this.multiplyMatrices(m, n);
    }

    return this.multiplyMatrices(this, m);
  },
  premultiply: function (m) {
    return this.multiplyMatrices(m, this);
  },
  multiplyMatrices: function (a, b) {
    var ae = a.elements;
    var be = b.elements;
    var te = this.elements;
    var a11 = ae[0],
        a12 = ae[4],
        a13 = ae[8],
        a14 = ae[12];
    var a21 = ae[1],
        a22 = ae[5],
        a23 = ae[9],
        a24 = ae[13];
    var a31 = ae[2],
        a32 = ae[6],
        a33 = ae[10],
        a34 = ae[14];
    var a41 = ae[3],
        a42 = ae[7],
        a43 = ae[11],
        a44 = ae[15];
    var b11 = be[0],
        b12 = be[4],
        b13 = be[8],
        b14 = be[12];
    var b21 = be[1],
        b22 = be[5],
        b23 = be[9],
        b24 = be[13];
    var b31 = be[2],
        b32 = be[6],
        b33 = be[10],
        b34 = be[14];
    var b41 = be[3],
        b42 = be[7],
        b43 = be[11],
        b44 = be[15];
    te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;
    te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;
    te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;
    te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;
    te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;
    te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;
    te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;
    te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;
    te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;
    te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;
    te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;
    te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;
    te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;
    te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;
    te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;
    te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;
    return this;
  },
  multiplyScalar: function (s) {
    var te = this.elements;
    te[0] *= s;
    te[4] *= s;
    te[8] *= s;
    te[12] *= s;
    te[1] *= s;
    te[5] *= s;
    te[9] *= s;
    te[13] *= s;
    te[2] *= s;
    te[6] *= s;
    te[10] *= s;
    te[14] *= s;
    te[3] *= s;
    te[7] *= s;
    te[11] *= s;
    te[15] *= s;
    return this;
  },
  applyToBufferAttribute: function () {
    var v1 = new Vector3();
    return function applyToBufferAttribute(attribute) {
      for (var i = 0, l = attribute.count; i < l; i++) {
        v1.x = attribute.getX(i);
        v1.y = attribute.getY(i);
        v1.z = attribute.getZ(i);
        v1.applyMatrix4(this);
        attribute.setXYZ(i, v1.x, v1.y, v1.z);
      }

      return attribute;
    };
  }(),
  determinant: function () {
    var te = this.elements;
    var n11 = te[0],
        n12 = te[4],
        n13 = te[8],
        n14 = te[12];
    var n21 = te[1],
        n22 = te[5],
        n23 = te[9],
        n24 = te[13];
    var n31 = te[2],
        n32 = te[6],
        n33 = te[10],
        n34 = te[14];
    var n41 = te[3],
        n42 = te[7],
        n43 = te[11],
        n44 = te[15]; //TODO: make this more efficient
    //( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )

    return n41 * (+n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34) + n42 * (+n11 * n23 * n34 - n11 * n24 * n33 + n14 * n21 * n33 - n13 * n21 * n34 + n13 * n24 * n31 - n14 * n23 * n31) + n43 * (+n11 * n24 * n32 - n11 * n22 * n34 - n14 * n21 * n32 + n12 * n21 * n34 + n14 * n22 * n31 - n12 * n24 * n31) + n44 * (-n13 * n22 * n31 - n11 * n23 * n32 + n11 * n22 * n33 + n13 * n21 * n32 - n12 * n21 * n33 + n12 * n23 * n31);
  },
  transpose: function () {
    var te = this.elements;
    var tmp;
    tmp = te[1];
    te[1] = te[4];
    te[4] = tmp;
    tmp = te[2];
    te[2] = te[8];
    te[8] = tmp;
    tmp = te[6];
    te[6] = te[9];
    te[9] = tmp;
    tmp = te[3];
    te[3] = te[12];
    te[12] = tmp;
    tmp = te[7];
    te[7] = te[13];
    te[13] = tmp;
    tmp = te[11];
    te[11] = te[14];
    te[14] = tmp;
    return this;
  },
  setPosition: function (x, y, z) {
    var te = this.elements;

    if (x.isVector3) {
      te[12] = x.x;
      te[13] = x.y;
      te[14] = x.z;
    } else {
      te[12] = x;
      te[13] = y;
      te[14] = z;
    }

    return this;
  },
  getInverse: function (m, throwOnDegenerate) {
    // based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm
    var te = this.elements,
        me = m.elements,
        n11 = me[0],
        n21 = me[1],
        n31 = me[2],
        n41 = me[3],
        n12 = me[4],
        n22 = me[5],
        n32 = me[6],
        n42 = me[7],
        n13 = me[8],
        n23 = me[9],
        n33 = me[10],
        n43 = me[11],
        n14 = me[12],
        n24 = me[13],
        n34 = me[14],
        n44 = me[15],
        t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,
        t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,
        t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,
        t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;
    var det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;

    if (det === 0) {
      var msg = "THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";

      if (throwOnDegenerate === true) {
        throw new Error(msg);
      } else {
        console.warn(msg);
      }

      return this.identity();
    }

    var detInv = 1 / det;
    te[0] = t11 * detInv;
    te[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;
    te[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;
    te[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;
    te[4] = t12 * detInv;
    te[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;
    te[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;
    te[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;
    te[8] = t13 * detInv;
    te[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;
    te[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;
    te[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;
    te[12] = t14 * detInv;
    te[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;
    te[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;
    te[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;
    return this;
  },
  scale: function (v) {
    var te = this.elements;
    var x = v.x,
        y = v.y,
        z = v.z;
    te[0] *= x;
    te[4] *= y;
    te[8] *= z;
    te[1] *= x;
    te[5] *= y;
    te[9] *= z;
    te[2] *= x;
    te[6] *= y;
    te[10] *= z;
    te[3] *= x;
    te[7] *= y;
    te[11] *= z;
    return this;
  },
  getMaxScaleOnAxis: function () {
    var te = this.elements;
    var scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2] * te[2];
    var scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6] * te[6];
    var scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];
    return Math.sqrt(Math.max(scaleXSq, scaleYSq, scaleZSq));
  },
  makeTranslation: function (x, y, z) {
    this.set(1, 0, 0, x, 0, 1, 0, y, 0, 0, 1, z, 0, 0, 0, 1);
    return this;
  },
  makeRotationX: function (theta) {
    var c = Math.cos(theta),
        s = Math.sin(theta);
    this.set(1, 0, 0, 0, 0, c, -s, 0, 0, s, c, 0, 0, 0, 0, 1);
    return this;
  },
  makeRotationY: function (theta) {
    var c = Math.cos(theta),
        s = Math.sin(theta);
    this.set(c, 0, s, 0, 0, 1, 0, 0, -s, 0, c, 0, 0, 0, 0, 1);
    return this;
  },
  makeRotationZ: function (theta) {
    var c = Math.cos(theta),
        s = Math.sin(theta);
    this.set(c, -s, 0, 0, s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    return this;
  },
  makeRotationAxis: function (axis, angle) {
    // Based on http://www.gamedev.net/reference/articles/article1199.asp
    var c = Math.cos(angle);
    var s = Math.sin(angle);
    var t = 1 - c;
    var x = axis.x,
        y = axis.y,
        z = axis.z;
    var tx = t * x,
        ty = t * y;
    this.set(tx * x + c, tx * y - s * z, tx * z + s * y, 0, tx * y + s * z, ty * y + c, ty * z - s * x, 0, tx * z - s * y, ty * z + s * x, t * z * z + c, 0, 0, 0, 0, 1);
    return this;
  },
  makeScale: function (x, y, z) {
    this.set(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1);
    return this;
  },
  makeShear: function (x, y, z) {
    this.set(1, y, z, 0, x, 1, z, 0, x, y, 1, 0, 0, 0, 0, 1);
    return this;
  },
  compose: function (position, quaternion, scale) {
    var te = this.elements;
    var x = quaternion._x,
        y = quaternion._y,
        z = quaternion._z,
        w = quaternion._w;
    var x2 = x + x,
        y2 = y + y,
        z2 = z + z;
    var xx = x * x2,
        xy = x * y2,
        xz = x * z2;
    var yy = y * y2,
        yz = y * z2,
        zz = z * z2;
    var wx = w * x2,
        wy = w * y2,
        wz = w * z2;
    var sx = scale.x,
        sy = scale.y,
        sz = scale.z;
    te[0] = (1 - (yy + zz)) * sx;
    te[1] = (xy + wz) * sx;
    te[2] = (xz - wy) * sx;
    te[3] = 0;
    te[4] = (xy - wz) * sy;
    te[5] = (1 - (xx + zz)) * sy;
    te[6] = (yz + wx) * sy;
    te[7] = 0;
    te[8] = (xz + wy) * sz;
    te[9] = (yz - wx) * sz;
    te[10] = (1 - (xx + yy)) * sz;
    te[11] = 0;
    te[12] = position.x;
    te[13] = position.y;
    te[14] = position.z;
    te[15] = 1;
    return this;
  },
  decompose: function () {
    var vector = new Vector3();
    var matrix = new Matrix4();
    return function decompose(position, quaternion, scale) {
      var te = this.elements;
      var sx = vector.set(te[0], te[1], te[2]).length();
      var sy = vector.set(te[4], te[5], te[6]).length();
      var sz = vector.set(te[8], te[9], te[10]).length(); // if determine is negative, we need to invert one scale

      var det = this.determinant();
      if (det < 0) sx = -sx;
      position.x = te[12];
      position.y = te[13];
      position.z = te[14]; // scale the rotation part

      matrix.copy(this);
      var invSX = 1 / sx;
      var invSY = 1 / sy;
      var invSZ = 1 / sz;
      matrix.elements[0] *= invSX;
      matrix.elements[1] *= invSX;
      matrix.elements[2] *= invSX;
      matrix.elements[4] *= invSY;
      matrix.elements[5] *= invSY;
      matrix.elements[6] *= invSY;
      matrix.elements[8] *= invSZ;
      matrix.elements[9] *= invSZ;
      matrix.elements[10] *= invSZ;
      quaternion.setFromRotationMatrix(matrix);
      scale.x = sx;
      scale.y = sy;
      scale.z = sz;
      return this;
    };
  }(),
  makePerspective: function (left, right, top, bottom, near, far) {
    if (far === undefined) {
      console.warn('THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.');
    }

    var te = this.elements;
    var x = 2 * near / (right - left);
    var y = 2 * near / (top - bottom);
    var a = (right + left) / (right - left);
    var b = (top + bottom) / (top - bottom);
    var c = -(far + near) / (far - near);
    var d = -2 * far * near / (far - near);
    te[0] = x;
    te[4] = 0;
    te[8] = a;
    te[12] = 0;
    te[1] = 0;
    te[5] = y;
    te[9] = b;
    te[13] = 0;
    te[2] = 0;
    te[6] = 0;
    te[10] = c;
    te[14] = d;
    te[3] = 0;
    te[7] = 0;
    te[11] = -1;
    te[15] = 0;
    return this;
  },
  makeOrthographic: function (left, right, top, bottom, near, far) {
    var te = this.elements;
    var w = 1.0 / (right - left);
    var h = 1.0 / (top - bottom);
    var p = 1.0 / (far - near);
    var x = (right + left) * w;
    var y = (top + bottom) * h;
    var z = (far + near) * p;
    te[0] = 2 * w;
    te[4] = 0;
    te[8] = 0;
    te[12] = -x;
    te[1] = 0;
    te[5] = 2 * h;
    te[9] = 0;
    te[13] = -y;
    te[2] = 0;
    te[6] = 0;
    te[10] = -2 * p;
    te[14] = -z;
    te[3] = 0;
    te[7] = 0;
    te[11] = 0;
    te[15] = 1;
    return this;
  },
  equals: function (matrix) {
    var te = this.elements;
    var me = matrix.elements;

    for (var i = 0; i < 16; i++) {
      if (te[i] !== me[i]) return false;
    }

    return true;
  },
  fromArray: function (array, offset) {
    if (offset === undefined) offset = 0;

    for (var i = 0; i < 16; i++) {
      this.elements[i] = array[i + offset];
    }

    return this;
  },
  toArray: function (array, offset) {
    if (array === undefined) array = [];
    if (offset === undefined) offset = 0;
    var te = this.elements;
    array[offset] = te[0];
    array[offset + 1] = te[1];
    array[offset + 2] = te[2];
    array[offset + 3] = te[3];
    array[offset + 4] = te[4];
    array[offset + 5] = te[5];
    array[offset + 6] = te[6];
    array[offset + 7] = te[7];
    array[offset + 8] = te[8];
    array[offset + 9] = te[9];
    array[offset + 10] = te[10];
    array[offset + 11] = te[11];
    array[offset + 12] = te[12];
    array[offset + 13] = te[13];
    array[offset + 14] = te[14];
    array[offset + 15] = te[15];
    return array;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author WestLangley / http://github.com/WestLangley
 * @author bhouston / http://clara.io
 */

var _matrix, _quaternion;

function Euler(x, y, z, order) {
  this._x = x || 0;
  this._y = y || 0;
  this._z = z || 0;
  this._order = order || Euler.DefaultOrder;
}

Euler.RotationOrders = ['XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX'];
Euler.DefaultOrder = 'XYZ';
Object.defineProperties(Euler.prototype, {
  x: {
    get: function () {
      return this._x;
    },
    set: function (value) {
      this._x = value;

      this._onChangeCallback();
    }
  },
  y: {
    get: function () {
      return this._y;
    },
    set: function (value) {
      this._y = value;

      this._onChangeCallback();
    }
  },
  z: {
    get: function () {
      return this._z;
    },
    set: function (value) {
      this._z = value;

      this._onChangeCallback();
    }
  },
  order: {
    get: function () {
      return this._order;
    },
    set: function (value) {
      this._order = value;

      this._onChangeCallback();
    }
  }
});
Object.assign(Euler.prototype, {
  isEuler: true,
  set: function (x, y, z, order) {
    this._x = x;
    this._y = y;
    this._z = z;
    this._order = order || this._order;

    this._onChangeCallback();

    return this;
  },
  clone: function () {
    return new this.constructor(this._x, this._y, this._z, this._order);
  },
  copy: function (euler) {
    this._x = euler._x;
    this._y = euler._y;
    this._z = euler._z;
    this._order = euler._order;

    this._onChangeCallback();

    return this;
  },
  setFromRotationMatrix: function (m, order, update) {
    var clamp = _Math.clamp; // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)

    var te = m.elements;
    var m11 = te[0],
        m12 = te[4],
        m13 = te[8];
    var m21 = te[1],
        m22 = te[5],
        m23 = te[9];
    var m31 = te[2],
        m32 = te[6],
        m33 = te[10];
    order = order || this._order;

    if (order === 'XYZ') {
      this._y = Math.asin(clamp(m13, -1, 1));

      if (Math.abs(m13) < 0.99999) {
        this._x = Math.atan2(-m23, m33);
        this._z = Math.atan2(-m12, m11);
      } else {
        this._x = Math.atan2(m32, m22);
        this._z = 0;
      }
    } else if (order === 'YXZ') {
      this._x = Math.asin(-clamp(m23, -1, 1));

      if (Math.abs(m23) < 0.99999) {
        this._y = Math.atan2(m13, m33);
        this._z = Math.atan2(m21, m22);
      } else {
        this._y = Math.atan2(-m31, m11);
        this._z = 0;
      }
    } else if (order === 'ZXY') {
      this._x = Math.asin(clamp(m32, -1, 1));

      if (Math.abs(m32) < 0.99999) {
        this._y = Math.atan2(-m31, m33);
        this._z = Math.atan2(-m12, m22);
      } else {
        this._y = 0;
        this._z = Math.atan2(m21, m11);
      }
    } else if (order === 'ZYX') {
      this._y = Math.asin(-clamp(m31, -1, 1));

      if (Math.abs(m31) < 0.99999) {
        this._x = Math.atan2(m32, m33);
        this._z = Math.atan2(m21, m11);
      } else {
        this._x = 0;
        this._z = Math.atan2(-m12, m22);
      }
    } else if (order === 'YZX') {
      this._z = Math.asin(clamp(m21, -1, 1));

      if (Math.abs(m21) < 0.99999) {
        this._x = Math.atan2(-m23, m22);
        this._y = Math.atan2(-m31, m11);
      } else {
        this._x = 0;
        this._y = Math.atan2(m13, m33);
      }
    } else if (order === 'XZY') {
      this._z = Math.asin(-clamp(m12, -1, 1));

      if (Math.abs(m12) < 0.99999) {
        this._x = Math.atan2(m32, m22);
        this._y = Math.atan2(m13, m11);
      } else {
        this._x = Math.atan2(-m23, m33);
        this._y = 0;
      }
    } else {
      console.warn('THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order);
    }

    this._order = order;
    if (update !== false) this._onChangeCallback();
    return this;
  },
  setFromQuaternion: function (q, order, update) {
    if (_matrix === undefined) _matrix = new Matrix4();

    _matrix.makeRotationFromQuaternion(q);

    return this.setFromRotationMatrix(_matrix, order, update);
  },
  setFromVector3: function (v, order) {
    return this.set(v.x, v.y, v.z, order || this._order);
  },
  reorder: function (newOrder) {
    // WARNING: this discards revolution information -bhouston
    if (_quaternion === undefined) _quaternion = new Quaternion();

    _quaternion.setFromEuler(this);

    return this.setFromQuaternion(_quaternion, newOrder);
  },
  equals: function (euler) {
    return euler._x === this._x && euler._y === this._y && euler._z === this._z && euler._order === this._order;
  },
  fromArray: function (array) {
    this._x = array[0];
    this._y = array[1];
    this._z = array[2];
    if (array[3] !== undefined) this._order = array[3];

    this._onChangeCallback();

    return this;
  },
  toArray: function (array, offset) {
    if (array === undefined) array = [];
    if (offset === undefined) offset = 0;
    array[offset] = this._x;
    array[offset + 1] = this._y;
    array[offset + 2] = this._z;
    array[offset + 3] = this._order;
    return array;
  },
  toVector3: function (optionalResult) {
    if (optionalResult) {
      return optionalResult.set(this._x, this._y, this._z);
    } else {
      return new Vector3(this._x, this._y, this._z);
    }
  },
  _onChange: function (callback) {
    this._onChangeCallback = callback;
    return this;
  },
  _onChangeCallback: function () {}
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function Layers() {
  this.mask = 1 | 0;
}

Object.assign(Layers.prototype, {
  set: function (channel) {
    this.mask = 1 << channel | 0;
  },
  enable: function (channel) {
    this.mask |= 1 << channel | 0;
  },
  toggle: function (channel) {
    this.mask ^= 1 << channel | 0;
  },
  disable: function (channel) {
    this.mask &= ~(1 << channel | 0);
  },
  test: function (layers) {
    return (this.mask & layers.mask) !== 0;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author mikael emtinger / http://gomo.se/
 * @author alteredq / http://alteredqualia.com/
 * @author WestLangley / http://github.com/WestLangley
 * @author elephantatwork / www.elephantatwork.ch
 */

var object3DId = 0;

function Object3D() {
  Object.defineProperty(this, 'id', {
    value: object3DId++
  });
  this.uuid = _Math.generateUUID();
  this.name = '';
  this.type = 'Object3D';
  this.parent = null;
  this.children = [];
  this.up = Object3D.DefaultUp.clone();
  var position = new Vector3();
  var rotation = new Euler();
  var quaternion = new Quaternion();
  var scale = new Vector3(1, 1, 1);

  function onRotationChange() {
    quaternion.setFromEuler(rotation, false);
  }

  function onQuaternionChange() {
    rotation.setFromQuaternion(quaternion, undefined, false);
  }

  rotation._onChange(onRotationChange);

  quaternion._onChange(onQuaternionChange);

  Object.defineProperties(this, {
    position: {
      configurable: true,
      enumerable: true,
      value: position
    },
    rotation: {
      configurable: true,
      enumerable: true,
      value: rotation
    },
    quaternion: {
      configurable: true,
      enumerable: true,
      value: quaternion
    },
    scale: {
      configurable: true,
      enumerable: true,
      value: scale
    },
    modelViewMatrix: {
      value: new Matrix4()
    },
    normalMatrix: {
      value: new Matrix3()
    }
  });
  this.matrix = new Matrix4();
  this.matrixWorld = new Matrix4();
  this.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;
  this.matrixWorldNeedsUpdate = false;
  this.layers = new Layers();
  this.visible = true;
  this.castShadow = false;
  this.receiveShadow = false;
  this.frustumCulled = true;
  this.renderOrder = 0;
  this.userData = {};
}

Object3D.DefaultUp = new Vector3(0, 1, 0);
Object3D.DefaultMatrixAutoUpdate = true;
Object3D.prototype = Object.assign(Object.create(EventDispatcher.prototype), {
  constructor: Object3D,
  isObject3D: true,
  onBeforeRender: function () {},
  onAfterRender: function () {},
  applyMatrix: function (matrix) {
    if (this.matrixAutoUpdate) this.updateMatrix();
    this.matrix.premultiply(matrix);
    this.matrix.decompose(this.position, this.quaternion, this.scale);
  },
  applyQuaternion: function (q) {
    this.quaternion.premultiply(q);
    return this;
  },
  setRotationFromAxisAngle: function (axis, angle) {
    // assumes axis is normalized
    this.quaternion.setFromAxisAngle(axis, angle);
  },
  setRotationFromEuler: function (euler) {
    this.quaternion.setFromEuler(euler, true);
  },
  setRotationFromMatrix: function (m) {
    // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)
    this.quaternion.setFromRotationMatrix(m);
  },
  setRotationFromQuaternion: function (q) {
    // assumes q is normalized
    this.quaternion.copy(q);
  },
  rotateOnAxis: function () {
    // rotate object on axis in object space
    // axis is assumed to be normalized
    var q1 = new Quaternion();
    return function rotateOnAxis(axis, angle) {
      q1.setFromAxisAngle(axis, angle);
      this.quaternion.multiply(q1);
      return this;
    };
  }(),
  rotateOnWorldAxis: function () {
    // rotate object on axis in world space
    // axis is assumed to be normalized
    // method assumes no rotated parent
    var q1 = new Quaternion();
    return function rotateOnWorldAxis(axis, angle) {
      q1.setFromAxisAngle(axis, angle);
      this.quaternion.premultiply(q1);
      return this;
    };
  }(),
  rotateX: function () {
    var v1 = new Vector3(1, 0, 0);
    return function rotateX(angle) {
      return this.rotateOnAxis(v1, angle);
    };
  }(),
  rotateY: function () {
    var v1 = new Vector3(0, 1, 0);
    return function rotateY(angle) {
      return this.rotateOnAxis(v1, angle);
    };
  }(),
  rotateZ: function () {
    var v1 = new Vector3(0, 0, 1);
    return function rotateZ(angle) {
      return this.rotateOnAxis(v1, angle);
    };
  }(),
  translateOnAxis: function () {
    // translate object by distance along axis in object space
    // axis is assumed to be normalized
    var v1 = new Vector3();
    return function translateOnAxis(axis, distance) {
      v1.copy(axis).applyQuaternion(this.quaternion);
      this.position.add(v1.multiplyScalar(distance));
      return this;
    };
  }(),
  translateX: function () {
    var v1 = new Vector3(1, 0, 0);
    return function translateX(distance) {
      return this.translateOnAxis(v1, distance);
    };
  }(),
  translateY: function () {
    var v1 = new Vector3(0, 1, 0);
    return function translateY(distance) {
      return this.translateOnAxis(v1, distance);
    };
  }(),
  translateZ: function () {
    var v1 = new Vector3(0, 0, 1);
    return function translateZ(distance) {
      return this.translateOnAxis(v1, distance);
    };
  }(),
  localToWorld: function (vector) {
    return vector.applyMatrix4(this.matrixWorld);
  },
  worldToLocal: function () {
    var m1 = new Matrix4();
    return function worldToLocal(vector) {
      return vector.applyMatrix4(m1.getInverse(this.matrixWorld));
    };
  }(),
  lookAt: function () {
    // This method does not support objects having non-uniformly-scaled parent(s)
    var q1 = new Quaternion();
    var m1 = new Matrix4();
    var target = new Vector3();
    var position = new Vector3();
    return function lookAt(x, y, z) {
      if (x.isVector3) {
        target.copy(x);
      } else {
        target.set(x, y, z);
      }

      var parent = this.parent;
      this.updateWorldMatrix(true, false);
      position.setFromMatrixPosition(this.matrixWorld);

      if (this.isCamera || this.isLight) {
        m1.lookAt(position, target, this.up);
      } else {
        m1.lookAt(target, position, this.up);
      }

      this.quaternion.setFromRotationMatrix(m1);

      if (parent) {
        m1.extractRotation(parent.matrixWorld);
        q1.setFromRotationMatrix(m1);
        this.quaternion.premultiply(q1.inverse());
      }
    };
  }(),
  add: function (object) {
    if (arguments.length > 1) {
      for (var i = 0; i < arguments.length; i++) {
        this.add(arguments[i]);
      }

      return this;
    }

    if (object === this) {
      console.error("THREE.Object3D.add: object can't be added as a child of itself.", object);
      return this;
    }

    if (object && object.isObject3D) {
      if (object.parent !== null) {
        object.parent.remove(object);
      }

      object.parent = this;
      this.children.push(object);
      object.dispatchEvent({
        type: 'added'
      });
    } else {
      console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", object);
    }

    return this;
  },
  remove: function (object) {
    if (arguments.length > 1) {
      for (var i = 0; i < arguments.length; i++) {
        this.remove(arguments[i]);
      }

      return this;
    }

    var index = this.children.indexOf(object);

    if (index !== -1) {
      object.parent = null;
      this.children.splice(index, 1);
      object.dispatchEvent({
        type: 'removed'
      });
    }

    return this;
  },
  attach: function () {
    // adds object as a child of this, while maintaining the object's world transform
    var m = new Matrix4();
    return function attach(object) {
      this.updateWorldMatrix(true, false);
      m.getInverse(this.matrixWorld);

      if (object.parent !== null) {
        object.parent.updateWorldMatrix(true, false);
        m.multiply(object.parent.matrixWorld);
      }

      object.applyMatrix(m);
      object.updateWorldMatrix(false, false);
      this.add(object);
      return this;
    };
  }(),
  getObjectById: function (id) {
    return this.getObjectByProperty('id', id);
  },
  getObjectByName: function (name) {
    return this.getObjectByProperty('name', name);
  },
  getObjectByProperty: function (name, value) {
    if (this[name] === value) return this;

    for (var i = 0, l = this.children.length; i < l; i++) {
      var child = this.children[i];
      var object = child.getObjectByProperty(name, value);

      if (object !== undefined) {
        return object;
      }
    }

    return undefined;
  },
  getWorldPosition: function (target) {
    if (target === undefined) {
      console.warn('THREE.Object3D: .getWorldPosition() target is now required');
      target = new Vector3();
    }

    this.updateMatrixWorld(true);
    return target.setFromMatrixPosition(this.matrixWorld);
  },
  getWorldQuaternion: function () {
    var position = new Vector3();
    var scale = new Vector3();
    return function getWorldQuaternion(target) {
      if (target === undefined) {
        console.warn('THREE.Object3D: .getWorldQuaternion() target is now required');
        target = new Quaternion();
      }

      this.updateMatrixWorld(true);
      this.matrixWorld.decompose(position, target, scale);
      return target;
    };
  }(),
  getWorldScale: function () {
    var position = new Vector3();
    var quaternion = new Quaternion();
    return function getWorldScale(target) {
      if (target === undefined) {
        console.warn('THREE.Object3D: .getWorldScale() target is now required');
        target = new Vector3();
      }

      this.updateMatrixWorld(true);
      this.matrixWorld.decompose(position, quaternion, target);
      return target;
    };
  }(),
  getWorldDirection: function (target) {
    if (target === undefined) {
      console.warn('THREE.Object3D: .getWorldDirection() target is now required');
      target = new Vector3();
    }

    this.updateMatrixWorld(true);
    var e = this.matrixWorld.elements;
    return target.set(e[8], e[9], e[10]).normalize();
  },
  raycast: function () {},
  traverse: function (callback) {
    callback(this);
    var children = this.children;

    for (var i = 0, l = children.length; i < l; i++) {
      children[i].traverse(callback);
    }
  },
  traverseVisible: function (callback) {
    if (this.visible === false) return;
    callback(this);
    var children = this.children;

    for (var i = 0, l = children.length; i < l; i++) {
      children[i].traverseVisible(callback);
    }
  },
  traverseAncestors: function (callback) {
    var parent = this.parent;

    if (parent !== null) {
      callback(parent);
      parent.traverseAncestors(callback);
    }
  },
  updateMatrix: function () {
    this.matrix.compose(this.position, this.quaternion, this.scale);
    this.matrixWorldNeedsUpdate = true;
  },
  updateMatrixWorld: function (force) {
    if (this.matrixAutoUpdate) this.updateMatrix();

    if (this.matrixWorldNeedsUpdate || force) {
      if (this.parent === null) {
        this.matrixWorld.copy(this.matrix);
      } else {
        this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);
      }

      this.matrixWorldNeedsUpdate = false;
      force = true;
    } // update children


    var children = this.children;

    for (var i = 0, l = children.length; i < l; i++) {
      children[i].updateMatrixWorld(force);
    }
  },
  updateWorldMatrix: function (updateParents, updateChildren) {
    var parent = this.parent;

    if (updateParents === true && parent !== null) {
      parent.updateWorldMatrix(true, false);
    }

    if (this.matrixAutoUpdate) this.updateMatrix();

    if (this.parent === null) {
      this.matrixWorld.copy(this.matrix);
    } else {
      this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);
    } // update children


    if (updateChildren === true) {
      var children = this.children;

      for (var i = 0, l = children.length; i < l; i++) {
        children[i].updateWorldMatrix(false, true);
      }
    }
  },
  toJSON: function (meta) {
    // meta is a string when called from JSON.stringify
    var isRootObject = meta === undefined || typeof meta === 'string';
    var output = {}; // meta is a hash used to collect geometries, materials.
    // not providing it implies that this is the root object
    // being serialized.

    if (isRootObject) {
      // initialize meta obj
      meta = {
        geometries: {},
        materials: {},
        textures: {},
        images: {},
        shapes: {}
      };
      output.metadata = {
        version: 4.5,
        type: 'Object',
        generator: 'Object3D.toJSON'
      };
    } // standard Object3D serialization


    var object = {};
    object.uuid = this.uuid;
    object.type = this.type;
    if (this.name !== '') object.name = this.name;
    if (this.castShadow === true) object.castShadow = true;
    if (this.receiveShadow === true) object.receiveShadow = true;
    if (this.visible === false) object.visible = false;
    if (this.frustumCulled === false) object.frustumCulled = false;
    if (this.renderOrder !== 0) object.renderOrder = this.renderOrder;
    if (JSON.stringify(this.userData) !== '{}') object.userData = this.userData;
    object.layers = this.layers.mask;
    object.matrix = this.matrix.toArray();
    if (this.matrixAutoUpdate === false) object.matrixAutoUpdate = false; // object specific properties

    if (this.isMesh && this.drawMode !== TrianglesDrawMode) object.drawMode = this.drawMode; //

    function serialize(library, element) {
      if (library[element.uuid] === undefined) {
        library[element.uuid] = element.toJSON(meta);
      }

      return element.uuid;
    }

    if (this.isMesh || this.isLine || this.isPoints) {
      object.geometry = serialize(meta.geometries, this.geometry);
      var parameters = this.geometry.parameters;

      if (parameters !== undefined && parameters.shapes !== undefined) {
        var shapes = parameters.shapes;

        if (Array.isArray(shapes)) {
          for (var i = 0, l = shapes.length; i < l; i++) {
            var shape = shapes[i];
            serialize(meta.shapes, shape);
          }
        } else {
          serialize(meta.shapes, shapes);
        }
      }
    }

    if (this.material !== undefined) {
      if (Array.isArray(this.material)) {
        var uuids = [];

        for (var i = 0, l = this.material.length; i < l; i++) {
          uuids.push(serialize(meta.materials, this.material[i]));
        }

        object.material = uuids;
      } else {
        object.material = serialize(meta.materials, this.material);
      }
    } //


    if (this.children.length > 0) {
      object.children = [];

      for (var i = 0; i < this.children.length; i++) {
        object.children.push(this.children[i].toJSON(meta).object);
      }
    }

    if (isRootObject) {
      var geometries = extractFromCache(meta.geometries);
      var materials = extractFromCache(meta.materials);
      var textures = extractFromCache(meta.textures);
      var images = extractFromCache(meta.images);
      var shapes = extractFromCache(meta.shapes);
      if (geometries.length > 0) output.geometries = geometries;
      if (materials.length > 0) output.materials = materials;
      if (textures.length > 0) output.textures = textures;
      if (images.length > 0) output.images = images;
      if (shapes.length > 0) output.shapes = shapes;
    }

    output.object = object;
    return output; // extract data from the cache hash
    // remove metadata on each item
    // and return as array

    function extractFromCache(cache) {
      var values = [];

      for (var key in cache) {
        var data = cache[key];
        delete data.metadata;
        values.push(data);
      }

      return values;
    }
  },
  clone: function (recursive) {
    return new this.constructor().copy(this, recursive);
  },
  copy: function (source, recursive) {
    if (recursive === undefined) recursive = true;
    this.name = source.name;
    this.up.copy(source.up);
    this.position.copy(source.position);
    this.quaternion.copy(source.quaternion);
    this.scale.copy(source.scale);
    this.matrix.copy(source.matrix);
    this.matrixWorld.copy(source.matrixWorld);
    this.matrixAutoUpdate = source.matrixAutoUpdate;
    this.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;
    this.layers.mask = source.layers.mask;
    this.visible = source.visible;
    this.castShadow = source.castShadow;
    this.receiveShadow = source.receiveShadow;
    this.frustumCulled = source.frustumCulled;
    this.renderOrder = source.renderOrder;
    this.userData = JSON.parse(JSON.stringify(source.userData));

    if (recursive === true) {
      for (var i = 0; i < source.children.length; i++) {
        var child = source.children[i];
        this.add(child.clone());
      }
    }

    return this;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function Scene() {
  Object3D.call(this);
  this.type = 'Scene';
  this.background = null;
  this.fog = null;
  this.overrideMaterial = null;
  this.autoUpdate = true; // checked by the renderer

  if (typeof __THREE_DEVTOOLS__ !== 'undefined') {
    __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', {
      detail: this
    })); // eslint-disable-line no-undef

  }
}

Scene.prototype = Object.assign(Object.create(Object3D.prototype), {
  constructor: Scene,
  isScene: true,
  copy: function (source, recursive) {
    Object3D.prototype.copy.call(this, source, recursive);
    if (source.background !== null) this.background = source.background.clone();
    if (source.fog !== null) this.fog = source.fog.clone();
    if (source.overrideMaterial !== null) this.overrideMaterial = source.overrideMaterial.clone();
    this.autoUpdate = source.autoUpdate;
    this.matrixAutoUpdate = source.matrixAutoUpdate;
    return this;
  },
  toJSON: function (meta) {
    var data = Object3D.prototype.toJSON.call(this, meta);
    if (this.background !== null) data.object.background = this.background.toJSON(meta);
    if (this.fog !== null) data.object.fog = this.fog.toJSON();
    return data;
  },
  dispose: function () {
    this.dispatchEvent({
      type: 'dispose'
    });
  }
});
/**
 * @author bhouston / http://clara.io
 * @author WestLangley / http://github.com/WestLangley
 */

function Box3(min, max) {
  this.min = min !== undefined ? min : new Vector3(+Infinity, +Infinity, +Infinity);
  this.max = max !== undefined ? max : new Vector3(-Infinity, -Infinity, -Infinity);
}

Object.assign(Box3.prototype, {
  isBox3: true,
  set: function (min, max) {
    this.min.copy(min);
    this.max.copy(max);
    return this;
  },
  setFromArray: function (array) {
    var minX = +Infinity;
    var minY = +Infinity;
    var minZ = +Infinity;
    var maxX = -Infinity;
    var maxY = -Infinity;
    var maxZ = -Infinity;

    for (var i = 0, l = array.length; i < l; i += 3) {
      var x = array[i];
      var y = array[i + 1];
      var z = array[i + 2];
      if (x < minX) minX = x;
      if (y < minY) minY = y;
      if (z < minZ) minZ = z;
      if (x > maxX) maxX = x;
      if (y > maxY) maxY = y;
      if (z > maxZ) maxZ = z;
    }

    this.min.set(minX, minY, minZ);
    this.max.set(maxX, maxY, maxZ);
    return this;
  },
  setFromBufferAttribute: function (attribute) {
    var minX = +Infinity;
    var minY = +Infinity;
    var minZ = +Infinity;
    var maxX = -Infinity;
    var maxY = -Infinity;
    var maxZ = -Infinity;

    for (var i = 0, l = attribute.count; i < l; i++) {
      var x = attribute.getX(i);
      var y = attribute.getY(i);
      var z = attribute.getZ(i);
      if (x < minX) minX = x;
      if (y < minY) minY = y;
      if (z < minZ) minZ = z;
      if (x > maxX) maxX = x;
      if (y > maxY) maxY = y;
      if (z > maxZ) maxZ = z;
    }

    this.min.set(minX, minY, minZ);
    this.max.set(maxX, maxY, maxZ);
    return this;
  },
  setFromPoints: function (points) {
    this.makeEmpty();

    for (var i = 0, il = points.length; i < il; i++) {
      this.expandByPoint(points[i]);
    }

    return this;
  },
  setFromCenterAndSize: function () {
    var v1 = new Vector3();
    return function setFromCenterAndSize(center, size) {
      var halfSize = v1.copy(size).multiplyScalar(0.5);
      this.min.copy(center).sub(halfSize);
      this.max.copy(center).add(halfSize);
      return this;
    };
  }(),
  setFromObject: function (object) {
    this.makeEmpty();
    return this.expandByObject(object);
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (box) {
    this.min.copy(box.min);
    this.max.copy(box.max);
    return this;
  },
  makeEmpty: function () {
    this.min.x = this.min.y = this.min.z = +Infinity;
    this.max.x = this.max.y = this.max.z = -Infinity;
    return this;
  },
  isEmpty: function () {
    // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes
    return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z;
  },
  getCenter: function (target) {
    if (target === undefined) {
      console.warn('THREE.Box3: .getCenter() target is now required');
      target = new Vector3();
    }

    return this.isEmpty() ? target.set(0, 0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);
  },
  getSize: function (target) {
    if (target === undefined) {
      console.warn('THREE.Box3: .getSize() target is now required');
      target = new Vector3();
    }

    return this.isEmpty() ? target.set(0, 0, 0) : target.subVectors(this.max, this.min);
  },
  expandByPoint: function (point) {
    this.min.min(point);
    this.max.max(point);
    return this;
  },
  expandByVector: function (vector) {
    this.min.sub(vector);
    this.max.add(vector);
    return this;
  },
  expandByScalar: function (scalar) {
    this.min.addScalar(-scalar);
    this.max.addScalar(scalar);
    return this;
  },
  expandByObject: function () {
    // Computes the world-axis-aligned bounding box of an object (including its children),
    // accounting for both the object's, and children's, world transforms
    var scope, i, l;
    var v1 = new Vector3();

    function traverse(node) {
      var geometry = node.geometry;

      if (geometry !== undefined) {
        if (geometry.isGeometry) {
          var vertices = geometry.vertices;

          for (i = 0, l = vertices.length; i < l; i++) {
            v1.copy(vertices[i]);
            v1.applyMatrix4(node.matrixWorld);
            scope.expandByPoint(v1);
          }
        } else if (geometry.isBufferGeometry) {
          var attribute = geometry.attributes.position;

          if (attribute !== undefined) {
            for (i = 0, l = attribute.count; i < l; i++) {
              v1.fromBufferAttribute(attribute, i).applyMatrix4(node.matrixWorld);
              scope.expandByPoint(v1);
            }
          }
        }
      }
    }

    return function expandByObject(object) {
      scope = this;
      object.updateMatrixWorld(true);
      object.traverse(traverse);
      return this;
    };
  }(),
  containsPoint: function (point) {
    return point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y || point.z < this.min.z || point.z > this.max.z ? false : true;
  },
  containsBox: function (box) {
    return this.min.x <= box.min.x && box.max.x <= this.max.x && this.min.y <= box.min.y && box.max.y <= this.max.y && this.min.z <= box.min.z && box.max.z <= this.max.z;
  },
  getParameter: function (point, target) {
    // This can potentially have a divide by zero if the box
    // has a size dimension of 0.
    if (target === undefined) {
      console.warn('THREE.Box3: .getParameter() target is now required');
      target = new Vector3();
    }

    return target.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y), (point.z - this.min.z) / (this.max.z - this.min.z));
  },
  intersectsBox: function (box) {
    // using 6 splitting planes to rule out intersections.
    return box.max.x < this.min.x || box.min.x > this.max.x || box.max.y < this.min.y || box.min.y > this.max.y || box.max.z < this.min.z || box.min.z > this.max.z ? false : true;
  },
  intersectsSphere: function () {
    var closestPoint = new Vector3();
    return function intersectsSphere(sphere) {
      // Find the point on the AABB closest to the sphere center.
      this.clampPoint(sphere.center, closestPoint); // If that point is inside the sphere, the AABB and sphere intersect.

      return closestPoint.distanceToSquared(sphere.center) <= sphere.radius * sphere.radius;
    };
  }(),
  intersectsPlane: function (plane) {
    // We compute the minimum and maximum dot product values. If those values
    // are on the same side (back or front) of the plane, then there is no intersection.
    var min, max;

    if (plane.normal.x > 0) {
      min = plane.normal.x * this.min.x;
      max = plane.normal.x * this.max.x;
    } else {
      min = plane.normal.x * this.max.x;
      max = plane.normal.x * this.min.x;
    }

    if (plane.normal.y > 0) {
      min += plane.normal.y * this.min.y;
      max += plane.normal.y * this.max.y;
    } else {
      min += plane.normal.y * this.max.y;
      max += plane.normal.y * this.min.y;
    }

    if (plane.normal.z > 0) {
      min += plane.normal.z * this.min.z;
      max += plane.normal.z * this.max.z;
    } else {
      min += plane.normal.z * this.max.z;
      max += plane.normal.z * this.min.z;
    }

    return min <= -plane.constant && max >= -plane.constant;
  },
  intersectsTriangle: function () {
    // triangle centered vertices
    var v0 = new Vector3();
    var v1 = new Vector3();
    var v2 = new Vector3(); // triangle edge vectors

    var f0 = new Vector3();
    var f1 = new Vector3();
    var f2 = new Vector3();
    var testAxis = new Vector3();
    var center = new Vector3();
    var extents = new Vector3();
    var triangleNormal = new Vector3();

    function satForAxes(axes) {
      var i, j;

      for (i = 0, j = axes.length - 3; i <= j; i += 3) {
        testAxis.fromArray(axes, i); // project the aabb onto the seperating axis

        var r = extents.x * Math.abs(testAxis.x) + extents.y * Math.abs(testAxis.y) + extents.z * Math.abs(testAxis.z); // project all 3 vertices of the triangle onto the seperating axis

        var p0 = v0.dot(testAxis);
        var p1 = v1.dot(testAxis);
        var p2 = v2.dot(testAxis); // actual test, basically see if either of the most extreme of the triangle points intersects r

        if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {
          // points of the projected triangle are outside the projected half-length of the aabb
          // the axis is seperating and we can exit
          return false;
        }
      }

      return true;
    }

    return function intersectsTriangle(triangle) {
      if (this.isEmpty()) {
        return false;
      } // compute box center and extents


      this.getCenter(center);
      extents.subVectors(this.max, center); // translate triangle to aabb origin

      v0.subVectors(triangle.a, center);
      v1.subVectors(triangle.b, center);
      v2.subVectors(triangle.c, center); // compute edge vectors for triangle

      f0.subVectors(v1, v0);
      f1.subVectors(v2, v1);
      f2.subVectors(v0, v2); // test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb
      // make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation
      // axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)

      var axes = [0, -f0.z, f0.y, 0, -f1.z, f1.y, 0, -f2.z, f2.y, f0.z, 0, -f0.x, f1.z, 0, -f1.x, f2.z, 0, -f2.x, -f0.y, f0.x, 0, -f1.y, f1.x, 0, -f2.y, f2.x, 0];

      if (!satForAxes(axes)) {
        return false;
      } // test 3 face normals from the aabb


      axes = [1, 0, 0, 0, 1, 0, 0, 0, 1];

      if (!satForAxes(axes)) {
        return false;
      } // finally testing the face normal of the triangle
      // use already existing triangle edge vectors here


      triangleNormal.crossVectors(f0, f1);
      axes = [triangleNormal.x, triangleNormal.y, triangleNormal.z];
      return satForAxes(axes);
    };
  }(),
  clampPoint: function (point, target) {
    if (target === undefined) {
      console.warn('THREE.Box3: .clampPoint() target is now required');
      target = new Vector3();
    }

    return target.copy(point).clamp(this.min, this.max);
  },
  distanceToPoint: function () {
    var v1 = new Vector3();
    return function distanceToPoint(point) {
      var clampedPoint = v1.copy(point).clamp(this.min, this.max);
      return clampedPoint.sub(point).length();
    };
  }(),
  getBoundingSphere: function () {
    var v1 = new Vector3();
    return function getBoundingSphere(target) {
      if (target === undefined) {
        console.error('THREE.Box3: .getBoundingSphere() target is now required'); //target = new Sphere(); // removed to avoid cyclic dependency
      }

      this.getCenter(target.center);
      target.radius = this.getSize(v1).length() * 0.5;
      return target;
    };
  }(),
  intersect: function (box) {
    this.min.max(box.min);
    this.max.min(box.max); // ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.

    if (this.isEmpty()) this.makeEmpty();
    return this;
  },
  union: function (box) {
    this.min.min(box.min);
    this.max.max(box.max);
    return this;
  },
  applyMatrix4: function () {
    var points = [new Vector3(), new Vector3(), new Vector3(), new Vector3(), new Vector3(), new Vector3(), new Vector3(), new Vector3()];
    return function applyMatrix4(matrix) {
      // transform of empty box is an empty box.
      if (this.isEmpty()) return this; // NOTE: I am using a binary pattern to specify all 2^3 combinations below

      points[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(matrix); // 000

      points[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(matrix); // 001

      points[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(matrix); // 010

      points[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(matrix); // 011

      points[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(matrix); // 100

      points[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(matrix); // 101

      points[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(matrix); // 110

      points[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(matrix); // 111

      this.setFromPoints(points);
      return this;
    };
  }(),
  translate: function (offset) {
    this.min.add(offset);
    this.max.add(offset);
    return this;
  },
  equals: function (box) {
    return box.min.equals(this.min) && box.max.equals(this.max);
  }
});
/**
 * @author bhouston / http://clara.io
 * @author mrdoob / http://mrdoob.com/
 */

var _box;

function Sphere(center, radius) {
  this.center = center !== undefined ? center : new Vector3();
  this.radius = radius !== undefined ? radius : 0;
}

Object.assign(Sphere.prototype, {
  set: function (center, radius) {
    this.center.copy(center);
    this.radius = radius;
    return this;
  },
  setFromPoints: function (points, optionalCenter) {
    if (_box === undefined) _box = new Box3();
    var center = this.center;

    if (optionalCenter !== undefined) {
      center.copy(optionalCenter);
    } else {
      _box.setFromPoints(points).getCenter(center);
    }

    var maxRadiusSq = 0;

    for (var i = 0, il = points.length; i < il; i++) {
      maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(points[i]));
    }

    this.radius = Math.sqrt(maxRadiusSq);
    return this;
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (sphere) {
    this.center.copy(sphere.center);
    this.radius = sphere.radius;
    return this;
  },
  empty: function () {
    return this.radius <= 0;
  },
  containsPoint: function (point) {
    return point.distanceToSquared(this.center) <= this.radius * this.radius;
  },
  distanceToPoint: function (point) {
    return point.distanceTo(this.center) - this.radius;
  },
  intersectsSphere: function (sphere) {
    var radiusSum = this.radius + sphere.radius;
    return sphere.center.distanceToSquared(this.center) <= radiusSum * radiusSum;
  },
  intersectsBox: function (box) {
    return box.intersectsSphere(this);
  },
  intersectsPlane: function (plane) {
    return Math.abs(plane.distanceToPoint(this.center)) <= this.radius;
  },
  clampPoint: function (point, target) {
    var deltaLengthSq = this.center.distanceToSquared(point);

    if (target === undefined) {
      console.warn('THREE.Sphere: .clampPoint() target is now required');
      target = new Vector3();
    }

    target.copy(point);

    if (deltaLengthSq > this.radius * this.radius) {
      target.sub(this.center).normalize();
      target.multiplyScalar(this.radius).add(this.center);
    }

    return target;
  },
  getBoundingBox: function (target) {
    if (target === undefined) {
      console.warn('THREE.Sphere: .getBoundingBox() target is now required');
      target = new Box3();
    }

    target.set(this.center, this.center);
    target.expandByScalar(this.radius);
    return target;
  },
  applyMatrix4: function (matrix) {
    this.center.applyMatrix4(matrix);
    this.radius = this.radius * matrix.getMaxScaleOnAxis();
    return this;
  },
  translate: function (offset) {
    this.center.add(offset);
    return this;
  },
  equals: function (sphere) {
    return sphere.center.equals(this.center) && sphere.radius === this.radius;
  }
});
/**
 * @author bhouston / http://clara.io
 */

function Ray(origin, direction) {
  this.origin = origin !== undefined ? origin : new Vector3();
  this.direction = direction !== undefined ? direction : new Vector3();
}

Object.assign(Ray.prototype, {
  set: function (origin, direction) {
    this.origin.copy(origin);
    this.direction.copy(direction);
    return this;
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (ray) {
    this.origin.copy(ray.origin);
    this.direction.copy(ray.direction);
    return this;
  },
  at: function (t, target) {
    if (target === undefined) {
      console.warn('THREE.Ray: .at() target is now required');
      target = new Vector3();
    }

    return target.copy(this.direction).multiplyScalar(t).add(this.origin);
  },
  lookAt: function (v) {
    this.direction.copy(v).sub(this.origin).normalize();
    return this;
  },
  recast: function () {
    var v1 = new Vector3();
    return function recast(t) {
      this.origin.copy(this.at(t, v1));
      return this;
    };
  }(),
  closestPointToPoint: function (point, target) {
    if (target === undefined) {
      console.warn('THREE.Ray: .closestPointToPoint() target is now required');
      target = new Vector3();
    }

    target.subVectors(point, this.origin);
    var directionDistance = target.dot(this.direction);

    if (directionDistance < 0) {
      return target.copy(this.origin);
    }

    return target.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);
  },
  distanceToPoint: function (point) {
    return Math.sqrt(this.distanceSqToPoint(point));
  },
  distanceSqToPoint: function () {
    var v1 = new Vector3();
    return function distanceSqToPoint(point) {
      var directionDistance = v1.subVectors(point, this.origin).dot(this.direction); // point behind the ray

      if (directionDistance < 0) {
        return this.origin.distanceToSquared(point);
      }

      v1.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);
      return v1.distanceToSquared(point);
    };
  }(),
  distanceSqToSegment: function () {
    var segCenter = new Vector3();
    var segDir = new Vector3();
    var diff = new Vector3();
    return function distanceSqToSegment(v0, v1, optionalPointOnRay, optionalPointOnSegment) {
      // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h
      // It returns the min distance between the ray and the segment
      // defined by v0 and v1
      // It can also set two optional targets :
      // - The closest point on the ray
      // - The closest point on the segment
      segCenter.copy(v0).add(v1).multiplyScalar(0.5);
      segDir.copy(v1).sub(v0).normalize();
      diff.copy(this.origin).sub(segCenter);
      var segExtent = v0.distanceTo(v1) * 0.5;
      var a01 = -this.direction.dot(segDir);
      var b0 = diff.dot(this.direction);
      var b1 = -diff.dot(segDir);
      var c = diff.lengthSq();
      var det = Math.abs(1 - a01 * a01);
      var s0, s1, sqrDist, extDet;

      if (det > 0) {
        // The ray and segment are not parallel.
        s0 = a01 * b1 - b0;
        s1 = a01 * b0 - b1;
        extDet = segExtent * det;

        if (s0 >= 0) {
          if (s1 >= -extDet) {
            if (s1 <= extDet) {
              // region 0
              // Minimum at interior points of ray and segment.
              var invDet = 1 / det;
              s0 *= invDet;
              s1 *= invDet;
              sqrDist = s0 * (s0 + a01 * s1 + 2 * b0) + s1 * (a01 * s0 + s1 + 2 * b1) + c;
            } else {
              // region 1
              s1 = segExtent;
              s0 = Math.max(0, -(a01 * s1 + b0));
              sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;
            }
          } else {
            // region 5
            s1 = -segExtent;
            s0 = Math.max(0, -(a01 * s1 + b0));
            sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;
          }
        } else {
          if (s1 <= -extDet) {
            // region 4
            s0 = Math.max(0, -(-a01 * segExtent + b0));
            s1 = s0 > 0 ? -segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);
            sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;
          } else if (s1 <= extDet) {
            // region 3
            s0 = 0;
            s1 = Math.min(Math.max(-segExtent, -b1), segExtent);
            sqrDist = s1 * (s1 + 2 * b1) + c;
          } else {
            // region 2
            s0 = Math.max(0, -(a01 * segExtent + b0));
            s1 = s0 > 0 ? segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);
            sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;
          }
        }
      } else {
        // Ray and segment are parallel.
        s1 = a01 > 0 ? -segExtent : segExtent;
        s0 = Math.max(0, -(a01 * s1 + b0));
        sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;
      }

      if (optionalPointOnRay) {
        optionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin);
      }

      if (optionalPointOnSegment) {
        optionalPointOnSegment.copy(segDir).multiplyScalar(s1).add(segCenter);
      }

      return sqrDist;
    };
  }(),
  intersectSphere: function () {
    var v1 = new Vector3();
    return function intersectSphere(sphere, target) {
      v1.subVectors(sphere.center, this.origin);
      var tca = v1.dot(this.direction);
      var d2 = v1.dot(v1) - tca * tca;
      var radius2 = sphere.radius * sphere.radius;
      if (d2 > radius2) return null;
      var thc = Math.sqrt(radius2 - d2); // t0 = first intersect point - entrance on front of sphere

      var t0 = tca - thc; // t1 = second intersect point - exit point on back of sphere

      var t1 = tca + thc; // test to see if both t0 and t1 are behind the ray - if so, return null

      if (t0 < 0 && t1 < 0) return null; // test to see if t0 is behind the ray:
      // if it is, the ray is inside the sphere, so return the second exit point scaled by t1,
      // in order to always return an intersect point that is in front of the ray.

      if (t0 < 0) return this.at(t1, target); // else t0 is in front of the ray, so return the first collision point scaled by t0

      return this.at(t0, target);
    };
  }(),
  intersectsSphere: function (sphere) {
    return this.distanceSqToPoint(sphere.center) <= sphere.radius * sphere.radius;
  },
  distanceToPlane: function (plane) {
    var denominator = plane.normal.dot(this.direction);

    if (denominator === 0) {
      // line is coplanar, return origin
      if (plane.distanceToPoint(this.origin) === 0) {
        return 0;
      } // Null is preferable to undefined since undefined means.... it is undefined


      return null;
    }

    var t = -(this.origin.dot(plane.normal) + plane.constant) / denominator; // Return if the ray never intersects the plane

    return t >= 0 ? t : null;
  },
  intersectPlane: function (plane, target) {
    var t = this.distanceToPlane(plane);

    if (t === null) {
      return null;
    }

    return this.at(t, target);
  },
  intersectsPlane: function (plane) {
    // check if the ray lies on the plane first
    var distToPoint = plane.distanceToPoint(this.origin);

    if (distToPoint === 0) {
      return true;
    }

    var denominator = plane.normal.dot(this.direction);

    if (denominator * distToPoint < 0) {
      return true;
    } // ray origin is behind the plane (and is pointing behind it)


    return false;
  },
  intersectBox: function (box, target) {
    var tmin, tmax, tymin, tymax, tzmin, tzmax;
    var invdirx = 1 / this.direction.x,
        invdiry = 1 / this.direction.y,
        invdirz = 1 / this.direction.z;
    var origin = this.origin;

    if (invdirx >= 0) {
      tmin = (box.min.x - origin.x) * invdirx;
      tmax = (box.max.x - origin.x) * invdirx;
    } else {
      tmin = (box.max.x - origin.x) * invdirx;
      tmax = (box.min.x - origin.x) * invdirx;
    }

    if (invdiry >= 0) {
      tymin = (box.min.y - origin.y) * invdiry;
      tymax = (box.max.y - origin.y) * invdiry;
    } else {
      tymin = (box.max.y - origin.y) * invdiry;
      tymax = (box.min.y - origin.y) * invdiry;
    }

    if (tmin > tymax || tymin > tmax) return null; // These lines also handle the case where tmin or tmax is NaN
    // (result of 0 * Infinity). x !== x returns true if x is NaN

    if (tymin > tmin || tmin !== tmin) tmin = tymin;
    if (tymax < tmax || tmax !== tmax) tmax = tymax;

    if (invdirz >= 0) {
      tzmin = (box.min.z - origin.z) * invdirz;
      tzmax = (box.max.z - origin.z) * invdirz;
    } else {
      tzmin = (box.max.z - origin.z) * invdirz;
      tzmax = (box.min.z - origin.z) * invdirz;
    }

    if (tmin > tzmax || tzmin > tmax) return null;
    if (tzmin > tmin || tmin !== tmin) tmin = tzmin;
    if (tzmax < tmax || tmax !== tmax) tmax = tzmax; //return point closest to the ray (positive side)

    if (tmax < 0) return null;
    return this.at(tmin >= 0 ? tmin : tmax, target);
  },
  intersectsBox: function () {
    var v = new Vector3();
    return function intersectsBox(box) {
      return this.intersectBox(box, v) !== null;
    };
  }(),
  intersectTriangle: function () {
    // Compute the offset origin, edges, and normal.
    var diff = new Vector3();
    var edge1 = new Vector3();
    var edge2 = new Vector3();
    var normal = new Vector3();
    return function intersectTriangle(a, b, c, backfaceCulling, target) {
      // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h
      edge1.subVectors(b, a);
      edge2.subVectors(c, a);
      normal.crossVectors(edge1, edge2); // Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,
      // E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by
      //   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))
      //   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))
      //   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)

      var DdN = this.direction.dot(normal);
      var sign;

      if (DdN > 0) {
        if (backfaceCulling) return null;
        sign = 1;
      } else if (DdN < 0) {
        sign = -1;
        DdN = -DdN;
      } else {
        return null;
      }

      diff.subVectors(this.origin, a);
      var DdQxE2 = sign * this.direction.dot(edge2.crossVectors(diff, edge2)); // b1 < 0, no intersection

      if (DdQxE2 < 0) {
        return null;
      }

      var DdE1xQ = sign * this.direction.dot(edge1.cross(diff)); // b2 < 0, no intersection

      if (DdE1xQ < 0) {
        return null;
      } // b1+b2 > 1, no intersection


      if (DdQxE2 + DdE1xQ > DdN) {
        return null;
      } // Line intersects triangle, check if ray does.


      var QdN = -sign * diff.dot(normal); // t < 0, no intersection

      if (QdN < 0) {
        return null;
      } // Ray intersects triangle.


      return this.at(QdN / DdN, target);
    };
  }(),
  applyMatrix4: function (matrix4) {
    this.origin.applyMatrix4(matrix4);
    this.direction.transformDirection(matrix4);
    return this;
  },
  equals: function (ray) {
    return ray.origin.equals(this.origin) && ray.direction.equals(this.direction);
  }
});
/**
 * @author bhouston / http://clara.io
 * @author mrdoob / http://mrdoob.com/
 */

function Triangle(a, b, c) {
  this.a = a !== undefined ? a : new Vector3();
  this.b = b !== undefined ? b : new Vector3();
  this.c = c !== undefined ? c : new Vector3();
}

Object.assign(Triangle, {
  getNormal: function () {
    var v0 = new Vector3();
    return function getNormal(a, b, c, target) {
      if (target === undefined) {
        console.warn('THREE.Triangle: .getNormal() target is now required');
        target = new Vector3();
      }

      target.subVectors(c, b);
      v0.subVectors(a, b);
      target.cross(v0);
      var targetLengthSq = target.lengthSq();

      if (targetLengthSq > 0) {
        return target.multiplyScalar(1 / Math.sqrt(targetLengthSq));
      }

      return target.set(0, 0, 0);
    };
  }(),
  // static/instance method to calculate barycentric coordinates
  // based on: http://www.blackpawn.com/texts/pointinpoly/default.html
  getBarycoord: function () {
    var v0 = new Vector3();
    var v1 = new Vector3();
    var v2 = new Vector3();
    return function getBarycoord(point, a, b, c, target) {
      v0.subVectors(c, a);
      v1.subVectors(b, a);
      v2.subVectors(point, a);
      var dot00 = v0.dot(v0);
      var dot01 = v0.dot(v1);
      var dot02 = v0.dot(v2);
      var dot11 = v1.dot(v1);
      var dot12 = v1.dot(v2);
      var denom = dot00 * dot11 - dot01 * dot01;

      if (target === undefined) {
        console.warn('THREE.Triangle: .getBarycoord() target is now required');
        target = new Vector3();
      } // collinear or singular triangle


      if (denom === 0) {
        // arbitrary location outside of triangle?
        // not sure if this is the best idea, maybe should be returning undefined
        return target.set(-2, -1, -1);
      }

      var invDenom = 1 / denom;
      var u = (dot11 * dot02 - dot01 * dot12) * invDenom;
      var v = (dot00 * dot12 - dot01 * dot02) * invDenom; // barycentric coordinates must always sum to 1

      return target.set(1 - u - v, v, u);
    };
  }(),
  containsPoint: function () {
    var v1 = new Vector3();
    return function containsPoint(point, a, b, c) {
      Triangle.getBarycoord(point, a, b, c, v1);
      return v1.x >= 0 && v1.y >= 0 && v1.x + v1.y <= 1;
    };
  }(),
  getUV: function () {
    var barycoord = new Vector3();
    return function getUV(point, p1, p2, p3, uv1, uv2, uv3, target) {
      this.getBarycoord(point, p1, p2, p3, barycoord);
      target.set(0, 0);
      target.addScaledVector(uv1, barycoord.x);
      target.addScaledVector(uv2, barycoord.y);
      target.addScaledVector(uv3, barycoord.z);
      return target;
    };
  }(),
  isFrontFacing: function () {
    var v0 = new Vector3();
    var v1 = new Vector3();
    return function isFrontFacing(a, b, c, direction) {
      v0.subVectors(c, b);
      v1.subVectors(a, b); // strictly front facing

      return v0.cross(v1).dot(direction) < 0 ? true : false;
    };
  }()
});
Object.assign(Triangle.prototype, {
  set: function (a, b, c) {
    this.a.copy(a);
    this.b.copy(b);
    this.c.copy(c);
    return this;
  },
  setFromPointsAndIndices: function (points, i0, i1, i2) {
    this.a.copy(points[i0]);
    this.b.copy(points[i1]);
    this.c.copy(points[i2]);
    return this;
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (triangle) {
    this.a.copy(triangle.a);
    this.b.copy(triangle.b);
    this.c.copy(triangle.c);
    return this;
  },
  getArea: function () {
    var v0 = new Vector3();
    var v1 = new Vector3();
    return function getArea() {
      v0.subVectors(this.c, this.b);
      v1.subVectors(this.a, this.b);
      return v0.cross(v1).length() * 0.5;
    };
  }(),
  getMidpoint: function (target) {
    if (target === undefined) {
      console.warn('THREE.Triangle: .getMidpoint() target is now required');
      target = new Vector3();
    }

    return target.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3);
  },
  getNormal: function (target) {
    return Triangle.getNormal(this.a, this.b, this.c, target);
  },
  getPlane: function (target) {
    if (target === undefined) {
      console.warn('THREE.Triangle: .getPlane() target is now required');
      target = new Vector3();
    }

    return target.setFromCoplanarPoints(this.a, this.b, this.c);
  },
  getBarycoord: function (point, target) {
    return Triangle.getBarycoord(point, this.a, this.b, this.c, target);
  },
  getUV: function (point, uv1, uv2, uv3, target) {
    return Triangle.getUV(point, this.a, this.b, this.c, uv1, uv2, uv3, target);
  },
  containsPoint: function (point) {
    return Triangle.containsPoint(point, this.a, this.b, this.c);
  },
  isFrontFacing: function (direction) {
    return Triangle.isFrontFacing(this.a, this.b, this.c, direction);
  },
  intersectsBox: function (box) {
    return box.intersectsTriangle(this);
  },
  closestPointToPoint: function () {
    var vab = new Vector3();
    var vac = new Vector3();
    var vbc = new Vector3();
    var vap = new Vector3();
    var vbp = new Vector3();
    var vcp = new Vector3();
    return function closestPointToPoint(p, target) {
      if (target === undefined) {
        console.warn('THREE.Triangle: .closestPointToPoint() target is now required');
        target = new Vector3();
      }

      var a = this.a,
          b = this.b,
          c = this.c;
      var v, w; // algorithm thanks to Real-Time Collision Detection by Christer Ericson,
      // published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,
      // under the accompanying license; see chapter 5.1.5 for detailed explanation.
      // basically, we're distinguishing which of the voronoi regions of the triangle
      // the point lies in with the minimum amount of redundant computation.

      vab.subVectors(b, a);
      vac.subVectors(c, a);
      vap.subVectors(p, a);
      var d1 = vab.dot(vap);
      var d2 = vac.dot(vap);

      if (d1 <= 0 && d2 <= 0) {
        // vertex region of A; barycentric coords (1, 0, 0)
        return target.copy(a);
      }

      vbp.subVectors(p, b);
      var d3 = vab.dot(vbp);
      var d4 = vac.dot(vbp);

      if (d3 >= 0 && d4 <= d3) {
        // vertex region of B; barycentric coords (0, 1, 0)
        return target.copy(b);
      }

      var vc = d1 * d4 - d3 * d2;

      if (vc <= 0 && d1 >= 0 && d3 <= 0) {
        v = d1 / (d1 - d3); // edge region of AB; barycentric coords (1-v, v, 0)

        return target.copy(a).addScaledVector(vab, v);
      }

      vcp.subVectors(p, c);
      var d5 = vab.dot(vcp);
      var d6 = vac.dot(vcp);

      if (d6 >= 0 && d5 <= d6) {
        // vertex region of C; barycentric coords (0, 0, 1)
        return target.copy(c);
      }

      var vb = d5 * d2 - d1 * d6;

      if (vb <= 0 && d2 >= 0 && d6 <= 0) {
        w = d2 / (d2 - d6); // edge region of AC; barycentric coords (1-w, 0, w)

        return target.copy(a).addScaledVector(vac, w);
      }

      var va = d3 * d6 - d5 * d4;

      if (va <= 0 && d4 - d3 >= 0 && d5 - d6 >= 0) {
        vbc.subVectors(c, b);
        w = (d4 - d3) / (d4 - d3 + (d5 - d6)); // edge region of BC; barycentric coords (0, 1-w, w)

        return target.copy(b).addScaledVector(vbc, w); // edge region of BC
      } // face region


      var denom = 1 / (va + vb + vc); // u = va * denom

      v = vb * denom;
      w = vc * denom;
      return target.copy(a).addScaledVector(vab, v).addScaledVector(vac, w);
    };
  }(),
  equals: function (triangle) {
    return triangle.a.equals(this.a) && triangle.b.equals(this.b) && triangle.c.equals(this.c);
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

var ColorKeywords = {
  'aliceblue': 0xF0F8FF,
  'antiquewhite': 0xFAEBD7,
  'aqua': 0x00FFFF,
  'aquamarine': 0x7FFFD4,
  'azure': 0xF0FFFF,
  'beige': 0xF5F5DC,
  'bisque': 0xFFE4C4,
  'black': 0x000000,
  'blanchedalmond': 0xFFEBCD,
  'blue': 0x0000FF,
  'blueviolet': 0x8A2BE2,
  'brown': 0xA52A2A,
  'burlywood': 0xDEB887,
  'cadetblue': 0x5F9EA0,
  'chartreuse': 0x7FFF00,
  'chocolate': 0xD2691E,
  'coral': 0xFF7F50,
  'cornflowerblue': 0x6495ED,
  'cornsilk': 0xFFF8DC,
  'crimson': 0xDC143C,
  'cyan': 0x00FFFF,
  'darkblue': 0x00008B,
  'darkcyan': 0x008B8B,
  'darkgoldenrod': 0xB8860B,
  'darkgray': 0xA9A9A9,
  'darkgreen': 0x006400,
  'darkgrey': 0xA9A9A9,
  'darkkhaki': 0xBDB76B,
  'darkmagenta': 0x8B008B,
  'darkolivegreen': 0x556B2F,
  'darkorange': 0xFF8C00,
  'darkorchid': 0x9932CC,
  'darkred': 0x8B0000,
  'darksalmon': 0xE9967A,
  'darkseagreen': 0x8FBC8F,
  'darkslateblue': 0x483D8B,
  'darkslategray': 0x2F4F4F,
  'darkslategrey': 0x2F4F4F,
  'darkturquoise': 0x00CED1,
  'darkviolet': 0x9400D3,
  'deeppink': 0xFF1493,
  'deepskyblue': 0x00BFFF,
  'dimgray': 0x696969,
  'dimgrey': 0x696969,
  'dodgerblue': 0x1E90FF,
  'firebrick': 0xB22222,
  'floralwhite': 0xFFFAF0,
  'forestgreen': 0x228B22,
  'fuchsia': 0xFF00FF,
  'gainsboro': 0xDCDCDC,
  'ghostwhite': 0xF8F8FF,
  'gold': 0xFFD700,
  'goldenrod': 0xDAA520,
  'gray': 0x808080,
  'green': 0x008000,
  'greenyellow': 0xADFF2F,
  'grey': 0x808080,
  'honeydew': 0xF0FFF0,
  'hotpink': 0xFF69B4,
  'indianred': 0xCD5C5C,
  'indigo': 0x4B0082,
  'ivory': 0xFFFFF0,
  'khaki': 0xF0E68C,
  'lavender': 0xE6E6FA,
  'lavenderblush': 0xFFF0F5,
  'lawngreen': 0x7CFC00,
  'lemonchiffon': 0xFFFACD,
  'lightblue': 0xADD8E6,
  'lightcoral': 0xF08080,
  'lightcyan': 0xE0FFFF,
  'lightgoldenrodyellow': 0xFAFAD2,
  'lightgray': 0xD3D3D3,
  'lightgreen': 0x90EE90,
  'lightgrey': 0xD3D3D3,
  'lightpink': 0xFFB6C1,
  'lightsalmon': 0xFFA07A,
  'lightseagreen': 0x20B2AA,
  'lightskyblue': 0x87CEFA,
  'lightslategray': 0x778899,
  'lightslategrey': 0x778899,
  'lightsteelblue': 0xB0C4DE,
  'lightyellow': 0xFFFFE0,
  'lime': 0x00FF00,
  'limegreen': 0x32CD32,
  'linen': 0xFAF0E6,
  'magenta': 0xFF00FF,
  'maroon': 0x800000,
  'mediumaquamarine': 0x66CDAA,
  'mediumblue': 0x0000CD,
  'mediumorchid': 0xBA55D3,
  'mediumpurple': 0x9370DB,
  'mediumseagreen': 0x3CB371,
  'mediumslateblue': 0x7B68EE,
  'mediumspringgreen': 0x00FA9A,
  'mediumturquoise': 0x48D1CC,
  'mediumvioletred': 0xC71585,
  'midnightblue': 0x191970,
  'mintcream': 0xF5FFFA,
  'mistyrose': 0xFFE4E1,
  'moccasin': 0xFFE4B5,
  'navajowhite': 0xFFDEAD,
  'navy': 0x000080,
  'oldlace': 0xFDF5E6,
  'olive': 0x808000,
  'olivedrab': 0x6B8E23,
  'orange': 0xFFA500,
  'orangered': 0xFF4500,
  'orchid': 0xDA70D6,
  'palegoldenrod': 0xEEE8AA,
  'palegreen': 0x98FB98,
  'paleturquoise': 0xAFEEEE,
  'palevioletred': 0xDB7093,
  'papayawhip': 0xFFEFD5,
  'peachpuff': 0xFFDAB9,
  'peru': 0xCD853F,
  'pink': 0xFFC0CB,
  'plum': 0xDDA0DD,
  'powderblue': 0xB0E0E6,
  'purple': 0x800080,
  'rebeccapurple': 0x663399,
  'red': 0xFF0000,
  'rosybrown': 0xBC8F8F,
  'royalblue': 0x4169E1,
  'saddlebrown': 0x8B4513,
  'salmon': 0xFA8072,
  'sandybrown': 0xF4A460,
  'seagreen': 0x2E8B57,
  'seashell': 0xFFF5EE,
  'sienna': 0xA0522D,
  'silver': 0xC0C0C0,
  'skyblue': 0x87CEEB,
  'slateblue': 0x6A5ACD,
  'slategray': 0x708090,
  'slategrey': 0x708090,
  'snow': 0xFFFAFA,
  'springgreen': 0x00FF7F,
  'steelblue': 0x4682B4,
  'tan': 0xD2B48C,
  'teal': 0x008080,
  'thistle': 0xD8BFD8,
  'tomato': 0xFF6347,
  'turquoise': 0x40E0D0,
  'violet': 0xEE82EE,
  'wheat': 0xF5DEB3,
  'white': 0xFFFFFF,
  'whitesmoke': 0xF5F5F5,
  'yellow': 0xFFFF00,
  'yellowgreen': 0x9ACD32
};

function Color(r, g, b) {
  if (g === undefined && b === undefined) {
    // r is THREE.Color, hex or string
    return this.set(r);
  }

  return this.setRGB(r, g, b);
}

function hue2rgb(p, q, t) {
  if (t < 0) t += 1;
  if (t > 1) t -= 1;
  if (t < 1 / 6) return p + (q - p) * 6 * t;
  if (t < 1 / 2) return q;
  if (t < 2 / 3) return p + (q - p) * 6 * (2 / 3 - t);
  return p;
}

function SRGBToLinear(c) {
  return c < 0.04045 ? c * 0.0773993808 : Math.pow(c * 0.9478672986 + 0.0521327014, 2.4);
}

function LinearToSRGB(c) {
  return c < 0.0031308 ? c * 12.92 : 1.055 * Math.pow(c, 0.41666) - 0.055;
}

Object.assign(Color.prototype, {
  isColor: true,
  r: 1,
  g: 1,
  b: 1,
  set: function (value) {
    if (value && value.isColor) {
      this.copy(value);
    } else if (typeof value === 'number') {
      this.setHex(value);
    } else if (typeof value === 'string') {
      this.setStyle(value);
    }

    return this;
  },
  setScalar: function (scalar) {
    this.r = scalar;
    this.g = scalar;
    this.b = scalar;
    return this;
  },
  setHex: function (hex) {
    hex = Math.floor(hex);
    this.r = (hex >> 16 & 255) / 255;
    this.g = (hex >> 8 & 255) / 255;
    this.b = (hex & 255) / 255;
    return this;
  },
  setRGB: function (r, g, b) {
    this.r = r;
    this.g = g;
    this.b = b;
    return this;
  },
  setHSL: function (h, s, l) {
    // h,s,l ranges are in 0.0 - 1.0
    h = _Math.euclideanModulo(h, 1);
    s = _Math.clamp(s, 0, 1);
    l = _Math.clamp(l, 0, 1);

    if (s === 0) {
      this.r = this.g = this.b = l;
    } else {
      var p = l <= 0.5 ? l * (1 + s) : l + s - l * s;
      var q = 2 * l - p;
      this.r = hue2rgb(q, p, h + 1 / 3);
      this.g = hue2rgb(q, p, h);
      this.b = hue2rgb(q, p, h - 1 / 3);
    }

    return this;
  },
  setStyle: function (style) {
    function handleAlpha(string) {
      if (string === undefined) return;

      if (parseFloat(string) < 1) {
        console.warn('THREE.Color: Alpha component of ' + style + ' will be ignored.');
      }
    }

    var m;

    if (m = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(style)) {
      // rgb / hsl
      var color;
      var name = m[1];
      var components = m[2];

      switch (name) {
        case 'rgb':
        case 'rgba':
          if (color = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(components)) {
            // rgb(255,0,0) rgba(255,0,0,0.5)
            this.r = Math.min(255, parseInt(color[1], 10)) / 255;
            this.g = Math.min(255, parseInt(color[2], 10)) / 255;
            this.b = Math.min(255, parseInt(color[3], 10)) / 255;
            handleAlpha(color[5]);
            return this;
          }

          if (color = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(components)) {
            // rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)
            this.r = Math.min(100, parseInt(color[1], 10)) / 100;
            this.g = Math.min(100, parseInt(color[2], 10)) / 100;
            this.b = Math.min(100, parseInt(color[3], 10)) / 100;
            handleAlpha(color[5]);
            return this;
          }

          break;

        case 'hsl':
        case 'hsla':
          if (color = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(components)) {
            // hsl(120,50%,50%) hsla(120,50%,50%,0.5)
            var h = parseFloat(color[1]) / 360;
            var s = parseInt(color[2], 10) / 100;
            var l = parseInt(color[3], 10) / 100;
            handleAlpha(color[5]);
            return this.setHSL(h, s, l);
          }

          break;
      }
    } else if (m = /^\#([A-Fa-f0-9]+)$/.exec(style)) {
      // hex color
      var hex = m[1];
      var size = hex.length;

      if (size === 3) {
        // #ff0
        this.r = parseInt(hex.charAt(0) + hex.charAt(0), 16) / 255;
        this.g = parseInt(hex.charAt(1) + hex.charAt(1), 16) / 255;
        this.b = parseInt(hex.charAt(2) + hex.charAt(2), 16) / 255;
        return this;
      } else if (size === 6) {
        // #ff0000
        this.r = parseInt(hex.charAt(0) + hex.charAt(1), 16) / 255;
        this.g = parseInt(hex.charAt(2) + hex.charAt(3), 16) / 255;
        this.b = parseInt(hex.charAt(4) + hex.charAt(5), 16) / 255;
        return this;
      }
    }

    if (style && style.length > 0) {
      // color keywords
      var hex = ColorKeywords[style];

      if (hex !== undefined) {
        // red
        this.setHex(hex);
      } else {
        // unknown color
        console.warn('THREE.Color: Unknown color ' + style);
      }
    }

    return this;
  },
  clone: function () {
    return new this.constructor(this.r, this.g, this.b);
  },
  copy: function (color) {
    this.r = color.r;
    this.g = color.g;
    this.b = color.b;
    return this;
  },
  copyGammaToLinear: function (color, gammaFactor) {
    if (gammaFactor === undefined) gammaFactor = 2.0;
    this.r = Math.pow(color.r, gammaFactor);
    this.g = Math.pow(color.g, gammaFactor);
    this.b = Math.pow(color.b, gammaFactor);
    return this;
  },
  copyLinearToGamma: function (color, gammaFactor) {
    if (gammaFactor === undefined) gammaFactor = 2.0;
    var safeInverse = gammaFactor > 0 ? 1.0 / gammaFactor : 1.0;
    this.r = Math.pow(color.r, safeInverse);
    this.g = Math.pow(color.g, safeInverse);
    this.b = Math.pow(color.b, safeInverse);
    return this;
  },
  convertGammaToLinear: function (gammaFactor) {
    this.copyGammaToLinear(this, gammaFactor);
    return this;
  },
  convertLinearToGamma: function (gammaFactor) {
    this.copyLinearToGamma(this, gammaFactor);
    return this;
  },
  copySRGBToLinear: function (color) {
    this.r = SRGBToLinear(color.r);
    this.g = SRGBToLinear(color.g);
    this.b = SRGBToLinear(color.b);
    return this;
  },
  copyLinearToSRGB: function (color) {
    this.r = LinearToSRGB(color.r);
    this.g = LinearToSRGB(color.g);
    this.b = LinearToSRGB(color.b);
    return this;
  },
  convertSRGBToLinear: function () {
    this.copySRGBToLinear(this);
    return this;
  },
  convertLinearToSRGB: function () {
    this.copyLinearToSRGB(this);
    return this;
  },
  getHex: function () {
    return this.r * 255 << 16 ^ this.g * 255 << 8 ^ this.b * 255 << 0;
  },
  getHexString: function () {
    return ('000000' + this.getHex().toString(16)).slice(-6);
  },
  getHSL: function (target) {
    // h,s,l ranges are in 0.0 - 1.0
    if (target === undefined) {
      console.warn('THREE.Color: .getHSL() target is now required');
      target = {
        h: 0,
        s: 0,
        l: 0
      };
    }

    var r = this.r,
        g = this.g,
        b = this.b;
    var max = Math.max(r, g, b);
    var min = Math.min(r, g, b);
    var hue, saturation;
    var lightness = (min + max) / 2.0;

    if (min === max) {
      hue = 0;
      saturation = 0;
    } else {
      var delta = max - min;
      saturation = lightness <= 0.5 ? delta / (max + min) : delta / (2 - max - min);

      switch (max) {
        case r:
          hue = (g - b) / delta + (g < b ? 6 : 0);
          break;

        case g:
          hue = (b - r) / delta + 2;
          break;

        case b:
          hue = (r - g) / delta + 4;
          break;
      }

      hue /= 6;
    }

    target.h = hue;
    target.s = saturation;
    target.l = lightness;
    return target;
  },
  getStyle: function () {
    return 'rgb(' + (this.r * 255 | 0) + ',' + (this.g * 255 | 0) + ',' + (this.b * 255 | 0) + ')';
  },
  offsetHSL: function () {
    var hsl = {};
    return function (h, s, l) {
      this.getHSL(hsl);
      hsl.h += h;
      hsl.s += s;
      hsl.l += l;
      this.setHSL(hsl.h, hsl.s, hsl.l);
      return this;
    };
  }(),
  add: function (color) {
    this.r += color.r;
    this.g += color.g;
    this.b += color.b;
    return this;
  },
  addColors: function (color1, color2) {
    this.r = color1.r + color2.r;
    this.g = color1.g + color2.g;
    this.b = color1.b + color2.b;
    return this;
  },
  addScalar: function (s) {
    this.r += s;
    this.g += s;
    this.b += s;
    return this;
  },
  sub: function (color) {
    this.r = Math.max(0, this.r - color.r);
    this.g = Math.max(0, this.g - color.g);
    this.b = Math.max(0, this.b - color.b);
    return this;
  },
  multiply: function (color) {
    this.r *= color.r;
    this.g *= color.g;
    this.b *= color.b;
    return this;
  },
  multiplyScalar: function (s) {
    this.r *= s;
    this.g *= s;
    this.b *= s;
    return this;
  },
  lerp: function (color, alpha) {
    this.r += (color.r - this.r) * alpha;
    this.g += (color.g - this.g) * alpha;
    this.b += (color.b - this.b) * alpha;
    return this;
  },
  lerpHSL: function () {
    var hslA = {
      h: 0,
      s: 0,
      l: 0
    };
    var hslB = {
      h: 0,
      s: 0,
      l: 0
    };
    return function lerpHSL(color, alpha) {
      this.getHSL(hslA);
      color.getHSL(hslB);

      var h = _Math.lerp(hslA.h, hslB.h, alpha);

      var s = _Math.lerp(hslA.s, hslB.s, alpha);

      var l = _Math.lerp(hslA.l, hslB.l, alpha);

      this.setHSL(h, s, l);
      return this;
    };
  }(),
  equals: function (c) {
    return c.r === this.r && c.g === this.g && c.b === this.b;
  },
  fromArray: function (array, offset) {
    if (offset === undefined) offset = 0;
    this.r = array[offset];
    this.g = array[offset + 1];
    this.b = array[offset + 2];
    return this;
  },
  toArray: function (array, offset) {
    if (array === undefined) array = [];
    if (offset === undefined) offset = 0;
    array[offset] = this.r;
    array[offset + 1] = this.g;
    array[offset + 2] = this.b;
    return array;
  },
  toJSON: function () {
    return this.getHex();
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 */

function Face3(a, b, c, normal, color, materialIndex) {
  this.a = a;
  this.b = b;
  this.c = c;
  this.normal = normal && normal.isVector3 ? normal : new Vector3();
  this.vertexNormals = Array.isArray(normal) ? normal : [];
  this.color = color && color.isColor ? color : new Color();
  this.vertexColors = Array.isArray(color) ? color : [];
  this.materialIndex = materialIndex !== undefined ? materialIndex : 0;
}

Object.assign(Face3.prototype, {
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (source) {
    this.a = source.a;
    this.b = source.b;
    this.c = source.c;
    this.normal.copy(source.normal);
    this.color.copy(source.color);
    this.materialIndex = source.materialIndex;

    for (var i = 0, il = source.vertexNormals.length; i < il; i++) {
      this.vertexNormals[i] = source.vertexNormals[i].clone();
    }

    for (var i = 0, il = source.vertexColors.length; i < il; i++) {
      this.vertexColors[i] = source.vertexColors[i].clone();
    }

    return this;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 */

var materialId = 0;

function Material() {
  Object.defineProperty(this, 'id', {
    value: materialId++
  });
  this.uuid = _Math.generateUUID();
  this.name = '';
  this.type = 'Material';
  this.fog = true;
  this.lights = true;
  this.blending = NormalBlending;
  this.side = FrontSide;
  this.flatShading = false;
  this.vertexTangents = false;
  this.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors

  this.opacity = 1;
  this.transparent = false;
  this.blendSrc = SrcAlphaFactor;
  this.blendDst = OneMinusSrcAlphaFactor;
  this.blendEquation = AddEquation;
  this.blendSrcAlpha = null;
  this.blendDstAlpha = null;
  this.blendEquationAlpha = null;
  this.depthFunc = LessEqualDepth;
  this.depthTest = true;
  this.depthWrite = true;
  this.stencilFunc = AlwaysStencilFunc;
  this.stencilRef = 0;
  this.stencilMask = 0xff;
  this.stencilFail = KeepStencilOp;
  this.stencilZFail = KeepStencilOp;
  this.stencilZPass = KeepStencilOp;
  this.stencilWrite = false;
  this.clippingPlanes = null;
  this.clipIntersection = false;
  this.clipShadows = false;
  this.shadowSide = null;
  this.colorWrite = true;
  this.precision = null; // override the renderer's default precision for this material

  this.polygonOffset = false;
  this.polygonOffsetFactor = 0;
  this.polygonOffsetUnits = 0;
  this.dithering = false;
  this.alphaTest = 0;
  this.premultipliedAlpha = false;
  this.visible = true;
  this.userData = {};
  this.needsUpdate = true;
}

Material.prototype = Object.assign(Object.create(EventDispatcher.prototype), {
  constructor: Material,
  isMaterial: true,
  onBeforeCompile: function () {},
  setValues: function (values) {
    if (values === undefined) return;

    for (var key in values) {
      var newValue = values[key];

      if (newValue === undefined) {
        console.warn("THREE.Material: '" + key + "' parameter is undefined.");
        continue;
      } // for backward compatability if shading is set in the constructor


      if (key === 'shading') {
        console.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');
        this.flatShading = newValue === FlatShading ? true : false;
        continue;
      }

      var currentValue = this[key];

      if (currentValue === undefined) {
        console.warn("THREE." + this.type + ": '" + key + "' is not a property of this material.");
        continue;
      }

      if (currentValue && currentValue.isColor) {
        currentValue.set(newValue);
      } else if (currentValue && currentValue.isVector3 && newValue && newValue.isVector3) {
        currentValue.copy(newValue);
      } else {
        this[key] = newValue;
      }
    }
  },
  toJSON: function (meta) {
    var isRoot = meta === undefined || typeof meta === 'string';

    if (isRoot) {
      meta = {
        textures: {},
        images: {}
      };
    }

    var data = {
      metadata: {
        version: 4.5,
        type: 'Material',
        generator: 'Material.toJSON'
      }
    }; // standard Material serialization

    data.uuid = this.uuid;
    data.type = this.type;
    if (this.name !== '') data.name = this.name;
    if (this.color && this.color.isColor) data.color = this.color.getHex();
    if (this.roughness !== undefined) data.roughness = this.roughness;
    if (this.metalness !== undefined) data.metalness = this.metalness;
    if (this.emissive && this.emissive.isColor) data.emissive = this.emissive.getHex();
    if (this.emissiveIntensity && this.emissiveIntensity !== 1) data.emissiveIntensity = this.emissiveIntensity;
    if (this.specular && this.specular.isColor) data.specular = this.specular.getHex();
    if (this.shininess !== undefined) data.shininess = this.shininess;
    if (this.clearCoat !== undefined) data.clearCoat = this.clearCoat;
    if (this.clearCoatRoughness !== undefined) data.clearCoatRoughness = this.clearCoatRoughness;
    if (this.map && this.map.isTexture) data.map = this.map.toJSON(meta).uuid;
    if (this.matcap && this.matcap.isTexture) data.matcap = this.matcap.toJSON(meta).uuid;
    if (this.alphaMap && this.alphaMap.isTexture) data.alphaMap = this.alphaMap.toJSON(meta).uuid;
    if (this.lightMap && this.lightMap.isTexture) data.lightMap = this.lightMap.toJSON(meta).uuid;

    if (this.aoMap && this.aoMap.isTexture) {
      data.aoMap = this.aoMap.toJSON(meta).uuid;
      data.aoMapIntensity = this.aoMapIntensity;
    }

    if (this.bumpMap && this.bumpMap.isTexture) {
      data.bumpMap = this.bumpMap.toJSON(meta).uuid;
      data.bumpScale = this.bumpScale;
    }

    if (this.normalMap && this.normalMap.isTexture) {
      data.normalMap = this.normalMap.toJSON(meta).uuid;
      data.normalMapType = this.normalMapType;
      data.normalScale = this.normalScale.toArray();
    }

    if (this.displacementMap && this.displacementMap.isTexture) {
      data.displacementMap = this.displacementMap.toJSON(meta).uuid;
      data.displacementScale = this.displacementScale;
      data.displacementBias = this.displacementBias;
    }

    if (this.roughnessMap && this.roughnessMap.isTexture) data.roughnessMap = this.roughnessMap.toJSON(meta).uuid;
    if (this.metalnessMap && this.metalnessMap.isTexture) data.metalnessMap = this.metalnessMap.toJSON(meta).uuid;
    if (this.emissiveMap && this.emissiveMap.isTexture) data.emissiveMap = this.emissiveMap.toJSON(meta).uuid;
    if (this.specularMap && this.specularMap.isTexture) data.specularMap = this.specularMap.toJSON(meta).uuid;

    if (this.envMap && this.envMap.isTexture) {
      data.envMap = this.envMap.toJSON(meta).uuid;
      data.reflectivity = this.reflectivity; // Scale behind envMap

      data.refractionRatio = this.refractionRatio;
      if (this.combine !== undefined) data.combine = this.combine;
      if (this.envMapIntensity !== undefined) data.envMapIntensity = this.envMapIntensity;
    }

    if (this.gradientMap && this.gradientMap.isTexture) {
      data.gradientMap = this.gradientMap.toJSON(meta).uuid;
    }

    if (this.size !== undefined) data.size = this.size;
    if (this.sizeAttenuation !== undefined) data.sizeAttenuation = this.sizeAttenuation;
    if (this.blending !== NormalBlending) data.blending = this.blending;
    if (this.flatShading === true) data.flatShading = this.flatShading;
    if (this.side !== FrontSide) data.side = this.side;
    if (this.vertexColors !== NoColors) data.vertexColors = this.vertexColors;
    if (this.opacity < 1) data.opacity = this.opacity;
    if (this.transparent === true) data.transparent = this.transparent;
    data.depthFunc = this.depthFunc;
    data.depthTest = this.depthTest;
    data.depthWrite = this.depthWrite;
    data.stencilWrite = this.stencilWrite;
    data.stencilFunc = this.stencilFunc;
    data.stencilRef = this.stencilRef;
    data.stencilMask = this.stencilMask;
    data.stencilFail = this.stencilFail;
    data.stencilZFail = this.stencilZFail;
    data.stencilZPass = this.stencilZPass; // rotation (SpriteMaterial)

    if (this.rotation && this.rotation !== 0) data.rotation = this.rotation;
    if (this.polygonOffset === true) data.polygonOffset = true;
    if (this.polygonOffsetFactor !== 0) data.polygonOffsetFactor = this.polygonOffsetFactor;
    if (this.polygonOffsetUnits !== 0) data.polygonOffsetUnits = this.polygonOffsetUnits;
    if (this.linewidth && this.linewidth !== 1) data.linewidth = this.linewidth;
    if (this.dashSize !== undefined) data.dashSize = this.dashSize;
    if (this.gapSize !== undefined) data.gapSize = this.gapSize;
    if (this.scale !== undefined) data.scale = this.scale;
    if (this.dithering === true) data.dithering = true;
    if (this.alphaTest > 0) data.alphaTest = this.alphaTest;
    if (this.premultipliedAlpha === true) data.premultipliedAlpha = this.premultipliedAlpha;
    if (this.wireframe === true) data.wireframe = this.wireframe;
    if (this.wireframeLinewidth > 1) data.wireframeLinewidth = this.wireframeLinewidth;
    if (this.wireframeLinecap !== 'round') data.wireframeLinecap = this.wireframeLinecap;
    if (this.wireframeLinejoin !== 'round') data.wireframeLinejoin = this.wireframeLinejoin;
    if (this.morphTargets === true) data.morphTargets = true;
    if (this.morphNormals === true) data.morphNormals = true;
    if (this.skinning === true) data.skinning = true;
    if (this.visible === false) data.visible = false;
    if (JSON.stringify(this.userData) !== '{}') data.userData = this.userData; // TODO: Copied from Object3D.toJSON

    function extractFromCache(cache) {
      var values = [];

      for (var key in cache) {
        var data = cache[key];
        delete data.metadata;
        values.push(data);
      }

      return values;
    }

    if (isRoot) {
      var textures = extractFromCache(meta.textures);
      var images = extractFromCache(meta.images);
      if (textures.length > 0) data.textures = textures;
      if (images.length > 0) data.images = images;
    }

    return data;
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (source) {
    this.name = source.name;
    this.fog = source.fog;
    this.lights = source.lights;
    this.blending = source.blending;
    this.side = source.side;
    this.flatShading = source.flatShading;
    this.vertexColors = source.vertexColors;
    this.opacity = source.opacity;
    this.transparent = source.transparent;
    this.blendSrc = source.blendSrc;
    this.blendDst = source.blendDst;
    this.blendEquation = source.blendEquation;
    this.blendSrcAlpha = source.blendSrcAlpha;
    this.blendDstAlpha = source.blendDstAlpha;
    this.blendEquationAlpha = source.blendEquationAlpha;
    this.depthFunc = source.depthFunc;
    this.depthTest = source.depthTest;
    this.depthWrite = source.depthWrite;
    this.stencilWrite = source.stencilWrite;
    this.stencilFunc = source.stencilFunc;
    this.stencilRef = source.stencilRef;
    this.stencilMask = source.stencilMask;
    this.stencilFail = source.stencilFail;
    this.stencilZFail = source.stencilZFail;
    this.stencilZPass = source.stencilZPass;
    this.colorWrite = source.colorWrite;
    this.precision = source.precision;
    this.polygonOffset = source.polygonOffset;
    this.polygonOffsetFactor = source.polygonOffsetFactor;
    this.polygonOffsetUnits = source.polygonOffsetUnits;
    this.dithering = source.dithering;
    this.alphaTest = source.alphaTest;
    this.premultipliedAlpha = source.premultipliedAlpha;
    this.visible = source.visible;
    this.userData = JSON.parse(JSON.stringify(source.userData));
    this.clipShadows = source.clipShadows;
    this.clipIntersection = source.clipIntersection;
    var srcPlanes = source.clippingPlanes,
        dstPlanes = null;

    if (srcPlanes !== null) {
      var n = srcPlanes.length;
      dstPlanes = new Array(n);

      for (var i = 0; i !== n; ++i) dstPlanes[i] = srcPlanes[i].clone();
    }

    this.clippingPlanes = dstPlanes;
    this.shadowSide = source.shadowSide;
    return this;
  },
  dispose: function () {
    this.dispatchEvent({
      type: 'dispose'
    });
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *  map: new THREE.Texture( <Image> ),
 *
 *  lightMap: new THREE.Texture( <Image> ),
 *  lightMapIntensity: <float>
 *
 *  aoMap: new THREE.Texture( <Image> ),
 *  aoMapIntensity: <float>
 *
 *  specularMap: new THREE.Texture( <Image> ),
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),
 *  combine: THREE.Multiply,
 *  reflectivity: <float>,
 *  refractionRatio: <float>,
 *
 *  depthTest: <bool>,
 *  depthWrite: <bool>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 *  skinning: <bool>,
 *  morphTargets: <bool>
 * }
 */

function MeshBasicMaterial(parameters) {
  Material.call(this);
  this.type = 'MeshBasicMaterial';
  this.color = new Color(0xffffff); // emissive

  this.map = null;
  this.lightMap = null;
  this.lightMapIntensity = 1.0;
  this.aoMap = null;
  this.aoMapIntensity = 1.0;
  this.specularMap = null;
  this.alphaMap = null;
  this.envMap = null;
  this.combine = MultiplyOperation;
  this.reflectivity = 1;
  this.refractionRatio = 0.98;
  this.wireframe = false;
  this.wireframeLinewidth = 1;
  this.wireframeLinecap = 'round';
  this.wireframeLinejoin = 'round';
  this.skinning = false;
  this.morphTargets = false;
  this.lights = false;
  this.setValues(parameters);
}

MeshBasicMaterial.prototype = Object.create(Material.prototype);
MeshBasicMaterial.prototype.constructor = MeshBasicMaterial;
MeshBasicMaterial.prototype.isMeshBasicMaterial = true;

MeshBasicMaterial.prototype.copy = function (source) {
  Material.prototype.copy.call(this, source);
  this.color.copy(source.color);
  this.map = source.map;
  this.lightMap = source.lightMap;
  this.lightMapIntensity = source.lightMapIntensity;
  this.aoMap = source.aoMap;
  this.aoMapIntensity = source.aoMapIntensity;
  this.specularMap = source.specularMap;
  this.alphaMap = source.alphaMap;
  this.envMap = source.envMap;
  this.combine = source.combine;
  this.reflectivity = source.reflectivity;
  this.refractionRatio = source.refractionRatio;
  this.wireframe = source.wireframe;
  this.wireframeLinewidth = source.wireframeLinewidth;
  this.wireframeLinecap = source.wireframeLinecap;
  this.wireframeLinejoin = source.wireframeLinejoin;
  this.skinning = source.skinning;
  this.morphTargets = source.morphTargets;
  return this;
};
/**
 * @author mrdoob / http://mrdoob.com/
 */


function BufferAttribute(array, itemSize, normalized) {
  if (Array.isArray(array)) {
    throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');
  }

  this.name = '';
  this.array = array;
  this.itemSize = itemSize;
  this.count = array !== undefined ? array.length / itemSize : 0;
  this.normalized = normalized === true;
  this.dynamic = false;
  this.updateRange = {
    offset: 0,
    count: -1
  };
  this.version = 0;
}

Object.defineProperty(BufferAttribute.prototype, 'needsUpdate', {
  set: function (value) {
    if (value === true) this.version++;
  }
});
Object.assign(BufferAttribute.prototype, {
  isBufferAttribute: true,
  onUploadCallback: function () {},
  setArray: function (array) {
    if (Array.isArray(array)) {
      throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');
    }

    this.count = array !== undefined ? array.length / this.itemSize : 0;
    this.array = array;
    return this;
  },
  setDynamic: function (value) {
    this.dynamic = value;
    return this;
  },
  copy: function (source) {
    this.name = source.name;
    this.array = new source.array.constructor(source.array);
    this.itemSize = source.itemSize;
    this.count = source.count;
    this.normalized = source.normalized;
    this.dynamic = source.dynamic;
    return this;
  },
  copyAt: function (index1, attribute, index2) {
    index1 *= this.itemSize;
    index2 *= attribute.itemSize;

    for (var i = 0, l = this.itemSize; i < l; i++) {
      this.array[index1 + i] = attribute.array[index2 + i];
    }

    return this;
  },
  copyArray: function (array) {
    this.array.set(array);
    return this;
  },
  copyColorsArray: function (colors) {
    var array = this.array,
        offset = 0;

    for (var i = 0, l = colors.length; i < l; i++) {
      var color = colors[i];

      if (color === undefined) {
        console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined', i);
        color = new Color();
      }

      array[offset++] = color.r;
      array[offset++] = color.g;
      array[offset++] = color.b;
    }

    return this;
  },
  copyVector2sArray: function (vectors) {
    var array = this.array,
        offset = 0;

    for (var i = 0, l = vectors.length; i < l; i++) {
      var vector = vectors[i];

      if (vector === undefined) {
        console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i);
        vector = new Vector2();
      }

      array[offset++] = vector.x;
      array[offset++] = vector.y;
    }

    return this;
  },
  copyVector3sArray: function (vectors) {
    var array = this.array,
        offset = 0;

    for (var i = 0, l = vectors.length; i < l; i++) {
      var vector = vectors[i];

      if (vector === undefined) {
        console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i);
        vector = new Vector3();
      }

      array[offset++] = vector.x;
      array[offset++] = vector.y;
      array[offset++] = vector.z;
    }

    return this;
  },
  copyVector4sArray: function (vectors) {
    var array = this.array,
        offset = 0;

    for (var i = 0, l = vectors.length; i < l; i++) {
      var vector = vectors[i];

      if (vector === undefined) {
        console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i);
        vector = new Vector4();
      }

      array[offset++] = vector.x;
      array[offset++] = vector.y;
      array[offset++] = vector.z;
      array[offset++] = vector.w;
    }

    return this;
  },
  set: function (value, offset) {
    if (offset === undefined) offset = 0;
    this.array.set(value, offset);
    return this;
  },
  getX: function (index) {
    return this.array[index * this.itemSize];
  },
  setX: function (index, x) {
    this.array[index * this.itemSize] = x;
    return this;
  },
  getY: function (index) {
    return this.array[index * this.itemSize + 1];
  },
  setY: function (index, y) {
    this.array[index * this.itemSize + 1] = y;
    return this;
  },
  getZ: function (index) {
    return this.array[index * this.itemSize + 2];
  },
  setZ: function (index, z) {
    this.array[index * this.itemSize + 2] = z;
    return this;
  },
  getW: function (index) {
    return this.array[index * this.itemSize + 3];
  },
  setW: function (index, w) {
    this.array[index * this.itemSize + 3] = w;
    return this;
  },
  setXY: function (index, x, y) {
    index *= this.itemSize;
    this.array[index + 0] = x;
    this.array[index + 1] = y;
    return this;
  },
  setXYZ: function (index, x, y, z) {
    index *= this.itemSize;
    this.array[index + 0] = x;
    this.array[index + 1] = y;
    this.array[index + 2] = z;
    return this;
  },
  setXYZW: function (index, x, y, z, w) {
    index *= this.itemSize;
    this.array[index + 0] = x;
    this.array[index + 1] = y;
    this.array[index + 2] = z;
    this.array[index + 3] = w;
    return this;
  },
  onUpload: function (callback) {
    this.onUploadCallback = callback;
    return this;
  },
  clone: function () {
    return new this.constructor(this.array, this.itemSize).copy(this);
  },
  toJSON: function () {
    return {
      itemSize: this.itemSize,
      type: this.array.constructor.name,
      array: Array.prototype.slice.call(this.array),
      normalized: this.normalized
    };
  }
}); //

function Int8BufferAttribute(array, itemSize, normalized) {
  BufferAttribute.call(this, new Int8Array(array), itemSize, normalized);
}

Int8BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
Int8BufferAttribute.prototype.constructor = Int8BufferAttribute;

function Uint8BufferAttribute(array, itemSize, normalized) {
  BufferAttribute.call(this, new Uint8Array(array), itemSize, normalized);
}

Uint8BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
Uint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;

function Uint8ClampedBufferAttribute(array, itemSize, normalized) {
  BufferAttribute.call(this, new Uint8ClampedArray(array), itemSize, normalized);
}

Uint8ClampedBufferAttribute.prototype = Object.create(BufferAttribute.prototype);
Uint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;

function Int16BufferAttribute(array, itemSize, normalized) {
  BufferAttribute.call(this, new Int16Array(array), itemSize, normalized);
}

Int16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
Int16BufferAttribute.prototype.constructor = Int16BufferAttribute;

function Uint16BufferAttribute(array, itemSize, normalized) {
  BufferAttribute.call(this, new Uint16Array(array), itemSize, normalized);
}

Uint16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
Uint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;

function Int32BufferAttribute(array, itemSize, normalized) {
  BufferAttribute.call(this, new Int32Array(array), itemSize, normalized);
}

Int32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
Int32BufferAttribute.prototype.constructor = Int32BufferAttribute;

function Uint32BufferAttribute(array, itemSize, normalized) {
  BufferAttribute.call(this, new Uint32Array(array), itemSize, normalized);
}

Uint32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
Uint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;

function Float32BufferAttribute(array, itemSize, normalized) {
  BufferAttribute.call(this, new Float32Array(array), itemSize, normalized);
}

Float32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
Float32BufferAttribute.prototype.constructor = Float32BufferAttribute;

function Float64BufferAttribute(array, itemSize, normalized) {
  BufferAttribute.call(this, new Float64Array(array), itemSize, normalized);
}

Float64BufferAttribute.prototype = Object.create(BufferAttribute.prototype);
Float64BufferAttribute.prototype.constructor = Float64BufferAttribute;
/**
 * @author mrdoob / http://mrdoob.com/
 */

function DirectGeometry() {
  this.vertices = [];
  this.normals = [];
  this.colors = [];
  this.uvs = [];
  this.uvs2 = [];
  this.groups = [];
  this.morphTargets = {};
  this.skinWeights = [];
  this.skinIndices = []; // this.lineDistances = [];

  this.boundingBox = null;
  this.boundingSphere = null; // update flags

  this.verticesNeedUpdate = false;
  this.normalsNeedUpdate = false;
  this.colorsNeedUpdate = false;
  this.uvsNeedUpdate = false;
  this.groupsNeedUpdate = false;
}

Object.assign(DirectGeometry.prototype, {
  computeGroups: function (geometry) {
    var group;
    var groups = [];
    var materialIndex = undefined;
    var faces = geometry.faces;

    for (var i = 0; i < faces.length; i++) {
      var face = faces[i]; // materials

      if (face.materialIndex !== materialIndex) {
        materialIndex = face.materialIndex;

        if (group !== undefined) {
          group.count = i * 3 - group.start;
          groups.push(group);
        }

        group = {
          start: i * 3,
          materialIndex: materialIndex
        };
      }
    }

    if (group !== undefined) {
      group.count = i * 3 - group.start;
      groups.push(group);
    }

    this.groups = groups;
  },
  fromGeometry: function (geometry) {
    var faces = geometry.faces;
    var vertices = geometry.vertices;
    var faceVertexUvs = geometry.faceVertexUvs;
    var hasFaceVertexUv = faceVertexUvs[0] && faceVertexUvs[0].length > 0;
    var hasFaceVertexUv2 = faceVertexUvs[1] && faceVertexUvs[1].length > 0; // morphs

    var morphTargets = geometry.morphTargets;
    var morphTargetsLength = morphTargets.length;
    var morphTargetsPosition;

    if (morphTargetsLength > 0) {
      morphTargetsPosition = [];

      for (var i = 0; i < morphTargetsLength; i++) {
        morphTargetsPosition[i] = {
          name: morphTargets[i].name,
          data: []
        };
      }

      this.morphTargets.position = morphTargetsPosition;
    }

    var morphNormals = geometry.morphNormals;
    var morphNormalsLength = morphNormals.length;
    var morphTargetsNormal;

    if (morphNormalsLength > 0) {
      morphTargetsNormal = [];

      for (var i = 0; i < morphNormalsLength; i++) {
        morphTargetsNormal[i] = {
          name: morphNormals[i].name,
          data: []
        };
      }

      this.morphTargets.normal = morphTargetsNormal;
    } // skins


    var skinIndices = geometry.skinIndices;
    var skinWeights = geometry.skinWeights;
    var hasSkinIndices = skinIndices.length === vertices.length;
    var hasSkinWeights = skinWeights.length === vertices.length; //

    if (vertices.length > 0 && faces.length === 0) {
      console.error('THREE.DirectGeometry: Faceless geometries are not supported.');
    }

    for (var i = 0; i < faces.length; i++) {
      var face = faces[i];
      this.vertices.push(vertices[face.a], vertices[face.b], vertices[face.c]);
      var vertexNormals = face.vertexNormals;

      if (vertexNormals.length === 3) {
        this.normals.push(vertexNormals[0], vertexNormals[1], vertexNormals[2]);
      } else {
        var normal = face.normal;
        this.normals.push(normal, normal, normal);
      }

      var vertexColors = face.vertexColors;

      if (vertexColors.length === 3) {
        this.colors.push(vertexColors[0], vertexColors[1], vertexColors[2]);
      } else {
        var color = face.color;
        this.colors.push(color, color, color);
      }

      if (hasFaceVertexUv === true) {
        var vertexUvs = faceVertexUvs[0][i];

        if (vertexUvs !== undefined) {
          this.uvs.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);
        } else {
          console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i);
          this.uvs.push(new Vector2(), new Vector2(), new Vector2());
        }
      }

      if (hasFaceVertexUv2 === true) {
        var vertexUvs = faceVertexUvs[1][i];

        if (vertexUvs !== undefined) {
          this.uvs2.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);
        } else {
          console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i);
          this.uvs2.push(new Vector2(), new Vector2(), new Vector2());
        }
      } // morphs


      for (var j = 0; j < morphTargetsLength; j++) {
        var morphTarget = morphTargets[j].vertices;
        morphTargetsPosition[j].data.push(morphTarget[face.a], morphTarget[face.b], morphTarget[face.c]);
      }

      for (var j = 0; j < morphNormalsLength; j++) {
        var morphNormal = morphNormals[j].vertexNormals[i];
        morphTargetsNormal[j].data.push(morphNormal.a, morphNormal.b, morphNormal.c);
      } // skins


      if (hasSkinIndices) {
        this.skinIndices.push(skinIndices[face.a], skinIndices[face.b], skinIndices[face.c]);
      }

      if (hasSkinWeights) {
        this.skinWeights.push(skinWeights[face.a], skinWeights[face.b], skinWeights[face.c]);
      }
    }

    this.computeGroups(geometry);
    this.verticesNeedUpdate = geometry.verticesNeedUpdate;
    this.normalsNeedUpdate = geometry.normalsNeedUpdate;
    this.colorsNeedUpdate = geometry.colorsNeedUpdate;
    this.uvsNeedUpdate = geometry.uvsNeedUpdate;
    this.groupsNeedUpdate = geometry.groupsNeedUpdate;

    if (geometry.boundingSphere !== null) {
      this.boundingSphere = geometry.boundingSphere.clone();
    }

    if (geometry.boundingBox !== null) {
      this.boundingBox = geometry.boundingBox.clone();
    }

    return this;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function arrayMax(array) {
  if (array.length === 0) return -Infinity;
  var max = array[0];

  for (var i = 1, l = array.length; i < l; ++i) {
    if (array[i] > max) max = array[i];
  }

  return max;
}
/**
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
 */


var bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id

function BufferGeometry() {
  Object.defineProperty(this, 'id', {
    value: bufferGeometryId += 2
  });
  this.uuid = _Math.generateUUID();
  this.name = '';
  this.type = 'BufferGeometry';
  this.index = null;
  this.attributes = {};
  this.morphAttributes = {};
  this.groups = [];
  this.boundingBox = null;
  this.boundingSphere = null;
  this.drawRange = {
    start: 0,
    count: Infinity
  };
  this.userData = {};
}

BufferGeometry.prototype = Object.assign(Object.create(EventDispatcher.prototype), {
  constructor: BufferGeometry,
  isBufferGeometry: true,
  getIndex: function () {
    return this.index;
  },
  setIndex: function (index) {
    if (Array.isArray(index)) {
      this.index = new (arrayMax(index) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute)(index, 1);
    } else {
      this.index = index;
    }
  },
  addAttribute: function (name, attribute) {
    if (!(attribute && attribute.isBufferAttribute) && !(attribute && attribute.isInterleavedBufferAttribute)) {
      console.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).');
      return this.addAttribute(name, new BufferAttribute(arguments[1], arguments[2]));
    }

    if (name === 'index') {
      console.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.');
      this.setIndex(attribute);
      return this;
    }

    this.attributes[name] = attribute;
    return this;
  },
  getAttribute: function (name) {
    return this.attributes[name];
  },
  removeAttribute: function (name) {
    delete this.attributes[name];
    return this;
  },
  addGroup: function (start, count, materialIndex) {
    this.groups.push({
      start: start,
      count: count,
      materialIndex: materialIndex !== undefined ? materialIndex : 0
    });
  },
  clearGroups: function () {
    this.groups = [];
  },
  setDrawRange: function (start, count) {
    this.drawRange.start = start;
    this.drawRange.count = count;
  },
  applyMatrix: function (matrix) {
    var position = this.attributes.position;

    if (position !== undefined) {
      matrix.applyToBufferAttribute(position);
      position.needsUpdate = true;
    }

    var normal = this.attributes.normal;

    if (normal !== undefined) {
      var normalMatrix = new Matrix3().getNormalMatrix(matrix);
      normalMatrix.applyToBufferAttribute(normal);
      normal.needsUpdate = true;
    }

    var tangent = this.attributes.tangent;

    if (tangent !== undefined) {
      var normalMatrix = new Matrix3().getNormalMatrix(matrix); // Tangent is vec4, but the '.w' component is a sign value (+1/-1).

      normalMatrix.applyToBufferAttribute(tangent);
      tangent.needsUpdate = true;
    }

    if (this.boundingBox !== null) {
      this.computeBoundingBox();
    }

    if (this.boundingSphere !== null) {
      this.computeBoundingSphere();
    }

    return this;
  },
  rotateX: function () {
    // rotate geometry around world x-axis
    var m1 = new Matrix4();
    return function rotateX(angle) {
      m1.makeRotationX(angle);
      this.applyMatrix(m1);
      return this;
    };
  }(),
  rotateY: function () {
    // rotate geometry around world y-axis
    var m1 = new Matrix4();
    return function rotateY(angle) {
      m1.makeRotationY(angle);
      this.applyMatrix(m1);
      return this;
    };
  }(),
  rotateZ: function () {
    // rotate geometry around world z-axis
    var m1 = new Matrix4();
    return function rotateZ(angle) {
      m1.makeRotationZ(angle);
      this.applyMatrix(m1);
      return this;
    };
  }(),
  translate: function () {
    // translate geometry
    var m1 = new Matrix4();
    return function translate(x, y, z) {
      m1.makeTranslation(x, y, z);
      this.applyMatrix(m1);
      return this;
    };
  }(),
  scale: function () {
    // scale geometry
    var m1 = new Matrix4();
    return function scale(x, y, z) {
      m1.makeScale(x, y, z);
      this.applyMatrix(m1);
      return this;
    };
  }(),
  lookAt: function () {
    var obj = new Object3D();
    return function lookAt(vector) {
      obj.lookAt(vector);
      obj.updateMatrix();
      this.applyMatrix(obj.matrix);
    };
  }(),
  center: function () {
    var offset = new Vector3();
    return function center() {
      this.computeBoundingBox();
      this.boundingBox.getCenter(offset).negate();
      this.translate(offset.x, offset.y, offset.z);
      return this;
    };
  }(),
  setFromObject: function (object) {
    // console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );
    var geometry = object.geometry;

    if (object.isPoints || object.isLine) {
      var positions = new Float32BufferAttribute(geometry.vertices.length * 3, 3);
      var colors = new Float32BufferAttribute(geometry.colors.length * 3, 3);
      this.addAttribute('position', positions.copyVector3sArray(geometry.vertices));
      this.addAttribute('color', colors.copyColorsArray(geometry.colors));

      if (geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length) {
        var lineDistances = new Float32BufferAttribute(geometry.lineDistances.length, 1);
        this.addAttribute('lineDistance', lineDistances.copyArray(geometry.lineDistances));
      }

      if (geometry.boundingSphere !== null) {
        this.boundingSphere = geometry.boundingSphere.clone();
      }

      if (geometry.boundingBox !== null) {
        this.boundingBox = geometry.boundingBox.clone();
      }
    } else if (object.isMesh) {
      if (geometry && geometry.isGeometry) {
        this.fromGeometry(geometry);
      }
    }

    return this;
  },
  setFromPoints: function (points) {
    var position = [];

    for (var i = 0, l = points.length; i < l; i++) {
      var point = points[i];
      position.push(point.x, point.y, point.z || 0);
    }

    this.addAttribute('position', new Float32BufferAttribute(position, 3));
    return this;
  },
  updateFromObject: function (object) {
    var geometry = object.geometry;

    if (object.isMesh) {
      var direct = geometry.__directGeometry;

      if (geometry.elementsNeedUpdate === true) {
        direct = undefined;
        geometry.elementsNeedUpdate = false;
      }

      if (direct === undefined) {
        return this.fromGeometry(geometry);
      }

      direct.verticesNeedUpdate = geometry.verticesNeedUpdate;
      direct.normalsNeedUpdate = geometry.normalsNeedUpdate;
      direct.colorsNeedUpdate = geometry.colorsNeedUpdate;
      direct.uvsNeedUpdate = geometry.uvsNeedUpdate;
      direct.groupsNeedUpdate = geometry.groupsNeedUpdate;
      geometry.verticesNeedUpdate = false;
      geometry.normalsNeedUpdate = false;
      geometry.colorsNeedUpdate = false;
      geometry.uvsNeedUpdate = false;
      geometry.groupsNeedUpdate = false;
      geometry = direct;
    }

    var attribute;

    if (geometry.verticesNeedUpdate === true) {
      attribute = this.attributes.position;

      if (attribute !== undefined) {
        attribute.copyVector3sArray(geometry.vertices);
        attribute.needsUpdate = true;
      }

      geometry.verticesNeedUpdate = false;
    }

    if (geometry.normalsNeedUpdate === true) {
      attribute = this.attributes.normal;

      if (attribute !== undefined) {
        attribute.copyVector3sArray(geometry.normals);
        attribute.needsUpdate = true;
      }

      geometry.normalsNeedUpdate = false;
    }

    if (geometry.colorsNeedUpdate === true) {
      attribute = this.attributes.color;

      if (attribute !== undefined) {
        attribute.copyColorsArray(geometry.colors);
        attribute.needsUpdate = true;
      }

      geometry.colorsNeedUpdate = false;
    }

    if (geometry.uvsNeedUpdate) {
      attribute = this.attributes.uv;

      if (attribute !== undefined) {
        attribute.copyVector2sArray(geometry.uvs);
        attribute.needsUpdate = true;
      }

      geometry.uvsNeedUpdate = false;
    }

    if (geometry.lineDistancesNeedUpdate) {
      attribute = this.attributes.lineDistance;

      if (attribute !== undefined) {
        attribute.copyArray(geometry.lineDistances);
        attribute.needsUpdate = true;
      }

      geometry.lineDistancesNeedUpdate = false;
    }

    if (geometry.groupsNeedUpdate) {
      geometry.computeGroups(object.geometry);
      this.groups = geometry.groups;
      geometry.groupsNeedUpdate = false;
    }

    return this;
  },
  fromGeometry: function (geometry) {
    geometry.__directGeometry = new DirectGeometry().fromGeometry(geometry);
    return this.fromDirectGeometry(geometry.__directGeometry);
  },
  fromDirectGeometry: function (geometry) {
    var positions = new Float32Array(geometry.vertices.length * 3);
    this.addAttribute('position', new BufferAttribute(positions, 3).copyVector3sArray(geometry.vertices));

    if (geometry.normals.length > 0) {
      var normals = new Float32Array(geometry.normals.length * 3);
      this.addAttribute('normal', new BufferAttribute(normals, 3).copyVector3sArray(geometry.normals));
    }

    if (geometry.colors.length > 0) {
      var colors = new Float32Array(geometry.colors.length * 3);
      this.addAttribute('color', new BufferAttribute(colors, 3).copyColorsArray(geometry.colors));
    }

    if (geometry.uvs.length > 0) {
      var uvs = new Float32Array(geometry.uvs.length * 2);
      this.addAttribute('uv', new BufferAttribute(uvs, 2).copyVector2sArray(geometry.uvs));
    }

    if (geometry.uvs2.length > 0) {
      var uvs2 = new Float32Array(geometry.uvs2.length * 2);
      this.addAttribute('uv2', new BufferAttribute(uvs2, 2).copyVector2sArray(geometry.uvs2));
    } // groups


    this.groups = geometry.groups; // morphs

    for (var name in geometry.morphTargets) {
      var array = [];
      var morphTargets = geometry.morphTargets[name];

      for (var i = 0, l = morphTargets.length; i < l; i++) {
        var morphTarget = morphTargets[i];
        var attribute = new Float32BufferAttribute(morphTarget.data.length * 3, 3);
        attribute.name = morphTarget.name;
        array.push(attribute.copyVector3sArray(morphTarget.data));
      }

      this.morphAttributes[name] = array;
    } // skinning


    if (geometry.skinIndices.length > 0) {
      var skinIndices = new Float32BufferAttribute(geometry.skinIndices.length * 4, 4);
      this.addAttribute('skinIndex', skinIndices.copyVector4sArray(geometry.skinIndices));
    }

    if (geometry.skinWeights.length > 0) {
      var skinWeights = new Float32BufferAttribute(geometry.skinWeights.length * 4, 4);
      this.addAttribute('skinWeight', skinWeights.copyVector4sArray(geometry.skinWeights));
    } //


    if (geometry.boundingSphere !== null) {
      this.boundingSphere = geometry.boundingSphere.clone();
    }

    if (geometry.boundingBox !== null) {
      this.boundingBox = geometry.boundingBox.clone();
    }

    return this;
  },
  computeBoundingBox: function () {
    var box = new Box3();
    return function computeBoundingBox() {
      if (this.boundingBox === null) {
        this.boundingBox = new Box3();
      }

      var position = this.attributes.position;
      var morphAttributesPosition = this.morphAttributes.position;

      if (position !== undefined) {
        this.boundingBox.setFromBufferAttribute(position); // process morph attributes if present

        if (morphAttributesPosition) {
          for (var i = 0, il = morphAttributesPosition.length; i < il; i++) {
            var morphAttribute = morphAttributesPosition[i];
            box.setFromBufferAttribute(morphAttribute);
            this.boundingBox.expandByPoint(box.min);
            this.boundingBox.expandByPoint(box.max);
          }
        }
      } else {
        this.boundingBox.makeEmpty();
      }

      if (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) {
        console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this);
      }
    };
  }(),
  computeBoundingSphere: function () {
    var box = new Box3();
    var boxMorphTargets = new Box3();
    var vector = new Vector3();
    return function computeBoundingSphere() {
      if (this.boundingSphere === null) {
        this.boundingSphere = new Sphere();
      }

      var position = this.attributes.position;
      var morphAttributesPosition = this.morphAttributes.position;

      if (position) {
        // first, find the center of the bounding sphere
        var center = this.boundingSphere.center;
        box.setFromBufferAttribute(position); // process morph attributes if present

        if (morphAttributesPosition) {
          for (var i = 0, il = morphAttributesPosition.length; i < il; i++) {
            var morphAttribute = morphAttributesPosition[i];
            boxMorphTargets.setFromBufferAttribute(morphAttribute);
            box.expandByPoint(boxMorphTargets.min);
            box.expandByPoint(boxMorphTargets.max);
          }
        }

        box.getCenter(center); // second, try to find a boundingSphere with a radius smaller than the
        // boundingSphere of the boundingBox: sqrt(3) smaller in the best case

        var maxRadiusSq = 0;

        for (var i = 0, il = position.count; i < il; i++) {
          vector.fromBufferAttribute(position, i);
          maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(vector));
        } // process morph attributes if present


        if (morphAttributesPosition) {
          for (var i = 0, il = morphAttributesPosition.length; i < il; i++) {
            var morphAttribute = morphAttributesPosition[i];

            for (var j = 0, jl = morphAttribute.count; j < jl; j++) {
              vector.fromBufferAttribute(morphAttribute, j);
              maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(vector));
            }
          }
        }

        this.boundingSphere.radius = Math.sqrt(maxRadiusSq);

        if (isNaN(this.boundingSphere.radius)) {
          console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this);
        }
      }
    };
  }(),
  computeFaceNormals: function () {// backwards compatibility
  },
  computeVertexNormals: function () {
    var index = this.index;
    var attributes = this.attributes;

    if (attributes.position) {
      var positions = attributes.position.array;

      if (attributes.normal === undefined) {
        this.addAttribute('normal', new BufferAttribute(new Float32Array(positions.length), 3));
      } else {
        // reset existing normals to zero
        var array = attributes.normal.array;

        for (var i = 0, il = array.length; i < il; i++) {
          array[i] = 0;
        }
      }

      var normals = attributes.normal.array;
      var vA, vB, vC;
      var pA = new Vector3(),
          pB = new Vector3(),
          pC = new Vector3();
      var cb = new Vector3(),
          ab = new Vector3(); // indexed elements

      if (index) {
        var indices = index.array;

        for (var i = 0, il = index.count; i < il; i += 3) {
          vA = indices[i + 0] * 3;
          vB = indices[i + 1] * 3;
          vC = indices[i + 2] * 3;
          pA.fromArray(positions, vA);
          pB.fromArray(positions, vB);
          pC.fromArray(positions, vC);
          cb.subVectors(pC, pB);
          ab.subVectors(pA, pB);
          cb.cross(ab);
          normals[vA] += cb.x;
          normals[vA + 1] += cb.y;
          normals[vA + 2] += cb.z;
          normals[vB] += cb.x;
          normals[vB + 1] += cb.y;
          normals[vB + 2] += cb.z;
          normals[vC] += cb.x;
          normals[vC + 1] += cb.y;
          normals[vC + 2] += cb.z;
        }
      } else {
        // non-indexed elements (unconnected triangle soup)
        for (var i = 0, il = positions.length; i < il; i += 9) {
          pA.fromArray(positions, i);
          pB.fromArray(positions, i + 3);
          pC.fromArray(positions, i + 6);
          cb.subVectors(pC, pB);
          ab.subVectors(pA, pB);
          cb.cross(ab);
          normals[i] = cb.x;
          normals[i + 1] = cb.y;
          normals[i + 2] = cb.z;
          normals[i + 3] = cb.x;
          normals[i + 4] = cb.y;
          normals[i + 5] = cb.z;
          normals[i + 6] = cb.x;
          normals[i + 7] = cb.y;
          normals[i + 8] = cb.z;
        }
      }

      this.normalizeNormals();
      attributes.normal.needsUpdate = true;
    }
  },
  merge: function (geometry, offset) {
    if (!(geometry && geometry.isBufferGeometry)) {
      console.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry);
      return;
    }

    if (offset === undefined) {
      offset = 0;
      console.warn('THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. ' + 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.');
    }

    var attributes = this.attributes;

    for (var key in attributes) {
      if (geometry.attributes[key] === undefined) continue;
      var attribute1 = attributes[key];
      var attributeArray1 = attribute1.array;
      var attribute2 = geometry.attributes[key];
      var attributeArray2 = attribute2.array;
      var attributeOffset = attribute2.itemSize * offset;
      var length = Math.min(attributeArray2.length, attributeArray1.length - attributeOffset);

      for (var i = 0, j = attributeOffset; i < length; i++, j++) {
        attributeArray1[j] = attributeArray2[i];
      }
    }

    return this;
  },
  normalizeNormals: function () {
    var vector = new Vector3();
    return function normalizeNormals() {
      var normals = this.attributes.normal;

      for (var i = 0, il = normals.count; i < il; i++) {
        vector.x = normals.getX(i);
        vector.y = normals.getY(i);
        vector.z = normals.getZ(i);
        vector.normalize();
        normals.setXYZ(i, vector.x, vector.y, vector.z);
      }
    };
  }(),
  toNonIndexed: function () {
    function convertBufferAttribute(attribute, indices) {
      var array = attribute.array;
      var itemSize = attribute.itemSize;
      var array2 = new array.constructor(indices.length * itemSize);
      var index = 0,
          index2 = 0;

      for (var i = 0, l = indices.length; i < l; i++) {
        index = indices[i] * itemSize;

        for (var j = 0; j < itemSize; j++) {
          array2[index2++] = array[index++];
        }
      }

      return new BufferAttribute(array2, itemSize);
    } //


    if (this.index === null) {
      console.warn('THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.');
      return this;
    }

    var geometry2 = new BufferGeometry();
    var indices = this.index.array;
    var attributes = this.attributes; // attributes

    for (var name in attributes) {
      var attribute = attributes[name];
      var newAttribute = convertBufferAttribute(attribute, indices);
      geometry2.addAttribute(name, newAttribute);
    } // morph attributes


    var morphAttributes = this.morphAttributes;

    for (name in morphAttributes) {
      var morphArray = [];
      var morphAttribute = morphAttributes[name]; // morphAttribute: array of Float32BufferAttributes

      for (var i = 0, il = morphAttribute.length; i < il; i++) {
        var attribute = morphAttribute[i];
        var newAttribute = convertBufferAttribute(attribute, indices);
        morphArray.push(newAttribute);
      }

      geometry2.morphAttributes[name] = morphArray;
    } // groups


    var groups = this.groups;

    for (var i = 0, l = groups.length; i < l; i++) {
      var group = groups[i];
      geometry2.addGroup(group.start, group.count, group.materialIndex);
    }

    return geometry2;
  },
  toJSON: function () {
    var data = {
      metadata: {
        version: 4.5,
        type: 'BufferGeometry',
        generator: 'BufferGeometry.toJSON'
      }
    }; // standard BufferGeometry serialization

    data.uuid = this.uuid;
    data.type = this.type;
    if (this.name !== '') data.name = this.name;
    if (Object.keys(this.userData).length > 0) data.userData = this.userData;

    if (this.parameters !== undefined) {
      var parameters = this.parameters;

      for (var key in parameters) {
        if (parameters[key] !== undefined) data[key] = parameters[key];
      }

      return data;
    }

    data.data = {
      attributes: {}
    };
    var index = this.index;

    if (index !== null) {
      data.data.index = {
        type: index.array.constructor.name,
        array: Array.prototype.slice.call(index.array)
      };
    }

    var attributes = this.attributes;

    for (var key in attributes) {
      var attribute = attributes[key];
      var attributeData = attribute.toJSON();
      if (attribute.name !== '') attributeData.name = attribute.name;
      data.data.attributes[key] = attributeData;
    }

    var morphAttributes = {};
    var hasMorphAttributes = false;

    for (var key in this.morphAttributes) {
      var attributeArray = this.morphAttributes[key];
      var array = [];

      for (var i = 0, il = attributeArray.length; i < il; i++) {
        var attribute = attributeArray[i];
        var attributeData = attribute.toJSON();
        if (attribute.name !== '') attributeData.name = attribute.name;
        array.push(attributeData);
      }

      if (array.length > 0) {
        morphAttributes[key] = array;
        hasMorphAttributes = true;
      }
    }

    if (hasMorphAttributes) data.data.morphAttributes = morphAttributes;
    var groups = this.groups;

    if (groups.length > 0) {
      data.data.groups = JSON.parse(JSON.stringify(groups));
    }

    var boundingSphere = this.boundingSphere;

    if (boundingSphere !== null) {
      data.data.boundingSphere = {
        center: boundingSphere.center.toArray(),
        radius: boundingSphere.radius
      };
    }

    return data;
  },
  clone: function () {
    /*
     // Handle primitives
    	 var parameters = this.parameters;
    	 if ( parameters !== undefined ) {
    	 var values = [];
    	 for ( var key in parameters ) {
    	 values.push( parameters[ key ] );
    	 }
    	 var geometry = Object.create( this.constructor.prototype );
     this.constructor.apply( geometry, values );
     return geometry;
    	 }
    	 return new this.constructor().copy( this );
     */
    return new BufferGeometry().copy(this);
  },
  copy: function (source) {
    var name, i, l; // reset

    this.index = null;
    this.attributes = {};
    this.morphAttributes = {};
    this.groups = [];
    this.boundingBox = null;
    this.boundingSphere = null; // name

    this.name = source.name; // index

    var index = source.index;

    if (index !== null) {
      this.setIndex(index.clone());
    } // attributes


    var attributes = source.attributes;

    for (name in attributes) {
      var attribute = attributes[name];
      this.addAttribute(name, attribute.clone());
    } // morph attributes


    var morphAttributes = source.morphAttributes;

    for (name in morphAttributes) {
      var array = [];
      var morphAttribute = morphAttributes[name]; // morphAttribute: array of Float32BufferAttributes

      for (i = 0, l = morphAttribute.length; i < l; i++) {
        array.push(morphAttribute[i].clone());
      }

      this.morphAttributes[name] = array;
    } // groups


    var groups = source.groups;

    for (i = 0, l = groups.length; i < l; i++) {
      var group = groups[i];
      this.addGroup(group.start, group.count, group.materialIndex);
    } // bounding box


    var boundingBox = source.boundingBox;

    if (boundingBox !== null) {
      this.boundingBox = boundingBox.clone();
    } // bounding sphere


    var boundingSphere = source.boundingSphere;

    if (boundingSphere !== null) {
      this.boundingSphere = boundingSphere.clone();
    } // draw range


    this.drawRange.start = source.drawRange.start;
    this.drawRange.count = source.drawRange.count; // user data

    this.userData = source.userData;
    return this;
  },
  dispose: function () {
    this.dispatchEvent({
      type: 'dispose'
    });
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 * @author mikael emtinger / http://gomo.se/
 * @author jonobr1 / http://jonobr1.com/
 */

function Mesh(geometry, material) {
  Object3D.call(this);
  this.type = 'Mesh';
  this.geometry = geometry !== undefined ? geometry : new BufferGeometry();
  this.material = material !== undefined ? material : new MeshBasicMaterial({
    color: Math.random() * 0xffffff
  });
  this.drawMode = TrianglesDrawMode;
  this.updateMorphTargets();
}

Mesh.prototype = Object.assign(Object.create(Object3D.prototype), {
  constructor: Mesh,
  isMesh: true,
  setDrawMode: function (value) {
    this.drawMode = value;
  },
  copy: function (source) {
    Object3D.prototype.copy.call(this, source);
    this.drawMode = source.drawMode;

    if (source.morphTargetInfluences !== undefined) {
      this.morphTargetInfluences = source.morphTargetInfluences.slice();
    }

    if (source.morphTargetDictionary !== undefined) {
      this.morphTargetDictionary = Object.assign({}, source.morphTargetDictionary);
    }

    return this;
  },
  updateMorphTargets: function () {
    var geometry = this.geometry;
    var m, ml, name;

    if (geometry.isBufferGeometry) {
      var morphAttributes = geometry.morphAttributes;
      var keys = Object.keys(morphAttributes);

      if (keys.length > 0) {
        var morphAttribute = morphAttributes[keys[0]];

        if (morphAttribute !== undefined) {
          this.morphTargetInfluences = [];
          this.morphTargetDictionary = {};

          for (m = 0, ml = morphAttribute.length; m < ml; m++) {
            name = morphAttribute[m].name || String(m);
            this.morphTargetInfluences.push(0);
            this.morphTargetDictionary[name] = m;
          }
        }
      }
    } else {
      var morphTargets = geometry.morphTargets;

      if (morphTargets !== undefined && morphTargets.length > 0) {
        console.error('THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');
      }
    }
  },
  raycast: function () {
    var inverseMatrix = new Matrix4();
    var ray = new Ray();
    var sphere = new Sphere();
    var vA = new Vector3();
    var vB = new Vector3();
    var vC = new Vector3();
    var tempA = new Vector3();
    var tempB = new Vector3();
    var tempC = new Vector3();
    var morphA = new Vector3();
    var morphB = new Vector3();
    var morphC = new Vector3();
    var uvA = new Vector2();
    var uvB = new Vector2();
    var uvC = new Vector2();
    var intersectionPoint = new Vector3();
    var intersectionPointWorld = new Vector3();

    function checkIntersection(object, material, raycaster, ray, pA, pB, pC, point) {
      var intersect;

      if (material.side === BackSide) {
        intersect = ray.intersectTriangle(pC, pB, pA, true, point);
      } else {
        intersect = ray.intersectTriangle(pA, pB, pC, material.side !== DoubleSide, point);
      }

      if (intersect === null) return null;
      intersectionPointWorld.copy(point);
      intersectionPointWorld.applyMatrix4(object.matrixWorld);
      var distance = raycaster.ray.origin.distanceTo(intersectionPointWorld);
      if (distance < raycaster.near || distance > raycaster.far) return null;
      return {
        distance: distance,
        point: intersectionPointWorld.clone(),
        object: object
      };
    }

    function checkBufferGeometryIntersection(object, material, raycaster, ray, position, morphPosition, uv, uv2, a, b, c) {
      vA.fromBufferAttribute(position, a);
      vB.fromBufferAttribute(position, b);
      vC.fromBufferAttribute(position, c);
      var morphInfluences = object.morphTargetInfluences;

      if (material.morphTargets && morphPosition && morphInfluences) {
        morphA.set(0, 0, 0);
        morphB.set(0, 0, 0);
        morphC.set(0, 0, 0);

        for (var i = 0, il = morphPosition.length; i < il; i++) {
          var influence = morphInfluences[i];
          var morphAttribute = morphPosition[i];
          if (influence === 0) continue;
          tempA.fromBufferAttribute(morphAttribute, a);
          tempB.fromBufferAttribute(morphAttribute, b);
          tempC.fromBufferAttribute(morphAttribute, c);
          morphA.addScaledVector(tempA.sub(vA), influence);
          morphB.addScaledVector(tempB.sub(vB), influence);
          morphC.addScaledVector(tempC.sub(vC), influence);
        }

        vA.add(morphA);
        vB.add(morphB);
        vC.add(morphC);
      }

      var intersection = checkIntersection(object, material, raycaster, ray, vA, vB, vC, intersectionPoint);

      if (intersection) {
        if (uv) {
          uvA.fromBufferAttribute(uv, a);
          uvB.fromBufferAttribute(uv, b);
          uvC.fromBufferAttribute(uv, c);
          intersection.uv = Triangle.getUV(intersectionPoint, vA, vB, vC, uvA, uvB, uvC, new Vector2());
        }

        if (uv2) {
          uvA.fromBufferAttribute(uv2, a);
          uvB.fromBufferAttribute(uv2, b);
          uvC.fromBufferAttribute(uv2, c);
          intersection.uv2 = Triangle.getUV(intersectionPoint, vA, vB, vC, uvA, uvB, uvC, new Vector2());
        }

        var face = new Face3(a, b, c);
        Triangle.getNormal(vA, vB, vC, face.normal);
        intersection.face = face;
      }

      return intersection;
    }

    return function raycast(raycaster, intersects) {
      var geometry = this.geometry;
      var material = this.material;
      var matrixWorld = this.matrixWorld;
      if (material === undefined) return; // Checking boundingSphere distance to ray

      if (geometry.boundingSphere === null) geometry.computeBoundingSphere();
      sphere.copy(geometry.boundingSphere);
      sphere.applyMatrix4(matrixWorld);
      if (raycaster.ray.intersectsSphere(sphere) === false) return; //

      inverseMatrix.getInverse(matrixWorld);
      ray.copy(raycaster.ray).applyMatrix4(inverseMatrix); // Check boundingBox before continuing

      if (geometry.boundingBox !== null) {
        if (ray.intersectsBox(geometry.boundingBox) === false) return;
      }

      var intersection;

      if (geometry.isBufferGeometry) {
        var a, b, c;
        var index = geometry.index;
        var position = geometry.attributes.position;
        var morphPosition = geometry.morphAttributes.position;
        var uv = geometry.attributes.uv;
        var uv2 = geometry.attributes.uv2;
        var groups = geometry.groups;
        var drawRange = geometry.drawRange;
        var i, j, il, jl;
        var group, groupMaterial;
        var start, end;

        if (index !== null) {
          // indexed buffer geometry
          if (Array.isArray(material)) {
            for (i = 0, il = groups.length; i < il; i++) {
              group = groups[i];
              groupMaterial = material[group.materialIndex];
              start = Math.max(group.start, drawRange.start);
              end = Math.min(group.start + group.count, drawRange.start + drawRange.count);

              for (j = start, jl = end; j < jl; j += 3) {
                a = index.getX(j);
                b = index.getX(j + 1);
                c = index.getX(j + 2);
                intersection = checkBufferGeometryIntersection(this, groupMaterial, raycaster, ray, position, morphPosition, uv, uv2, a, b, c);

                if (intersection) {
                  intersection.faceIndex = Math.floor(j / 3); // triangle number in indexed buffer semantics

                  intersection.face.materialIndex = group.materialIndex;
                  intersects.push(intersection);
                }
              }
            }
          } else {
            start = Math.max(0, drawRange.start);
            end = Math.min(index.count, drawRange.start + drawRange.count);

            for (i = start, il = end; i < il; i += 3) {
              a = index.getX(i);
              b = index.getX(i + 1);
              c = index.getX(i + 2);
              intersection = checkBufferGeometryIntersection(this, material, raycaster, ray, position, morphPosition, uv, uv2, a, b, c);

              if (intersection) {
                intersection.faceIndex = Math.floor(i / 3); // triangle number in indexed buffer semantics

                intersects.push(intersection);
              }
            }
          }
        } else if (position !== undefined) {
          // non-indexed buffer geometry
          if (Array.isArray(material)) {
            for (i = 0, il = groups.length; i < il; i++) {
              group = groups[i];
              groupMaterial = material[group.materialIndex];
              start = Math.max(group.start, drawRange.start);
              end = Math.min(group.start + group.count, drawRange.start + drawRange.count);

              for (j = start, jl = end; j < jl; j += 3) {
                a = j;
                b = j + 1;
                c = j + 2;
                intersection = checkBufferGeometryIntersection(this, groupMaterial, raycaster, ray, position, morphPosition, uv, uv2, a, b, c);

                if (intersection) {
                  intersection.faceIndex = Math.floor(j / 3); // triangle number in non-indexed buffer semantics

                  intersection.face.materialIndex = group.materialIndex;
                  intersects.push(intersection);
                }
              }
            }
          } else {
            start = Math.max(0, drawRange.start);
            end = Math.min(position.count, drawRange.start + drawRange.count);

            for (i = start, il = end; i < il; i += 3) {
              a = i;
              b = i + 1;
              c = i + 2;
              intersection = checkBufferGeometryIntersection(this, material, raycaster, ray, position, morphPosition, uv, uv2, a, b, c);

              if (intersection) {
                intersection.faceIndex = Math.floor(i / 3); // triangle number in non-indexed buffer semantics

                intersects.push(intersection);
              }
            }
          }
        }
      } else if (geometry.isGeometry) {
        var fvA, fvB, fvC;
        var isMultiMaterial = Array.isArray(material);
        var vertices = geometry.vertices;
        var faces = geometry.faces;
        var uvs;
        var faceVertexUvs = geometry.faceVertexUvs[0];
        if (faceVertexUvs.length > 0) uvs = faceVertexUvs;

        for (var f = 0, fl = faces.length; f < fl; f++) {
          var face = faces[f];
          var faceMaterial = isMultiMaterial ? material[face.materialIndex] : material;
          if (faceMaterial === undefined) continue;
          fvA = vertices[face.a];
          fvB = vertices[face.b];
          fvC = vertices[face.c];
          intersection = checkIntersection(this, faceMaterial, raycaster, ray, fvA, fvB, fvC, intersectionPoint);

          if (intersection) {
            if (uvs && uvs[f]) {
              var uvs_f = uvs[f];
              uvA.copy(uvs_f[0]);
              uvB.copy(uvs_f[1]);
              uvC.copy(uvs_f[2]);
              intersection.uv = Triangle.getUV(intersectionPoint, fvA, fvB, fvC, uvA, uvB, uvC, new Vector2());
            }

            intersection.face = face;
            intersection.faceIndex = f;
            intersects.push(intersection);
          }
        }
      }
    };
  }(),
  clone: function () {
    return new this.constructor(this.geometry, this.material).copy(this);
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author kile / http://kile.stravaganza.org/
 * @author alteredq / http://alteredqualia.com/
 * @author mikael emtinger / http://gomo.se/
 * @author zz85 / http://www.lab4games.net/zz85/blog
 * @author bhouston / http://clara.io
 */

var geometryId = 0; // Geometry uses even numbers as Id

function Geometry() {
  Object.defineProperty(this, 'id', {
    value: geometryId += 2
  });
  this.uuid = _Math.generateUUID();
  this.name = '';
  this.type = 'Geometry';
  this.vertices = [];
  this.colors = [];
  this.faces = [];
  this.faceVertexUvs = [[]];
  this.morphTargets = [];
  this.morphNormals = [];
  this.skinWeights = [];
  this.skinIndices = [];
  this.lineDistances = [];
  this.boundingBox = null;
  this.boundingSphere = null; // update flags

  this.elementsNeedUpdate = false;
  this.verticesNeedUpdate = false;
  this.uvsNeedUpdate = false;
  this.normalsNeedUpdate = false;
  this.colorsNeedUpdate = false;
  this.lineDistancesNeedUpdate = false;
  this.groupsNeedUpdate = false;
}

Geometry.prototype = Object.assign(Object.create(EventDispatcher.prototype), {
  constructor: Geometry,
  isGeometry: true,
  applyMatrix: function (matrix) {
    var normalMatrix = new Matrix3().getNormalMatrix(matrix);

    for (var i = 0, il = this.vertices.length; i < il; i++) {
      var vertex = this.vertices[i];
      vertex.applyMatrix4(matrix);
    }

    for (var i = 0, il = this.faces.length; i < il; i++) {
      var face = this.faces[i];
      face.normal.applyMatrix3(normalMatrix).normalize();

      for (var j = 0, jl = face.vertexNormals.length; j < jl; j++) {
        face.vertexNormals[j].applyMatrix3(normalMatrix).normalize();
      }
    }

    if (this.boundingBox !== null) {
      this.computeBoundingBox();
    }

    if (this.boundingSphere !== null) {
      this.computeBoundingSphere();
    }

    this.verticesNeedUpdate = true;
    this.normalsNeedUpdate = true;
    return this;
  },
  rotateX: function () {
    // rotate geometry around world x-axis
    var m1 = new Matrix4();
    return function rotateX(angle) {
      m1.makeRotationX(angle);
      this.applyMatrix(m1);
      return this;
    };
  }(),
  rotateY: function () {
    // rotate geometry around world y-axis
    var m1 = new Matrix4();
    return function rotateY(angle) {
      m1.makeRotationY(angle);
      this.applyMatrix(m1);
      return this;
    };
  }(),
  rotateZ: function () {
    // rotate geometry around world z-axis
    var m1 = new Matrix4();
    return function rotateZ(angle) {
      m1.makeRotationZ(angle);
      this.applyMatrix(m1);
      return this;
    };
  }(),
  translate: function () {
    // translate geometry
    var m1 = new Matrix4();
    return function translate(x, y, z) {
      m1.makeTranslation(x, y, z);
      this.applyMatrix(m1);
      return this;
    };
  }(),
  scale: function () {
    // scale geometry
    var m1 = new Matrix4();
    return function scale(x, y, z) {
      m1.makeScale(x, y, z);
      this.applyMatrix(m1);
      return this;
    };
  }(),
  lookAt: function () {
    var obj = new Object3D();
    return function lookAt(vector) {
      obj.lookAt(vector);
      obj.updateMatrix();
      this.applyMatrix(obj.matrix);
    };
  }(),
  fromBufferGeometry: function (geometry) {
    var scope = this;
    var indices = geometry.index !== null ? geometry.index.array : undefined;
    var attributes = geometry.attributes;
    var positions = attributes.position.array;
    var normals = attributes.normal !== undefined ? attributes.normal.array : undefined;
    var colors = attributes.color !== undefined ? attributes.color.array : undefined;
    var uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;
    var uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;
    if (uvs2 !== undefined) this.faceVertexUvs[1] = [];

    for (var i = 0; i < positions.length; i += 3) {
      scope.vertices.push(new Vector3().fromArray(positions, i));

      if (colors !== undefined) {
        scope.colors.push(new Color().fromArray(colors, i));
      }
    }

    function addFace(a, b, c, materialIndex) {
      var vertexColors = colors === undefined ? [] : [scope.colors[a].clone(), scope.colors[b].clone(), scope.colors[c].clone()];
      var vertexNormals = normals === undefined ? [] : [new Vector3().fromArray(normals, a * 3), new Vector3().fromArray(normals, b * 3), new Vector3().fromArray(normals, c * 3)];
      var face = new Face3(a, b, c, vertexNormals, vertexColors, materialIndex);
      scope.faces.push(face);

      if (uvs !== undefined) {
        scope.faceVertexUvs[0].push([new Vector2().fromArray(uvs, a * 2), new Vector2().fromArray(uvs, b * 2), new Vector2().fromArray(uvs, c * 2)]);
      }

      if (uvs2 !== undefined) {
        scope.faceVertexUvs[1].push([new Vector2().fromArray(uvs2, a * 2), new Vector2().fromArray(uvs2, b * 2), new Vector2().fromArray(uvs2, c * 2)]);
      }
    }

    var groups = geometry.groups;

    if (groups.length > 0) {
      for (var i = 0; i < groups.length; i++) {
        var group = groups[i];
        var start = group.start;
        var count = group.count;

        for (var j = start, jl = start + count; j < jl; j += 3) {
          if (indices !== undefined) {
            addFace(indices[j], indices[j + 1], indices[j + 2], group.materialIndex);
          } else {
            addFace(j, j + 1, j + 2, group.materialIndex);
          }
        }
      }
    } else {
      if (indices !== undefined) {
        for (var i = 0; i < indices.length; i += 3) {
          addFace(indices[i], indices[i + 1], indices[i + 2]);
        }
      } else {
        for (var i = 0; i < positions.length / 3; i += 3) {
          addFace(i, i + 1, i + 2);
        }
      }
    }

    this.computeFaceNormals();

    if (geometry.boundingBox !== null) {
      this.boundingBox = geometry.boundingBox.clone();
    }

    if (geometry.boundingSphere !== null) {
      this.boundingSphere = geometry.boundingSphere.clone();
    }

    return this;
  },
  center: function () {
    var offset = new Vector3();
    return function center() {
      this.computeBoundingBox();
      this.boundingBox.getCenter(offset).negate();
      this.translate(offset.x, offset.y, offset.z);
      return this;
    };
  }(),
  normalize: function () {
    this.computeBoundingSphere();
    var center = this.boundingSphere.center;
    var radius = this.boundingSphere.radius;
    var s = radius === 0 ? 1 : 1.0 / radius;
    var matrix = new Matrix4();
    matrix.set(s, 0, 0, -s * center.x, 0, s, 0, -s * center.y, 0, 0, s, -s * center.z, 0, 0, 0, 1);
    this.applyMatrix(matrix);
    return this;
  },
  computeFaceNormals: function () {
    var cb = new Vector3(),
        ab = new Vector3();

    for (var f = 0, fl = this.faces.length; f < fl; f++) {
      var face = this.faces[f];
      var vA = this.vertices[face.a];
      var vB = this.vertices[face.b];
      var vC = this.vertices[face.c];
      cb.subVectors(vC, vB);
      ab.subVectors(vA, vB);
      cb.cross(ab);
      cb.normalize();
      face.normal.copy(cb);
    }
  },
  computeVertexNormals: function (areaWeighted) {
    if (areaWeighted === undefined) areaWeighted = true;
    var v, vl, f, fl, face, vertices;
    vertices = new Array(this.vertices.length);

    for (v = 0, vl = this.vertices.length; v < vl; v++) {
      vertices[v] = new Vector3();
    }

    if (areaWeighted) {
      // vertex normals weighted by triangle areas
      // http://www.iquilezles.org/www/articles/normals/normals.htm
      var vA, vB, vC;
      var cb = new Vector3(),
          ab = new Vector3();

      for (f = 0, fl = this.faces.length; f < fl; f++) {
        face = this.faces[f];
        vA = this.vertices[face.a];
        vB = this.vertices[face.b];
        vC = this.vertices[face.c];
        cb.subVectors(vC, vB);
        ab.subVectors(vA, vB);
        cb.cross(ab);
        vertices[face.a].add(cb);
        vertices[face.b].add(cb);
        vertices[face.c].add(cb);
      }
    } else {
      this.computeFaceNormals();

      for (f = 0, fl = this.faces.length; f < fl; f++) {
        face = this.faces[f];
        vertices[face.a].add(face.normal);
        vertices[face.b].add(face.normal);
        vertices[face.c].add(face.normal);
      }
    }

    for (v = 0, vl = this.vertices.length; v < vl; v++) {
      vertices[v].normalize();
    }

    for (f = 0, fl = this.faces.length; f < fl; f++) {
      face = this.faces[f];
      var vertexNormals = face.vertexNormals;

      if (vertexNormals.length === 3) {
        vertexNormals[0].copy(vertices[face.a]);
        vertexNormals[1].copy(vertices[face.b]);
        vertexNormals[2].copy(vertices[face.c]);
      } else {
        vertexNormals[0] = vertices[face.a].clone();
        vertexNormals[1] = vertices[face.b].clone();
        vertexNormals[2] = vertices[face.c].clone();
      }
    }

    if (this.faces.length > 0) {
      this.normalsNeedUpdate = true;
    }
  },
  computeFlatVertexNormals: function () {
    var f, fl, face;
    this.computeFaceNormals();

    for (f = 0, fl = this.faces.length; f < fl; f++) {
      face = this.faces[f];
      var vertexNormals = face.vertexNormals;

      if (vertexNormals.length === 3) {
        vertexNormals[0].copy(face.normal);
        vertexNormals[1].copy(face.normal);
        vertexNormals[2].copy(face.normal);
      } else {
        vertexNormals[0] = face.normal.clone();
        vertexNormals[1] = face.normal.clone();
        vertexNormals[2] = face.normal.clone();
      }
    }

    if (this.faces.length > 0) {
      this.normalsNeedUpdate = true;
    }
  },
  computeMorphNormals: function () {
    var i, il, f, fl, face; // save original normals
    // - create temp variables on first access
    //   otherwise just copy (for faster repeated calls)

    for (f = 0, fl = this.faces.length; f < fl; f++) {
      face = this.faces[f];

      if (!face.__originalFaceNormal) {
        face.__originalFaceNormal = face.normal.clone();
      } else {
        face.__originalFaceNormal.copy(face.normal);
      }

      if (!face.__originalVertexNormals) face.__originalVertexNormals = [];

      for (i = 0, il = face.vertexNormals.length; i < il; i++) {
        if (!face.__originalVertexNormals[i]) {
          face.__originalVertexNormals[i] = face.vertexNormals[i].clone();
        } else {
          face.__originalVertexNormals[i].copy(face.vertexNormals[i]);
        }
      }
    } // use temp geometry to compute face and vertex normals for each morph


    var tmpGeo = new Geometry();
    tmpGeo.faces = this.faces;

    for (i = 0, il = this.morphTargets.length; i < il; i++) {
      // create on first access
      if (!this.morphNormals[i]) {
        this.morphNormals[i] = {};
        this.morphNormals[i].faceNormals = [];
        this.morphNormals[i].vertexNormals = [];
        var dstNormalsFace = this.morphNormals[i].faceNormals;
        var dstNormalsVertex = this.morphNormals[i].vertexNormals;
        var faceNormal, vertexNormals;

        for (f = 0, fl = this.faces.length; f < fl; f++) {
          faceNormal = new Vector3();
          vertexNormals = {
            a: new Vector3(),
            b: new Vector3(),
            c: new Vector3()
          };
          dstNormalsFace.push(faceNormal);
          dstNormalsVertex.push(vertexNormals);
        }
      }

      var morphNormals = this.morphNormals[i]; // set vertices to morph target

      tmpGeo.vertices = this.morphTargets[i].vertices; // compute morph normals

      tmpGeo.computeFaceNormals();
      tmpGeo.computeVertexNormals(); // store morph normals

      var faceNormal, vertexNormals;

      for (f = 0, fl = this.faces.length; f < fl; f++) {
        face = this.faces[f];
        faceNormal = morphNormals.faceNormals[f];
        vertexNormals = morphNormals.vertexNormals[f];
        faceNormal.copy(face.normal);
        vertexNormals.a.copy(face.vertexNormals[0]);
        vertexNormals.b.copy(face.vertexNormals[1]);
        vertexNormals.c.copy(face.vertexNormals[2]);
      }
    } // restore original normals


    for (f = 0, fl = this.faces.length; f < fl; f++) {
      face = this.faces[f];
      face.normal = face.__originalFaceNormal;
      face.vertexNormals = face.__originalVertexNormals;
    }
  },
  computeBoundingBox: function () {
    if (this.boundingBox === null) {
      this.boundingBox = new Box3();
    }

    this.boundingBox.setFromPoints(this.vertices);
  },
  computeBoundingSphere: function () {
    if (this.boundingSphere === null) {
      this.boundingSphere = new Sphere();
    }

    this.boundingSphere.setFromPoints(this.vertices);
  },
  merge: function (geometry, matrix, materialIndexOffset) {
    if (!(geometry && geometry.isGeometry)) {
      console.error('THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry);
      return;
    }

    var normalMatrix,
        vertexOffset = this.vertices.length,
        vertices1 = this.vertices,
        vertices2 = geometry.vertices,
        faces1 = this.faces,
        faces2 = geometry.faces,
        colors1 = this.colors,
        colors2 = geometry.colors;
    if (materialIndexOffset === undefined) materialIndexOffset = 0;

    if (matrix !== undefined) {
      normalMatrix = new Matrix3().getNormalMatrix(matrix);
    } // vertices


    for (var i = 0, il = vertices2.length; i < il; i++) {
      var vertex = vertices2[i];
      var vertexCopy = vertex.clone();
      if (matrix !== undefined) vertexCopy.applyMatrix4(matrix);
      vertices1.push(vertexCopy);
    } // colors


    for (var i = 0, il = colors2.length; i < il; i++) {
      colors1.push(colors2[i].clone());
    } // faces


    for (i = 0, il = faces2.length; i < il; i++) {
      var face = faces2[i],
          faceCopy,
          normal,
          color,
          faceVertexNormals = face.vertexNormals,
          faceVertexColors = face.vertexColors;
      faceCopy = new Face3(face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset);
      faceCopy.normal.copy(face.normal);

      if (normalMatrix !== undefined) {
        faceCopy.normal.applyMatrix3(normalMatrix).normalize();
      }

      for (var j = 0, jl = faceVertexNormals.length; j < jl; j++) {
        normal = faceVertexNormals[j].clone();

        if (normalMatrix !== undefined) {
          normal.applyMatrix3(normalMatrix).normalize();
        }

        faceCopy.vertexNormals.push(normal);
      }

      faceCopy.color.copy(face.color);

      for (var j = 0, jl = faceVertexColors.length; j < jl; j++) {
        color = faceVertexColors[j];
        faceCopy.vertexColors.push(color.clone());
      }

      faceCopy.materialIndex = face.materialIndex + materialIndexOffset;
      faces1.push(faceCopy);
    } // uvs


    for (var i = 0, il = geometry.faceVertexUvs.length; i < il; i++) {
      var faceVertexUvs2 = geometry.faceVertexUvs[i];
      if (this.faceVertexUvs[i] === undefined) this.faceVertexUvs[i] = [];

      for (var j = 0, jl = faceVertexUvs2.length; j < jl; j++) {
        var uvs2 = faceVertexUvs2[j],
            uvsCopy = [];

        for (var k = 0, kl = uvs2.length; k < kl; k++) {
          uvsCopy.push(uvs2[k].clone());
        }

        this.faceVertexUvs[i].push(uvsCopy);
      }
    }
  },
  mergeMesh: function (mesh) {
    if (!(mesh && mesh.isMesh)) {
      console.error('THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh);
      return;
    }

    if (mesh.matrixAutoUpdate) mesh.updateMatrix();
    this.merge(mesh.geometry, mesh.matrix);
  },

  /*
   * Checks for duplicate vertices with hashmap.
   * Duplicated vertices are removed
   * and faces' vertices are updated.
   */
  mergeVertices: function () {
    var verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)

    var unique = [],
        changes = [];
    var v, key;
    var precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001

    var precision = Math.pow(10, precisionPoints);
    var i, il, face;
    var indices, j, jl;

    for (i = 0, il = this.vertices.length; i < il; i++) {
      v = this.vertices[i];
      key = Math.round(v.x * precision) + '_' + Math.round(v.y * precision) + '_' + Math.round(v.z * precision);

      if (verticesMap[key] === undefined) {
        verticesMap[key] = i;
        unique.push(this.vertices[i]);
        changes[i] = unique.length - 1;
      } else {
        //console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);
        changes[i] = changes[verticesMap[key]];
      }
    } // if faces are completely degenerate after merging vertices, we
    // have to remove them from the geometry.


    var faceIndicesToRemove = [];

    for (i = 0, il = this.faces.length; i < il; i++) {
      face = this.faces[i];
      face.a = changes[face.a];
      face.b = changes[face.b];
      face.c = changes[face.c];
      indices = [face.a, face.b, face.c]; // if any duplicate vertices are found in a Face3
      // we have to remove the face as nothing can be saved

      for (var n = 0; n < 3; n++) {
        if (indices[n] === indices[(n + 1) % 3]) {
          faceIndicesToRemove.push(i);
          break;
        }
      }
    }

    for (i = faceIndicesToRemove.length - 1; i >= 0; i--) {
      var idx = faceIndicesToRemove[i];
      this.faces.splice(idx, 1);

      for (j = 0, jl = this.faceVertexUvs.length; j < jl; j++) {
        this.faceVertexUvs[j].splice(idx, 1);
      }
    } // Use unique set of vertices


    var diff = this.vertices.length - unique.length;
    this.vertices = unique;
    return diff;
  },
  setFromPoints: function (points) {
    this.vertices = [];

    for (var i = 0, l = points.length; i < l; i++) {
      var point = points[i];
      this.vertices.push(new Vector3(point.x, point.y, point.z || 0));
    }

    return this;
  },
  sortFacesByMaterialIndex: function () {
    var faces = this.faces;
    var length = faces.length; // tag faces

    for (var i = 0; i < length; i++) {
      faces[i]._id = i;
    } // sort faces


    function materialIndexSort(a, b) {
      return a.materialIndex - b.materialIndex;
    }

    faces.sort(materialIndexSort); // sort uvs

    var uvs1 = this.faceVertexUvs[0];
    var uvs2 = this.faceVertexUvs[1];
    var newUvs1, newUvs2;
    if (uvs1 && uvs1.length === length) newUvs1 = [];
    if (uvs2 && uvs2.length === length) newUvs2 = [];

    for (var i = 0; i < length; i++) {
      var id = faces[i]._id;
      if (newUvs1) newUvs1.push(uvs1[id]);
      if (newUvs2) newUvs2.push(uvs2[id]);
    }

    if (newUvs1) this.faceVertexUvs[0] = newUvs1;
    if (newUvs2) this.faceVertexUvs[1] = newUvs2;
  },
  toJSON: function () {
    var data = {
      metadata: {
        version: 4.5,
        type: 'Geometry',
        generator: 'Geometry.toJSON'
      }
    }; // standard Geometry serialization

    data.uuid = this.uuid;
    data.type = this.type;
    if (this.name !== '') data.name = this.name;

    if (this.parameters !== undefined) {
      var parameters = this.parameters;

      for (var key in parameters) {
        if (parameters[key] !== undefined) data[key] = parameters[key];
      }

      return data;
    }

    var vertices = [];

    for (var i = 0; i < this.vertices.length; i++) {
      var vertex = this.vertices[i];
      vertices.push(vertex.x, vertex.y, vertex.z);
    }

    var faces = [];
    var normals = [];
    var normalsHash = {};
    var colors = [];
    var colorsHash = {};
    var uvs = [];
    var uvsHash = {};

    for (var i = 0; i < this.faces.length; i++) {
      var face = this.faces[i];
      var hasMaterial = true;
      var hasFaceUv = false; // deprecated

      var hasFaceVertexUv = this.faceVertexUvs[0][i] !== undefined;
      var hasFaceNormal = face.normal.length() > 0;
      var hasFaceVertexNormal = face.vertexNormals.length > 0;
      var hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;
      var hasFaceVertexColor = face.vertexColors.length > 0;
      var faceType = 0;
      faceType = setBit(faceType, 0, 0); // isQuad

      faceType = setBit(faceType, 1, hasMaterial);
      faceType = setBit(faceType, 2, hasFaceUv);
      faceType = setBit(faceType, 3, hasFaceVertexUv);
      faceType = setBit(faceType, 4, hasFaceNormal);
      faceType = setBit(faceType, 5, hasFaceVertexNormal);
      faceType = setBit(faceType, 6, hasFaceColor);
      faceType = setBit(faceType, 7, hasFaceVertexColor);
      faces.push(faceType);
      faces.push(face.a, face.b, face.c);
      faces.push(face.materialIndex);

      if (hasFaceVertexUv) {
        var faceVertexUvs = this.faceVertexUvs[0][i];
        faces.push(getUvIndex(faceVertexUvs[0]), getUvIndex(faceVertexUvs[1]), getUvIndex(faceVertexUvs[2]));
      }

      if (hasFaceNormal) {
        faces.push(getNormalIndex(face.normal));
      }

      if (hasFaceVertexNormal) {
        var vertexNormals = face.vertexNormals;
        faces.push(getNormalIndex(vertexNormals[0]), getNormalIndex(vertexNormals[1]), getNormalIndex(vertexNormals[2]));
      }

      if (hasFaceColor) {
        faces.push(getColorIndex(face.color));
      }

      if (hasFaceVertexColor) {
        var vertexColors = face.vertexColors;
        faces.push(getColorIndex(vertexColors[0]), getColorIndex(vertexColors[1]), getColorIndex(vertexColors[2]));
      }
    }

    function setBit(value, position, enabled) {
      return enabled ? value | 1 << position : value & ~(1 << position);
    }

    function getNormalIndex(normal) {
      var hash = normal.x.toString() + normal.y.toString() + normal.z.toString();

      if (normalsHash[hash] !== undefined) {
        return normalsHash[hash];
      }

      normalsHash[hash] = normals.length / 3;
      normals.push(normal.x, normal.y, normal.z);
      return normalsHash[hash];
    }

    function getColorIndex(color) {
      var hash = color.r.toString() + color.g.toString() + color.b.toString();

      if (colorsHash[hash] !== undefined) {
        return colorsHash[hash];
      }

      colorsHash[hash] = colors.length;
      colors.push(color.getHex());
      return colorsHash[hash];
    }

    function getUvIndex(uv) {
      var hash = uv.x.toString() + uv.y.toString();

      if (uvsHash[hash] !== undefined) {
        return uvsHash[hash];
      }

      uvsHash[hash] = uvs.length / 2;
      uvs.push(uv.x, uv.y);
      return uvsHash[hash];
    }

    data.data = {};
    data.data.vertices = vertices;
    data.data.normals = normals;
    if (colors.length > 0) data.data.colors = colors;
    if (uvs.length > 0) data.data.uvs = [uvs]; // temporal backward compatibility

    data.data.faces = faces;
    return data;
  },
  clone: function () {
    /*
     // Handle primitives
    	 var parameters = this.parameters;
    	 if ( parameters !== undefined ) {
    	 var values = [];
    	 for ( var key in parameters ) {
    	 values.push( parameters[ key ] );
    	 }
    	 var geometry = Object.create( this.constructor.prototype );
     this.constructor.apply( geometry, values );
     return geometry;
    	 }
    	 return new this.constructor().copy( this );
     */
    return new Geometry().copy(this);
  },
  copy: function (source) {
    var i, il, j, jl, k, kl; // reset

    this.vertices = [];
    this.colors = [];
    this.faces = [];
    this.faceVertexUvs = [[]];
    this.morphTargets = [];
    this.morphNormals = [];
    this.skinWeights = [];
    this.skinIndices = [];
    this.lineDistances = [];
    this.boundingBox = null;
    this.boundingSphere = null; // name

    this.name = source.name; // vertices

    var vertices = source.vertices;

    for (i = 0, il = vertices.length; i < il; i++) {
      this.vertices.push(vertices[i].clone());
    } // colors


    var colors = source.colors;

    for (i = 0, il = colors.length; i < il; i++) {
      this.colors.push(colors[i].clone());
    } // faces


    var faces = source.faces;

    for (i = 0, il = faces.length; i < il; i++) {
      this.faces.push(faces[i].clone());
    } // face vertex uvs


    for (i = 0, il = source.faceVertexUvs.length; i < il; i++) {
      var faceVertexUvs = source.faceVertexUvs[i];

      if (this.faceVertexUvs[i] === undefined) {
        this.faceVertexUvs[i] = [];
      }

      for (j = 0, jl = faceVertexUvs.length; j < jl; j++) {
        var uvs = faceVertexUvs[j],
            uvsCopy = [];

        for (k = 0, kl = uvs.length; k < kl; k++) {
          var uv = uvs[k];
          uvsCopy.push(uv.clone());
        }

        this.faceVertexUvs[i].push(uvsCopy);
      }
    } // morph targets


    var morphTargets = source.morphTargets;

    for (i = 0, il = morphTargets.length; i < il; i++) {
      var morphTarget = {};
      morphTarget.name = morphTargets[i].name; // vertices

      if (morphTargets[i].vertices !== undefined) {
        morphTarget.vertices = [];

        for (j = 0, jl = morphTargets[i].vertices.length; j < jl; j++) {
          morphTarget.vertices.push(morphTargets[i].vertices[j].clone());
        }
      } // normals


      if (morphTargets[i].normals !== undefined) {
        morphTarget.normals = [];

        for (j = 0, jl = morphTargets[i].normals.length; j < jl; j++) {
          morphTarget.normals.push(morphTargets[i].normals[j].clone());
        }
      }

      this.morphTargets.push(morphTarget);
    } // morph normals


    var morphNormals = source.morphNormals;

    for (i = 0, il = morphNormals.length; i < il; i++) {
      var morphNormal = {}; // vertex normals

      if (morphNormals[i].vertexNormals !== undefined) {
        morphNormal.vertexNormals = [];

        for (j = 0, jl = morphNormals[i].vertexNormals.length; j < jl; j++) {
          var srcVertexNormal = morphNormals[i].vertexNormals[j];
          var destVertexNormal = {};
          destVertexNormal.a = srcVertexNormal.a.clone();
          destVertexNormal.b = srcVertexNormal.b.clone();
          destVertexNormal.c = srcVertexNormal.c.clone();
          morphNormal.vertexNormals.push(destVertexNormal);
        }
      } // face normals


      if (morphNormals[i].faceNormals !== undefined) {
        morphNormal.faceNormals = [];

        for (j = 0, jl = morphNormals[i].faceNormals.length; j < jl; j++) {
          morphNormal.faceNormals.push(morphNormals[i].faceNormals[j].clone());
        }
      }

      this.morphNormals.push(morphNormal);
    } // skin weights


    var skinWeights = source.skinWeights;

    for (i = 0, il = skinWeights.length; i < il; i++) {
      this.skinWeights.push(skinWeights[i].clone());
    } // skin indices


    var skinIndices = source.skinIndices;

    for (i = 0, il = skinIndices.length; i < il; i++) {
      this.skinIndices.push(skinIndices[i].clone());
    } // line distances


    var lineDistances = source.lineDistances;

    for (i = 0, il = lineDistances.length; i < il; i++) {
      this.lineDistances.push(lineDistances[i]);
    } // bounding box


    var boundingBox = source.boundingBox;

    if (boundingBox !== null) {
      this.boundingBox = boundingBox.clone();
    } // bounding sphere


    var boundingSphere = source.boundingSphere;

    if (boundingSphere !== null) {
      this.boundingSphere = boundingSphere.clone();
    } // update flags


    this.elementsNeedUpdate = source.elementsNeedUpdate;
    this.verticesNeedUpdate = source.verticesNeedUpdate;
    this.uvsNeedUpdate = source.uvsNeedUpdate;
    this.normalsNeedUpdate = source.normalsNeedUpdate;
    this.colorsNeedUpdate = source.colorsNeedUpdate;
    this.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;
    this.groupsNeedUpdate = source.groupsNeedUpdate;
    return this;
  },
  dispose: function () {
    this.dispatchEvent({
      type: 'dispose'
    });
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author Mugen87 / https://github.com/Mugen87
 */
// BoxGeometry

function BoxGeometry(width, height, depth, widthSegments, heightSegments, depthSegments) {
  Geometry.call(this);
  this.type = 'BoxGeometry';
  this.parameters = {
    width: width,
    height: height,
    depth: depth,
    widthSegments: widthSegments,
    heightSegments: heightSegments,
    depthSegments: depthSegments
  };
  this.fromBufferGeometry(new BoxBufferGeometry(width, height, depth, widthSegments, heightSegments, depthSegments));
  this.mergeVertices();
}

BoxGeometry.prototype = Object.create(Geometry.prototype);
BoxGeometry.prototype.constructor = BoxGeometry; // BoxBufferGeometry

function BoxBufferGeometry(width, height, depth, widthSegments, heightSegments, depthSegments) {
  BufferGeometry.call(this);
  this.type = 'BoxBufferGeometry';
  this.parameters = {
    width: width,
    height: height,
    depth: depth,
    widthSegments: widthSegments,
    heightSegments: heightSegments,
    depthSegments: depthSegments
  };
  var scope = this;
  width = width || 1;
  height = height || 1;
  depth = depth || 1; // segments

  widthSegments = Math.floor(widthSegments) || 1;
  heightSegments = Math.floor(heightSegments) || 1;
  depthSegments = Math.floor(depthSegments) || 1; // buffers

  var indices = [];
  var vertices = [];
  var normals = [];
  var uvs = []; // helper variables

  var numberOfVertices = 0;
  var groupStart = 0; // build each side of the box geometry

  buildPlane('z', 'y', 'x', -1, -1, depth, height, width, depthSegments, heightSegments, 0); // px

  buildPlane('z', 'y', 'x', 1, -1, depth, height, -width, depthSegments, heightSegments, 1); // nx

  buildPlane('x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2); // py

  buildPlane('x', 'z', 'y', 1, -1, width, depth, -height, widthSegments, depthSegments, 3); // ny

  buildPlane('x', 'y', 'z', 1, -1, width, height, depth, widthSegments, heightSegments, 4); // pz

  buildPlane('x', 'y', 'z', -1, -1, width, height, -depth, widthSegments, heightSegments, 5); // nz
  // build geometry

  this.setIndex(indices);
  this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
  this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));

  function buildPlane(u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex) {
    var segmentWidth = width / gridX;
    var segmentHeight = height / gridY;
    var widthHalf = width / 2;
    var heightHalf = height / 2;
    var depthHalf = depth / 2;
    var gridX1 = gridX + 1;
    var gridY1 = gridY + 1;
    var vertexCounter = 0;
    var groupCount = 0;
    var ix, iy;
    var vector = new Vector3(); // generate vertices, normals and uvs

    for (iy = 0; iy < gridY1; iy++) {
      var y = iy * segmentHeight - heightHalf;

      for (ix = 0; ix < gridX1; ix++) {
        var x = ix * segmentWidth - widthHalf; // set values to correct vector component

        vector[u] = x * udir;
        vector[v] = y * vdir;
        vector[w] = depthHalf; // now apply vector to vertex buffer

        vertices.push(vector.x, vector.y, vector.z); // set values to correct vector component

        vector[u] = 0;
        vector[v] = 0;
        vector[w] = depth > 0 ? 1 : -1; // now apply vector to normal buffer

        normals.push(vector.x, vector.y, vector.z); // uvs

        uvs.push(ix / gridX);
        uvs.push(1 - iy / gridY); // counters

        vertexCounter += 1;
      }
    } // indices
    // 1. you need three indices to draw a single face
    // 2. a single segment consists of two faces
    // 3. so we need to generate six (2*3) indices per segment


    for (iy = 0; iy < gridY; iy++) {
      for (ix = 0; ix < gridX; ix++) {
        var a = numberOfVertices + ix + gridX1 * iy;
        var b = numberOfVertices + ix + gridX1 * (iy + 1);
        var c = numberOfVertices + (ix + 1) + gridX1 * (iy + 1);
        var d = numberOfVertices + (ix + 1) + gridX1 * iy; // faces

        indices.push(a, b, d);
        indices.push(b, c, d); // increase counter

        groupCount += 6;
      }
    } // add a group to the geometry. this will ensure multi material support


    scope.addGroup(groupStart, groupCount, materialIndex); // calculate new start value for groups

    groupStart += groupCount; // update total number of vertices

    numberOfVertices += vertexCounter;
  }
}

BoxBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
BoxBufferGeometry.prototype.constructor = BoxBufferGeometry;
/**
 * Uniform Utilities
 */

function cloneUniforms(src) {
  var dst = {};

  for (var u in src) {
    dst[u] = {};

    for (var p in src[u]) {
      var property = src[u][p];

      if (property && (property.isColor || property.isMatrix3 || property.isMatrix4 || property.isVector2 || property.isVector3 || property.isVector4 || property.isTexture)) {
        dst[u][p] = property.clone();
      } else if (Array.isArray(property)) {
        dst[u][p] = property.slice();
      } else {
        dst[u][p] = property;
      }
    }
  }

  return dst;
}

function mergeUniforms(uniforms) {
  var merged = {};

  for (var u = 0; u < uniforms.length; u++) {
    var tmp = cloneUniforms(uniforms[u]);

    for (var p in tmp) {
      merged[p] = tmp[p];
    }
  }

  return merged;
} // Legacy


var UniformsUtils = {
  clone: cloneUniforms,
  merge: mergeUniforms
};
exports.UniformsUtils = UniformsUtils;
var default_vertex = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";
var default_fragment = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";
/**
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  defines: { "label" : "value" },
 *  uniforms: { "parameter1": { value: 1.0 }, "parameter2": { value2: 2 } },
 *
 *  fragmentShader: <string>,
 *  vertexShader: <string>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 *  lights: <bool>,
 *
 *  skinning: <bool>,
 *  morphTargets: <bool>,
 *  morphNormals: <bool>
 * }
 */

function ShaderMaterial(parameters) {
  Material.call(this);
  this.type = 'ShaderMaterial';
  this.defines = {};
  this.uniforms = {};
  this.vertexShader = default_vertex;
  this.fragmentShader = default_fragment;
  this.linewidth = 1;
  this.wireframe = false;
  this.wireframeLinewidth = 1;
  this.fog = false; // set to use scene fog

  this.lights = false; // set to use scene lights

  this.clipping = false; // set to use user-defined clipping planes

  this.skinning = false; // set to use skinning attribute streams

  this.morphTargets = false; // set to use morph targets

  this.morphNormals = false; // set to use morph normals

  this.extensions = {
    derivatives: false,
    // set to use derivatives
    fragDepth: false,
    // set to use fragment depth values
    drawBuffers: false,
    // set to use draw buffers
    shaderTextureLOD: false // set to use shader texture LOD

  }; // When rendered geometry doesn't include these attributes but the material does,
  // use these default values in WebGL. This avoids errors when buffer data is missing.

  this.defaultAttributeValues = {
    'color': [1, 1, 1],
    'uv': [0, 0],
    'uv2': [0, 0]
  };
  this.index0AttributeName = undefined;
  this.uniformsNeedUpdate = false;

  if (parameters !== undefined) {
    if (parameters.attributes !== undefined) {
      console.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.');
    }

    this.setValues(parameters);
  }
}

ShaderMaterial.prototype = Object.create(Material.prototype);
ShaderMaterial.prototype.constructor = ShaderMaterial;
ShaderMaterial.prototype.isShaderMaterial = true;

ShaderMaterial.prototype.copy = function (source) {
  Material.prototype.copy.call(this, source);
  this.fragmentShader = source.fragmentShader;
  this.vertexShader = source.vertexShader;
  this.uniforms = cloneUniforms(source.uniforms);
  this.defines = Object.assign({}, source.defines);
  this.wireframe = source.wireframe;
  this.wireframeLinewidth = source.wireframeLinewidth;
  this.lights = source.lights;
  this.clipping = source.clipping;
  this.skinning = source.skinning;
  this.morphTargets = source.morphTargets;
  this.morphNormals = source.morphNormals;
  this.extensions = source.extensions;
  return this;
};

ShaderMaterial.prototype.toJSON = function (meta) {
  var data = Material.prototype.toJSON.call(this, meta);
  data.uniforms = {};

  for (var name in this.uniforms) {
    var uniform = this.uniforms[name];
    var value = uniform.value;

    if (value && value.isTexture) {
      data.uniforms[name] = {
        type: 't',
        value: value.toJSON(meta).uuid
      };
    } else if (value && value.isColor) {
      data.uniforms[name] = {
        type: 'c',
        value: value.getHex()
      };
    } else if (value && value.isVector2) {
      data.uniforms[name] = {
        type: 'v2',
        value: value.toArray()
      };
    } else if (value && value.isVector3) {
      data.uniforms[name] = {
        type: 'v3',
        value: value.toArray()
      };
    } else if (value && value.isVector4) {
      data.uniforms[name] = {
        type: 'v4',
        value: value.toArray()
      };
    } else if (value && value.isMatrix3) {
      data.uniforms[name] = {
        type: 'm3',
        value: value.toArray()
      };
    } else if (value && value.isMatrix4) {
      data.uniforms[name] = {
        type: 'm4',
        value: value.toArray()
      };
    } else {
      data.uniforms[name] = {
        value: value
      }; // note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far
    }
  }

  if (Object.keys(this.defines).length > 0) data.defines = this.defines;
  data.vertexShader = this.vertexShader;
  data.fragmentShader = this.fragmentShader;
  var extensions = {};

  for (var key in this.extensions) {
    if (this.extensions[key] === true) extensions[key] = true;
  }

  if (Object.keys(extensions).length > 0) data.extensions = extensions;
  return data;
};
/**
 * @author mrdoob / http://mrdoob.com/
 * @author mikael emtinger / http://gomo.se/
 * @author WestLangley / http://github.com/WestLangley
*/


function Camera() {
  Object3D.call(this);
  this.type = 'Camera';
  this.matrixWorldInverse = new Matrix4();
  this.projectionMatrix = new Matrix4();
  this.projectionMatrixInverse = new Matrix4();
}

Camera.prototype = Object.assign(Object.create(Object3D.prototype), {
  constructor: Camera,
  isCamera: true,
  copy: function (source, recursive) {
    Object3D.prototype.copy.call(this, source, recursive);
    this.matrixWorldInverse.copy(source.matrixWorldInverse);
    this.projectionMatrix.copy(source.projectionMatrix);
    this.projectionMatrixInverse.copy(source.projectionMatrixInverse);
    return this;
  },
  getWorldDirection: function (target) {
    if (target === undefined) {
      console.warn('THREE.Camera: .getWorldDirection() target is now required');
      target = new Vector3();
    }

    this.updateMatrixWorld(true);
    var e = this.matrixWorld.elements;
    return target.set(-e[8], -e[9], -e[10]).normalize();
  },
  updateMatrixWorld: function (force) {
    Object3D.prototype.updateMatrixWorld.call(this, force);
    this.matrixWorldInverse.getInverse(this.matrixWorld);
  },
  clone: function () {
    return new this.constructor().copy(this);
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author greggman / http://games.greggman.com/
 * @author zz85 / http://www.lab4games.net/zz85/blog
 * @author tschw
 */

function PerspectiveCamera(fov, aspect, near, far) {
  Camera.call(this);
  this.type = 'PerspectiveCamera';
  this.fov = fov !== undefined ? fov : 50;
  this.zoom = 1;
  this.near = near !== undefined ? near : 0.1;
  this.far = far !== undefined ? far : 2000;
  this.focus = 10;
  this.aspect = aspect !== undefined ? aspect : 1;
  this.view = null;
  this.filmGauge = 35; // width of the film (default in millimeters)

  this.filmOffset = 0; // horizontal film offset (same unit as gauge)

  this.updateProjectionMatrix();
}

PerspectiveCamera.prototype = Object.assign(Object.create(Camera.prototype), {
  constructor: PerspectiveCamera,
  isPerspectiveCamera: true,
  copy: function (source, recursive) {
    Camera.prototype.copy.call(this, source, recursive);
    this.fov = source.fov;
    this.zoom = source.zoom;
    this.near = source.near;
    this.far = source.far;
    this.focus = source.focus;
    this.aspect = source.aspect;
    this.view = source.view === null ? null : Object.assign({}, source.view);
    this.filmGauge = source.filmGauge;
    this.filmOffset = source.filmOffset;
    return this;
  },

  /**
   * Sets the FOV by focal length in respect to the current .filmGauge.
   *
   * The default film gauge is 35, so that the focal length can be specified for
   * a 35mm (full frame) camera.
   *
   * Values for focal length and film gauge must have the same unit.
   */
  setFocalLength: function (focalLength) {
    // see http://www.bobatkins.com/photography/technical/field_of_view.html
    var vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;
    this.fov = _Math.RAD2DEG * 2 * Math.atan(vExtentSlope);
    this.updateProjectionMatrix();
  },

  /**
   * Calculates the focal length from the current .fov and .filmGauge.
   */
  getFocalLength: function () {
    var vExtentSlope = Math.tan(_Math.DEG2RAD * 0.5 * this.fov);
    return 0.5 * this.getFilmHeight() / vExtentSlope;
  },
  getEffectiveFOV: function () {
    return _Math.RAD2DEG * 2 * Math.atan(Math.tan(_Math.DEG2RAD * 0.5 * this.fov) / this.zoom);
  },
  getFilmWidth: function () {
    // film not completely covered in portrait format (aspect < 1)
    return this.filmGauge * Math.min(this.aspect, 1);
  },
  getFilmHeight: function () {
    // film not completely covered in landscape format (aspect > 1)
    return this.filmGauge / Math.max(this.aspect, 1);
  },

  /**
   * Sets an offset in a larger frustum. This is useful for multi-window or
   * multi-monitor/multi-machine setups.
   *
   * For example, if you have 3x2 monitors and each monitor is 1920x1080 and
   * the monitors are in grid like this
   *
   *   +---+---+---+
   *   | A | B | C |
   *   +---+---+---+
   *   | D | E | F |
   *   +---+---+---+
   *
   * then for each monitor you would call it like this
   *
   *   var w = 1920;
   *   var h = 1080;
   *   var fullWidth = w * 3;
   *   var fullHeight = h * 2;
   *
   *   --A--
   *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );
   *   --B--
   *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );
   *   --C--
   *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );
   *   --D--
   *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );
   *   --E--
   *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );
   *   --F--
   *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );
   *
   *   Note there is no reason monitors have to be the same size or in a grid.
   */
  setViewOffset: function (fullWidth, fullHeight, x, y, width, height) {
    this.aspect = fullWidth / fullHeight;

    if (this.view === null) {
      this.view = {
        enabled: true,
        fullWidth: 1,
        fullHeight: 1,
        offsetX: 0,
        offsetY: 0,
        width: 1,
        height: 1
      };
    }

    this.view.enabled = true;
    this.view.fullWidth = fullWidth;
    this.view.fullHeight = fullHeight;
    this.view.offsetX = x;
    this.view.offsetY = y;
    this.view.width = width;
    this.view.height = height;
    this.updateProjectionMatrix();
  },
  clearViewOffset: function () {
    if (this.view !== null) {
      this.view.enabled = false;
    }

    this.updateProjectionMatrix();
  },
  updateProjectionMatrix: function () {
    var near = this.near,
        top = near * Math.tan(_Math.DEG2RAD * 0.5 * this.fov) / this.zoom,
        height = 2 * top,
        width = this.aspect * height,
        left = -0.5 * width,
        view = this.view;

    if (this.view !== null && this.view.enabled) {
      var fullWidth = view.fullWidth,
          fullHeight = view.fullHeight;
      left += view.offsetX * width / fullWidth;
      top -= view.offsetY * height / fullHeight;
      width *= view.width / fullWidth;
      height *= view.height / fullHeight;
    }

    var skew = this.filmOffset;
    if (skew !== 0) left += near * skew / this.getFilmWidth();
    this.projectionMatrix.makePerspective(left, left + width, top, top - height, near, this.far);
    this.projectionMatrixInverse.getInverse(this.projectionMatrix);
  },
  toJSON: function (meta) {
    var data = Object3D.prototype.toJSON.call(this, meta);
    data.object.fov = this.fov;
    data.object.zoom = this.zoom;
    data.object.near = this.near;
    data.object.far = this.far;
    data.object.focus = this.focus;
    data.object.aspect = this.aspect;
    if (this.view !== null) data.object.view = Object.assign({}, this.view);
    data.object.filmGauge = this.filmGauge;
    data.object.filmOffset = this.filmOffset;
    return data;
  }
});
/**
 * Camera for rendering cube maps
 *	- renders scene into axis-aligned cube
 *
 * @author alteredq / http://alteredqualia.com/
 */

var fov = 90,
    aspect = 1;

function CubeCamera(near, far, cubeResolution, options) {
  Object3D.call(this);
  this.type = 'CubeCamera';
  var cameraPX = new PerspectiveCamera(fov, aspect, near, far);
  cameraPX.up.set(0, -1, 0);
  cameraPX.lookAt(new Vector3(1, 0, 0));
  this.add(cameraPX);
  var cameraNX = new PerspectiveCamera(fov, aspect, near, far);
  cameraNX.up.set(0, -1, 0);
  cameraNX.lookAt(new Vector3(-1, 0, 0));
  this.add(cameraNX);
  var cameraPY = new PerspectiveCamera(fov, aspect, near, far);
  cameraPY.up.set(0, 0, 1);
  cameraPY.lookAt(new Vector3(0, 1, 0));
  this.add(cameraPY);
  var cameraNY = new PerspectiveCamera(fov, aspect, near, far);
  cameraNY.up.set(0, 0, -1);
  cameraNY.lookAt(new Vector3(0, -1, 0));
  this.add(cameraNY);
  var cameraPZ = new PerspectiveCamera(fov, aspect, near, far);
  cameraPZ.up.set(0, -1, 0);
  cameraPZ.lookAt(new Vector3(0, 0, 1));
  this.add(cameraPZ);
  var cameraNZ = new PerspectiveCamera(fov, aspect, near, far);
  cameraNZ.up.set(0, -1, 0);
  cameraNZ.lookAt(new Vector3(0, 0, -1));
  this.add(cameraNZ);
  options = options || {
    format: RGBFormat,
    magFilter: LinearFilter,
    minFilter: LinearFilter
  };
  this.renderTarget = new WebGLRenderTargetCube(cubeResolution, cubeResolution, options);
  this.renderTarget.texture.name = "CubeCamera";

  this.update = function (renderer, scene) {
    if (this.parent === null) this.updateMatrixWorld();
    var currentRenderTarget = renderer.getRenderTarget();
    var renderTarget = this.renderTarget;
    var generateMipmaps = renderTarget.texture.generateMipmaps;
    renderTarget.texture.generateMipmaps = false;
    renderer.setRenderTarget(renderTarget, 0);
    renderer.render(scene, cameraPX);
    renderer.setRenderTarget(renderTarget, 1);
    renderer.render(scene, cameraNX);
    renderer.setRenderTarget(renderTarget, 2);
    renderer.render(scene, cameraPY);
    renderer.setRenderTarget(renderTarget, 3);
    renderer.render(scene, cameraNY);
    renderer.setRenderTarget(renderTarget, 4);
    renderer.render(scene, cameraPZ);
    renderTarget.texture.generateMipmaps = generateMipmaps;
    renderer.setRenderTarget(renderTarget, 5);
    renderer.render(scene, cameraNZ);
    renderer.setRenderTarget(currentRenderTarget);
  };

  this.clear = function (renderer, color, depth, stencil) {
    var currentRenderTarget = renderer.getRenderTarget();
    var renderTarget = this.renderTarget;

    for (var i = 0; i < 6; i++) {
      renderer.setRenderTarget(renderTarget, i);
      renderer.clear(color, depth, stencil);
    }

    renderer.setRenderTarget(currentRenderTarget);
  };
}

CubeCamera.prototype = Object.create(Object3D.prototype);
CubeCamera.prototype.constructor = CubeCamera;
/**
 * @author alteredq / http://alteredqualia.com
 * @author WestLangley / http://github.com/WestLangley
 */

function WebGLRenderTargetCube(width, height, options) {
  WebGLRenderTarget.call(this, width, height, options);
}

WebGLRenderTargetCube.prototype = Object.create(WebGLRenderTarget.prototype);
WebGLRenderTargetCube.prototype.constructor = WebGLRenderTargetCube;
WebGLRenderTargetCube.prototype.isWebGLRenderTargetCube = true;

WebGLRenderTargetCube.prototype.fromEquirectangularTexture = function (renderer, texture) {
  this.texture.type = texture.type;
  this.texture.format = texture.format;
  this.texture.encoding = texture.encoding;
  var scene = new Scene();
  var shader = {
    uniforms: {
      tEquirect: {
        value: null
      }
    },
    vertexShader: ["varying vec3 vWorldDirection;", "vec3 transformDirection( in vec3 dir, in mat4 matrix ) {", "	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );", "}", "void main() {", "	vWorldDirection = transformDirection( position, modelMatrix );", "	#include <begin_vertex>", "	#include <project_vertex>", "}"].join('\n'),
    fragmentShader: ["uniform sampler2D tEquirect;", "varying vec3 vWorldDirection;", "#define RECIPROCAL_PI 0.31830988618", "#define RECIPROCAL_PI2 0.15915494", "void main() {", "	vec3 direction = normalize( vWorldDirection );", "	vec2 sampleUV;", "	sampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;", "	sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;", "	gl_FragColor = texture2D( tEquirect, sampleUV );", "}"].join('\n')
  };
  var material = new ShaderMaterial({
    type: 'CubemapFromEquirect',
    uniforms: cloneUniforms(shader.uniforms),
    vertexShader: shader.vertexShader,
    fragmentShader: shader.fragmentShader,
    side: BackSide,
    blending: NoBlending
  });
  material.uniforms.tEquirect.value = texture;
  var mesh = new Mesh(new BoxBufferGeometry(5, 5, 5), material);
  scene.add(mesh);
  var camera = new CubeCamera(1, 10, 1);
  camera.renderTarget = this;
  camera.renderTarget.texture.name = 'CubeCameraTexture';
  camera.update(renderer, scene);
  mesh.geometry.dispose();
  mesh.material.dispose();
  return this;
};
/**
 * @author alteredq / http://alteredqualia.com/
 */


function DataTexture(data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {
  Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);
  this.image = {
    data: data,
    width: width,
    height: height
  };
  this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;
  this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;
  this.generateMipmaps = false;
  this.flipY = false;
  this.unpackAlignment = 1;
}

DataTexture.prototype = Object.create(Texture.prototype);
DataTexture.prototype.constructor = DataTexture;
DataTexture.prototype.isDataTexture = true;
/**
 * @author bhouston / http://clara.io
 */

function Plane(normal, constant) {
  // normal is assumed to be normalized
  this.normal = normal !== undefined ? normal : new Vector3(1, 0, 0);
  this.constant = constant !== undefined ? constant : 0;
}

Object.assign(Plane.prototype, {
  isPlane: true,
  set: function (normal, constant) {
    this.normal.copy(normal);
    this.constant = constant;
    return this;
  },
  setComponents: function (x, y, z, w) {
    this.normal.set(x, y, z);
    this.constant = w;
    return this;
  },
  setFromNormalAndCoplanarPoint: function (normal, point) {
    this.normal.copy(normal);
    this.constant = -point.dot(this.normal);
    return this;
  },
  setFromCoplanarPoints: function () {
    var v1 = new Vector3();
    var v2 = new Vector3();
    return function setFromCoplanarPoints(a, b, c) {
      var normal = v1.subVectors(c, b).cross(v2.subVectors(a, b)).normalize(); // Q: should an error be thrown if normal is zero (e.g. degenerate plane)?

      this.setFromNormalAndCoplanarPoint(normal, a);
      return this;
    };
  }(),
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (plane) {
    this.normal.copy(plane.normal);
    this.constant = plane.constant;
    return this;
  },
  normalize: function () {
    // Note: will lead to a divide by zero if the plane is invalid.
    var inverseNormalLength = 1.0 / this.normal.length();
    this.normal.multiplyScalar(inverseNormalLength);
    this.constant *= inverseNormalLength;
    return this;
  },
  negate: function () {
    this.constant *= -1;
    this.normal.negate();
    return this;
  },
  distanceToPoint: function (point) {
    return this.normal.dot(point) + this.constant;
  },
  distanceToSphere: function (sphere) {
    return this.distanceToPoint(sphere.center) - sphere.radius;
  },
  projectPoint: function (point, target) {
    if (target === undefined) {
      console.warn('THREE.Plane: .projectPoint() target is now required');
      target = new Vector3();
    }

    return target.copy(this.normal).multiplyScalar(-this.distanceToPoint(point)).add(point);
  },
  intersectLine: function () {
    var v1 = new Vector3();
    return function intersectLine(line, target) {
      if (target === undefined) {
        console.warn('THREE.Plane: .intersectLine() target is now required');
        target = new Vector3();
      }

      var direction = line.delta(v1);
      var denominator = this.normal.dot(direction);

      if (denominator === 0) {
        // line is coplanar, return origin
        if (this.distanceToPoint(line.start) === 0) {
          return target.copy(line.start);
        } // Unsure if this is the correct method to handle this case.


        return undefined;
      }

      var t = -(line.start.dot(this.normal) + this.constant) / denominator;

      if (t < 0 || t > 1) {
        return undefined;
      }

      return target.copy(direction).multiplyScalar(t).add(line.start);
    };
  }(),
  intersectsLine: function (line) {
    // Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.
    var startSign = this.distanceToPoint(line.start);
    var endSign = this.distanceToPoint(line.end);
    return startSign < 0 && endSign > 0 || endSign < 0 && startSign > 0;
  },
  intersectsBox: function (box) {
    return box.intersectsPlane(this);
  },
  intersectsSphere: function (sphere) {
    return sphere.intersectsPlane(this);
  },
  coplanarPoint: function (target) {
    if (target === undefined) {
      console.warn('THREE.Plane: .coplanarPoint() target is now required');
      target = new Vector3();
    }

    return target.copy(this.normal).multiplyScalar(-this.constant);
  },
  applyMatrix4: function () {
    var v1 = new Vector3();
    var m1 = new Matrix3();
    return function applyMatrix4(matrix, optionalNormalMatrix) {
      var normalMatrix = optionalNormalMatrix || m1.getNormalMatrix(matrix);
      var referencePoint = this.coplanarPoint(v1).applyMatrix4(matrix);
      var normal = this.normal.applyMatrix3(normalMatrix).normalize();
      this.constant = -referencePoint.dot(normal);
      return this;
    };
  }(),
  translate: function (offset) {
    this.constant -= offset.dot(this.normal);
    return this;
  },
  equals: function (plane) {
    return plane.normal.equals(this.normal) && plane.constant === this.constant;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 * @author bhouston / http://clara.io
 */

function Frustum(p0, p1, p2, p3, p4, p5) {
  this.planes = [p0 !== undefined ? p0 : new Plane(), p1 !== undefined ? p1 : new Plane(), p2 !== undefined ? p2 : new Plane(), p3 !== undefined ? p3 : new Plane(), p4 !== undefined ? p4 : new Plane(), p5 !== undefined ? p5 : new Plane()];
}

Object.assign(Frustum.prototype, {
  set: function (p0, p1, p2, p3, p4, p5) {
    var planes = this.planes;
    planes[0].copy(p0);
    planes[1].copy(p1);
    planes[2].copy(p2);
    planes[3].copy(p3);
    planes[4].copy(p4);
    planes[5].copy(p5);
    return this;
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (frustum) {
    var planes = this.planes;

    for (var i = 0; i < 6; i++) {
      planes[i].copy(frustum.planes[i]);
    }

    return this;
  },
  setFromMatrix: function (m) {
    var planes = this.planes;
    var me = m.elements;
    var me0 = me[0],
        me1 = me[1],
        me2 = me[2],
        me3 = me[3];
    var me4 = me[4],
        me5 = me[5],
        me6 = me[6],
        me7 = me[7];
    var me8 = me[8],
        me9 = me[9],
        me10 = me[10],
        me11 = me[11];
    var me12 = me[12],
        me13 = me[13],
        me14 = me[14],
        me15 = me[15];
    planes[0].setComponents(me3 - me0, me7 - me4, me11 - me8, me15 - me12).normalize();
    planes[1].setComponents(me3 + me0, me7 + me4, me11 + me8, me15 + me12).normalize();
    planes[2].setComponents(me3 + me1, me7 + me5, me11 + me9, me15 + me13).normalize();
    planes[3].setComponents(me3 - me1, me7 - me5, me11 - me9, me15 - me13).normalize();
    planes[4].setComponents(me3 - me2, me7 - me6, me11 - me10, me15 - me14).normalize();
    planes[5].setComponents(me3 + me2, me7 + me6, me11 + me10, me15 + me14).normalize();
    return this;
  },
  intersectsObject: function () {
    var sphere = new Sphere();
    return function intersectsObject(object) {
      var geometry = object.geometry;
      if (geometry.boundingSphere === null) geometry.computeBoundingSphere();
      sphere.copy(geometry.boundingSphere).applyMatrix4(object.matrixWorld);
      return this.intersectsSphere(sphere);
    };
  }(),
  intersectsSprite: function () {
    var sphere = new Sphere();
    return function intersectsSprite(sprite) {
      sphere.center.set(0, 0, 0);
      sphere.radius = 0.7071067811865476;
      sphere.applyMatrix4(sprite.matrixWorld);
      return this.intersectsSphere(sphere);
    };
  }(),
  intersectsSphere: function (sphere) {
    var planes = this.planes;
    var center = sphere.center;
    var negRadius = -sphere.radius;

    for (var i = 0; i < 6; i++) {
      var distance = planes[i].distanceToPoint(center);

      if (distance < negRadius) {
        return false;
      }
    }

    return true;
  },
  intersectsBox: function () {
    var p = new Vector3();
    return function intersectsBox(box) {
      var planes = this.planes;

      for (var i = 0; i < 6; i++) {
        var plane = planes[i]; // corner at max distance

        p.x = plane.normal.x > 0 ? box.max.x : box.min.x;
        p.y = plane.normal.y > 0 ? box.max.y : box.min.y;
        p.z = plane.normal.z > 0 ? box.max.z : box.min.z;

        if (plane.distanceToPoint(p) < 0) {
          return false;
        }
      }

      return true;
    };
  }(),
  containsPoint: function (point) {
    var planes = this.planes;

    for (var i = 0; i < 6; i++) {
      if (planes[i].distanceToPoint(point) < 0) {
        return false;
      }
    }

    return true;
  }
});
var alphamap_fragment = "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif";
var alphamap_pars_fragment = "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif";
var alphatest_fragment = "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif";
var aomap_fragment = "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif";
var aomap_pars_fragment = "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";
var begin_vertex = "vec3 transformed = vec3( position );";
var beginnormal_vertex = "vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif";
var bsdfs = "vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}";
var bumpmap_pars_fragment = "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif";
var clipping_planes_fragment = "#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif";
var clipping_planes_pars_fragment = "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif";
var clipping_planes_pars_vertex = "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif";
var clipping_planes_vertex = "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif";
var color_fragment = "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif";
var color_pars_fragment = "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";
var color_pars_vertex = "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";
var color_vertex = "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif";
var common = "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}";
var cube_uv_reflection_fragment = "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif";
var defaultnormal_vertex = "vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif";
var displacementmap_pars_vertex = "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif";
var displacementmap_vertex = "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif";
var emissivemap_fragment = "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif";
var emissivemap_pars_fragment = "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif";
var encodings_fragment = "gl_FragColor = linearToOutputTexel( gl_FragColor );";
var encodings_pars_fragment = "\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}";
var envmap_fragment = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif";
var envmap_pars_fragment = "#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif";
var envmap_pars_vertex = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif";
var envmap_vertex = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif";
var fog_vertex = "#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif";
var fog_pars_vertex = "#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif";
var fog_fragment = "#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif";
var fog_pars_fragment = "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif";
var gradientmap_pars_fragment = "#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif";
var lightmap_fragment = "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif";
var lightmap_pars_fragment = "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";
var lights_lambert_vertex = "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif";
var lights_pars_begin = "uniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif";
var envmap_physical_pars_fragment = "#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif";
var lights_phong_fragment = "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;";
var lights_phong_pars_fragment = "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)";
var lights_physical_fragment = "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif";
var lights_physical_pars_fragment = "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}";
var lights_fragment_begin = "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif";
var lights_fragment_maps = "#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif";
var lights_fragment_end = "#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif";
var logdepthbuf_fragment = "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif";
var logdepthbuf_pars_fragment = "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif";
var logdepthbuf_pars_vertex = "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif";
var logdepthbuf_vertex = "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif";
var map_fragment = "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif";
var map_pars_fragment = "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif";
var map_particle_fragment = "#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif";
var map_particle_pars_fragment = "#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif";
var metalnessmap_fragment = "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif";
var metalnessmap_pars_fragment = "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";
var morphnormal_vertex = "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif";
var morphtarget_pars_vertex = "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif";
var morphtarget_vertex = "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif";
var normal_fragment_begin = "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif";
var normal_fragment_maps = "#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif";
var normalmap_pars_fragment = "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif";
var packing = "vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}";
var premultiplied_alpha_fragment = "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif";
var project_vertex = "vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;";
var dithering_fragment = "#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif";
var dithering_pars_fragment = "#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif";
var roughnessmap_fragment = "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif";
var roughnessmap_pars_fragment = "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";
var shadowmap_pars_fragment = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif";
var shadowmap_pars_vertex = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif";
var shadowmap_vertex = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif";
var shadowmask_pars_fragment = "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}";
var skinbase_vertex = "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif";
var skinning_pars_vertex = "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif";
var skinning_vertex = "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif";
var skinnormal_vertex = "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif";
var specularmap_fragment = "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif";
var specularmap_pars_fragment = "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";
var tonemapping_fragment = "#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif";
var tonemapping_pars_fragment = "#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}";
var uv_pars_fragment = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif";
var uv_pars_vertex = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif";
var uv_vertex = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif";
var uv2_pars_fragment = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";
var uv2_pars_vertex = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif";
var uv2_vertex = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif";
var worldpos_vertex = "#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif";
var background_frag = "uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}";
var background_vert = "varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}";
var cube_frag = "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}";
var cube_vert = "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}";
var depth_frag = "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}";
var depth_vert = "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}";
var distanceRGBA_frag = "#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}";
var distanceRGBA_vert = "#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}";
var equirect_frag = "uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}";
var equirect_vert = "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}";
var linedashed_frag = "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}";
var linedashed_vert = "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}";
var meshbasic_frag = "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}";
var meshbasic_vert = "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}";
var meshlambert_frag = "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}";
var meshlambert_vert = "#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}";
var meshmatcap_frag = "#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}";
var meshmatcap_vert = "#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}";
var meshphong_frag = "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}";
var meshphong_vert = "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}";
var meshphysical_frag = "#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}";
var meshphysical_vert = "#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}";
var normal_frag = "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}";
var normal_vert = "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}";
var points_frag = "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}";
var points_vert = "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}";
var shadow_frag = "uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}";
var shadow_vert = "#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}";
var sprite_frag = "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}";
var sprite_vert = "uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}";
var ShaderChunk = {
  alphamap_fragment: alphamap_fragment,
  alphamap_pars_fragment: alphamap_pars_fragment,
  alphatest_fragment: alphatest_fragment,
  aomap_fragment: aomap_fragment,
  aomap_pars_fragment: aomap_pars_fragment,
  begin_vertex: begin_vertex,
  beginnormal_vertex: beginnormal_vertex,
  bsdfs: bsdfs,
  bumpmap_pars_fragment: bumpmap_pars_fragment,
  clipping_planes_fragment: clipping_planes_fragment,
  clipping_planes_pars_fragment: clipping_planes_pars_fragment,
  clipping_planes_pars_vertex: clipping_planes_pars_vertex,
  clipping_planes_vertex: clipping_planes_vertex,
  color_fragment: color_fragment,
  color_pars_fragment: color_pars_fragment,
  color_pars_vertex: color_pars_vertex,
  color_vertex: color_vertex,
  common: common,
  cube_uv_reflection_fragment: cube_uv_reflection_fragment,
  defaultnormal_vertex: defaultnormal_vertex,
  displacementmap_pars_vertex: displacementmap_pars_vertex,
  displacementmap_vertex: displacementmap_vertex,
  emissivemap_fragment: emissivemap_fragment,
  emissivemap_pars_fragment: emissivemap_pars_fragment,
  encodings_fragment: encodings_fragment,
  encodings_pars_fragment: encodings_pars_fragment,
  envmap_fragment: envmap_fragment,
  envmap_pars_fragment: envmap_pars_fragment,
  envmap_pars_vertex: envmap_pars_vertex,
  envmap_physical_pars_fragment: envmap_physical_pars_fragment,
  envmap_vertex: envmap_vertex,
  fog_vertex: fog_vertex,
  fog_pars_vertex: fog_pars_vertex,
  fog_fragment: fog_fragment,
  fog_pars_fragment: fog_pars_fragment,
  gradientmap_pars_fragment: gradientmap_pars_fragment,
  lightmap_fragment: lightmap_fragment,
  lightmap_pars_fragment: lightmap_pars_fragment,
  lights_lambert_vertex: lights_lambert_vertex,
  lights_pars_begin: lights_pars_begin,
  lights_phong_fragment: lights_phong_fragment,
  lights_phong_pars_fragment: lights_phong_pars_fragment,
  lights_physical_fragment: lights_physical_fragment,
  lights_physical_pars_fragment: lights_physical_pars_fragment,
  lights_fragment_begin: lights_fragment_begin,
  lights_fragment_maps: lights_fragment_maps,
  lights_fragment_end: lights_fragment_end,
  logdepthbuf_fragment: logdepthbuf_fragment,
  logdepthbuf_pars_fragment: logdepthbuf_pars_fragment,
  logdepthbuf_pars_vertex: logdepthbuf_pars_vertex,
  logdepthbuf_vertex: logdepthbuf_vertex,
  map_fragment: map_fragment,
  map_pars_fragment: map_pars_fragment,
  map_particle_fragment: map_particle_fragment,
  map_particle_pars_fragment: map_particle_pars_fragment,
  metalnessmap_fragment: metalnessmap_fragment,
  metalnessmap_pars_fragment: metalnessmap_pars_fragment,
  morphnormal_vertex: morphnormal_vertex,
  morphtarget_pars_vertex: morphtarget_pars_vertex,
  morphtarget_vertex: morphtarget_vertex,
  normal_fragment_begin: normal_fragment_begin,
  normal_fragment_maps: normal_fragment_maps,
  normalmap_pars_fragment: normalmap_pars_fragment,
  packing: packing,
  premultiplied_alpha_fragment: premultiplied_alpha_fragment,
  project_vertex: project_vertex,
  dithering_fragment: dithering_fragment,
  dithering_pars_fragment: dithering_pars_fragment,
  roughnessmap_fragment: roughnessmap_fragment,
  roughnessmap_pars_fragment: roughnessmap_pars_fragment,
  shadowmap_pars_fragment: shadowmap_pars_fragment,
  shadowmap_pars_vertex: shadowmap_pars_vertex,
  shadowmap_vertex: shadowmap_vertex,
  shadowmask_pars_fragment: shadowmask_pars_fragment,
  skinbase_vertex: skinbase_vertex,
  skinning_pars_vertex: skinning_pars_vertex,
  skinning_vertex: skinning_vertex,
  skinnormal_vertex: skinnormal_vertex,
  specularmap_fragment: specularmap_fragment,
  specularmap_pars_fragment: specularmap_pars_fragment,
  tonemapping_fragment: tonemapping_fragment,
  tonemapping_pars_fragment: tonemapping_pars_fragment,
  uv_pars_fragment: uv_pars_fragment,
  uv_pars_vertex: uv_pars_vertex,
  uv_vertex: uv_vertex,
  uv2_pars_fragment: uv2_pars_fragment,
  uv2_pars_vertex: uv2_pars_vertex,
  uv2_vertex: uv2_vertex,
  worldpos_vertex: worldpos_vertex,
  background_frag: background_frag,
  background_vert: background_vert,
  cube_frag: cube_frag,
  cube_vert: cube_vert,
  depth_frag: depth_frag,
  depth_vert: depth_vert,
  distanceRGBA_frag: distanceRGBA_frag,
  distanceRGBA_vert: distanceRGBA_vert,
  equirect_frag: equirect_frag,
  equirect_vert: equirect_vert,
  linedashed_frag: linedashed_frag,
  linedashed_vert: linedashed_vert,
  meshbasic_frag: meshbasic_frag,
  meshbasic_vert: meshbasic_vert,
  meshlambert_frag: meshlambert_frag,
  meshlambert_vert: meshlambert_vert,
  meshmatcap_frag: meshmatcap_frag,
  meshmatcap_vert: meshmatcap_vert,
  meshphong_frag: meshphong_frag,
  meshphong_vert: meshphong_vert,
  meshphysical_frag: meshphysical_frag,
  meshphysical_vert: meshphysical_vert,
  normal_frag: normal_frag,
  normal_vert: normal_vert,
  points_frag: points_frag,
  points_vert: points_vert,
  shadow_frag: shadow_frag,
  shadow_vert: shadow_vert,
  sprite_frag: sprite_frag,
  sprite_vert: sprite_vert
};
/**
 * Uniforms library for shared webgl shaders
 */

exports.ShaderChunk = ShaderChunk;
var UniformsLib = {
  common: {
    diffuse: {
      value: new Color(0xeeeeee)
    },
    opacity: {
      value: 1.0
    },
    map: {
      value: null
    },
    uvTransform: {
      value: new Matrix3()
    },
    alphaMap: {
      value: null
    }
  },
  specularmap: {
    specularMap: {
      value: null
    }
  },
  envmap: {
    envMap: {
      value: null
    },
    flipEnvMap: {
      value: -1
    },
    reflectivity: {
      value: 1.0
    },
    refractionRatio: {
      value: 0.98
    },
    maxMipLevel: {
      value: 0
    }
  },
  aomap: {
    aoMap: {
      value: null
    },
    aoMapIntensity: {
      value: 1
    }
  },
  lightmap: {
    lightMap: {
      value: null
    },
    lightMapIntensity: {
      value: 1
    }
  },
  emissivemap: {
    emissiveMap: {
      value: null
    }
  },
  bumpmap: {
    bumpMap: {
      value: null
    },
    bumpScale: {
      value: 1
    }
  },
  normalmap: {
    normalMap: {
      value: null
    },
    normalScale: {
      value: new Vector2(1, 1)
    }
  },
  displacementmap: {
    displacementMap: {
      value: null
    },
    displacementScale: {
      value: 1
    },
    displacementBias: {
      value: 0
    }
  },
  roughnessmap: {
    roughnessMap: {
      value: null
    }
  },
  metalnessmap: {
    metalnessMap: {
      value: null
    }
  },
  gradientmap: {
    gradientMap: {
      value: null
    }
  },
  fog: {
    fogDensity: {
      value: 0.00025
    },
    fogNear: {
      value: 1
    },
    fogFar: {
      value: 2000
    },
    fogColor: {
      value: new Color(0xffffff)
    }
  },
  lights: {
    ambientLightColor: {
      value: []
    },
    lightProbe: {
      value: []
    },
    directionalLights: {
      value: [],
      properties: {
        direction: {},
        color: {},
        shadow: {},
        shadowBias: {},
        shadowRadius: {},
        shadowMapSize: {}
      }
    },
    directionalShadowMap: {
      value: []
    },
    directionalShadowMatrix: {
      value: []
    },
    spotLights: {
      value: [],
      properties: {
        color: {},
        position: {},
        direction: {},
        distance: {},
        coneCos: {},
        penumbraCos: {},
        decay: {},
        shadow: {},
        shadowBias: {},
        shadowRadius: {},
        shadowMapSize: {}
      }
    },
    spotShadowMap: {
      value: []
    },
    spotShadowMatrix: {
      value: []
    },
    pointLights: {
      value: [],
      properties: {
        color: {},
        position: {},
        decay: {},
        distance: {},
        shadow: {},
        shadowBias: {},
        shadowRadius: {},
        shadowMapSize: {},
        shadowCameraNear: {},
        shadowCameraFar: {}
      }
    },
    pointShadowMap: {
      value: []
    },
    pointShadowMatrix: {
      value: []
    },
    hemisphereLights: {
      value: [],
      properties: {
        direction: {},
        skyColor: {},
        groundColor: {}
      }
    },
    // TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src
    rectAreaLights: {
      value: [],
      properties: {
        color: {},
        position: {},
        width: {},
        height: {}
      }
    }
  },
  points: {
    diffuse: {
      value: new Color(0xeeeeee)
    },
    opacity: {
      value: 1.0
    },
    size: {
      value: 1.0
    },
    scale: {
      value: 1.0
    },
    map: {
      value: null
    },
    uvTransform: {
      value: new Matrix3()
    }
  },
  sprite: {
    diffuse: {
      value: new Color(0xeeeeee)
    },
    opacity: {
      value: 1.0
    },
    center: {
      value: new Vector2(0.5, 0.5)
    },
    rotation: {
      value: 0.0
    },
    map: {
      value: null
    },
    uvTransform: {
      value: new Matrix3()
    }
  }
};
/**
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
 * @author mikael emtinger / http://gomo.se/
 */

exports.UniformsLib = UniformsLib;
var ShaderLib = {
  basic: {
    uniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.fog]),
    vertexShader: ShaderChunk.meshbasic_vert,
    fragmentShader: ShaderChunk.meshbasic_frag
  },
  lambert: {
    uniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.fog, UniformsLib.lights, {
      emissive: {
        value: new Color(0x000000)
      }
    }]),
    vertexShader: ShaderChunk.meshlambert_vert,
    fragmentShader: ShaderChunk.meshlambert_frag
  },
  phong: {
    uniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.gradientmap, UniformsLib.fog, UniformsLib.lights, {
      emissive: {
        value: new Color(0x000000)
      },
      specular: {
        value: new Color(0x111111)
      },
      shininess: {
        value: 30
      }
    }]),
    vertexShader: ShaderChunk.meshphong_vert,
    fragmentShader: ShaderChunk.meshphong_frag
  },
  standard: {
    uniforms: mergeUniforms([UniformsLib.common, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.roughnessmap, UniformsLib.metalnessmap, UniformsLib.fog, UniformsLib.lights, {
      emissive: {
        value: new Color(0x000000)
      },
      roughness: {
        value: 0.5
      },
      metalness: {
        value: 0.5
      },
      envMapIntensity: {
        value: 1
      } // temporary

    }]),
    vertexShader: ShaderChunk.meshphysical_vert,
    fragmentShader: ShaderChunk.meshphysical_frag
  },
  matcap: {
    uniforms: mergeUniforms([UniformsLib.common, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.fog, {
      matcap: {
        value: null
      }
    }]),
    vertexShader: ShaderChunk.meshmatcap_vert,
    fragmentShader: ShaderChunk.meshmatcap_frag
  },
  points: {
    uniforms: mergeUniforms([UniformsLib.points, UniformsLib.fog]),
    vertexShader: ShaderChunk.points_vert,
    fragmentShader: ShaderChunk.points_frag
  },
  dashed: {
    uniforms: mergeUniforms([UniformsLib.common, UniformsLib.fog, {
      scale: {
        value: 1
      },
      dashSize: {
        value: 1
      },
      totalSize: {
        value: 2
      }
    }]),
    vertexShader: ShaderChunk.linedashed_vert,
    fragmentShader: ShaderChunk.linedashed_frag
  },
  depth: {
    uniforms: mergeUniforms([UniformsLib.common, UniformsLib.displacementmap]),
    vertexShader: ShaderChunk.depth_vert,
    fragmentShader: ShaderChunk.depth_frag
  },
  normal: {
    uniforms: mergeUniforms([UniformsLib.common, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, {
      opacity: {
        value: 1.0
      }
    }]),
    vertexShader: ShaderChunk.normal_vert,
    fragmentShader: ShaderChunk.normal_frag
  },
  sprite: {
    uniforms: mergeUniforms([UniformsLib.sprite, UniformsLib.fog]),
    vertexShader: ShaderChunk.sprite_vert,
    fragmentShader: ShaderChunk.sprite_frag
  },
  background: {
    uniforms: {
      uvTransform: {
        value: new Matrix3()
      },
      t2D: {
        value: null
      }
    },
    vertexShader: ShaderChunk.background_vert,
    fragmentShader: ShaderChunk.background_frag
  },

  /* -------------------------------------------------------------------------
  //	Cube map shader
   ------------------------------------------------------------------------- */
  cube: {
    uniforms: {
      tCube: {
        value: null
      },
      tFlip: {
        value: -1
      },
      opacity: {
        value: 1.0
      }
    },
    vertexShader: ShaderChunk.cube_vert,
    fragmentShader: ShaderChunk.cube_frag
  },
  equirect: {
    uniforms: {
      tEquirect: {
        value: null
      }
    },
    vertexShader: ShaderChunk.equirect_vert,
    fragmentShader: ShaderChunk.equirect_frag
  },
  distanceRGBA: {
    uniforms: mergeUniforms([UniformsLib.common, UniformsLib.displacementmap, {
      referencePosition: {
        value: new Vector3()
      },
      nearDistance: {
        value: 1
      },
      farDistance: {
        value: 1000
      }
    }]),
    vertexShader: ShaderChunk.distanceRGBA_vert,
    fragmentShader: ShaderChunk.distanceRGBA_frag
  },
  shadow: {
    uniforms: mergeUniforms([UniformsLib.lights, UniformsLib.fog, {
      color: {
        value: new Color(0x00000)
      },
      opacity: {
        value: 1.0
      }
    }]),
    vertexShader: ShaderChunk.shadow_vert,
    fragmentShader: ShaderChunk.shadow_frag
  }
};
exports.ShaderLib = ShaderLib;
ShaderLib.physical = {
  uniforms: mergeUniforms([ShaderLib.standard.uniforms, {
    clearCoat: {
      value: 0
    },
    clearCoatRoughness: {
      value: 0
    }
  }]),
  vertexShader: ShaderChunk.meshphysical_vert,
  fragmentShader: ShaderChunk.meshphysical_frag
};
/**
 * @author mrdoob / http://mrdoob.com/
 */

function WebGLAnimation() {
  var context = null;
  var isAnimating = false;
  var animationLoop = null;

  function onAnimationFrame(time, frame) {
    if (isAnimating === false) return;
    animationLoop(time, frame);
    context.requestAnimationFrame(onAnimationFrame);
  }

  return {
    start: function () {
      if (isAnimating === true) return;
      if (animationLoop === null) return;
      context.requestAnimationFrame(onAnimationFrame);
      isAnimating = true;
    },
    stop: function () {
      isAnimating = false;
    },
    setAnimationLoop: function (callback) {
      animationLoop = callback;
    },
    setContext: function (value) {
      context = value;
    }
  };
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function WebGLAttributes(gl) {
  var buffers = new WeakMap();

  function createBuffer(attribute, bufferType) {
    var array = attribute.array;
    var usage = attribute.dynamic ? 35048 : 35044;
    var buffer = gl.createBuffer();
    gl.bindBuffer(bufferType, buffer);
    gl.bufferData(bufferType, array, usage);
    attribute.onUploadCallback();
    var type = 5126;

    if (array instanceof Float32Array) {
      type = 5126;
    } else if (array instanceof Float64Array) {
      console.warn('THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.');
    } else if (array instanceof Uint16Array) {
      type = 5123;
    } else if (array instanceof Int16Array) {
      type = 5122;
    } else if (array instanceof Uint32Array) {
      type = 5125;
    } else if (array instanceof Int32Array) {
      type = 5124;
    } else if (array instanceof Int8Array) {
      type = 5120;
    } else if (array instanceof Uint8Array) {
      type = 5121;
    }

    return {
      buffer: buffer,
      type: type,
      bytesPerElement: array.BYTES_PER_ELEMENT,
      version: attribute.version
    };
  }

  function updateBuffer(buffer, attribute, bufferType) {
    var array = attribute.array;
    var updateRange = attribute.updateRange;
    gl.bindBuffer(bufferType, buffer);

    if (attribute.dynamic === false) {
      gl.bufferData(bufferType, array, 35044);
    } else if (updateRange.count === -1) {
      // Not using update ranges
      gl.bufferSubData(bufferType, 0, array);
    } else if (updateRange.count === 0) {
      console.error('THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.');
    } else {
      gl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT, array.subarray(updateRange.offset, updateRange.offset + updateRange.count));
      updateRange.count = -1; // reset range
    }
  } //


  function get(attribute) {
    if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;
    return buffers.get(attribute);
  }

  function remove(attribute) {
    if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;
    var data = buffers.get(attribute);

    if (data) {
      gl.deleteBuffer(data.buffer);
      buffers.delete(attribute);
    }
  }

  function update(attribute, bufferType) {
    if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;
    var data = buffers.get(attribute);

    if (data === undefined) {
      buffers.set(attribute, createBuffer(attribute, bufferType));
    } else if (data.version < attribute.version) {
      updateBuffer(data.buffer, attribute, bufferType);
      data.version = attribute.version;
    }
  }

  return {
    get: get,
    remove: remove,
    update: update
  };
}
/**
 * @author mrdoob / http://mrdoob.com/
 * @author Mugen87 / https://github.com/Mugen87
 */
// PlaneGeometry


function PlaneGeometry(width, height, widthSegments, heightSegments) {
  Geometry.call(this);
  this.type = 'PlaneGeometry';
  this.parameters = {
    width: width,
    height: height,
    widthSegments: widthSegments,
    heightSegments: heightSegments
  };
  this.fromBufferGeometry(new PlaneBufferGeometry(width, height, widthSegments, heightSegments));
  this.mergeVertices();
}

PlaneGeometry.prototype = Object.create(Geometry.prototype);
PlaneGeometry.prototype.constructor = PlaneGeometry; // PlaneBufferGeometry

function PlaneBufferGeometry(width, height, widthSegments, heightSegments) {
  BufferGeometry.call(this);
  this.type = 'PlaneBufferGeometry';
  this.parameters = {
    width: width,
    height: height,
    widthSegments: widthSegments,
    heightSegments: heightSegments
  };
  width = width || 1;
  height = height || 1;
  var width_half = width / 2;
  var height_half = height / 2;
  var gridX = Math.floor(widthSegments) || 1;
  var gridY = Math.floor(heightSegments) || 1;
  var gridX1 = gridX + 1;
  var gridY1 = gridY + 1;
  var segment_width = width / gridX;
  var segment_height = height / gridY;
  var ix, iy; // buffers

  var indices = [];
  var vertices = [];
  var normals = [];
  var uvs = []; // generate vertices, normals and uvs

  for (iy = 0; iy < gridY1; iy++) {
    var y = iy * segment_height - height_half;

    for (ix = 0; ix < gridX1; ix++) {
      var x = ix * segment_width - width_half;
      vertices.push(x, -y, 0);
      normals.push(0, 0, 1);
      uvs.push(ix / gridX);
      uvs.push(1 - iy / gridY);
    }
  } // indices


  for (iy = 0; iy < gridY; iy++) {
    for (ix = 0; ix < gridX; ix++) {
      var a = ix + gridX1 * iy;
      var b = ix + gridX1 * (iy + 1);
      var c = ix + 1 + gridX1 * (iy + 1);
      var d = ix + 1 + gridX1 * iy; // faces

      indices.push(a, b, d);
      indices.push(b, c, d);
    }
  } // build geometry


  this.setIndex(indices);
  this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
  this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
}

PlaneBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
PlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;
/**
 * @author mrdoob / http://mrdoob.com/
 */

function WebGLBackground(renderer, state, objects, premultipliedAlpha) {
  var clearColor = new Color(0x000000);
  var clearAlpha = 0;
  var planeMesh;
  var boxMesh; // Store the current background texture and its `version`
  // so we can recompile the material accordingly.

  var currentBackground = null;
  var currentBackgroundVersion = 0;

  function render(renderList, scene, camera, forceClear) {
    var background = scene.background; // Ignore background in AR
    // TODO: Reconsider this.

    var vr = renderer.vr;
    var session = vr.getSession && vr.getSession();

    if (session && session.environmentBlendMode === 'additive') {
      background = null;
    }

    if (background === null) {
      setClear(clearColor, clearAlpha);
      currentBackground = null;
      currentBackgroundVersion = 0;
    } else if (background && background.isColor) {
      setClear(background, 1);
      forceClear = true;
      currentBackground = null;
      currentBackgroundVersion = 0;
    }

    if (renderer.autoClear || forceClear) {
      renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);
    }

    if (background && (background.isCubeTexture || background.isWebGLRenderTargetCube)) {
      if (boxMesh === undefined) {
        boxMesh = new Mesh(new BoxBufferGeometry(1, 1, 1), new ShaderMaterial({
          type: 'BackgroundCubeMaterial',
          uniforms: cloneUniforms(ShaderLib.cube.uniforms),
          vertexShader: ShaderLib.cube.vertexShader,
          fragmentShader: ShaderLib.cube.fragmentShader,
          side: BackSide,
          depthTest: false,
          depthWrite: false,
          fog: false
        }));
        boxMesh.geometry.removeAttribute('normal');
        boxMesh.geometry.removeAttribute('uv');

        boxMesh.onBeforeRender = function (renderer, scene, camera) {
          this.matrixWorld.copyPosition(camera.matrixWorld);
        }; // enable code injection for non-built-in material


        Object.defineProperty(boxMesh.material, 'map', {
          get: function () {
            return this.uniforms.tCube.value;
          }
        });
        objects.update(boxMesh);
      }

      var texture = background.isWebGLRenderTargetCube ? background.texture : background;
      boxMesh.material.uniforms.tCube.value = texture;
      boxMesh.material.uniforms.tFlip.value = background.isWebGLRenderTargetCube ? 1 : -1;

      if (currentBackground !== background || currentBackgroundVersion !== texture.version) {
        boxMesh.material.needsUpdate = true;
        currentBackground = background;
        currentBackgroundVersion = texture.version;
      } // push to the pre-sorted opaque render list


      renderList.unshift(boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null);
    } else if (background && background.isTexture) {
      if (planeMesh === undefined) {
        planeMesh = new Mesh(new PlaneBufferGeometry(2, 2), new ShaderMaterial({
          type: 'BackgroundMaterial',
          uniforms: cloneUniforms(ShaderLib.background.uniforms),
          vertexShader: ShaderLib.background.vertexShader,
          fragmentShader: ShaderLib.background.fragmentShader,
          side: FrontSide,
          depthTest: false,
          depthWrite: false,
          fog: false
        }));
        planeMesh.geometry.removeAttribute('normal'); // enable code injection for non-built-in material

        Object.defineProperty(planeMesh.material, 'map', {
          get: function () {
            return this.uniforms.t2D.value;
          }
        });
        objects.update(planeMesh);
      }

      planeMesh.material.uniforms.t2D.value = background;

      if (background.matrixAutoUpdate === true) {
        background.updateMatrix();
      }

      planeMesh.material.uniforms.uvTransform.value.copy(background.matrix);

      if (currentBackground !== background || currentBackgroundVersion !== background.version) {
        planeMesh.material.needsUpdate = true;
        currentBackground = background;
        currentBackgroundVersion = background.version;
      } // push to the pre-sorted opaque render list


      renderList.unshift(planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null);
    }
  }

  function setClear(color, alpha) {
    state.buffers.color.setClear(color.r, color.g, color.b, alpha, premultipliedAlpha);
  }

  return {
    getClearColor: function () {
      return clearColor;
    },
    setClearColor: function (color, alpha) {
      clearColor.set(color);
      clearAlpha = alpha !== undefined ? alpha : 1;
      setClear(clearColor, clearAlpha);
    },
    getClearAlpha: function () {
      return clearAlpha;
    },
    setClearAlpha: function (alpha) {
      clearAlpha = alpha;
      setClear(clearColor, clearAlpha);
    },
    render: render
  };
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function WebGLBufferRenderer(gl, extensions, info, capabilities) {
  var mode;

  function setMode(value) {
    mode = value;
  }

  function render(start, count) {
    gl.drawArrays(mode, start, count);
    info.update(count, mode);
  }

  function renderInstances(geometry, start, count) {
    var extension;

    if (capabilities.isWebGL2) {
      extension = gl;
    } else {
      extension = extensions.get('ANGLE_instanced_arrays');

      if (extension === null) {
        console.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');
        return;
      }
    }

    extension[capabilities.isWebGL2 ? 'drawArraysInstanced' : 'drawArraysInstancedANGLE'](mode, start, count, geometry.maxInstancedCount);
    info.update(count, mode, geometry.maxInstancedCount);
  } //


  this.setMode = setMode;
  this.render = render;
  this.renderInstances = renderInstances;
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function WebGLCapabilities(gl, extensions, parameters) {
  var maxAnisotropy;

  function getMaxAnisotropy() {
    if (maxAnisotropy !== undefined) return maxAnisotropy;
    var extension = extensions.get('EXT_texture_filter_anisotropic');

    if (extension !== null) {
      maxAnisotropy = gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
    } else {
      maxAnisotropy = 0;
    }

    return maxAnisotropy;
  }

  function getMaxPrecision(precision) {
    if (precision === 'highp') {
      if (gl.getShaderPrecisionFormat(35633, 36338).precision > 0 && gl.getShaderPrecisionFormat(35632, 36338).precision > 0) {
        return 'highp';
      }

      precision = 'mediump';
    }

    if (precision === 'mediump') {
      if (gl.getShaderPrecisionFormat(35633, 36337).precision > 0 && gl.getShaderPrecisionFormat(35632, 36337).precision > 0) {
        return 'mediump';
      }
    }

    return 'lowp';
  }

  var isWebGL2 = typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext;
  var precision = parameters.precision !== undefined ? parameters.precision : 'highp';
  var maxPrecision = getMaxPrecision(precision);

  if (maxPrecision !== precision) {
    console.warn('THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.');
    precision = maxPrecision;
  }

  var logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;
  var maxTextures = gl.getParameter(34930);
  var maxVertexTextures = gl.getParameter(35660);
  var maxTextureSize = gl.getParameter(3379);
  var maxCubemapSize = gl.getParameter(34076);
  var maxAttributes = gl.getParameter(34921);
  var maxVertexUniforms = gl.getParameter(36347);
  var maxVaryings = gl.getParameter(36348);
  var maxFragmentUniforms = gl.getParameter(36349);
  var vertexTextures = maxVertexTextures > 0;
  var floatFragmentTextures = isWebGL2 || !!extensions.get('OES_texture_float');
  var floatVertexTextures = vertexTextures && floatFragmentTextures;
  var maxSamples = isWebGL2 ? gl.getParameter(36183) : 0;
  return {
    isWebGL2: isWebGL2,
    getMaxAnisotropy: getMaxAnisotropy,
    getMaxPrecision: getMaxPrecision,
    precision: precision,
    logarithmicDepthBuffer: logarithmicDepthBuffer,
    maxTextures: maxTextures,
    maxVertexTextures: maxVertexTextures,
    maxTextureSize: maxTextureSize,
    maxCubemapSize: maxCubemapSize,
    maxAttributes: maxAttributes,
    maxVertexUniforms: maxVertexUniforms,
    maxVaryings: maxVaryings,
    maxFragmentUniforms: maxFragmentUniforms,
    vertexTextures: vertexTextures,
    floatFragmentTextures: floatFragmentTextures,
    floatVertexTextures: floatVertexTextures,
    maxSamples: maxSamples
  };
}
/**
 * @author tschw
 */


function WebGLClipping() {
  var scope = this,
      globalState = null,
      numGlobalPlanes = 0,
      localClippingEnabled = false,
      renderingShadows = false,
      plane = new Plane(),
      viewNormalMatrix = new Matrix3(),
      uniform = {
    value: null,
    needsUpdate: false
  };
  this.uniform = uniform;
  this.numPlanes = 0;
  this.numIntersection = 0;

  this.init = function (planes, enableLocalClipping, camera) {
    var enabled = planes.length !== 0 || enableLocalClipping || // enable state of previous frame - the clipping code has to
    // run another frame in order to reset the state:
    numGlobalPlanes !== 0 || localClippingEnabled;
    localClippingEnabled = enableLocalClipping;
    globalState = projectPlanes(planes, camera, 0);
    numGlobalPlanes = planes.length;
    return enabled;
  };

  this.beginShadows = function () {
    renderingShadows = true;
    projectPlanes(null);
  };

  this.endShadows = function () {
    renderingShadows = false;
    resetGlobalState();
  };

  this.setState = function (planes, clipIntersection, clipShadows, camera, cache, fromCache) {
    if (!localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && !clipShadows) {
      // there's no local clipping
      if (renderingShadows) {
        // there's no global clipping
        projectPlanes(null);
      } else {
        resetGlobalState();
      }
    } else {
      var nGlobal = renderingShadows ? 0 : numGlobalPlanes,
          lGlobal = nGlobal * 4,
          dstArray = cache.clippingState || null;
      uniform.value = dstArray; // ensure unique state

      dstArray = projectPlanes(planes, camera, lGlobal, fromCache);

      for (var i = 0; i !== lGlobal; ++i) {
        dstArray[i] = globalState[i];
      }

      cache.clippingState = dstArray;
      this.numIntersection = clipIntersection ? this.numPlanes : 0;
      this.numPlanes += nGlobal;
    }
  };

  function resetGlobalState() {
    if (uniform.value !== globalState) {
      uniform.value = globalState;
      uniform.needsUpdate = numGlobalPlanes > 0;
    }

    scope.numPlanes = numGlobalPlanes;
    scope.numIntersection = 0;
  }

  function projectPlanes(planes, camera, dstOffset, skipTransform) {
    var nPlanes = planes !== null ? planes.length : 0,
        dstArray = null;

    if (nPlanes !== 0) {
      dstArray = uniform.value;

      if (skipTransform !== true || dstArray === null) {
        var flatSize = dstOffset + nPlanes * 4,
            viewMatrix = camera.matrixWorldInverse;
        viewNormalMatrix.getNormalMatrix(viewMatrix);

        if (dstArray === null || dstArray.length < flatSize) {
          dstArray = new Float32Array(flatSize);
        }

        for (var i = 0, i4 = dstOffset; i !== nPlanes; ++i, i4 += 4) {
          plane.copy(planes[i]).applyMatrix4(viewMatrix, viewNormalMatrix);
          plane.normal.toArray(dstArray, i4);
          dstArray[i4 + 3] = plane.constant;
        }
      }

      uniform.value = dstArray;
      uniform.needsUpdate = true;
    }

    scope.numPlanes = nPlanes;
    return dstArray;
  }
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function WebGLExtensions(gl) {
  var extensions = {};
  return {
    get: function (name) {
      if (extensions[name] !== undefined) {
        return extensions[name];
      }

      var extension;

      switch (name) {
        case 'WEBGL_depth_texture':
          extension = gl.getExtension('WEBGL_depth_texture') || gl.getExtension('MOZ_WEBGL_depth_texture') || gl.getExtension('WEBKIT_WEBGL_depth_texture');
          break;

        case 'EXT_texture_filter_anisotropic':
          extension = gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('MOZ_EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');
          break;

        case 'WEBGL_compressed_texture_s3tc':
          extension = gl.getExtension('WEBGL_compressed_texture_s3tc') || gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');
          break;

        case 'WEBGL_compressed_texture_pvrtc':
          extension = gl.getExtension('WEBGL_compressed_texture_pvrtc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');
          break;

        default:
          extension = gl.getExtension(name);
      }

      if (extension === null) {
        console.warn('THREE.WebGLRenderer: ' + name + ' extension not supported.');
      }

      extensions[name] = extension;
      return extension;
    }
  };
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function WebGLGeometries(gl, attributes, info) {
  var geometries = {};
  var wireframeAttributes = {};

  function onGeometryDispose(event) {
    var geometry = event.target;
    var buffergeometry = geometries[geometry.id];

    if (buffergeometry.index !== null) {
      attributes.remove(buffergeometry.index);
    }

    for (var name in buffergeometry.attributes) {
      attributes.remove(buffergeometry.attributes[name]);
    }

    geometry.removeEventListener('dispose', onGeometryDispose);
    delete geometries[geometry.id];
    var attribute = wireframeAttributes[buffergeometry.id];

    if (attribute) {
      attributes.remove(attribute);
      delete wireframeAttributes[buffergeometry.id];
    } //


    info.memory.geometries--;
  }

  function get(object, geometry) {
    var buffergeometry = geometries[geometry.id];
    if (buffergeometry) return buffergeometry;
    geometry.addEventListener('dispose', onGeometryDispose);

    if (geometry.isBufferGeometry) {
      buffergeometry = geometry;
    } else if (geometry.isGeometry) {
      if (geometry._bufferGeometry === undefined) {
        geometry._bufferGeometry = new BufferGeometry().setFromObject(object);
      }

      buffergeometry = geometry._bufferGeometry;
    }

    geometries[geometry.id] = buffergeometry;
    info.memory.geometries++;
    return buffergeometry;
  }

  function update(geometry) {
    var index = geometry.index;
    var geometryAttributes = geometry.attributes;

    if (index !== null) {
      attributes.update(index, 34963);
    }

    for (var name in geometryAttributes) {
      attributes.update(geometryAttributes[name], 34962);
    } // morph targets


    var morphAttributes = geometry.morphAttributes;

    for (var name in morphAttributes) {
      var array = morphAttributes[name];

      for (var i = 0, l = array.length; i < l; i++) {
        attributes.update(array[i], 34962);
      }
    }
  }

  function updateWireframeAttribute(geometry) {
    var indices = [];
    var geometryIndex = geometry.index;
    var geometryPosition = geometry.attributes.position;
    var version = 0;

    if (geometryIndex !== null) {
      var array = geometryIndex.array;
      version = geometryIndex.version;

      for (var i = 0, l = array.length; i < l; i += 3) {
        var a = array[i + 0];
        var b = array[i + 1];
        var c = array[i + 2];
        indices.push(a, b, b, c, c, a);
      }
    } else {
      var array = geometryPosition.array;
      version = geometryPosition.version;

      for (var i = 0, l = array.length / 3 - 1; i < l; i += 3) {
        var a = i + 0;
        var b = i + 1;
        var c = i + 2;
        indices.push(a, b, b, c, c, a);
      }
    }

    var attribute = new (arrayMax(indices) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute)(indices, 1);
    attribute.version = version;
    attributes.update(attribute, 34963); //

    var previousAttribute = wireframeAttributes[geometry.id];
    if (previousAttribute) attributes.remove(previousAttribute); //

    wireframeAttributes[geometry.id] = attribute;
  }

  function getWireframeAttribute(geometry) {
    var currentAttribute = wireframeAttributes[geometry.id];

    if (currentAttribute) {
      var geometryIndex = geometry.index;

      if (geometryIndex !== null) {
        // if the attribute is obsolete, create a new one
        if (currentAttribute.version < geometryIndex.version) {
          updateWireframeAttribute(geometry);
        }
      }
    } else {
      updateWireframeAttribute(geometry);
    }

    return wireframeAttributes[geometry.id];
  }

  return {
    get: get,
    update: update,
    getWireframeAttribute: getWireframeAttribute
  };
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function WebGLIndexedBufferRenderer(gl, extensions, info, capabilities) {
  var mode;

  function setMode(value) {
    mode = value;
  }

  var type, bytesPerElement;

  function setIndex(value) {
    type = value.type;
    bytesPerElement = value.bytesPerElement;
  }

  function render(start, count) {
    gl.drawElements(mode, count, type, start * bytesPerElement);
    info.update(count, mode);
  }

  function renderInstances(geometry, start, count) {
    var extension;

    if (capabilities.isWebGL2) {
      extension = gl;
    } else {
      var extension = extensions.get('ANGLE_instanced_arrays');

      if (extension === null) {
        console.error('THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');
        return;
      }
    }

    extension[capabilities.isWebGL2 ? 'drawElementsInstanced' : 'drawElementsInstancedANGLE'](mode, count, type, start * bytesPerElement, geometry.maxInstancedCount);
    info.update(count, mode, geometry.maxInstancedCount);
  } //


  this.setMode = setMode;
  this.setIndex = setIndex;
  this.render = render;
  this.renderInstances = renderInstances;
}
/**
 * @author Mugen87 / https://github.com/Mugen87
 */


function WebGLInfo(gl) {
  var memory = {
    geometries: 0,
    textures: 0
  };
  var render = {
    frame: 0,
    calls: 0,
    triangles: 0,
    points: 0,
    lines: 0
  };

  function update(count, mode, instanceCount) {
    instanceCount = instanceCount || 1;
    render.calls++;

    switch (mode) {
      case 4:
        render.triangles += instanceCount * (count / 3);
        break;

      case 5:
      case 6:
        render.triangles += instanceCount * (count - 2);
        break;

      case 1:
        render.lines += instanceCount * (count / 2);
        break;

      case 3:
        render.lines += instanceCount * (count - 1);
        break;

      case 2:
        render.lines += instanceCount * count;
        break;

      case 0:
        render.points += instanceCount * count;
        break;

      default:
        console.error('THREE.WebGLInfo: Unknown draw mode:', mode);
        break;
    }
  }

  function reset() {
    render.frame++;
    render.calls = 0;
    render.triangles = 0;
    render.points = 0;
    render.lines = 0;
  }

  return {
    memory: memory,
    render: render,
    programs: null,
    autoReset: true,
    reset: reset,
    update: update
  };
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function absNumericalSort(a, b) {
  return Math.abs(b[1]) - Math.abs(a[1]);
}

function WebGLMorphtargets(gl) {
  var influencesList = {};
  var morphInfluences = new Float32Array(8);

  function update(object, geometry, material, program) {
    var objectInfluences = object.morphTargetInfluences;
    var length = objectInfluences.length;
    var influences = influencesList[geometry.id];

    if (influences === undefined) {
      // initialise list
      influences = [];

      for (var i = 0; i < length; i++) {
        influences[i] = [i, 0];
      }

      influencesList[geometry.id] = influences;
    }

    var morphTargets = material.morphTargets && geometry.morphAttributes.position;
    var morphNormals = material.morphNormals && geometry.morphAttributes.normal; // Remove current morphAttributes

    for (var i = 0; i < length; i++) {
      var influence = influences[i];

      if (influence[1] !== 0) {
        if (morphTargets) geometry.removeAttribute('morphTarget' + i);
        if (morphNormals) geometry.removeAttribute('morphNormal' + i);
      }
    } // Collect influences


    for (var i = 0; i < length; i++) {
      var influence = influences[i];
      influence[0] = i;
      influence[1] = objectInfluences[i];
    }

    influences.sort(absNumericalSort); // Add morphAttributes

    for (var i = 0; i < 8; i++) {
      var influence = influences[i];

      if (influence) {
        var index = influence[0];
        var value = influence[1];

        if (value) {
          if (morphTargets) geometry.addAttribute('morphTarget' + i, morphTargets[index]);
          if (morphNormals) geometry.addAttribute('morphNormal' + i, morphNormals[index]);
          morphInfluences[i] = value;
          continue;
        }
      }

      morphInfluences[i] = 0;
    }

    program.getUniforms().setValue(gl, 'morphTargetInfluences', morphInfluences);
  }

  return {
    update: update
  };
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function WebGLObjects(geometries, info) {
  var updateList = {};

  function update(object) {
    var frame = info.render.frame;
    var geometry = object.geometry;
    var buffergeometry = geometries.get(object, geometry); // Update once per frame

    if (updateList[buffergeometry.id] !== frame) {
      if (geometry.isGeometry) {
        buffergeometry.updateFromObject(object);
      }

      geometries.update(buffergeometry);
      updateList[buffergeometry.id] = frame;
    }

    return buffergeometry;
  }

  function dispose() {
    updateList = {};
  }

  return {
    update: update,
    dispose: dispose
  };
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function CubeTexture(images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {
  images = images !== undefined ? images : [];
  mapping = mapping !== undefined ? mapping : CubeReflectionMapping;
  format = format !== undefined ? format : RGBFormat;
  Texture.call(this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);
  this.flipY = false;
}

CubeTexture.prototype = Object.create(Texture.prototype);
CubeTexture.prototype.constructor = CubeTexture;
CubeTexture.prototype.isCubeTexture = true;
Object.defineProperty(CubeTexture.prototype, 'images', {
  get: function () {
    return this.image;
  },
  set: function (value) {
    this.image = value;
  }
});
/**
 * @author Takahiro https://github.com/takahirox
 */

function DataTexture2DArray(data, width, height, depth) {
  Texture.call(this, null);
  this.image = {
    data: data,
    width: width,
    height: height,
    depth: depth
  };
  this.magFilter = NearestFilter;
  this.minFilter = NearestFilter;
  this.wrapR = ClampToEdgeWrapping;
  this.generateMipmaps = false;
  this.flipY = false;
}

DataTexture2DArray.prototype = Object.create(Texture.prototype);
DataTexture2DArray.prototype.constructor = DataTexture2DArray;
DataTexture2DArray.prototype.isDataTexture2DArray = true;
/**
 * @author Artur Trzesiok
 */

function DataTexture3D(data, width, height, depth) {
  // We're going to add .setXXX() methods for setting properties later.
  // Users can still set in DataTexture3D directly.
  //
  //	var texture = new THREE.DataTexture3D( data, width, height, depth );
  // 	texture.anisotropy = 16;
  //
  // See #14839
  Texture.call(this, null);
  this.image = {
    data: data,
    width: width,
    height: height,
    depth: depth
  };
  this.magFilter = NearestFilter;
  this.minFilter = NearestFilter;
  this.wrapR = ClampToEdgeWrapping;
  this.generateMipmaps = false;
  this.flipY = false;
}

DataTexture3D.prototype = Object.create(Texture.prototype);
DataTexture3D.prototype.constructor = DataTexture3D;
DataTexture3D.prototype.isDataTexture3D = true;
/**
 * @author tschw
 * @author Mugen87 / https://github.com/Mugen87
 * @author mrdoob / http://mrdoob.com/
 *
 * Uniforms of a program.
 * Those form a tree structure with a special top-level container for the root,
 * which you get by calling 'new WebGLUniforms( gl, program )'.
 *
 *
 * Properties of inner nodes including the top-level container:
 *
 * .seq - array of nested uniforms
 * .map - nested uniforms by name
 *
 *
 * Methods of all nodes except the top-level container:
 *
 * .setValue( gl, value, [textures] )
 *
 * 		uploads a uniform value(s)
 *  	the 'textures' parameter is needed for sampler uniforms
 *
 *
 * Static methods of the top-level container (textures factorizations):
 *
 * .upload( gl, seq, values, textures )
 *
 * 		sets uniforms in 'seq' to 'values[id].value'
 *
 * .seqWithValue( seq, values ) : filteredSeq
 *
 * 		filters 'seq' entries with corresponding entry in values
 *
 *
 * Methods of the top-level container (textures factorizations):
 *
 * .setValue( gl, name, value, textures )
 *
 * 		sets uniform with  name 'name' to 'value'
 *
 * .setOptional( gl, obj, prop )
 *
 * 		like .set for an optional property of the object
 *
 */

var emptyTexture = new Texture();
var emptyTexture2dArray = new DataTexture2DArray();
var emptyTexture3d = new DataTexture3D();
var emptyCubeTexture = new CubeTexture(); // --- Utilities ---
// Array Caches (provide typed arrays for temporary by size)

var arrayCacheF32 = [];
var arrayCacheI32 = []; // Float32Array caches used for uploading Matrix uniforms

var mat4array = new Float32Array(16);
var mat3array = new Float32Array(9);
var mat2array = new Float32Array(4); // Flattening for arrays of vectors and matrices

function flatten(array, nBlocks, blockSize) {
  var firstElem = array[0];
  if (firstElem <= 0 || firstElem > 0) return array; // unoptimized: ! isNaN( firstElem )
  // see http://jacksondunstan.com/articles/983

  var n = nBlocks * blockSize,
      r = arrayCacheF32[n];

  if (r === undefined) {
    r = new Float32Array(n);
    arrayCacheF32[n] = r;
  }

  if (nBlocks !== 0) {
    firstElem.toArray(r, 0);

    for (var i = 1, offset = 0; i !== nBlocks; ++i) {
      offset += blockSize;
      array[i].toArray(r, offset);
    }
  }

  return r;
}

function arraysEqual(a, b) {
  if (a.length !== b.length) return false;

  for (var i = 0, l = a.length; i < l; i++) {
    if (a[i] !== b[i]) return false;
  }

  return true;
}

function copyArray(a, b) {
  for (var i = 0, l = b.length; i < l; i++) {
    a[i] = b[i];
  }
} // Texture unit allocation


function allocTexUnits(textures, n) {
  var r = arrayCacheI32[n];

  if (r === undefined) {
    r = new Int32Array(n);
    arrayCacheI32[n] = r;
  }

  for (var i = 0; i !== n; ++i) r[i] = textures.allocateTextureUnit();

  return r;
} // --- Setters ---
// Note: Defining these methods externally, because they come in a bunch
// and this way their names minify.
// Single scalar


function setValueV1f(gl, v) {
  var cache = this.cache;
  if (cache[0] === v) return;
  gl.uniform1f(this.addr, v);
  cache[0] = v;
} // Single float vector (from flat array or THREE.VectorN)


function setValueV2f(gl, v) {
  var cache = this.cache;

  if (v.x !== undefined) {
    if (cache[0] !== v.x || cache[1] !== v.y) {
      gl.uniform2f(this.addr, v.x, v.y);
      cache[0] = v.x;
      cache[1] = v.y;
    }
  } else {
    if (arraysEqual(cache, v)) return;
    gl.uniform2fv(this.addr, v);
    copyArray(cache, v);
  }
}

function setValueV3f(gl, v) {
  var cache = this.cache;

  if (v.x !== undefined) {
    if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z) {
      gl.uniform3f(this.addr, v.x, v.y, v.z);
      cache[0] = v.x;
      cache[1] = v.y;
      cache[2] = v.z;
    }
  } else if (v.r !== undefined) {
    if (cache[0] !== v.r || cache[1] !== v.g || cache[2] !== v.b) {
      gl.uniform3f(this.addr, v.r, v.g, v.b);
      cache[0] = v.r;
      cache[1] = v.g;
      cache[2] = v.b;
    }
  } else {
    if (arraysEqual(cache, v)) return;
    gl.uniform3fv(this.addr, v);
    copyArray(cache, v);
  }
}

function setValueV4f(gl, v) {
  var cache = this.cache;

  if (v.x !== undefined) {
    if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z || cache[3] !== v.w) {
      gl.uniform4f(this.addr, v.x, v.y, v.z, v.w);
      cache[0] = v.x;
      cache[1] = v.y;
      cache[2] = v.z;
      cache[3] = v.w;
    }
  } else {
    if (arraysEqual(cache, v)) return;
    gl.uniform4fv(this.addr, v);
    copyArray(cache, v);
  }
} // Single matrix (from flat array or MatrixN)


function setValueM2(gl, v) {
  var cache = this.cache;
  var elements = v.elements;

  if (elements === undefined) {
    if (arraysEqual(cache, v)) return;
    gl.uniformMatrix2fv(this.addr, false, v);
    copyArray(cache, v);
  } else {
    if (arraysEqual(cache, elements)) return;
    mat2array.set(elements);
    gl.uniformMatrix2fv(this.addr, false, mat2array);
    copyArray(cache, elements);
  }
}

function setValueM3(gl, v) {
  var cache = this.cache;
  var elements = v.elements;

  if (elements === undefined) {
    if (arraysEqual(cache, v)) return;
    gl.uniformMatrix3fv(this.addr, false, v);
    copyArray(cache, v);
  } else {
    if (arraysEqual(cache, elements)) return;
    mat3array.set(elements);
    gl.uniformMatrix3fv(this.addr, false, mat3array);
    copyArray(cache, elements);
  }
}

function setValueM4(gl, v) {
  var cache = this.cache;
  var elements = v.elements;

  if (elements === undefined) {
    if (arraysEqual(cache, v)) return;
    gl.uniformMatrix4fv(this.addr, false, v);
    copyArray(cache, v);
  } else {
    if (arraysEqual(cache, elements)) return;
    mat4array.set(elements);
    gl.uniformMatrix4fv(this.addr, false, mat4array);
    copyArray(cache, elements);
  }
} // Single texture (2D / Cube)


function setValueT1(gl, v, textures) {
  var cache = this.cache;
  var unit = textures.allocateTextureUnit();

  if (cache[0] !== unit) {
    gl.uniform1i(this.addr, unit);
    cache[0] = unit;
  }

  textures.safeSetTexture2D(v || emptyTexture, unit);
}

function setValueT2DArray1(gl, v, textures) {
  var cache = this.cache;
  var unit = textures.allocateTextureUnit();

  if (cache[0] !== unit) {
    gl.uniform1i(this.addr, unit);
    cache[0] = unit;
  }

  textures.setTexture2DArray(v || emptyTexture2dArray, unit);
}

function setValueT3D1(gl, v, textures) {
  var cache = this.cache;
  var unit = textures.allocateTextureUnit();

  if (cache[0] !== unit) {
    gl.uniform1i(this.addr, unit);
    cache[0] = unit;
  }

  textures.setTexture3D(v || emptyTexture3d, unit);
}

function setValueT6(gl, v, textures) {
  var cache = this.cache;
  var unit = textures.allocateTextureUnit();

  if (cache[0] !== unit) {
    gl.uniform1i(this.addr, unit);
    cache[0] = unit;
  }

  textures.safeSetTextureCube(v || emptyCubeTexture, unit);
} // Integer / Boolean vectors or arrays thereof (always flat arrays)


function setValueV1i(gl, v) {
  var cache = this.cache;
  if (cache[0] === v) return;
  gl.uniform1i(this.addr, v);
  cache[0] = v;
}

function setValueV2i(gl, v) {
  var cache = this.cache;
  if (arraysEqual(cache, v)) return;
  gl.uniform2iv(this.addr, v);
  copyArray(cache, v);
}

function setValueV3i(gl, v) {
  var cache = this.cache;
  if (arraysEqual(cache, v)) return;
  gl.uniform3iv(this.addr, v);
  copyArray(cache, v);
}

function setValueV4i(gl, v) {
  var cache = this.cache;
  if (arraysEqual(cache, v)) return;
  gl.uniform4iv(this.addr, v);
  copyArray(cache, v);
} // Helper to pick the right setter for the singular case


function getSingularSetter(type) {
  switch (type) {
    case 0x1406:
      return setValueV1f;
    // FLOAT

    case 0x8b50:
      return setValueV2f;
    // _VEC2

    case 0x8b51:
      return setValueV3f;
    // _VEC3

    case 0x8b52:
      return setValueV4f;
    // _VEC4

    case 0x8b5a:
      return setValueM2;
    // _MAT2

    case 0x8b5b:
      return setValueM3;
    // _MAT3

    case 0x8b5c:
      return setValueM4;
    // _MAT4

    case 0x8b5e:
    case 0x8d66:
      return setValueT1;
    // SAMPLER_2D, SAMPLER_EXTERNAL_OES

    case 0x8b5f:
      return setValueT3D1;
    // SAMPLER_3D

    case 0x8b60:
      return setValueT6;
    // SAMPLER_CUBE

    case 0x8DC1:
      return setValueT2DArray1;
    // SAMPLER_2D_ARRAY

    case 0x1404:
    case 0x8b56:
      return setValueV1i;
    // INT, BOOL

    case 0x8b53:
    case 0x8b57:
      return setValueV2i;
    // _VEC2

    case 0x8b54:
    case 0x8b58:
      return setValueV3i;
    // _VEC3

    case 0x8b55:
    case 0x8b59:
      return setValueV4i;
    // _VEC4
  }
} // Array of scalars


function setValueV1fArray(gl, v) {
  gl.uniform1fv(this.addr, v);
} // Integer / Boolean vectors or arrays thereof (always flat arrays)


function setValueV1iArray(gl, v) {
  gl.uniform1iv(this.addr, v);
}

function setValueV2iArray(gl, v) {
  gl.uniform2iv(this.addr, v);
}

function setValueV3iArray(gl, v) {
  gl.uniform3iv(this.addr, v);
}

function setValueV4iArray(gl, v) {
  gl.uniform4iv(this.addr, v);
} // Array of vectors (flat or from THREE classes)


function setValueV2fArray(gl, v) {
  var data = flatten(v, this.size, 2);
  gl.uniform2fv(this.addr, data);
}

function setValueV3fArray(gl, v) {
  var data = flatten(v, this.size, 3);
  gl.uniform3fv(this.addr, data);
}

function setValueV4fArray(gl, v) {
  var data = flatten(v, this.size, 4);
  gl.uniform4fv(this.addr, data);
} // Array of matrices (flat or from THREE clases)


function setValueM2Array(gl, v) {
  var data = flatten(v, this.size, 4);
  gl.uniformMatrix2fv(this.addr, false, data);
}

function setValueM3Array(gl, v) {
  var data = flatten(v, this.size, 9);
  gl.uniformMatrix3fv(this.addr, false, data);
}

function setValueM4Array(gl, v) {
  var data = flatten(v, this.size, 16);
  gl.uniformMatrix4fv(this.addr, false, data);
} // Array of textures (2D / Cube)


function setValueT1Array(gl, v, textures) {
  var n = v.length;
  var units = allocTexUnits(textures, n);
  gl.uniform1iv(this.addr, units);

  for (var i = 0; i !== n; ++i) {
    textures.safeSetTexture2D(v[i] || emptyTexture, units[i]);
  }
}

function setValueT6Array(gl, v, textures) {
  var n = v.length;
  var units = allocTexUnits(textures, n);
  gl.uniform1iv(this.addr, units);

  for (var i = 0; i !== n; ++i) {
    textures.safeSetTextureCube(v[i] || emptyCubeTexture, units[i]);
  }
} // Helper to pick the right setter for a pure (bottom-level) array


function getPureArraySetter(type) {
  switch (type) {
    case 0x1406:
      return setValueV1fArray;
    // FLOAT

    case 0x8b50:
      return setValueV2fArray;
    // _VEC2

    case 0x8b51:
      return setValueV3fArray;
    // _VEC3

    case 0x8b52:
      return setValueV4fArray;
    // _VEC4

    case 0x8b5a:
      return setValueM2Array;
    // _MAT2

    case 0x8b5b:
      return setValueM3Array;
    // _MAT3

    case 0x8b5c:
      return setValueM4Array;
    // _MAT4

    case 0x8b5e:
      return setValueT1Array;
    // SAMPLER_2D

    case 0x8b60:
      return setValueT6Array;
    // SAMPLER_CUBE

    case 0x1404:
    case 0x8b56:
      return setValueV1iArray;
    // INT, BOOL

    case 0x8b53:
    case 0x8b57:
      return setValueV2iArray;
    // _VEC2

    case 0x8b54:
    case 0x8b58:
      return setValueV3iArray;
    // _VEC3

    case 0x8b55:
    case 0x8b59:
      return setValueV4iArray;
    // _VEC4
  }
} // --- Uniform Classes ---


function SingleUniform(id, activeInfo, addr) {
  this.id = id;
  this.addr = addr;
  this.cache = [];
  this.setValue = getSingularSetter(activeInfo.type); // this.path = activeInfo.name; // DEBUG
}

function PureArrayUniform(id, activeInfo, addr) {
  this.id = id;
  this.addr = addr;
  this.cache = [];
  this.size = activeInfo.size;
  this.setValue = getPureArraySetter(activeInfo.type); // this.path = activeInfo.name; // DEBUG
}

PureArrayUniform.prototype.updateCache = function (data) {
  var cache = this.cache;

  if (data instanceof Float32Array && cache.length !== data.length) {
    this.cache = new Float32Array(data.length);
  }

  copyArray(cache, data);
};

function StructuredUniform(id) {
  this.id = id;
  this.seq = [];
  this.map = {};
}

StructuredUniform.prototype.setValue = function (gl, value, textures) {
  var seq = this.seq;

  for (var i = 0, n = seq.length; i !== n; ++i) {
    var u = seq[i];
    u.setValue(gl, value[u.id], textures);
  }
}; // --- Top-level ---
// Parser - builds up the property tree from the path strings


var RePathPart = /([\w\d_]+)(\])?(\[|\.)?/g; // extracts
// 	- the identifier (member name or array index)
//  - followed by an optional right bracket (found when array index)
//  - followed by an optional left bracket or dot (type of subscript)
//
// Note: These portions can be read in a non-overlapping fashion and
// allow straightforward parsing of the hierarchy that WebGL encodes
// in the uniform names.

function addUniform(container, uniformObject) {
  container.seq.push(uniformObject);
  container.map[uniformObject.id] = uniformObject;
}

function parseUniform(activeInfo, addr, container) {
  var path = activeInfo.name,
      pathLength = path.length; // reset RegExp object, because of the early exit of a previous run

  RePathPart.lastIndex = 0;

  while (true) {
    var match = RePathPart.exec(path),
        matchEnd = RePathPart.lastIndex,
        id = match[1],
        idIsIndex = match[2] === ']',
        subscript = match[3];
    if (idIsIndex) id = id | 0; // convert to integer

    if (subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength) {
      // bare name or "pure" bottom-level array "[0]" suffix
      addUniform(container, subscript === undefined ? new SingleUniform(id, activeInfo, addr) : new PureArrayUniform(id, activeInfo, addr));
      break;
    } else {
      // step into inner node / create it in case it doesn't exist
      var map = container.map,
          next = map[id];

      if (next === undefined) {
        next = new StructuredUniform(id);
        addUniform(container, next);
      }

      container = next;
    }
  }
} // Root Container


function WebGLUniforms(gl, program) {
  this.seq = [];
  this.map = {};
  var n = gl.getProgramParameter(program, 35718);

  for (var i = 0; i < n; ++i) {
    var info = gl.getActiveUniform(program, i),
        addr = gl.getUniformLocation(program, info.name);
    parseUniform(info, addr, this);
  }
}

WebGLUniforms.prototype.setValue = function (gl, name, value, textures) {
  var u = this.map[name];
  if (u !== undefined) u.setValue(gl, value, textures);
};

WebGLUniforms.prototype.setOptional = function (gl, object, name) {
  var v = object[name];
  if (v !== undefined) this.setValue(gl, name, v);
}; // Static interface


WebGLUniforms.upload = function (gl, seq, values, textures) {
  for (var i = 0, n = seq.length; i !== n; ++i) {
    var u = seq[i],
        v = values[u.id];

    if (v.needsUpdate !== false) {
      // note: always updating when .needsUpdate is undefined
      u.setValue(gl, v.value, textures);
    }
  }
};

WebGLUniforms.seqWithValue = function (seq, values) {
  var r = [];

  for (var i = 0, n = seq.length; i !== n; ++i) {
    var u = seq[i];
    if (u.id in values) r.push(u);
  }

  return r;
};
/**
 * @author mrdoob / http://mrdoob.com/
 */


function WebGLShader(gl, type, string) {
  var shader = gl.createShader(type);
  gl.shaderSource(shader, string);
  gl.compileShader(shader);
  return shader;
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


var programIdCount = 0;

function addLineNumbers(string) {
  var lines = string.split('\n');

  for (var i = 0; i < lines.length; i++) {
    lines[i] = i + 1 + ': ' + lines[i];
  }

  return lines.join('\n');
}

function getEncodingComponents(encoding) {
  switch (encoding) {
    case LinearEncoding:
      return ['Linear', '( value )'];

    case sRGBEncoding:
      return ['sRGB', '( value )'];

    case RGBEEncoding:
      return ['RGBE', '( value )'];

    case RGBM7Encoding:
      return ['RGBM', '( value, 7.0 )'];

    case RGBM16Encoding:
      return ['RGBM', '( value, 16.0 )'];

    case RGBDEncoding:
      return ['RGBD', '( value, 256.0 )'];

    case GammaEncoding:
      return ['Gamma', '( value, float( GAMMA_FACTOR ) )'];

    default:
      throw new Error('unsupported encoding: ' + encoding);
  }
}

function getShaderErrors(gl, shader, type) {
  var status = gl.getShaderParameter(shader, 35713);
  var log = gl.getShaderInfoLog(shader).trim();
  if (status && log === '') return ''; // --enable-privileged-webgl-extension
  // console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );

  var source = gl.getShaderSource(shader);
  return 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\n' + log + addLineNumbers(source);
}

function getTexelDecodingFunction(functionName, encoding) {
  var components = getEncodingComponents(encoding);
  return 'vec4 ' + functionName + '( vec4 value ) { return ' + components[0] + 'ToLinear' + components[1] + '; }';
}

function getTexelEncodingFunction(functionName, encoding) {
  var components = getEncodingComponents(encoding);
  return 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[0] + components[1] + '; }';
}

function getToneMappingFunction(functionName, toneMapping) {
  var toneMappingName;

  switch (toneMapping) {
    case LinearToneMapping:
      toneMappingName = 'Linear';
      break;

    case ReinhardToneMapping:
      toneMappingName = 'Reinhard';
      break;

    case Uncharted2ToneMapping:
      toneMappingName = 'Uncharted2';
      break;

    case CineonToneMapping:
      toneMappingName = 'OptimizedCineon';
      break;

    case ACESFilmicToneMapping:
      toneMappingName = 'ACESFilmic';
      break;

    default:
      throw new Error('unsupported toneMapping: ' + toneMapping);
  }

  return 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';
}

function generateExtensions(extensions, parameters, rendererExtensions) {
  extensions = extensions || {};
  var chunks = [extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.normalMap && !parameters.objectSpaceNormalMap || parameters.flatShading ? '#extension GL_OES_standard_derivatives : enable' : '', (extensions.fragDepth || parameters.logarithmicDepthBuffer) && rendererExtensions.get('EXT_frag_depth') ? '#extension GL_EXT_frag_depth : enable' : '', extensions.drawBuffers && rendererExtensions.get('WEBGL_draw_buffers') ? '#extension GL_EXT_draw_buffers : require' : '', (extensions.shaderTextureLOD || parameters.envMap) && rendererExtensions.get('EXT_shader_texture_lod') ? '#extension GL_EXT_shader_texture_lod : enable' : ''];
  return chunks.filter(filterEmptyLine).join('\n');
}

function generateDefines(defines) {
  var chunks = [];

  for (var name in defines) {
    var value = defines[name];
    if (value === false) continue;
    chunks.push('#define ' + name + ' ' + value);
  }

  return chunks.join('\n');
}

function fetchAttributeLocations(gl, program) {
  var attributes = {};
  var n = gl.getProgramParameter(program, 35721);

  for (var i = 0; i < n; i++) {
    var info = gl.getActiveAttrib(program, i);
    var name = info.name; // console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );

    attributes[name] = gl.getAttribLocation(program, name);
  }

  return attributes;
}

function filterEmptyLine(string) {
  return string !== '';
}

function replaceLightNums(string, parameters) {
  return string.replace(/NUM_DIR_LIGHTS/g, parameters.numDirLights).replace(/NUM_SPOT_LIGHTS/g, parameters.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, parameters.numPointLights).replace(/NUM_HEMI_LIGHTS/g, parameters.numHemiLights);
}

function replaceClippingPlaneNums(string, parameters) {
  return string.replace(/NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, parameters.numClippingPlanes - parameters.numClipIntersection);
}

function parseIncludes(string) {
  var pattern = /^[ \t]*#include +<([\w\d./]+)>/gm;

  function replace(match, include) {
    var replace = ShaderChunk[include];

    if (replace === undefined) {
      throw new Error('Can not resolve #include <' + include + '>');
    }

    return parseIncludes(replace);
  }

  return string.replace(pattern, replace);
}

function unrollLoops(string) {
  var pattern = /#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;

  function replace(match, start, end, snippet) {
    var unroll = '';

    for (var i = parseInt(start); i < parseInt(end); i++) {
      unroll += snippet.replace(/\[ i \]/g, '[ ' + i + ' ]');
    }

    return unroll;
  }

  return string.replace(pattern, replace);
}

function WebGLProgram(renderer, extensions, code, material, shader, parameters, capabilities) {
  var gl = renderer.getContext();
  var defines = material.defines;
  var vertexShader = shader.vertexShader;
  var fragmentShader = shader.fragmentShader;
  var shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';

  if (parameters.shadowMapType === PCFShadowMap) {
    shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';
  } else if (parameters.shadowMapType === PCFSoftShadowMap) {
    shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';
  }

  var envMapTypeDefine = 'ENVMAP_TYPE_CUBE';
  var envMapModeDefine = 'ENVMAP_MODE_REFLECTION';
  var envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';

  if (parameters.envMap) {
    switch (material.envMap.mapping) {
      case CubeReflectionMapping:
      case CubeRefractionMapping:
        envMapTypeDefine = 'ENVMAP_TYPE_CUBE';
        break;

      case CubeUVReflectionMapping:
      case CubeUVRefractionMapping:
        envMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';
        break;

      case EquirectangularReflectionMapping:
      case EquirectangularRefractionMapping:
        envMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';
        break;

      case SphericalReflectionMapping:
        envMapTypeDefine = 'ENVMAP_TYPE_SPHERE';
        break;
    }

    switch (material.envMap.mapping) {
      case CubeRefractionMapping:
      case EquirectangularRefractionMapping:
        envMapModeDefine = 'ENVMAP_MODE_REFRACTION';
        break;
    }

    switch (material.combine) {
      case MultiplyOperation:
        envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';
        break;

      case MixOperation:
        envMapBlendingDefine = 'ENVMAP_BLENDING_MIX';
        break;

      case AddOperation:
        envMapBlendingDefine = 'ENVMAP_BLENDING_ADD';
        break;
    }
  }

  var gammaFactorDefine = renderer.gammaFactor > 0 ? renderer.gammaFactor : 1.0; // console.log( 'building new program ' );
  //

  var customExtensions = capabilities.isWebGL2 ? '' : generateExtensions(material.extensions, parameters, extensions);
  var customDefines = generateDefines(defines); //

  var program = gl.createProgram();
  var prefixVertex, prefixFragment;

  if (material.isRawShaderMaterial) {
    prefixVertex = [customDefines].filter(filterEmptyLine).join('\n');

    if (prefixVertex.length > 0) {
      prefixVertex += '\n';
    }

    prefixFragment = [customExtensions, customDefines].filter(filterEmptyLine).join('\n');

    if (prefixFragment.length > 0) {
      prefixFragment += '\n';
    }
  } else {
    prefixVertex = ['precision ' + parameters.precision + ' float;', 'precision ' + parameters.precision + ' int;', '#define SHADER_NAME ' + shader.name, customDefines, parameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '', '#define GAMMA_FACTOR ' + gammaFactorDefine, '#define MAX_BONES ' + parameters.maxBones, parameters.useFog && parameters.fog ? '#define USE_FOG' : '', parameters.useFog && parameters.fogExp ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', parameters.normalMap && parameters.objectSpaceNormalMap ? '#define OBJECTSPACE_NORMALMAP' : '', parameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.vertexTangents ? '#define USE_TANGENT' : '', parameters.vertexColors ? '#define USE_COLOR' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.skinning ? '#define USE_SKINNING' : '', parameters.useVertexTexture ? '#define BONE_TEXTURE' : '', parameters.morphTargets ? '#define USE_MORPHTARGETS' : '', parameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && (capabilities.isWebGL2 || extensions.get('EXT_frag_depth')) ? '#define USE_LOGDEPTHBUF_EXT' : '', 'uniform mat4 modelMatrix;', 'uniform mat4 modelViewMatrix;', 'uniform mat4 projectionMatrix;', 'uniform mat4 viewMatrix;', 'uniform mat3 normalMatrix;', 'uniform vec3 cameraPosition;', 'attribute vec3 position;', 'attribute vec3 normal;', 'attribute vec2 uv;', '#ifdef USE_TANGENT', '	attribute vec4 tangent;', '#endif', '#ifdef USE_COLOR', '	attribute vec3 color;', '#endif', '#ifdef USE_MORPHTARGETS', '	attribute vec3 morphTarget0;', '	attribute vec3 morphTarget1;', '	attribute vec3 morphTarget2;', '	attribute vec3 morphTarget3;', '	#ifdef USE_MORPHNORMALS', '		attribute vec3 morphNormal0;', '		attribute vec3 morphNormal1;', '		attribute vec3 morphNormal2;', '		attribute vec3 morphNormal3;', '	#else', '		attribute vec3 morphTarget4;', '		attribute vec3 morphTarget5;', '		attribute vec3 morphTarget6;', '		attribute vec3 morphTarget7;', '	#endif', '#endif', '#ifdef USE_SKINNING', '	attribute vec4 skinIndex;', '	attribute vec4 skinWeight;', '#endif', '\n'].filter(filterEmptyLine).join('\n');
    prefixFragment = [customExtensions, 'precision ' + parameters.precision + ' float;', 'precision ' + parameters.precision + ' int;', '#define SHADER_NAME ' + shader.name, customDefines, parameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + (parameters.alphaTest % 1 ? '' : '.0') : '', // add '.0' if integer
    '#define GAMMA_FACTOR ' + gammaFactorDefine, parameters.useFog && parameters.fog ? '#define USE_FOG' : '', parameters.useFog && parameters.fogExp ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.matcap ? '#define USE_MATCAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapTypeDefine : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.envMap ? '#define ' + envMapBlendingDefine : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', parameters.normalMap && parameters.objectSpaceNormalMap ? '#define OBJECTSPACE_NORMALMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.vertexTangents ? '#define USE_TANGENT' : '', parameters.vertexColors ? '#define USE_COLOR' : '', parameters.gradientMap ? '#define USE_GRADIENTMAP' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '', parameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && (capabilities.isWebGL2 || extensions.get('EXT_frag_depth')) ? '#define USE_LOGDEPTHBUF_EXT' : '', parameters.envMap && (capabilities.isWebGL2 || extensions.get('EXT_shader_texture_lod')) ? '#define TEXTURE_LOD_EXT' : '', 'uniform mat4 viewMatrix;', 'uniform vec3 cameraPosition;', parameters.toneMapping !== NoToneMapping ? '#define TONE_MAPPING' : '', parameters.toneMapping !== NoToneMapping ? ShaderChunk['tonemapping_pars_fragment'] : '', // this code is required here because it is used by the toneMapping() function defined below
    parameters.toneMapping !== NoToneMapping ? getToneMappingFunction('toneMapping', parameters.toneMapping) : '', parameters.dithering ? '#define DITHERING' : '', parameters.outputEncoding || parameters.mapEncoding || parameters.matcapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding ? ShaderChunk['encodings_pars_fragment'] : '', // this code is required here because it is used by the various encoding/decoding function defined below
    parameters.mapEncoding ? getTexelDecodingFunction('mapTexelToLinear', parameters.mapEncoding) : '', parameters.matcapEncoding ? getTexelDecodingFunction('matcapTexelToLinear', parameters.matcapEncoding) : '', parameters.envMapEncoding ? getTexelDecodingFunction('envMapTexelToLinear', parameters.envMapEncoding) : '', parameters.emissiveMapEncoding ? getTexelDecodingFunction('emissiveMapTexelToLinear', parameters.emissiveMapEncoding) : '', parameters.outputEncoding ? getTexelEncodingFunction('linearToOutputTexel', parameters.outputEncoding) : '', parameters.depthPacking ? '#define DEPTH_PACKING ' + material.depthPacking : '', '\n'].filter(filterEmptyLine).join('\n');
  }

  vertexShader = parseIncludes(vertexShader);
  vertexShader = replaceLightNums(vertexShader, parameters);
  vertexShader = replaceClippingPlaneNums(vertexShader, parameters);
  fragmentShader = parseIncludes(fragmentShader);
  fragmentShader = replaceLightNums(fragmentShader, parameters);
  fragmentShader = replaceClippingPlaneNums(fragmentShader, parameters);
  vertexShader = unrollLoops(vertexShader);
  fragmentShader = unrollLoops(fragmentShader);

  if (capabilities.isWebGL2 && !material.isRawShaderMaterial) {
    var isGLSL3ShaderMaterial = false;
    var versionRegex = /^\s*#version\s+300\s+es\s*\n/;

    if (material.isShaderMaterial && vertexShader.match(versionRegex) !== null && fragmentShader.match(versionRegex) !== null) {
      isGLSL3ShaderMaterial = true;
      vertexShader = vertexShader.replace(versionRegex, '');
      fragmentShader = fragmentShader.replace(versionRegex, '');
    } // GLSL 3.0 conversion


    prefixVertex = ['#version 300 es\n', '#define attribute in', '#define varying out', '#define texture2D texture'].join('\n') + '\n' + prefixVertex;
    prefixFragment = ['#version 300 es\n', '#define varying in', isGLSL3ShaderMaterial ? '' : 'out highp vec4 pc_fragColor;', isGLSL3ShaderMaterial ? '' : '#define gl_FragColor pc_fragColor', '#define gl_FragDepthEXT gl_FragDepth', '#define texture2D texture', '#define textureCube texture', '#define texture2DProj textureProj', '#define texture2DLodEXT textureLod', '#define texture2DProjLodEXT textureProjLod', '#define textureCubeLodEXT textureLod', '#define texture2DGradEXT textureGrad', '#define texture2DProjGradEXT textureProjGrad', '#define textureCubeGradEXT textureGrad'].join('\n') + '\n' + prefixFragment;
  }

  var vertexGlsl = prefixVertex + vertexShader;
  var fragmentGlsl = prefixFragment + fragmentShader; // console.log( '*VERTEX*', vertexGlsl );
  // console.log( '*FRAGMENT*', fragmentGlsl );

  var glVertexShader = WebGLShader(gl, 35633, vertexGlsl);
  var glFragmentShader = WebGLShader(gl, 35632, fragmentGlsl);
  gl.attachShader(program, glVertexShader);
  gl.attachShader(program, glFragmentShader); // Force a particular attribute to index 0.

  if (material.index0AttributeName !== undefined) {
    gl.bindAttribLocation(program, 0, material.index0AttributeName);
  } else if (parameters.morphTargets === true) {
    // programs with morphTargets displace position out of attribute 0
    gl.bindAttribLocation(program, 0, 'position');
  }

  gl.linkProgram(program); // check for link errors

  if (renderer.debug.checkShaderErrors) {
    var programLog = gl.getProgramInfoLog(program).trim();
    var vertexLog = gl.getShaderInfoLog(glVertexShader).trim();
    var fragmentLog = gl.getShaderInfoLog(glFragmentShader).trim();
    var runnable = true;
    var haveDiagnostics = true;

    if (gl.getProgramParameter(program, 35714) === false) {
      runnable = false;
      var vertexErrors = getShaderErrors(gl, glVertexShader, 'vertex');
      var fragmentErrors = getShaderErrors(gl, glFragmentShader, 'fragment');
      console.error('THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter(program, 35715), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors);
    } else if (programLog !== '') {
      console.warn('THREE.WebGLProgram: gl.getProgramInfoLog()', programLog);
    } else if (vertexLog === '' || fragmentLog === '') {
      haveDiagnostics = false;
    }

    if (haveDiagnostics) {
      this.diagnostics = {
        runnable: runnable,
        material: material,
        programLog: programLog,
        vertexShader: {
          log: vertexLog,
          prefix: prefixVertex
        },
        fragmentShader: {
          log: fragmentLog,
          prefix: prefixFragment
        }
      };
    }
  } // clean up


  gl.deleteShader(glVertexShader);
  gl.deleteShader(glFragmentShader); // set up caching for uniform locations

  var cachedUniforms;

  this.getUniforms = function () {
    if (cachedUniforms === undefined) {
      cachedUniforms = new WebGLUniforms(gl, program);
    }

    return cachedUniforms;
  }; // set up caching for attribute locations


  var cachedAttributes;

  this.getAttributes = function () {
    if (cachedAttributes === undefined) {
      cachedAttributes = fetchAttributeLocations(gl, program);
    }

    return cachedAttributes;
  }; // free resource


  this.destroy = function () {
    gl.deleteProgram(program);
    this.program = undefined;
  }; //


  this.name = shader.name;
  this.id = programIdCount++;
  this.code = code;
  this.usedTimes = 1;
  this.program = program;
  this.vertexShader = glVertexShader;
  this.fragmentShader = glFragmentShader;
  return this;
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function WebGLPrograms(renderer, extensions, capabilities) {
  var programs = [];
  var shaderIDs = {
    MeshDepthMaterial: 'depth',
    MeshDistanceMaterial: 'distanceRGBA',
    MeshNormalMaterial: 'normal',
    MeshBasicMaterial: 'basic',
    MeshLambertMaterial: 'lambert',
    MeshPhongMaterial: 'phong',
    MeshToonMaterial: 'phong',
    MeshStandardMaterial: 'physical',
    MeshPhysicalMaterial: 'physical',
    MeshMatcapMaterial: 'matcap',
    LineBasicMaterial: 'basic',
    LineDashedMaterial: 'dashed',
    PointsMaterial: 'points',
    ShadowMaterial: 'shadow',
    SpriteMaterial: 'sprite'
  };
  var parameterNames = ["precision", "supportsVertexTextures", "map", "mapEncoding", "matcap", "matcapEncoding", "envMap", "envMapMode", "envMapEncoding", "lightMap", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "objectSpaceNormalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "gradientMap", "alphaMap", "combine", "vertexColors", "vertexTangents", "fog", "useFog", "fogExp", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "numRectAreaLights", "shadowMapEnabled", "shadowMapType", "toneMapping", 'physicallyCorrectLights', "alphaTest", "doubleSided", "flipSided", "numClippingPlanes", "numClipIntersection", "depthPacking", "dithering"];

  function allocateBones(object) {
    var skeleton = object.skeleton;
    var bones = skeleton.bones;

    if (capabilities.floatVertexTextures) {
      return 1024;
    } else {
      // default for when object is not specified
      // ( for example when prebuilding shader to be used with multiple objects )
      //
      //  - leave some extra space for other uniforms
      //  - limit here is ANGLE's 254 max uniform vectors
      //    (up to 54 should be safe)
      var nVertexUniforms = capabilities.maxVertexUniforms;
      var nVertexMatrices = Math.floor((nVertexUniforms - 20) / 4);
      var maxBones = Math.min(nVertexMatrices, bones.length);

      if (maxBones < bones.length) {
        console.warn('THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.');
        return 0;
      }

      return maxBones;
    }
  }

  function getTextureEncodingFromMap(map, gammaOverrideLinear) {
    var encoding;

    if (!map) {
      encoding = LinearEncoding;
    } else if (map.isTexture) {
      encoding = map.encoding;
    } else if (map.isWebGLRenderTarget) {
      console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.");
      encoding = map.texture.encoding;
    } // add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.


    if (encoding === LinearEncoding && gammaOverrideLinear) {
      encoding = GammaEncoding;
    }

    return encoding;
  }

  this.getParameters = function (material, lights, shadows, fog, nClipPlanes, nClipIntersection, object) {
    var shaderID = shaderIDs[material.type]; // heuristics to create shader parameters according to lights in the scene
    // (not to blow over maxLights budget)

    var maxBones = object.isSkinnedMesh ? allocateBones(object) : 0;
    var precision = capabilities.precision;

    if (material.precision !== null) {
      precision = capabilities.getMaxPrecision(material.precision);

      if (precision !== material.precision) {
        console.warn('THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.');
      }
    }

    var currentRenderTarget = renderer.getRenderTarget();
    var parameters = {
      shaderID: shaderID,
      precision: precision,
      supportsVertexTextures: capabilities.vertexTextures,
      outputEncoding: getTextureEncodingFromMap(!currentRenderTarget ? null : currentRenderTarget.texture, renderer.gammaOutput),
      map: !!material.map,
      mapEncoding: getTextureEncodingFromMap(material.map, renderer.gammaInput),
      matcap: !!material.matcap,
      matcapEncoding: getTextureEncodingFromMap(material.matcap, renderer.gammaInput),
      envMap: !!material.envMap,
      envMapMode: material.envMap && material.envMap.mapping,
      envMapEncoding: getTextureEncodingFromMap(material.envMap, renderer.gammaInput),
      envMapCubeUV: !!material.envMap && (material.envMap.mapping === CubeUVReflectionMapping || material.envMap.mapping === CubeUVRefractionMapping),
      lightMap: !!material.lightMap,
      aoMap: !!material.aoMap,
      emissiveMap: !!material.emissiveMap,
      emissiveMapEncoding: getTextureEncodingFromMap(material.emissiveMap, renderer.gammaInput),
      bumpMap: !!material.bumpMap,
      normalMap: !!material.normalMap,
      objectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,
      displacementMap: !!material.displacementMap,
      roughnessMap: !!material.roughnessMap,
      metalnessMap: !!material.metalnessMap,
      specularMap: !!material.specularMap,
      alphaMap: !!material.alphaMap,
      gradientMap: !!material.gradientMap,
      combine: material.combine,
      vertexTangents: material.normalMap && material.vertexTangents,
      vertexColors: material.vertexColors,
      fog: !!fog,
      useFog: material.fog,
      fogExp: fog && fog.isFogExp2,
      flatShading: material.flatShading,
      sizeAttenuation: material.sizeAttenuation,
      logarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,
      skinning: material.skinning && maxBones > 0,
      maxBones: maxBones,
      useVertexTexture: capabilities.floatVertexTextures,
      morphTargets: material.morphTargets,
      morphNormals: material.morphNormals,
      maxMorphTargets: renderer.maxMorphTargets,
      maxMorphNormals: renderer.maxMorphNormals,
      numDirLights: lights.directional.length,
      numPointLights: lights.point.length,
      numSpotLights: lights.spot.length,
      numRectAreaLights: lights.rectArea.length,
      numHemiLights: lights.hemi.length,
      numClippingPlanes: nClipPlanes,
      numClipIntersection: nClipIntersection,
      dithering: material.dithering,
      shadowMapEnabled: renderer.shadowMap.enabled && object.receiveShadow && shadows.length > 0,
      shadowMapType: renderer.shadowMap.type,
      toneMapping: renderer.toneMapping,
      physicallyCorrectLights: renderer.physicallyCorrectLights,
      premultipliedAlpha: material.premultipliedAlpha,
      alphaTest: material.alphaTest,
      doubleSided: material.side === DoubleSide,
      flipSided: material.side === BackSide,
      depthPacking: material.depthPacking !== undefined ? material.depthPacking : false
    };
    return parameters;
  };

  this.getProgramCode = function (material, parameters) {
    var array = [];

    if (parameters.shaderID) {
      array.push(parameters.shaderID);
    } else {
      array.push(material.fragmentShader);
      array.push(material.vertexShader);
    }

    if (material.defines !== undefined) {
      for (var name in material.defines) {
        array.push(name);
        array.push(material.defines[name]);
      }
    }

    for (var i = 0; i < parameterNames.length; i++) {
      array.push(parameters[parameterNames[i]]);
    }

    array.push(material.onBeforeCompile.toString());
    array.push(renderer.gammaOutput);
    array.push(renderer.gammaFactor);
    return array.join();
  };

  this.acquireProgram = function (material, shader, parameters, code) {
    var program; // Check if code has been already compiled

    for (var p = 0, pl = programs.length; p < pl; p++) {
      var programInfo = programs[p];

      if (programInfo.code === code) {
        program = programInfo;
        ++program.usedTimes;
        break;
      }
    }

    if (program === undefined) {
      program = new WebGLProgram(renderer, extensions, code, material, shader, parameters, capabilities);
      programs.push(program);
    }

    return program;
  };

  this.releaseProgram = function (program) {
    if (--program.usedTimes === 0) {
      // Remove from unordered set
      var i = programs.indexOf(program);
      programs[i] = programs[programs.length - 1];
      programs.pop(); // Free WebGL resources

      program.destroy();
    }
  }; // Exposed for resource monitoring & error feedback via renderer.info:


  this.programs = programs;
}
/**
 * @author fordacious / fordacious.github.io
 */


function WebGLProperties() {
  var properties = new WeakMap();

  function get(object) {
    var map = properties.get(object);

    if (map === undefined) {
      map = {};
      properties.set(object, map);
    }

    return map;
  }

  function remove(object) {
    properties.delete(object);
  }

  function update(object, key, value) {
    properties.get(object)[key] = value;
  }

  function dispose() {
    properties = new WeakMap();
  }

  return {
    get: get,
    remove: remove,
    update: update,
    dispose: dispose
  };
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function painterSortStable(a, b) {
  if (a.groupOrder !== b.groupOrder) {
    return a.groupOrder - b.groupOrder;
  } else if (a.renderOrder !== b.renderOrder) {
    return a.renderOrder - b.renderOrder;
  } else if (a.program !== b.program) {
    return a.program.id - b.program.id;
  } else if (a.material.id !== b.material.id) {
    return a.material.id - b.material.id;
  } else if (a.z !== b.z) {
    return a.z - b.z;
  } else {
    return a.id - b.id;
  }
}

function reversePainterSortStable(a, b) {
  if (a.groupOrder !== b.groupOrder) {
    return a.groupOrder - b.groupOrder;
  } else if (a.renderOrder !== b.renderOrder) {
    return a.renderOrder - b.renderOrder;
  } else if (a.z !== b.z) {
    return b.z - a.z;
  } else {
    return a.id - b.id;
  }
}

function WebGLRenderList() {
  var renderItems = [];
  var renderItemsIndex = 0;
  var opaque = [];
  var transparent = [];
  var defaultProgram = {
    id: -1
  };

  function init() {
    renderItemsIndex = 0;
    opaque.length = 0;
    transparent.length = 0;
  }

  function getNextRenderItem(object, geometry, material, groupOrder, z, group) {
    var renderItem = renderItems[renderItemsIndex];

    if (renderItem === undefined) {
      renderItem = {
        id: object.id,
        object: object,
        geometry: geometry,
        material: material,
        program: material.program || defaultProgram,
        groupOrder: groupOrder,
        renderOrder: object.renderOrder,
        z: z,
        group: group
      };
      renderItems[renderItemsIndex] = renderItem;
    } else {
      renderItem.id = object.id;
      renderItem.object = object;
      renderItem.geometry = geometry;
      renderItem.material = material;
      renderItem.program = material.program || defaultProgram;
      renderItem.groupOrder = groupOrder;
      renderItem.renderOrder = object.renderOrder;
      renderItem.z = z;
      renderItem.group = group;
    }

    renderItemsIndex++;
    return renderItem;
  }

  function push(object, geometry, material, groupOrder, z, group) {
    var renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);
    (material.transparent === true ? transparent : opaque).push(renderItem);
  }

  function unshift(object, geometry, material, groupOrder, z, group) {
    var renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);
    (material.transparent === true ? transparent : opaque).unshift(renderItem);
  }

  function sort() {
    if (opaque.length > 1) opaque.sort(painterSortStable);
    if (transparent.length > 1) transparent.sort(reversePainterSortStable);
  }

  return {
    opaque: opaque,
    transparent: transparent,
    init: init,
    push: push,
    unshift: unshift,
    sort: sort
  };
}

function WebGLRenderLists() {
  var lists = {};

  function onSceneDispose(event) {
    var scene = event.target;
    scene.removeEventListener('dispose', onSceneDispose);
    delete lists[scene.id];
  }

  function get(scene, camera) {
    var cameras = lists[scene.id];
    var list;

    if (cameras === undefined) {
      list = new WebGLRenderList();
      lists[scene.id] = {};
      lists[scene.id][camera.id] = list;
      scene.addEventListener('dispose', onSceneDispose);
    } else {
      list = cameras[camera.id];

      if (list === undefined) {
        list = new WebGLRenderList();
        cameras[camera.id] = list;
      }
    }

    return list;
  }

  function dispose() {
    lists = {};
  }

  return {
    get: get,
    dispose: dispose
  };
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function UniformsCache() {
  var lights = {};
  return {
    get: function (light) {
      if (lights[light.id] !== undefined) {
        return lights[light.id];
      }

      var uniforms;

      switch (light.type) {
        case 'DirectionalLight':
          uniforms = {
            direction: new Vector3(),
            color: new Color(),
            shadow: false,
            shadowBias: 0,
            shadowRadius: 1,
            shadowMapSize: new Vector2()
          };
          break;

        case 'SpotLight':
          uniforms = {
            position: new Vector3(),
            direction: new Vector3(),
            color: new Color(),
            distance: 0,
            coneCos: 0,
            penumbraCos: 0,
            decay: 0,
            shadow: false,
            shadowBias: 0,
            shadowRadius: 1,
            shadowMapSize: new Vector2()
          };
          break;

        case 'PointLight':
          uniforms = {
            position: new Vector3(),
            color: new Color(),
            distance: 0,
            decay: 0,
            shadow: false,
            shadowBias: 0,
            shadowRadius: 1,
            shadowMapSize: new Vector2(),
            shadowCameraNear: 1,
            shadowCameraFar: 1000
          };
          break;

        case 'HemisphereLight':
          uniforms = {
            direction: new Vector3(),
            skyColor: new Color(),
            groundColor: new Color()
          };
          break;

        case 'RectAreaLight':
          uniforms = {
            color: new Color(),
            position: new Vector3(),
            halfWidth: new Vector3(),
            halfHeight: new Vector3() // TODO (abelnation): set RectAreaLight shadow uniforms

          };
          break;
      }

      lights[light.id] = uniforms;
      return uniforms;
    }
  };
}

var nextVersion = 0;

function WebGLLights() {
  var cache = new UniformsCache();
  var state = {
    version: 0,
    hash: {
      directionalLength: -1,
      pointLength: -1,
      spotLength: -1,
      rectAreaLength: -1,
      hemiLength: -1,
      shadowsLength: -1
    },
    ambient: [0, 0, 0],
    probe: [],
    directional: [],
    directionalShadowMap: [],
    directionalShadowMatrix: [],
    spot: [],
    spotShadowMap: [],
    spotShadowMatrix: [],
    rectArea: [],
    point: [],
    pointShadowMap: [],
    pointShadowMatrix: [],
    hemi: []
  };

  for (var i = 0; i < 9; i++) state.probe.push(new Vector3());

  var vector3 = new Vector3();
  var matrix4 = new Matrix4();
  var matrix42 = new Matrix4();

  function setup(lights, shadows, camera) {
    var r = 0,
        g = 0,
        b = 0;

    for (var i = 0; i < 9; i++) state.probe[i].set(0, 0, 0);

    var directionalLength = 0;
    var pointLength = 0;
    var spotLength = 0;
    var rectAreaLength = 0;
    var hemiLength = 0;
    var viewMatrix = camera.matrixWorldInverse;

    for (var i = 0, l = lights.length; i < l; i++) {
      var light = lights[i];
      var color = light.color;
      var intensity = light.intensity;
      var distance = light.distance;
      var shadowMap = light.shadow && light.shadow.map ? light.shadow.map.texture : null;

      if (light.isAmbientLight) {
        r += color.r * intensity;
        g += color.g * intensity;
        b += color.b * intensity;
      } else if (light.isLightProbe) {
        for (var j = 0; j < 9; j++) {
          state.probe[j].addScaledVector(light.sh.coefficients[j], intensity);
        }
      } else if (light.isDirectionalLight) {
        var uniforms = cache.get(light);
        uniforms.color.copy(light.color).multiplyScalar(light.intensity);
        uniforms.direction.setFromMatrixPosition(light.matrixWorld);
        vector3.setFromMatrixPosition(light.target.matrixWorld);
        uniforms.direction.sub(vector3);
        uniforms.direction.transformDirection(viewMatrix);
        uniforms.shadow = light.castShadow;

        if (light.castShadow) {
          var shadow = light.shadow;
          uniforms.shadowBias = shadow.bias;
          uniforms.shadowRadius = shadow.radius;
          uniforms.shadowMapSize = shadow.mapSize;
        }

        state.directionalShadowMap[directionalLength] = shadowMap;
        state.directionalShadowMatrix[directionalLength] = light.shadow.matrix;
        state.directional[directionalLength] = uniforms;
        directionalLength++;
      } else if (light.isSpotLight) {
        var uniforms = cache.get(light);
        uniforms.position.setFromMatrixPosition(light.matrixWorld);
        uniforms.position.applyMatrix4(viewMatrix);
        uniforms.color.copy(color).multiplyScalar(intensity);
        uniforms.distance = distance;
        uniforms.direction.setFromMatrixPosition(light.matrixWorld);
        vector3.setFromMatrixPosition(light.target.matrixWorld);
        uniforms.direction.sub(vector3);
        uniforms.direction.transformDirection(viewMatrix);
        uniforms.coneCos = Math.cos(light.angle);
        uniforms.penumbraCos = Math.cos(light.angle * (1 - light.penumbra));
        uniforms.decay = light.decay;
        uniforms.shadow = light.castShadow;

        if (light.castShadow) {
          var shadow = light.shadow;
          uniforms.shadowBias = shadow.bias;
          uniforms.shadowRadius = shadow.radius;
          uniforms.shadowMapSize = shadow.mapSize;
        }

        state.spotShadowMap[spotLength] = shadowMap;
        state.spotShadowMatrix[spotLength] = light.shadow.matrix;
        state.spot[spotLength] = uniforms;
        spotLength++;
      } else if (light.isRectAreaLight) {
        var uniforms = cache.get(light); // (a) intensity is the total visible light emitted
        //uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );
        // (b) intensity is the brightness of the light

        uniforms.color.copy(color).multiplyScalar(intensity);
        uniforms.position.setFromMatrixPosition(light.matrixWorld);
        uniforms.position.applyMatrix4(viewMatrix); // extract local rotation of light to derive width/height half vectors

        matrix42.identity();
        matrix4.copy(light.matrixWorld);
        matrix4.premultiply(viewMatrix);
        matrix42.extractRotation(matrix4);
        uniforms.halfWidth.set(light.width * 0.5, 0.0, 0.0);
        uniforms.halfHeight.set(0.0, light.height * 0.5, 0.0);
        uniforms.halfWidth.applyMatrix4(matrix42);
        uniforms.halfHeight.applyMatrix4(matrix42); // TODO (abelnation): RectAreaLight distance?
        // uniforms.distance = distance;

        state.rectArea[rectAreaLength] = uniforms;
        rectAreaLength++;
      } else if (light.isPointLight) {
        var uniforms = cache.get(light);
        uniforms.position.setFromMatrixPosition(light.matrixWorld);
        uniforms.position.applyMatrix4(viewMatrix);
        uniforms.color.copy(light.color).multiplyScalar(light.intensity);
        uniforms.distance = light.distance;
        uniforms.decay = light.decay;
        uniforms.shadow = light.castShadow;

        if (light.castShadow) {
          var shadow = light.shadow;
          uniforms.shadowBias = shadow.bias;
          uniforms.shadowRadius = shadow.radius;
          uniforms.shadowMapSize = shadow.mapSize;
          uniforms.shadowCameraNear = shadow.camera.near;
          uniforms.shadowCameraFar = shadow.camera.far;
        }

        state.pointShadowMap[pointLength] = shadowMap;
        state.pointShadowMatrix[pointLength] = light.shadow.matrix;
        state.point[pointLength] = uniforms;
        pointLength++;
      } else if (light.isHemisphereLight) {
        var uniforms = cache.get(light);
        uniforms.direction.setFromMatrixPosition(light.matrixWorld);
        uniforms.direction.transformDirection(viewMatrix);
        uniforms.direction.normalize();
        uniforms.skyColor.copy(light.color).multiplyScalar(intensity);
        uniforms.groundColor.copy(light.groundColor).multiplyScalar(intensity);
        state.hemi[hemiLength] = uniforms;
        hemiLength++;
      }
    }

    state.ambient[0] = r;
    state.ambient[1] = g;
    state.ambient[2] = b;
    var hash = state.hash;

    if (hash.directionalLength !== directionalLength || hash.pointLength !== pointLength || hash.spotLength !== spotLength || hash.rectAreaLength !== rectAreaLength || hash.hemiLength !== hemiLength || hash.shadowsLength !== shadows.length) {
      state.directional.length = directionalLength;
      state.spot.length = spotLength;
      state.rectArea.length = rectAreaLength;
      state.point.length = pointLength;
      state.hemi.length = hemiLength;
      hash.directionalLength = directionalLength;
      hash.pointLength = pointLength;
      hash.spotLength = spotLength;
      hash.rectAreaLength = rectAreaLength;
      hash.hemiLength = hemiLength;
      hash.shadowsLength = shadows.length;
      state.version = nextVersion++;
    }
  }

  return {
    setup: setup,
    state: state
  };
}
/**
 * @author Mugen87 / https://github.com/Mugen87
 */


function WebGLRenderState() {
  var lights = new WebGLLights();
  var lightsArray = [];
  var shadowsArray = [];

  function init() {
    lightsArray.length = 0;
    shadowsArray.length = 0;
  }

  function pushLight(light) {
    lightsArray.push(light);
  }

  function pushShadow(shadowLight) {
    shadowsArray.push(shadowLight);
  }

  function setupLights(camera) {
    lights.setup(lightsArray, shadowsArray, camera);
  }

  var state = {
    lightsArray: lightsArray,
    shadowsArray: shadowsArray,
    lights: lights
  };
  return {
    init: init,
    state: state,
    setupLights: setupLights,
    pushLight: pushLight,
    pushShadow: pushShadow
  };
}

function WebGLRenderStates() {
  var renderStates = {};

  function onSceneDispose(event) {
    var scene = event.target;
    scene.removeEventListener('dispose', onSceneDispose);
    delete renderStates[scene.id];
  }

  function get(scene, camera) {
    var renderState;

    if (renderStates[scene.id] === undefined) {
      renderState = new WebGLRenderState();
      renderStates[scene.id] = {};
      renderStates[scene.id][camera.id] = renderState;
      scene.addEventListener('dispose', onSceneDispose);
    } else {
      if (renderStates[scene.id][camera.id] === undefined) {
        renderState = new WebGLRenderState();
        renderStates[scene.id][camera.id] = renderState;
      } else {
        renderState = renderStates[scene.id][camera.id];
      }
    }

    return renderState;
  }

  function dispose() {
    renderStates = {};
  }

  return {
    get: get,
    dispose: dispose
  };
}
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 * @author bhouston / https://clara.io
 * @author WestLangley / http://github.com/WestLangley
 *
 * parameters = {
 *
 *  opacity: <float>,
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>
 * }
 */


function MeshDepthMaterial(parameters) {
  Material.call(this);
  this.type = 'MeshDepthMaterial';
  this.depthPacking = BasicDepthPacking;
  this.skinning = false;
  this.morphTargets = false;
  this.map = null;
  this.alphaMap = null;
  this.displacementMap = null;
  this.displacementScale = 1;
  this.displacementBias = 0;
  this.wireframe = false;
  this.wireframeLinewidth = 1;
  this.fog = false;
  this.lights = false;
  this.setValues(parameters);
}

MeshDepthMaterial.prototype = Object.create(Material.prototype);
MeshDepthMaterial.prototype.constructor = MeshDepthMaterial;
MeshDepthMaterial.prototype.isMeshDepthMaterial = true;

MeshDepthMaterial.prototype.copy = function (source) {
  Material.prototype.copy.call(this, source);
  this.depthPacking = source.depthPacking;
  this.skinning = source.skinning;
  this.morphTargets = source.morphTargets;
  this.map = source.map;
  this.alphaMap = source.alphaMap;
  this.displacementMap = source.displacementMap;
  this.displacementScale = source.displacementScale;
  this.displacementBias = source.displacementBias;
  this.wireframe = source.wireframe;
  this.wireframeLinewidth = source.wireframeLinewidth;
  return this;
};
/**
 * @author WestLangley / http://github.com/WestLangley
 *
 * parameters = {
 *
 *  referencePosition: <float>,
 *  nearDistance: <float>,
 *  farDistance: <float>,
 *
 *  skinning: <bool>,
 *  morphTargets: <bool>,
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>
 *
 * }
 */


function MeshDistanceMaterial(parameters) {
  Material.call(this);
  this.type = 'MeshDistanceMaterial';
  this.referencePosition = new Vector3();
  this.nearDistance = 1;
  this.farDistance = 1000;
  this.skinning = false;
  this.morphTargets = false;
  this.map = null;
  this.alphaMap = null;
  this.displacementMap = null;
  this.displacementScale = 1;
  this.displacementBias = 0;
  this.fog = false;
  this.lights = false;
  this.setValues(parameters);
}

MeshDistanceMaterial.prototype = Object.create(Material.prototype);
MeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;
MeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;

MeshDistanceMaterial.prototype.copy = function (source) {
  Material.prototype.copy.call(this, source);
  this.referencePosition.copy(source.referencePosition);
  this.nearDistance = source.nearDistance;
  this.farDistance = source.farDistance;
  this.skinning = source.skinning;
  this.morphTargets = source.morphTargets;
  this.map = source.map;
  this.alphaMap = source.alphaMap;
  this.displacementMap = source.displacementMap;
  this.displacementScale = source.displacementScale;
  this.displacementBias = source.displacementBias;
  return this;
};
/**
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
 */


function WebGLShadowMap(_renderer, _objects, maxTextureSize) {
  var _frustum = new Frustum(),
      _projScreenMatrix = new Matrix4(),
      _shadowMapSize = new Vector2(),
      _maxShadowMapSize = new Vector2(maxTextureSize, maxTextureSize),
      _lookTarget = new Vector3(),
      _lightPositionWorld = new Vector3(),
      _MorphingFlag = 1,
      _SkinningFlag = 2,
      _NumberOfMaterialVariants = (_MorphingFlag | _SkinningFlag) + 1,
      _depthMaterials = new Array(_NumberOfMaterialVariants),
      _distanceMaterials = new Array(_NumberOfMaterialVariants),
      _materialCache = {};

  var shadowSide = {
    0: BackSide,
    1: FrontSide,
    2: DoubleSide
  };
  var cubeDirections = [new Vector3(1, 0, 0), new Vector3(-1, 0, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1), new Vector3(0, 1, 0), new Vector3(0, -1, 0)];
  var cubeUps = [new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1)];
  var cube2DViewPorts = [new Vector4(), new Vector4(), new Vector4(), new Vector4(), new Vector4(), new Vector4()]; // init

  for (var i = 0; i !== _NumberOfMaterialVariants; ++i) {
    var useMorphing = (i & _MorphingFlag) !== 0;
    var useSkinning = (i & _SkinningFlag) !== 0;
    var depthMaterial = new MeshDepthMaterial({
      depthPacking: RGBADepthPacking,
      morphTargets: useMorphing,
      skinning: useSkinning
    });
    _depthMaterials[i] = depthMaterial; //

    var distanceMaterial = new MeshDistanceMaterial({
      morphTargets: useMorphing,
      skinning: useSkinning
    });
    _distanceMaterials[i] = distanceMaterial;
  } //


  var scope = this;
  this.enabled = false;
  this.autoUpdate = true;
  this.needsUpdate = false;
  this.type = PCFShadowMap;

  this.render = function (lights, scene, camera) {
    if (scope.enabled === false) return;
    if (scope.autoUpdate === false && scope.needsUpdate === false) return;
    if (lights.length === 0) return;

    var currentRenderTarget = _renderer.getRenderTarget();

    var activeCubeFace = _renderer.getActiveCubeFace();

    var activeMipmapLevel = _renderer.getActiveMipmapLevel();

    var _state = _renderer.state; // Set GL state for depth map.

    _state.setBlending(NoBlending);

    _state.buffers.color.setClear(1, 1, 1, 1);

    _state.buffers.depth.setTest(true);

    _state.setScissorTest(false); // render depth map


    var faceCount;

    for (var i = 0, il = lights.length; i < il; i++) {
      var light = lights[i];
      var shadow = light.shadow;
      var isPointLight = light && light.isPointLight;

      if (shadow === undefined) {
        console.warn('THREE.WebGLShadowMap:', light, 'has no shadow.');
        continue;
      }

      var shadowCamera = shadow.camera;

      _shadowMapSize.copy(shadow.mapSize);

      _shadowMapSize.min(_maxShadowMapSize);

      if (isPointLight) {
        var vpWidth = _shadowMapSize.x;
        var vpHeight = _shadowMapSize.y; // These viewports map a cube-map onto a 2D texture with the
        // following orientation:
        //
        //  xzXZ
        //   y Y
        //
        // X - Positive x direction
        // x - Negative x direction
        // Y - Positive y direction
        // y - Negative y direction
        // Z - Positive z direction
        // z - Negative z direction
        // positive X

        cube2DViewPorts[0].set(vpWidth * 2, vpHeight, vpWidth, vpHeight); // negative X

        cube2DViewPorts[1].set(0, vpHeight, vpWidth, vpHeight); // positive Z

        cube2DViewPorts[2].set(vpWidth * 3, vpHeight, vpWidth, vpHeight); // negative Z

        cube2DViewPorts[3].set(vpWidth, vpHeight, vpWidth, vpHeight); // positive Y

        cube2DViewPorts[4].set(vpWidth * 3, 0, vpWidth, vpHeight); // negative Y

        cube2DViewPorts[5].set(vpWidth, 0, vpWidth, vpHeight);
        _shadowMapSize.x *= 4.0;
        _shadowMapSize.y *= 2.0;
      }

      if (shadow.map === null) {
        var pars = {
          minFilter: NearestFilter,
          magFilter: NearestFilter,
          format: RGBAFormat
        };
        shadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);
        shadow.map.texture.name = light.name + ".shadowMap";
        shadowCamera.updateProjectionMatrix();
      }

      if (shadow.isSpotLightShadow) {
        shadow.update(light);
      }

      var shadowMap = shadow.map;
      var shadowMatrix = shadow.matrix;

      _lightPositionWorld.setFromMatrixPosition(light.matrixWorld);

      shadowCamera.position.copy(_lightPositionWorld);

      if (isPointLight) {
        faceCount = 6; // for point lights we set the shadow matrix to be a translation-only matrix
        // equal to inverse of the light's position

        shadowMatrix.makeTranslation(-_lightPositionWorld.x, -_lightPositionWorld.y, -_lightPositionWorld.z);
      } else {
        faceCount = 1;

        _lookTarget.setFromMatrixPosition(light.target.matrixWorld);

        shadowCamera.lookAt(_lookTarget);
        shadowCamera.updateMatrixWorld(); // compute shadow matrix

        shadowMatrix.set(0.5, 0.0, 0.0, 0.5, 0.0, 0.5, 0.0, 0.5, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0, 1.0);
        shadowMatrix.multiply(shadowCamera.projectionMatrix);
        shadowMatrix.multiply(shadowCamera.matrixWorldInverse);
      }

      _renderer.setRenderTarget(shadowMap);

      _renderer.clear(); // render shadow map for each cube face (if omni-directional) or
      // run a single pass if not


      for (var face = 0; face < faceCount; face++) {
        if (isPointLight) {
          _lookTarget.copy(shadowCamera.position);

          _lookTarget.add(cubeDirections[face]);

          shadowCamera.up.copy(cubeUps[face]);
          shadowCamera.lookAt(_lookTarget);
          shadowCamera.updateMatrixWorld();
          var vpDimensions = cube2DViewPorts[face];

          _state.viewport(vpDimensions);
        } // update camera matrices and frustum


        _projScreenMatrix.multiplyMatrices(shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse);

        _frustum.setFromMatrix(_projScreenMatrix); // set object matrices & frustum culling


        renderObject(scene, camera, shadowCamera, isPointLight);
      }
    }

    scope.needsUpdate = false;

    _renderer.setRenderTarget(currentRenderTarget, activeCubeFace, activeMipmapLevel);
  };

  function getDepthMaterial(object, material, isPointLight, lightPositionWorld, shadowCameraNear, shadowCameraFar) {
    var geometry = object.geometry;
    var result = null;
    var materialVariants = _depthMaterials;
    var customMaterial = object.customDepthMaterial;

    if (isPointLight) {
      materialVariants = _distanceMaterials;
      customMaterial = object.customDistanceMaterial;
    }

    if (!customMaterial) {
      var useMorphing = false;

      if (material.morphTargets) {
        if (geometry && geometry.isBufferGeometry) {
          useMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;
        } else if (geometry && geometry.isGeometry) {
          useMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;
        }
      }

      if (object.isSkinnedMesh && material.skinning === false) {
        console.warn('THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object);
      }

      var useSkinning = object.isSkinnedMesh && material.skinning;
      var variantIndex = 0;
      if (useMorphing) variantIndex |= _MorphingFlag;
      if (useSkinning) variantIndex |= _SkinningFlag;
      result = materialVariants[variantIndex];
    } else {
      result = customMaterial;
    }

    if (_renderer.localClippingEnabled && material.clipShadows === true && material.clippingPlanes.length !== 0) {
      // in this case we need a unique material instance reflecting the
      // appropriate state
      var keyA = result.uuid,
          keyB = material.uuid;
      var materialsForVariant = _materialCache[keyA];

      if (materialsForVariant === undefined) {
        materialsForVariant = {};
        _materialCache[keyA] = materialsForVariant;
      }

      var cachedMaterial = materialsForVariant[keyB];

      if (cachedMaterial === undefined) {
        cachedMaterial = result.clone();
        materialsForVariant[keyB] = cachedMaterial;
      }

      result = cachedMaterial;
    }

    result.visible = material.visible;
    result.wireframe = material.wireframe;
    result.side = material.shadowSide != null ? material.shadowSide : shadowSide[material.side];
    result.clipShadows = material.clipShadows;
    result.clippingPlanes = material.clippingPlanes;
    result.clipIntersection = material.clipIntersection;
    result.wireframeLinewidth = material.wireframeLinewidth;
    result.linewidth = material.linewidth;

    if (isPointLight && result.isMeshDistanceMaterial) {
      result.referencePosition.copy(lightPositionWorld);
      result.nearDistance = shadowCameraNear;
      result.farDistance = shadowCameraFar;
    }

    return result;
  }

  function renderObject(object, camera, shadowCamera, isPointLight) {
    if (object.visible === false) return;
    var visible = object.layers.test(camera.layers);

    if (visible && (object.isMesh || object.isLine || object.isPoints)) {
      if (object.castShadow && (!object.frustumCulled || _frustum.intersectsObject(object))) {
        object.modelViewMatrix.multiplyMatrices(shadowCamera.matrixWorldInverse, object.matrixWorld);

        var geometry = _objects.update(object);

        var material = object.material;

        if (Array.isArray(material)) {
          var groups = geometry.groups;

          for (var k = 0, kl = groups.length; k < kl; k++) {
            var group = groups[k];
            var groupMaterial = material[group.materialIndex];

            if (groupMaterial && groupMaterial.visible) {
              var depthMaterial = getDepthMaterial(object, groupMaterial, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far);

              _renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, group);
            }
          }
        } else if (material.visible) {
          var depthMaterial = getDepthMaterial(object, material, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far);

          _renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, null);
        }
      }
    }

    var children = object.children;

    for (var i = 0, l = children.length; i < l; i++) {
      renderObject(children[i], camera, shadowCamera, isPointLight);
    }
  }
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function WebGLState(gl, extensions, utils, capabilities) {
  function ColorBuffer() {
    var locked = false;
    var color = new Vector4();
    var currentColorMask = null;
    var currentColorClear = new Vector4(0, 0, 0, 0);
    return {
      setMask: function (colorMask) {
        if (currentColorMask !== colorMask && !locked) {
          gl.colorMask(colorMask, colorMask, colorMask, colorMask);
          currentColorMask = colorMask;
        }
      },
      setLocked: function (lock) {
        locked = lock;
      },
      setClear: function (r, g, b, a, premultipliedAlpha) {
        if (premultipliedAlpha === true) {
          r *= a;
          g *= a;
          b *= a;
        }

        color.set(r, g, b, a);

        if (currentColorClear.equals(color) === false) {
          gl.clearColor(r, g, b, a);
          currentColorClear.copy(color);
        }
      },
      reset: function () {
        locked = false;
        currentColorMask = null;
        currentColorClear.set(-1, 0, 0, 0); // set to invalid state
      }
    };
  }

  function DepthBuffer() {
    var locked = false;
    var currentDepthMask = null;
    var currentDepthFunc = null;
    var currentDepthClear = null;
    return {
      setTest: function (depthTest) {
        if (depthTest) {
          enable(2929);
        } else {
          disable(2929);
        }
      },
      setMask: function (depthMask) {
        if (currentDepthMask !== depthMask && !locked) {
          gl.depthMask(depthMask);
          currentDepthMask = depthMask;
        }
      },
      setFunc: function (depthFunc) {
        if (currentDepthFunc !== depthFunc) {
          if (depthFunc) {
            switch (depthFunc) {
              case NeverDepth:
                gl.depthFunc(512);
                break;

              case AlwaysDepth:
                gl.depthFunc(519);
                break;

              case LessDepth:
                gl.depthFunc(513);
                break;

              case LessEqualDepth:
                gl.depthFunc(515);
                break;

              case EqualDepth:
                gl.depthFunc(514);
                break;

              case GreaterEqualDepth:
                gl.depthFunc(518);
                break;

              case GreaterDepth:
                gl.depthFunc(516);
                break;

              case NotEqualDepth:
                gl.depthFunc(517);
                break;

              default:
                gl.depthFunc(515);
            }
          } else {
            gl.depthFunc(515);
          }

          currentDepthFunc = depthFunc;
        }
      },
      setLocked: function (lock) {
        locked = lock;
      },
      setClear: function (depth) {
        if (currentDepthClear !== depth) {
          gl.clearDepth(depth);
          currentDepthClear = depth;
        }
      },
      reset: function () {
        locked = false;
        currentDepthMask = null;
        currentDepthFunc = null;
        currentDepthClear = null;
      }
    };
  }

  function StencilBuffer() {
    var locked = false;
    var currentStencilMask = null;
    var currentStencilFunc = null;
    var currentStencilRef = null;
    var currentStencilFuncMask = null;
    var currentStencilFail = null;
    var currentStencilZFail = null;
    var currentStencilZPass = null;
    var currentStencilClear = null;
    return {
      setTest: function (stencilTest) {
        if (stencilTest) {
          enable(2960);
        } else {
          disable(2960);
        }
      },
      setMask: function (stencilMask) {
        if (currentStencilMask !== stencilMask && !locked) {
          gl.stencilMask(stencilMask);
          currentStencilMask = stencilMask;
        }
      },
      setFunc: function (stencilFunc, stencilRef, stencilMask) {
        if (currentStencilFunc !== stencilFunc || currentStencilRef !== stencilRef || currentStencilFuncMask !== stencilMask) {
          gl.stencilFunc(stencilFunc, stencilRef, stencilMask);
          currentStencilFunc = stencilFunc;
          currentStencilRef = stencilRef;
          currentStencilFuncMask = stencilMask;
        }
      },
      setOp: function (stencilFail, stencilZFail, stencilZPass) {
        if (currentStencilFail !== stencilFail || currentStencilZFail !== stencilZFail || currentStencilZPass !== stencilZPass) {
          gl.stencilOp(stencilFail, stencilZFail, stencilZPass);
          currentStencilFail = stencilFail;
          currentStencilZFail = stencilZFail;
          currentStencilZPass = stencilZPass;
        }
      },
      setLocked: function (lock) {
        locked = lock;
      },
      setClear: function (stencil) {
        if (currentStencilClear !== stencil) {
          gl.clearStencil(stencil);
          currentStencilClear = stencil;
        }
      },
      reset: function () {
        locked = false;
        currentStencilMask = null;
        currentStencilFunc = null;
        currentStencilRef = null;
        currentStencilFuncMask = null;
        currentStencilFail = null;
        currentStencilZFail = null;
        currentStencilZPass = null;
        currentStencilClear = null;
      }
    };
  } //


  var colorBuffer = new ColorBuffer();
  var depthBuffer = new DepthBuffer();
  var stencilBuffer = new StencilBuffer();
  var maxVertexAttributes = gl.getParameter(34921);
  var newAttributes = new Uint8Array(maxVertexAttributes);
  var enabledAttributes = new Uint8Array(maxVertexAttributes);
  var attributeDivisors = new Uint8Array(maxVertexAttributes);
  var enabledCapabilities = {};
  var compressedTextureFormats = null;
  var currentProgram = null;
  var currentBlendingEnabled = null;
  var currentBlending = null;
  var currentBlendEquation = null;
  var currentBlendSrc = null;
  var currentBlendDst = null;
  var currentBlendEquationAlpha = null;
  var currentBlendSrcAlpha = null;
  var currentBlendDstAlpha = null;
  var currentPremultipledAlpha = false;
  var currentFlipSided = null;
  var currentCullFace = null;
  var currentLineWidth = null;
  var currentPolygonOffsetFactor = null;
  var currentPolygonOffsetUnits = null;
  var maxTextures = gl.getParameter(35661);
  var lineWidthAvailable = false;
  var version = 0;
  var glVersion = gl.getParameter(7938);

  if (glVersion.indexOf('WebGL') !== -1) {
    version = parseFloat(/^WebGL\ ([0-9])/.exec(glVersion)[1]);
    lineWidthAvailable = version >= 1.0;
  } else if (glVersion.indexOf('OpenGL ES') !== -1) {
    version = parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(glVersion)[1]);
    lineWidthAvailable = version >= 2.0;
  }

  var currentTextureSlot = null;
  var currentBoundTextures = {};
  var currentScissor = new Vector4();
  var currentViewport = new Vector4();

  function createTexture(type, target, count) {
    var data = new Uint8Array(4); // 4 is required to match default unpack alignment of 4.

    var texture = gl.createTexture();
    gl.bindTexture(type, texture);
    gl.texParameteri(type, 10241, 9728);
    gl.texParameteri(type, 10240, 9728);

    for (var i = 0; i < count; i++) {
      gl.texImage2D(target + i, 0, 6408, 1, 1, 0, 6408, 5121, data);
    }

    return texture;
  }

  var emptyTextures = {};
  emptyTextures[3553] = createTexture(3553, 3553, 1);
  emptyTextures[34067] = createTexture(34067, 34069, 6); // init

  colorBuffer.setClear(0, 0, 0, 1);
  depthBuffer.setClear(1);
  stencilBuffer.setClear(0);
  enable(2929);
  depthBuffer.setFunc(LessEqualDepth);
  setFlipSided(false);
  setCullFace(CullFaceBack);
  enable(2884);
  setBlending(NoBlending); //

  function initAttributes() {
    for (var i = 0, l = newAttributes.length; i < l; i++) {
      newAttributes[i] = 0;
    }
  }

  function enableAttribute(attribute) {
    enableAttributeAndDivisor(attribute, 0);
  }

  function enableAttributeAndDivisor(attribute, meshPerAttribute) {
    newAttributes[attribute] = 1;

    if (enabledAttributes[attribute] === 0) {
      gl.enableVertexAttribArray(attribute);
      enabledAttributes[attribute] = 1;
    }

    if (attributeDivisors[attribute] !== meshPerAttribute) {
      var extension = capabilities.isWebGL2 ? gl : extensions.get('ANGLE_instanced_arrays');
      extension[capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE'](attribute, meshPerAttribute);
      attributeDivisors[attribute] = meshPerAttribute;
    }
  }

  function disableUnusedAttributes() {
    for (var i = 0, l = enabledAttributes.length; i !== l; ++i) {
      if (enabledAttributes[i] !== newAttributes[i]) {
        gl.disableVertexAttribArray(i);
        enabledAttributes[i] = 0;
      }
    }
  }

  function enable(id) {
    if (enabledCapabilities[id] !== true) {
      gl.enable(id);
      enabledCapabilities[id] = true;
    }
  }

  function disable(id) {
    if (enabledCapabilities[id] !== false) {
      gl.disable(id);
      enabledCapabilities[id] = false;
    }
  }

  function getCompressedTextureFormats() {
    if (compressedTextureFormats === null) {
      compressedTextureFormats = [];

      if (extensions.get('WEBGL_compressed_texture_pvrtc') || extensions.get('WEBGL_compressed_texture_s3tc') || extensions.get('WEBGL_compressed_texture_etc1') || extensions.get('WEBGL_compressed_texture_astc')) {
        var formats = gl.getParameter(34467);

        for (var i = 0; i < formats.length; i++) {
          compressedTextureFormats.push(formats[i]);
        }
      }
    }

    return compressedTextureFormats;
  }

  function useProgram(program) {
    if (currentProgram !== program) {
      gl.useProgram(program);
      currentProgram = program;
      return true;
    }

    return false;
  }

  function setBlending(blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha) {
    if (blending === NoBlending) {
      if (currentBlendingEnabled) {
        disable(3042);
        currentBlendingEnabled = false;
      }

      return;
    }

    if (!currentBlendingEnabled) {
      enable(3042);
      currentBlendingEnabled = true;
    }

    if (blending !== CustomBlending) {
      if (blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha) {
        if (currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation) {
          gl.blendEquation(32774);
          currentBlendEquation = AddEquation;
          currentBlendEquationAlpha = AddEquation;
        }

        if (premultipliedAlpha) {
          switch (blending) {
            case NormalBlending:
              gl.blendFuncSeparate(1, 771, 1, 771);
              break;

            case AdditiveBlending:
              gl.blendFunc(1, 1);
              break;

            case SubtractiveBlending:
              gl.blendFuncSeparate(0, 0, 769, 771);
              break;

            case MultiplyBlending:
              gl.blendFuncSeparate(0, 768, 0, 770);
              break;

            default:
              console.error('THREE.WebGLState: Invalid blending: ', blending);
              break;
          }
        } else {
          switch (blending) {
            case NormalBlending:
              gl.blendFuncSeparate(770, 771, 1, 771);
              break;

            case AdditiveBlending:
              gl.blendFunc(770, 1);
              break;

            case SubtractiveBlending:
              gl.blendFunc(0, 769);
              break;

            case MultiplyBlending:
              gl.blendFunc(0, 768);
              break;

            default:
              console.error('THREE.WebGLState: Invalid blending: ', blending);
              break;
          }
        }

        currentBlendSrc = null;
        currentBlendDst = null;
        currentBlendSrcAlpha = null;
        currentBlendDstAlpha = null;
        currentBlending = blending;
        currentPremultipledAlpha = premultipliedAlpha;
      }

      return;
    } // custom blending


    blendEquationAlpha = blendEquationAlpha || blendEquation;
    blendSrcAlpha = blendSrcAlpha || blendSrc;
    blendDstAlpha = blendDstAlpha || blendDst;

    if (blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha) {
      gl.blendEquationSeparate(utils.convert(blendEquation), utils.convert(blendEquationAlpha));
      currentBlendEquation = blendEquation;
      currentBlendEquationAlpha = blendEquationAlpha;
    }

    if (blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha) {
      gl.blendFuncSeparate(utils.convert(blendSrc), utils.convert(blendDst), utils.convert(blendSrcAlpha), utils.convert(blendDstAlpha));
      currentBlendSrc = blendSrc;
      currentBlendDst = blendDst;
      currentBlendSrcAlpha = blendSrcAlpha;
      currentBlendDstAlpha = blendDstAlpha;
    }

    currentBlending = blending;
    currentPremultipledAlpha = null;
  }

  function setMaterial(material, frontFaceCW) {
    material.side === DoubleSide ? disable(2884) : enable(2884);
    var flipSided = material.side === BackSide;
    if (frontFaceCW) flipSided = !flipSided;
    setFlipSided(flipSided);
    material.blending === NormalBlending && material.transparent === false ? setBlending(NoBlending) : setBlending(material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha);
    depthBuffer.setFunc(material.depthFunc);
    depthBuffer.setTest(material.depthTest);
    depthBuffer.setMask(material.depthWrite);
    colorBuffer.setMask(material.colorWrite);
    var stencilWrite = material.stencilWrite;
    stencilBuffer.setTest(stencilWrite);

    if (stencilWrite) {
      stencilBuffer.setFunc(material.stencilFunc, material.stencilRef, material.stencilMask);
      stencilBuffer.setOp(material.stencilFail, material.stencilZFail, material.stencilZPass);
    }

    setPolygonOffset(material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits);
  } //


  function setFlipSided(flipSided) {
    if (currentFlipSided !== flipSided) {
      if (flipSided) {
        gl.frontFace(2304);
      } else {
        gl.frontFace(2305);
      }

      currentFlipSided = flipSided;
    }
  }

  function setCullFace(cullFace) {
    if (cullFace !== CullFaceNone) {
      enable(2884);

      if (cullFace !== currentCullFace) {
        if (cullFace === CullFaceBack) {
          gl.cullFace(1029);
        } else if (cullFace === CullFaceFront) {
          gl.cullFace(1028);
        } else {
          gl.cullFace(1032);
        }
      }
    } else {
      disable(2884);
    }

    currentCullFace = cullFace;
  }

  function setLineWidth(width) {
    if (width !== currentLineWidth) {
      if (lineWidthAvailable) gl.lineWidth(width);
      currentLineWidth = width;
    }
  }

  function setPolygonOffset(polygonOffset, factor, units) {
    if (polygonOffset) {
      enable(32823);

      if (currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units) {
        gl.polygonOffset(factor, units);
        currentPolygonOffsetFactor = factor;
        currentPolygonOffsetUnits = units;
      }
    } else {
      disable(32823);
    }
  }

  function setScissorTest(scissorTest) {
    if (scissorTest) {
      enable(3089);
    } else {
      disable(3089);
    }
  } // texture


  function activeTexture(webglSlot) {
    if (webglSlot === undefined) webglSlot = 33984 + maxTextures - 1;

    if (currentTextureSlot !== webglSlot) {
      gl.activeTexture(webglSlot);
      currentTextureSlot = webglSlot;
    }
  }

  function bindTexture(webglType, webglTexture) {
    if (currentTextureSlot === null) {
      activeTexture();
    }

    var boundTexture = currentBoundTextures[currentTextureSlot];

    if (boundTexture === undefined) {
      boundTexture = {
        type: undefined,
        texture: undefined
      };
      currentBoundTextures[currentTextureSlot] = boundTexture;
    }

    if (boundTexture.type !== webglType || boundTexture.texture !== webglTexture) {
      gl.bindTexture(webglType, webglTexture || emptyTextures[webglType]);
      boundTexture.type = webglType;
      boundTexture.texture = webglTexture;
    }
  }

  function compressedTexImage2D() {
    try {
      gl.compressedTexImage2D.apply(gl, arguments);
    } catch (error) {
      console.error('THREE.WebGLState:', error);
    }
  }

  function texImage2D() {
    try {
      gl.texImage2D.apply(gl, arguments);
    } catch (error) {
      console.error('THREE.WebGLState:', error);
    }
  }

  function texImage3D() {
    try {
      gl.texImage3D.apply(gl, arguments);
    } catch (error) {
      console.error('THREE.WebGLState:', error);
    }
  } //


  function scissor(scissor) {
    if (currentScissor.equals(scissor) === false) {
      gl.scissor(scissor.x, scissor.y, scissor.z, scissor.w);
      currentScissor.copy(scissor);
    }
  }

  function viewport(viewport) {
    if (currentViewport.equals(viewport) === false) {
      gl.viewport(viewport.x, viewport.y, viewport.z, viewport.w);
      currentViewport.copy(viewport);
    }
  } //


  function reset() {
    for (var i = 0; i < enabledAttributes.length; i++) {
      if (enabledAttributes[i] === 1) {
        gl.disableVertexAttribArray(i);
        enabledAttributes[i] = 0;
      }
    }

    enabledCapabilities = {};
    compressedTextureFormats = null;
    currentTextureSlot = null;
    currentBoundTextures = {};
    currentProgram = null;
    currentBlending = null;
    currentFlipSided = null;
    currentCullFace = null;
    colorBuffer.reset();
    depthBuffer.reset();
    stencilBuffer.reset();
  }

  return {
    buffers: {
      color: colorBuffer,
      depth: depthBuffer,
      stencil: stencilBuffer
    },
    initAttributes: initAttributes,
    enableAttribute: enableAttribute,
    enableAttributeAndDivisor: enableAttributeAndDivisor,
    disableUnusedAttributes: disableUnusedAttributes,
    enable: enable,
    disable: disable,
    getCompressedTextureFormats: getCompressedTextureFormats,
    useProgram: useProgram,
    setBlending: setBlending,
    setMaterial: setMaterial,
    setFlipSided: setFlipSided,
    setCullFace: setCullFace,
    setLineWidth: setLineWidth,
    setPolygonOffset: setPolygonOffset,
    setScissorTest: setScissorTest,
    activeTexture: activeTexture,
    bindTexture: bindTexture,
    compressedTexImage2D: compressedTexImage2D,
    texImage2D: texImage2D,
    texImage3D: texImage3D,
    scissor: scissor,
    viewport: viewport,
    reset: reset
  };
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info) {
  var _videoTextures = {};

  var _canvas; //


  var useOffscreenCanvas = typeof OffscreenCanvas !== 'undefined';

  function createCanvas(width, height) {
    // Use OffscreenCanvas when available. Specially needed in web workers
    return useOffscreenCanvas ? new OffscreenCanvas(width, height) : document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');
  }

  function resizeImage(image, needsPowerOfTwo, needsNewCanvas, maxSize) {
    var scale = 1; // handle case if texture exceeds max size

    if (image.width > maxSize || image.height > maxSize) {
      scale = maxSize / Math.max(image.width, image.height);
    } // only perform resize if necessary


    if (scale < 1 || needsPowerOfTwo === true) {
      // only perform resize for certain image types
      if (typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement || typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement || typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap) {
        var floor = needsPowerOfTwo ? _Math.floorPowerOfTwo : Math.floor;
        var width = floor(scale * image.width);
        var height = floor(scale * image.height);
        if (_canvas === undefined) _canvas = createCanvas(width, height); // cube textures can't reuse the same canvas

        var canvas = needsNewCanvas ? createCanvas(width, height) : _canvas;
        canvas.width = width;
        canvas.height = height;
        var context = canvas.getContext('2d');
        context.drawImage(image, 0, 0, width, height);
        console.warn('THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').');
        return canvas;
      } else {
        if ('data' in image) {
          console.warn('THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').');
        }

        return image;
      }
    }

    return image;
  }

  function isPowerOfTwo(image) {
    return _Math.isPowerOfTwo(image.width) && _Math.isPowerOfTwo(image.height);
  }

  function textureNeedsPowerOfTwo(texture) {
    if (capabilities.isWebGL2) return false;
    return texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping || texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;
  }

  function textureNeedsGenerateMipmaps(texture, supportsMips) {
    return texture.generateMipmaps && supportsMips && texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;
  }

  function generateMipmap(target, texture, width, height) {
    _gl.generateMipmap(target);

    var textureProperties = properties.get(texture); // Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11

    textureProperties.__maxMipLevel = Math.log(Math.max(width, height)) * Math.LOG2E;
  }

  function getInternalFormat(glFormat, glType) {
    if (!capabilities.isWebGL2) return glFormat;
    var internalFormat = glFormat;

    if (glFormat === 6403) {
      if (glType === 5126) internalFormat = 33326;
      if (glType === 5131) internalFormat = 33325;
      if (glType === 5121) internalFormat = 33321;
    }

    if (glFormat === 6407) {
      if (glType === 5126) internalFormat = 34837;
      if (glType === 5131) internalFormat = 34843;
      if (glType === 5121) internalFormat = 32849;
    }

    if (glFormat === 6408) {
      if (glType === 5126) internalFormat = 34836;
      if (glType === 5131) internalFormat = 34842;
      if (glType === 5121) internalFormat = 32856;
    }

    if (internalFormat === 33325 || internalFormat === 33326 || internalFormat === 34842 || internalFormat === 34836) {
      extensions.get('EXT_color_buffer_float');
    } else if (internalFormat === 34843 || internalFormat === 34837) {
      console.warn('THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead.');
    }

    return internalFormat;
  } // Fallback filters for non-power-of-2 textures


  function filterFallback(f) {
    if (f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter) {
      return 9728;
    }

    return 9729;
  } //


  function onTextureDispose(event) {
    var texture = event.target;
    texture.removeEventListener('dispose', onTextureDispose);
    deallocateTexture(texture);

    if (texture.isVideoTexture) {
      delete _videoTextures[texture.id];
    }

    info.memory.textures--;
  }

  function onRenderTargetDispose(event) {
    var renderTarget = event.target;
    renderTarget.removeEventListener('dispose', onRenderTargetDispose);
    deallocateRenderTarget(renderTarget);
    info.memory.textures--;
  } //


  function deallocateTexture(texture) {
    var textureProperties = properties.get(texture);
    if (textureProperties.__webglInit === undefined) return;

    _gl.deleteTexture(textureProperties.__webglTexture);

    properties.remove(texture);
  }

  function deallocateRenderTarget(renderTarget) {
    var renderTargetProperties = properties.get(renderTarget);
    var textureProperties = properties.get(renderTarget.texture);
    if (!renderTarget) return;

    if (textureProperties.__webglTexture !== undefined) {
      _gl.deleteTexture(textureProperties.__webglTexture);
    }

    if (renderTarget.depthTexture) {
      renderTarget.depthTexture.dispose();
    }

    if (renderTarget.isWebGLRenderTargetCube) {
      for (var i = 0; i < 6; i++) {
        _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer[i]);

        if (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer[i]);
      }
    } else {
      _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer);

      if (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer);
    }

    properties.remove(renderTarget.texture);
    properties.remove(renderTarget);
  } //


  var textureUnits = 0;

  function resetTextureUnits() {
    textureUnits = 0;
  }

  function allocateTextureUnit() {
    var textureUnit = textureUnits;

    if (textureUnit >= capabilities.maxTextures) {
      console.warn('THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + capabilities.maxTextures);
    }

    textureUnits += 1;
    return textureUnit;
  } //


  function setTexture2D(texture, slot) {
    var textureProperties = properties.get(texture);
    if (texture.isVideoTexture) updateVideoTexture(texture);

    if (texture.version > 0 && textureProperties.__version !== texture.version) {
      var image = texture.image;

      if (image === undefined) {
        console.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined');
      } else if (image.complete === false) {
        console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete');
      } else {
        uploadTexture(textureProperties, texture, slot);
        return;
      }
    }

    state.activeTexture(33984 + slot);
    state.bindTexture(3553, textureProperties.__webglTexture);
  }

  function setTexture2DArray(texture, slot) {
    var textureProperties = properties.get(texture);

    if (texture.version > 0 && textureProperties.__version !== texture.version) {
      uploadTexture(textureProperties, texture, slot);
      return;
    }

    state.activeTexture(33984 + slot);
    state.bindTexture(35866, textureProperties.__webglTexture);
  }

  function setTexture3D(texture, slot) {
    var textureProperties = properties.get(texture);

    if (texture.version > 0 && textureProperties.__version !== texture.version) {
      uploadTexture(textureProperties, texture, slot);
      return;
    }

    state.activeTexture(33984 + slot);
    state.bindTexture(32879, textureProperties.__webglTexture);
  }

  function setTextureCube(texture, slot) {
    var textureProperties = properties.get(texture);

    if (texture.image.length === 6) {
      if (texture.version > 0 && textureProperties.__version !== texture.version) {
        initTexture(textureProperties, texture);
        state.activeTexture(33984 + slot);
        state.bindTexture(34067, textureProperties.__webglTexture);

        _gl.pixelStorei(37440, texture.flipY);

        var isCompressed = texture && texture.isCompressedTexture;
        var isDataTexture = texture.image[0] && texture.image[0].isDataTexture;
        var cubeImage = [];

        for (var i = 0; i < 6; i++) {
          if (!isCompressed && !isDataTexture) {
            cubeImage[i] = resizeImage(texture.image[i], false, true, capabilities.maxCubemapSize);
          } else {
            cubeImage[i] = isDataTexture ? texture.image[i].image : texture.image[i];
          }
        }

        var image = cubeImage[0],
            supportsMips = isPowerOfTwo(image) || capabilities.isWebGL2,
            glFormat = utils.convert(texture.format),
            glType = utils.convert(texture.type),
            glInternalFormat = getInternalFormat(glFormat, glType);
        setTextureParameters(34067, texture, supportsMips);

        for (var i = 0; i < 6; i++) {
          if (!isCompressed) {
            if (isDataTexture) {
              state.texImage2D(34069 + i, 0, glInternalFormat, cubeImage[i].width, cubeImage[i].height, 0, glFormat, glType, cubeImage[i].data);
            } else {
              state.texImage2D(34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[i]);
            }
          } else {
            var mipmap,
                mipmaps = cubeImage[i].mipmaps;

            for (var j = 0, jl = mipmaps.length; j < jl; j++) {
              mipmap = mipmaps[j];

              if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {
                if (state.getCompressedTextureFormats().indexOf(glFormat) > -1) {
                  state.compressedTexImage2D(34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data);
                } else {
                  console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()');
                }
              } else {
                state.texImage2D(34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);
              }
            }
          }
        }

        if (!isCompressed) {
          textureProperties.__maxMipLevel = 0;
        } else {
          textureProperties.__maxMipLevel = mipmaps.length - 1;
        }

        if (textureNeedsGenerateMipmaps(texture, supportsMips)) {
          // We assume images for cube map have the same size.
          generateMipmap(34067, texture, image.width, image.height);
        }

        textureProperties.__version = texture.version;
        if (texture.onUpdate) texture.onUpdate(texture);
      } else {
        state.activeTexture(33984 + slot);
        state.bindTexture(34067, textureProperties.__webglTexture);
      }
    }
  }

  function setTextureCubeDynamic(texture, slot) {
    state.activeTexture(33984 + slot);
    state.bindTexture(34067, properties.get(texture).__webglTexture);
  }

  function setTextureParameters(textureType, texture, supportsMips) {
    var extension;

    if (supportsMips) {
      _gl.texParameteri(textureType, 10242, utils.convert(texture.wrapS));

      _gl.texParameteri(textureType, 10243, utils.convert(texture.wrapT));

      if (textureType === 32879 || textureType === 35866) {
        _gl.texParameteri(textureType, 32882, utils.convert(texture.wrapR));
      }

      _gl.texParameteri(textureType, 10240, utils.convert(texture.magFilter));

      _gl.texParameteri(textureType, 10241, utils.convert(texture.minFilter));
    } else {
      _gl.texParameteri(textureType, 10242, 33071);

      _gl.texParameteri(textureType, 10243, 33071);

      if (textureType === 32879 || textureType === 35866) {
        _gl.texParameteri(textureType, 32882, 33071);
      }

      if (texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping) {
        console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.');
      }

      _gl.texParameteri(textureType, 10240, filterFallback(texture.magFilter));

      _gl.texParameteri(textureType, 10241, filterFallback(texture.minFilter));

      if (texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter) {
        console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.');
      }
    }

    extension = extensions.get('EXT_texture_filter_anisotropic');

    if (extension) {
      if (texture.type === FloatType && extensions.get('OES_texture_float_linear') === null) return;
      if (texture.type === HalfFloatType && (capabilities.isWebGL2 || extensions.get('OES_texture_half_float_linear')) === null) return;

      if (texture.anisotropy > 1 || properties.get(texture).__currentAnisotropy) {
        _gl.texParameterf(textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(texture.anisotropy, capabilities.getMaxAnisotropy()));

        properties.get(texture).__currentAnisotropy = texture.anisotropy;
      }
    }
  }

  function initTexture(textureProperties, texture) {
    if (textureProperties.__webglInit === undefined) {
      textureProperties.__webglInit = true;
      texture.addEventListener('dispose', onTextureDispose);
      textureProperties.__webglTexture = _gl.createTexture();
      info.memory.textures++;
    }
  }

  function uploadTexture(textureProperties, texture, slot) {
    var textureType = 3553;
    if (texture.isDataTexture2DArray) textureType = 35866;
    if (texture.isDataTexture3D) textureType = 32879;
    initTexture(textureProperties, texture);
    state.activeTexture(33984 + slot);
    state.bindTexture(textureType, textureProperties.__webglTexture);

    _gl.pixelStorei(37440, texture.flipY);

    _gl.pixelStorei(37441, texture.premultiplyAlpha);

    _gl.pixelStorei(3317, texture.unpackAlignment);

    var needsPowerOfTwo = textureNeedsPowerOfTwo(texture) && isPowerOfTwo(texture.image) === false;
    var image = resizeImage(texture.image, needsPowerOfTwo, false, capabilities.maxTextureSize);
    var supportsMips = isPowerOfTwo(image) || capabilities.isWebGL2,
        glFormat = utils.convert(texture.format),
        glType = utils.convert(texture.type),
        glInternalFormat = getInternalFormat(glFormat, glType);
    setTextureParameters(textureType, texture, supportsMips);
    var mipmap,
        mipmaps = texture.mipmaps;

    if (texture.isDepthTexture) {
      // populate depth texture with dummy data
      glInternalFormat = 6402;

      if (texture.type === FloatType) {
        if (!capabilities.isWebGL2) throw new Error('Float Depth Texture only supported in WebGL2.0');
        glInternalFormat = 36012;
      } else if (capabilities.isWebGL2) {
        // WebGL 2.0 requires signed internalformat for glTexImage2D
        glInternalFormat = 33189;
      }

      if (texture.format === DepthFormat && glInternalFormat === 6402) {
        // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are
        // DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT
        // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)
        if (texture.type !== UnsignedShortType && texture.type !== UnsignedIntType) {
          console.warn('THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.');
          texture.type = UnsignedShortType;
          glType = utils.convert(texture.type);
        }
      } // Depth stencil textures need the DEPTH_STENCIL internal format
      // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)


      if (texture.format === DepthStencilFormat) {
        glInternalFormat = 34041; // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are
        // DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.
        // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)

        if (texture.type !== UnsignedInt248Type) {
          console.warn('THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.');
          texture.type = UnsignedInt248Type;
          glType = utils.convert(texture.type);
        }
      }

      state.texImage2D(3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null);
    } else if (texture.isDataTexture) {
      // use manually created mipmaps if available
      // if there are no manual mipmaps
      // set 0 level mipmap and then use GL to generate other mipmap levels
      if (mipmaps.length > 0 && supportsMips) {
        for (var i = 0, il = mipmaps.length; i < il; i++) {
          mipmap = mipmaps[i];
          state.texImage2D(3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);
        }

        texture.generateMipmaps = false;
        textureProperties.__maxMipLevel = mipmaps.length - 1;
      } else {
        state.texImage2D(3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data);
        textureProperties.__maxMipLevel = 0;
      }
    } else if (texture.isCompressedTexture) {
      for (var i = 0, il = mipmaps.length; i < il; i++) {
        mipmap = mipmaps[i];

        if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {
          if (state.getCompressedTextureFormats().indexOf(glFormat) > -1) {
            state.compressedTexImage2D(3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data);
          } else {
            console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()');
          }
        } else {
          state.texImage2D(3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);
        }
      }

      textureProperties.__maxMipLevel = mipmaps.length - 1;
    } else if (texture.isDataTexture2DArray) {
      state.texImage3D(35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data);
      textureProperties.__maxMipLevel = 0;
    } else if (texture.isDataTexture3D) {
      state.texImage3D(32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data);
      textureProperties.__maxMipLevel = 0;
    } else {
      // regular Texture (image, video, canvas)
      // use manually created mipmaps if available
      // if there are no manual mipmaps
      // set 0 level mipmap and then use GL to generate other mipmap levels
      if (mipmaps.length > 0 && supportsMips) {
        for (var i = 0, il = mipmaps.length; i < il; i++) {
          mipmap = mipmaps[i];
          state.texImage2D(3553, i, glInternalFormat, glFormat, glType, mipmap);
        }

        texture.generateMipmaps = false;
        textureProperties.__maxMipLevel = mipmaps.length - 1;
      } else {
        state.texImage2D(3553, 0, glInternalFormat, glFormat, glType, image);
        textureProperties.__maxMipLevel = 0;
      }
    }

    if (textureNeedsGenerateMipmaps(texture, supportsMips)) {
      generateMipmap(3553, texture, image.width, image.height);
    }

    textureProperties.__version = texture.version;
    if (texture.onUpdate) texture.onUpdate(texture);
  } // Render targets
  // Setup storage for target texture and bind it to correct framebuffer


  function setupFrameBufferTexture(framebuffer, renderTarget, attachment, textureTarget) {
    var glFormat = utils.convert(renderTarget.texture.format);
    var glType = utils.convert(renderTarget.texture.type);
    var glInternalFormat = getInternalFormat(glFormat, glType);
    state.texImage2D(textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null);

    _gl.bindFramebuffer(36160, framebuffer);

    _gl.framebufferTexture2D(36160, attachment, textureTarget, properties.get(renderTarget.texture).__webglTexture, 0);

    _gl.bindFramebuffer(36160, null);
  } // Setup storage for internal depth/stencil buffers and bind to correct framebuffer


  function setupRenderBufferStorage(renderbuffer, renderTarget, isMultisample) {
    _gl.bindRenderbuffer(36161, renderbuffer);

    if (renderTarget.depthBuffer && !renderTarget.stencilBuffer) {
      if (isMultisample) {
        var samples = getRenderTargetSamples(renderTarget);

        _gl.renderbufferStorageMultisample(36161, samples, 33189, renderTarget.width, renderTarget.height);
      } else {
        _gl.renderbufferStorage(36161, 33189, renderTarget.width, renderTarget.height);
      }

      _gl.framebufferRenderbuffer(36160, 36096, 36161, renderbuffer);
    } else if (renderTarget.depthBuffer && renderTarget.stencilBuffer) {
      if (isMultisample) {
        var samples = getRenderTargetSamples(renderTarget);

        _gl.renderbufferStorageMultisample(36161, samples, 35056, renderTarget.width, renderTarget.height);
      } else {
        _gl.renderbufferStorage(36161, 34041, renderTarget.width, renderTarget.height);
      }

      _gl.framebufferRenderbuffer(36160, 33306, 36161, renderbuffer);
    } else {
      var glFormat = utils.convert(renderTarget.texture.format);
      var glType = utils.convert(renderTarget.texture.type);
      var glInternalFormat = getInternalFormat(glFormat, glType);

      if (isMultisample) {
        var samples = getRenderTargetSamples(renderTarget);

        _gl.renderbufferStorageMultisample(36161, samples, glInternalFormat, renderTarget.width, renderTarget.height);
      } else {
        _gl.renderbufferStorage(36161, glInternalFormat, renderTarget.width, renderTarget.height);
      }
    }

    _gl.bindRenderbuffer(36161, null);
  } // Setup resources for a Depth Texture for a FBO (needs an extension)


  function setupDepthTexture(framebuffer, renderTarget) {
    var isCube = renderTarget && renderTarget.isWebGLRenderTargetCube;
    if (isCube) throw new Error('Depth Texture with cube render targets is not supported');

    _gl.bindFramebuffer(36160, framebuffer);

    if (!(renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture)) {
      throw new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');
    } // upload an empty depth texture with framebuffer size


    if (!properties.get(renderTarget.depthTexture).__webglTexture || renderTarget.depthTexture.image.width !== renderTarget.width || renderTarget.depthTexture.image.height !== renderTarget.height) {
      renderTarget.depthTexture.image.width = renderTarget.width;
      renderTarget.depthTexture.image.height = renderTarget.height;
      renderTarget.depthTexture.needsUpdate = true;
    }

    setTexture2D(renderTarget.depthTexture, 0);

    var webglDepthTexture = properties.get(renderTarget.depthTexture).__webglTexture;

    if (renderTarget.depthTexture.format === DepthFormat) {
      _gl.framebufferTexture2D(36160, 36096, 3553, webglDepthTexture, 0);
    } else if (renderTarget.depthTexture.format === DepthStencilFormat) {
      _gl.framebufferTexture2D(36160, 33306, 3553, webglDepthTexture, 0);
    } else {
      throw new Error('Unknown depthTexture format');
    }
  } // Setup GL resources for a non-texture depth buffer


  function setupDepthRenderbuffer(renderTarget) {
    var renderTargetProperties = properties.get(renderTarget);
    var isCube = renderTarget.isWebGLRenderTargetCube === true;

    if (renderTarget.depthTexture) {
      if (isCube) throw new Error('target.depthTexture not supported in Cube render targets');
      setupDepthTexture(renderTargetProperties.__webglFramebuffer, renderTarget);
    } else {
      if (isCube) {
        renderTargetProperties.__webglDepthbuffer = [];

        for (var i = 0; i < 6; i++) {
          _gl.bindFramebuffer(36160, renderTargetProperties.__webglFramebuffer[i]);

          renderTargetProperties.__webglDepthbuffer[i] = _gl.createRenderbuffer();
          setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer[i], renderTarget);
        }
      } else {
        _gl.bindFramebuffer(36160, renderTargetProperties.__webglFramebuffer);

        renderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();
        setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer, renderTarget);
      }
    }

    _gl.bindFramebuffer(36160, null);
  } // Set up GL resources for the render target


  function setupRenderTarget(renderTarget) {
    var renderTargetProperties = properties.get(renderTarget);
    var textureProperties = properties.get(renderTarget.texture);
    renderTarget.addEventListener('dispose', onRenderTargetDispose);
    textureProperties.__webglTexture = _gl.createTexture();
    info.memory.textures++;
    var isCube = renderTarget.isWebGLRenderTargetCube === true;
    var isMultisample = renderTarget.isWebGLMultisampleRenderTarget === true;
    var supportsMips = isPowerOfTwo(renderTarget) || capabilities.isWebGL2; // Setup framebuffer

    if (isCube) {
      renderTargetProperties.__webglFramebuffer = [];

      for (var i = 0; i < 6; i++) {
        renderTargetProperties.__webglFramebuffer[i] = _gl.createFramebuffer();
      }
    } else {
      renderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();

      if (isMultisample) {
        if (capabilities.isWebGL2) {
          renderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();
          renderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();

          _gl.bindRenderbuffer(36161, renderTargetProperties.__webglColorRenderbuffer);

          var glFormat = utils.convert(renderTarget.texture.format);
          var glType = utils.convert(renderTarget.texture.type);
          var glInternalFormat = getInternalFormat(glFormat, glType);
          var samples = getRenderTargetSamples(renderTarget);

          _gl.renderbufferStorageMultisample(36161, samples, glInternalFormat, renderTarget.width, renderTarget.height);

          _gl.bindFramebuffer(36160, renderTargetProperties.__webglMultisampledFramebuffer);

          _gl.framebufferRenderbuffer(36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer);

          _gl.bindRenderbuffer(36161, null);

          if (renderTarget.depthBuffer) {
            renderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();
            setupRenderBufferStorage(renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true);
          }

          _gl.bindFramebuffer(36160, null);
        } else {
          console.warn('THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.');
        }
      }
    } // Setup color buffer


    if (isCube) {
      state.bindTexture(34067, textureProperties.__webglTexture);
      setTextureParameters(34067, renderTarget.texture, supportsMips);

      for (var i = 0; i < 6; i++) {
        setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer[i], renderTarget, 36064, 34069 + i);
      }

      if (textureNeedsGenerateMipmaps(renderTarget.texture, supportsMips)) {
        generateMipmap(34067, renderTarget.texture, renderTarget.width, renderTarget.height);
      }

      state.bindTexture(34067, null);
    } else {
      state.bindTexture(3553, textureProperties.__webglTexture);
      setTextureParameters(3553, renderTarget.texture, supportsMips);
      setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553);

      if (textureNeedsGenerateMipmaps(renderTarget.texture, supportsMips)) {
        generateMipmap(3553, renderTarget.texture, renderTarget.width, renderTarget.height);
      }

      state.bindTexture(3553, null);
    } // Setup depth and stencil buffers


    if (renderTarget.depthBuffer) {
      setupDepthRenderbuffer(renderTarget);
    }
  }

  function updateRenderTargetMipmap(renderTarget) {
    var texture = renderTarget.texture;
    var supportsMips = isPowerOfTwo(renderTarget) || capabilities.isWebGL2;

    if (textureNeedsGenerateMipmaps(texture, supportsMips)) {
      var target = renderTarget.isWebGLRenderTargetCube ? 34067 : 3553;

      var webglTexture = properties.get(texture).__webglTexture;

      state.bindTexture(target, webglTexture);
      generateMipmap(target, texture, renderTarget.width, renderTarget.height);
      state.bindTexture(target, null);
    }
  }

  function updateMultisampleRenderTarget(renderTarget) {
    if (renderTarget.isWebGLMultisampleRenderTarget) {
      if (capabilities.isWebGL2) {
        var renderTargetProperties = properties.get(renderTarget);

        _gl.bindFramebuffer(36008, renderTargetProperties.__webglMultisampledFramebuffer);

        _gl.bindFramebuffer(36009, renderTargetProperties.__webglFramebuffer);

        var width = renderTarget.width;
        var height = renderTarget.height;
        var mask = 16384;
        if (renderTarget.depthBuffer) mask |= 256;
        if (renderTarget.stencilBuffer) mask |= 1024;

        _gl.blitFramebuffer(0, 0, width, height, 0, 0, width, height, mask, 9728);
      } else {
        console.warn('THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.');
      }
    }
  }

  function getRenderTargetSamples(renderTarget) {
    return capabilities.isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ? Math.min(capabilities.maxSamples, renderTarget.samples) : 0;
  }

  function updateVideoTexture(texture) {
    var id = texture.id;
    var frame = info.render.frame; // Check the last frame we updated the VideoTexture

    if (_videoTextures[id] !== frame) {
      _videoTextures[id] = frame;
      texture.update();
    }
  } // backwards compatibility


  var warnedTexture2D = false;
  var warnedTextureCube = false;

  function safeSetTexture2D(texture, slot) {
    if (texture && texture.isWebGLRenderTarget) {
      if (warnedTexture2D === false) {
        console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.");
        warnedTexture2D = true;
      }

      texture = texture.texture;
    }

    setTexture2D(texture, slot);
  }

  function safeSetTextureCube(texture, slot) {
    if (texture && texture.isWebGLRenderTargetCube) {
      if (warnedTextureCube === false) {
        console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.");
        warnedTextureCube = true;
      }

      texture = texture.texture;
    } // currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture
    // TODO: unify these code paths


    if (texture && texture.isCubeTexture || Array.isArray(texture.image) && texture.image.length === 6) {
      // CompressedTexture can have Array in image :/
      // this function alone should take care of cube textures
      setTextureCube(texture, slot);
    } else {
      // assumed: texture property of THREE.WebGLRenderTargetCube
      setTextureCubeDynamic(texture, slot);
    }
  } //


  this.allocateTextureUnit = allocateTextureUnit;
  this.resetTextureUnits = resetTextureUnits;
  this.setTexture2D = setTexture2D;
  this.setTexture2DArray = setTexture2DArray;
  this.setTexture3D = setTexture3D;
  this.setTextureCube = setTextureCube;
  this.setTextureCubeDynamic = setTextureCubeDynamic;
  this.setupRenderTarget = setupRenderTarget;
  this.updateRenderTargetMipmap = updateRenderTargetMipmap;
  this.updateMultisampleRenderTarget = updateMultisampleRenderTarget;
  this.safeSetTexture2D = safeSetTexture2D;
  this.safeSetTextureCube = safeSetTextureCube;
}
/**
 * @author thespite / http://www.twitter.com/thespite
 */


function WebGLUtils(gl, extensions, capabilities) {
  function convert(p) {
    var extension;
    if (p === RepeatWrapping) return 10497;
    if (p === ClampToEdgeWrapping) return 33071;
    if (p === MirroredRepeatWrapping) return 33648;
    if (p === NearestFilter) return 9728;
    if (p === NearestMipmapNearestFilter) return 9984;
    if (p === NearestMipmapLinearFilter) return 9986;
    if (p === LinearFilter) return 9729;
    if (p === LinearMipmapNearestFilter) return 9985;
    if (p === LinearMipmapLinearFilter) return 9987;
    if (p === UnsignedByteType) return 5121;
    if (p === UnsignedShort4444Type) return 32819;
    if (p === UnsignedShort5551Type) return 32820;
    if (p === UnsignedShort565Type) return 33635;
    if (p === ByteType) return 5120;
    if (p === ShortType) return 5122;
    if (p === UnsignedShortType) return 5123;
    if (p === IntType) return 5124;
    if (p === UnsignedIntType) return 5125;
    if (p === FloatType) return 5126;

    if (p === HalfFloatType) {
      if (capabilities.isWebGL2) return 5131;
      extension = extensions.get('OES_texture_half_float');
      if (extension !== null) return extension.HALF_FLOAT_OES;
    }

    if (p === AlphaFormat) return 6406;
    if (p === RGBFormat) return 6407;
    if (p === RGBAFormat) return 6408;
    if (p === LuminanceFormat) return 6409;
    if (p === LuminanceAlphaFormat) return 6410;
    if (p === DepthFormat) return 6402;
    if (p === DepthStencilFormat) return 34041;
    if (p === RedFormat) return 6403;
    if (p === AddEquation) return 32774;
    if (p === SubtractEquation) return 32778;
    if (p === ReverseSubtractEquation) return 32779;
    if (p === ZeroFactor) return 0;
    if (p === OneFactor) return 1;
    if (p === SrcColorFactor) return 768;
    if (p === OneMinusSrcColorFactor) return 769;
    if (p === SrcAlphaFactor) return 770;
    if (p === OneMinusSrcAlphaFactor) return 771;
    if (p === DstAlphaFactor) return 772;
    if (p === OneMinusDstAlphaFactor) return 773;
    if (p === DstColorFactor) return 774;
    if (p === OneMinusDstColorFactor) return 775;
    if (p === SrcAlphaSaturateFactor) return 776;

    if (p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format || p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format) {
      extension = extensions.get('WEBGL_compressed_texture_s3tc');

      if (extension !== null) {
        if (p === RGB_S3TC_DXT1_Format) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;
        if (p === RGBA_S3TC_DXT1_Format) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;
        if (p === RGBA_S3TC_DXT3_Format) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;
        if (p === RGBA_S3TC_DXT5_Format) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;
      }
    }

    if (p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format || p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format) {
      extension = extensions.get('WEBGL_compressed_texture_pvrtc');

      if (extension !== null) {
        if (p === RGB_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
        if (p === RGB_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
        if (p === RGBA_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
        if (p === RGBA_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;
      }
    }

    if (p === RGB_ETC1_Format) {
      extension = extensions.get('WEBGL_compressed_texture_etc1');
      if (extension !== null) return extension.COMPRESSED_RGB_ETC1_WEBGL;
    }

    if (p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format || p === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format || p === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format || p === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format || p === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format) {
      extension = extensions.get('WEBGL_compressed_texture_astc');

      if (extension !== null) {
        return p;
      }
    }

    if (p === MinEquation || p === MaxEquation) {
      if (capabilities.isWebGL2) {
        if (p === MinEquation) return 32775;
        if (p === MaxEquation) return 32776;
      }

      extension = extensions.get('EXT_blend_minmax');

      if (extension !== null) {
        if (p === MinEquation) return extension.MIN_EXT;
        if (p === MaxEquation) return extension.MAX_EXT;
      }
    }

    if (p === UnsignedInt248Type) {
      if (capabilities.isWebGL2) return 34042;
      extension = extensions.get('WEBGL_depth_texture');
      if (extension !== null) return extension.UNSIGNED_INT_24_8_WEBGL;
    }

    return 0;
  }

  return {
    convert: convert
  };
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function Group() {
  Object3D.call(this);
  this.type = 'Group';
}

Group.prototype = Object.assign(Object.create(Object3D.prototype), {
  constructor: Group,
  isGroup: true
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function ArrayCamera(array) {
  PerspectiveCamera.call(this);
  this.cameras = array || [];
}

ArrayCamera.prototype = Object.assign(Object.create(PerspectiveCamera.prototype), {
  constructor: ArrayCamera,
  isArrayCamera: true
});
/**
 * @author jsantell / https://www.jsantell.com/
 * @author mrdoob / http://mrdoob.com/
 */

var cameraLPos = new Vector3();
var cameraRPos = new Vector3();
/**
 * Assumes 2 cameras that are parallel and share an X-axis, and that
 * the cameras' projection and world matrices have already been set.
 * And that near and far planes are identical for both cameras.
 * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765
 */

function setProjectionFromUnion(camera, cameraL, cameraR) {
  cameraLPos.setFromMatrixPosition(cameraL.matrixWorld);
  cameraRPos.setFromMatrixPosition(cameraR.matrixWorld);
  var ipd = cameraLPos.distanceTo(cameraRPos);
  var projL = cameraL.projectionMatrix.elements;
  var projR = cameraR.projectionMatrix.elements; // VR systems will have identical far and near planes, and
  // most likely identical top and bottom frustum extents.
  // Use the left camera for these values.

  var near = projL[14] / (projL[10] - 1);
  var far = projL[14] / (projL[10] + 1);
  var topFov = (projL[9] + 1) / projL[5];
  var bottomFov = (projL[9] - 1) / projL[5];
  var leftFov = (projL[8] - 1) / projL[0];
  var rightFov = (projR[8] + 1) / projR[0];
  var left = near * leftFov;
  var right = near * rightFov; // Calculate the new camera's position offset from the
  // left camera. xOffset should be roughly half `ipd`.

  var zOffset = ipd / (-leftFov + rightFov);
  var xOffset = zOffset * -leftFov; // TODO: Better way to apply this offset?

  cameraL.matrixWorld.decompose(camera.position, camera.quaternion, camera.scale);
  camera.translateX(xOffset);
  camera.translateZ(zOffset);
  camera.matrixWorld.compose(camera.position, camera.quaternion, camera.scale);
  camera.matrixWorldInverse.getInverse(camera.matrixWorld); // Find the union of the frustum values of the cameras and scale
  // the values so that the near plane's position does not change in world space,
  // although must now be relative to the new union camera.

  var near2 = near + zOffset;
  var far2 = far + zOffset;
  var left2 = left - xOffset;
  var right2 = right + (ipd - xOffset);
  var top2 = topFov * far / far2 * near2;
  var bottom2 = bottomFov * far / far2 * near2;
  camera.projectionMatrix.makePerspective(left2, right2, top2, bottom2, near2, far2);
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function WebVRManager(renderer) {
  var renderWidth, renderHeight;
  var scope = this;
  var device = null;
  var frameData = null;
  var poseTarget = null;
  var controllers = [];
  var standingMatrix = new Matrix4();
  var standingMatrixInverse = new Matrix4();
  var framebufferScaleFactor = 1.0;
  var referenceSpaceType = 'local-floor';

  if (typeof window !== 'undefined' && 'VRFrameData' in window) {
    frameData = new window.VRFrameData();
    window.addEventListener('vrdisplaypresentchange', onVRDisplayPresentChange, false);
  }

  var matrixWorldInverse = new Matrix4();
  var tempQuaternion = new Quaternion();
  var tempPosition = new Vector3();
  var cameraL = new PerspectiveCamera();
  cameraL.viewport = new Vector4();
  cameraL.layers.enable(1);
  var cameraR = new PerspectiveCamera();
  cameraR.viewport = new Vector4();
  cameraR.layers.enable(2);
  var cameraVR = new ArrayCamera([cameraL, cameraR]);
  cameraVR.layers.enable(1);
  cameraVR.layers.enable(2); //

  function isPresenting() {
    return device !== null && device.isPresenting === true;
  }

  var currentSize = new Vector2(),
      currentPixelRatio;

  function onVRDisplayPresentChange() {
    if (isPresenting()) {
      var eyeParameters = device.getEyeParameters('left');
      renderWidth = 2 * eyeParameters.renderWidth * framebufferScaleFactor;
      renderHeight = eyeParameters.renderHeight * framebufferScaleFactor;
      currentPixelRatio = renderer.getPixelRatio();
      renderer.getSize(currentSize);
      renderer.setDrawingBufferSize(renderWidth, renderHeight, 1);
      cameraL.viewport.set(0, 0, renderWidth / 2, renderHeight);
      cameraR.viewport.set(renderWidth / 2, 0, renderWidth / 2, renderHeight);
      animation.start();
      scope.dispatchEvent({
        type: 'sessionstart'
      });
    } else {
      if (scope.enabled) {
        renderer.setDrawingBufferSize(currentSize.width, currentSize.height, currentPixelRatio);
      }

      animation.stop();
      scope.dispatchEvent({
        type: 'sessionend'
      });
    }
  } //


  var triggers = [];

  function findGamepad(id) {
    var gamepads = navigator.getGamepads && navigator.getGamepads();

    for (var i = 0, j = 0, l = gamepads.length; i < l; i++) {
      var gamepad = gamepads[i];

      if (gamepad && (gamepad.id === 'Daydream Controller' || gamepad.id === 'Gear VR Controller' || gamepad.id === 'Oculus Go Controller' || gamepad.id === 'OpenVR Gamepad' || gamepad.id.startsWith('Oculus Touch') || gamepad.id.startsWith('HTC Vive Focus') || gamepad.id.startsWith('Spatial Controller'))) {
        if (j === id) return gamepad;
        j++;
      }
    }
  }

  function updateControllers() {
    for (var i = 0; i < controllers.length; i++) {
      var controller = controllers[i];
      var gamepad = findGamepad(i);

      if (gamepad !== undefined && gamepad.pose !== undefined) {
        if (gamepad.pose === null) return; // Pose

        var pose = gamepad.pose;
        if (pose.hasPosition === false) controller.position.set(0.2, -0.6, -0.05);
        if (pose.position !== null) controller.position.fromArray(pose.position);
        if (pose.orientation !== null) controller.quaternion.fromArray(pose.orientation);
        controller.matrix.compose(controller.position, controller.quaternion, controller.scale);
        controller.matrix.premultiply(standingMatrix);
        controller.matrix.decompose(controller.position, controller.quaternion, controller.scale);
        controller.matrixWorldNeedsUpdate = true;
        controller.visible = true; // Trigger

        var buttonId = gamepad.id === 'Daydream Controller' ? 0 : 1;
        if (triggers[i] === undefined) triggers[i] = false;

        if (triggers[i] !== gamepad.buttons[buttonId].pressed) {
          triggers[i] = gamepad.buttons[buttonId].pressed;

          if (triggers[i] === true) {
            controller.dispatchEvent({
              type: 'selectstart'
            });
          } else {
            controller.dispatchEvent({
              type: 'selectend'
            });
            controller.dispatchEvent({
              type: 'select'
            });
          }
        }
      } else {
        controller.visible = false;
      }
    }
  }

  function updateViewportFromBounds(viewport, bounds) {
    if (bounds !== null && bounds.length === 4) {
      viewport.set(bounds[0] * renderWidth, bounds[1] * renderHeight, bounds[2] * renderWidth, bounds[3] * renderHeight);
    }
  } //


  this.enabled = false;

  this.getController = function (id) {
    var controller = controllers[id];

    if (controller === undefined) {
      controller = new Group();
      controller.matrixAutoUpdate = false;
      controller.visible = false;
      controllers[id] = controller;
    }

    return controller;
  };

  this.getDevice = function () {
    return device;
  };

  this.setDevice = function (value) {
    if (value !== undefined) device = value;
    animation.setContext(value);
  };

  this.setFramebufferScaleFactor = function (value) {
    framebufferScaleFactor = value;
  };

  this.setReferenceSpaceType = function (value) {
    referenceSpaceType = value;
  };

  this.setPoseTarget = function (object) {
    if (object !== undefined) poseTarget = object;
  };

  this.getCamera = function (camera) {
    var userHeight = referenceSpaceType === 'local-floor' ? 1.6 : 0;

    if (isPresenting() === false) {
      camera.position.set(0, userHeight, 0);
      camera.rotation.set(0, 0, 0);
      return camera;
    }

    device.depthNear = camera.near;
    device.depthFar = camera.far;
    device.getFrameData(frameData); //

    if (referenceSpaceType === 'local-floor') {
      var stageParameters = device.stageParameters;

      if (stageParameters) {
        standingMatrix.fromArray(stageParameters.sittingToStandingTransform);
      } else {
        standingMatrix.makeTranslation(0, userHeight, 0);
      }
    }

    var pose = frameData.pose;
    var poseObject = poseTarget !== null ? poseTarget : camera; // We want to manipulate poseObject by its position and quaternion components since users may rely on them.

    poseObject.matrix.copy(standingMatrix);
    poseObject.matrix.decompose(poseObject.position, poseObject.quaternion, poseObject.scale);

    if (pose.orientation !== null) {
      tempQuaternion.fromArray(pose.orientation);
      poseObject.quaternion.multiply(tempQuaternion);
    }

    if (pose.position !== null) {
      tempQuaternion.setFromRotationMatrix(standingMatrix);
      tempPosition.fromArray(pose.position);
      tempPosition.applyQuaternion(tempQuaternion);
      poseObject.position.add(tempPosition);
    }

    poseObject.updateMatrixWorld(); //

    cameraL.near = camera.near;
    cameraR.near = camera.near;
    cameraL.far = camera.far;
    cameraR.far = camera.far;
    cameraL.matrixWorldInverse.fromArray(frameData.leftViewMatrix);
    cameraR.matrixWorldInverse.fromArray(frameData.rightViewMatrix); // TODO (mrdoob) Double check this code

    standingMatrixInverse.getInverse(standingMatrix);

    if (referenceSpaceType === 'local-floor') {
      cameraL.matrixWorldInverse.multiply(standingMatrixInverse);
      cameraR.matrixWorldInverse.multiply(standingMatrixInverse);
    }

    var parent = poseObject.parent;

    if (parent !== null) {
      matrixWorldInverse.getInverse(parent.matrixWorld);
      cameraL.matrixWorldInverse.multiply(matrixWorldInverse);
      cameraR.matrixWorldInverse.multiply(matrixWorldInverse);
    } // envMap and Mirror needs camera.matrixWorld


    cameraL.matrixWorld.getInverse(cameraL.matrixWorldInverse);
    cameraR.matrixWorld.getInverse(cameraR.matrixWorldInverse);
    cameraL.projectionMatrix.fromArray(frameData.leftProjectionMatrix);
    cameraR.projectionMatrix.fromArray(frameData.rightProjectionMatrix);
    setProjectionFromUnion(cameraVR, cameraL, cameraR); //

    var layers = device.getLayers();

    if (layers.length) {
      var layer = layers[0];
      updateViewportFromBounds(cameraL.viewport, layer.leftBounds);
      updateViewportFromBounds(cameraR.viewport, layer.rightBounds);
    }

    updateControllers();
    return cameraVR;
  };

  this.getStandingMatrix = function () {
    return standingMatrix;
  };

  this.isPresenting = isPresenting; // Animation Loop

  var animation = new WebGLAnimation();

  this.setAnimationLoop = function (callback) {
    animation.setAnimationLoop(callback);
    if (isPresenting()) animation.start();
  };

  this.submitFrame = function () {
    if (isPresenting()) device.submitFrame();
  };

  this.dispose = function () {
    if (typeof window !== 'undefined') {
      window.removeEventListener('vrdisplaypresentchange', onVRDisplayPresentChange);
    }
  }; // DEPRECATED


  this.setFrameOfReferenceType = function () {
    console.warn('THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.');
  };
}

Object.assign(WebVRManager.prototype, EventDispatcher.prototype);
/**
 * @author mrdoob / http://mrdoob.com/
 */

function WebXRManager(renderer, gl) {
  var scope = this;
  var session = null;
  var referenceSpace = null;
  var referenceSpaceType = 'local-floor';
  var pose = null;
  var controllers = [];
  var inputSources = [];

  function isPresenting() {
    return session !== null && referenceSpace !== null;
  } //


  var cameraL = new PerspectiveCamera();
  cameraL.layers.enable(1);
  cameraL.viewport = new Vector4();
  var cameraR = new PerspectiveCamera();
  cameraR.layers.enable(2);
  cameraR.viewport = new Vector4();
  var cameraVR = new ArrayCamera([cameraL, cameraR]);
  cameraVR.layers.enable(1);
  cameraVR.layers.enable(2); //

  this.enabled = false;

  this.getController = function (id) {
    var controller = controllers[id];

    if (controller === undefined) {
      controller = new Group();
      controller.matrixAutoUpdate = false;
      controller.visible = false;
      controllers[id] = controller;
    }

    return controller;
  }; //


  function onSessionEvent(event) {
    for (var i = 0; i < controllers.length; i++) {
      if (inputSources[i] === event.inputSource) {
        controllers[i].dispatchEvent({
          type: event.type
        });
      }
    }
  }

  function onSessionEnd() {
    renderer.setFramebuffer(null);
    renderer.setRenderTarget(renderer.getRenderTarget()); // Hack #15830

    animation.stop();
    scope.dispatchEvent({
      type: 'sessionend'
    });
  }

  function onRequestReferenceSpace(value) {
    referenceSpace = value;
    animation.setContext(session);
    animation.start();
    scope.dispatchEvent({
      type: 'sessionstart'
    });
  }

  this.setFramebufferScaleFactor = function (value) {};

  this.setReferenceSpaceType = function (value) {
    referenceSpaceType = value;
  };

  this.getSession = function () {
    return session;
  };

  this.setSession = function (value) {
    session = value;

    if (session !== null) {
      session.addEventListener('select', onSessionEvent);
      session.addEventListener('selectstart', onSessionEvent);
      session.addEventListener('selectend', onSessionEvent);
      session.addEventListener('end', onSessionEnd);
      session.updateRenderState({
        baseLayer: new XRWebGLLayer(session, gl)
      });
      session.requestReferenceSpace(referenceSpaceType).then(onRequestReferenceSpace); //

      inputSources = session.inputSources;
      session.addEventListener('inputsourceschange', function () {
        inputSources = session.inputSources;
        console.log(inputSources);

        for (var i = 0; i < controllers.length; i++) {
          var controller = controllers[i];
          controller.userData.inputSource = inputSources[i];
        }
      });
    }
  };

  function updateCamera(camera, parent) {
    if (parent === null) {
      camera.matrixWorld.copy(camera.matrix);
    } else {
      camera.matrixWorld.multiplyMatrices(parent.matrixWorld, camera.matrix);
    }

    camera.matrixWorldInverse.getInverse(camera.matrixWorld);
  }

  this.getCamera = function (camera) {
    if (isPresenting()) {
      var parent = camera.parent;
      var cameras = cameraVR.cameras;
      updateCamera(cameraVR, parent);

      for (var i = 0; i < cameras.length; i++) {
        updateCamera(cameras[i], parent);
      } // update camera and its children


      camera.matrixWorld.copy(cameraVR.matrixWorld);
      var children = camera.children;

      for (var i = 0, l = children.length; i < l; i++) {
        children[i].updateMatrixWorld(true);
      }

      setProjectionFromUnion(cameraVR, cameraL, cameraR);
      return cameraVR;
    }

    return camera;
  };

  this.isPresenting = isPresenting; // Animation Loop

  var onAnimationFrameCallback = null;

  function onAnimationFrame(time, frame) {
    pose = frame.getViewerPose(referenceSpace);

    if (pose !== null) {
      var views = pose.views;
      var baseLayer = session.renderState.baseLayer;
      renderer.setFramebuffer(baseLayer.framebuffer);

      for (var i = 0; i < views.length; i++) {
        var view = views[i];
        var viewport = baseLayer.getViewport(view);
        var viewMatrix = view.transform.inverse.matrix;
        var camera = cameraVR.cameras[i];
        camera.matrix.fromArray(viewMatrix).getInverse(camera.matrix);
        camera.projectionMatrix.fromArray(view.projectionMatrix);
        camera.viewport.set(viewport.x, viewport.y, viewport.width, viewport.height);

        if (i === 0) {
          cameraVR.matrix.copy(camera.matrix);
        }
      }
    } //


    for (var i = 0; i < controllers.length; i++) {
      var controller = controllers[i];
      var inputSource = inputSources[i];

      if (inputSource) {
        var inputPose = frame.getPose(inputSource.targetRaySpace, referenceSpace);

        if (inputPose !== null) {
          controller.matrix.fromArray(inputPose.transform.matrix);
          controller.matrix.decompose(controller.position, controller.rotation, controller.scale);
          controller.visible = true;
          continue;
        }
      }

      controller.visible = false;
    }

    if (onAnimationFrameCallback) onAnimationFrameCallback(time);
  }

  var animation = new WebGLAnimation();
  animation.setAnimationLoop(onAnimationFrame);

  this.setAnimationLoop = function (callback) {
    onAnimationFrameCallback = callback;
  };

  this.dispose = function () {}; // DEPRECATED


  this.getStandingMatrix = function () {
    console.warn('THREE.WebXRManager: getStandingMatrix() is no longer needed.');
    return new Matrix4();
  };

  this.getDevice = function () {
    console.warn('THREE.WebXRManager: getDevice() has been deprecated.');
  };

  this.setDevice = function () {
    console.warn('THREE.WebXRManager: setDevice() has been deprecated.');
  };

  this.setFrameOfReferenceType = function () {
    console.warn('THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.');
  };

  this.submitFrame = function () {};
}

Object.assign(WebXRManager.prototype, EventDispatcher.prototype);
/**
 * @author supereggbert / http://www.paulbrunt.co.uk/
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 * @author szimek / https://github.com/szimek/
 * @author tschw
 */

function WebGLRenderer(parameters) {
  console.log('THREE.WebGLRenderer', REVISION);
  parameters = parameters || {};

  var _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas'),
      _context = parameters.context !== undefined ? parameters.context : null,
      _alpha = parameters.alpha !== undefined ? parameters.alpha : false,
      _depth = parameters.depth !== undefined ? parameters.depth : true,
      _stencil = parameters.stencil !== undefined ? parameters.stencil : true,
      _antialias = parameters.antialias !== undefined ? parameters.antialias : false,
      _premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,
      _preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,
      _powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',
      _failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;

  var currentRenderList = null;
  var currentRenderState = null; // public properties

  this.domElement = _canvas; // Debug configuration container

  this.debug = {
    /**
     * Enables error checking and reporting when shader programs are being compiled
     * @type {boolean}
     */
    checkShaderErrors: true
  }; // clearing

  this.autoClear = true;
  this.autoClearColor = true;
  this.autoClearDepth = true;
  this.autoClearStencil = true; // scene graph

  this.sortObjects = true; // user-defined clipping

  this.clippingPlanes = [];
  this.localClippingEnabled = false; // physically based shading

  this.gammaFactor = 2.0; // for backwards compatibility

  this.gammaInput = false;
  this.gammaOutput = false; // physical lights

  this.physicallyCorrectLights = false; // tone mapping

  this.toneMapping = LinearToneMapping;
  this.toneMappingExposure = 1.0;
  this.toneMappingWhitePoint = 1.0; // morphs

  this.maxMorphTargets = 8;
  this.maxMorphNormals = 4; // internal properties

  var _this = this,
      _isContextLost = false,
      // internal state cache
  _framebuffer = null,
      _currentActiveCubeFace = 0,
      _currentActiveMipmapLevel = 0,
      _currentRenderTarget = null,
      _currentFramebuffer = null,
      _currentMaterialId = -1,
      // geometry and program caching
  _currentGeometryProgram = {
    geometry: null,
    program: null,
    wireframe: false
  },
      _currentCamera = null,
      _currentArrayCamera = null,
      _currentViewport = new Vector4(),
      _currentScissor = new Vector4(),
      _currentScissorTest = null,
      //
  _width = _canvas.width,
      _height = _canvas.height,
      _pixelRatio = 1,
      _viewport = new Vector4(0, 0, _width, _height),
      _scissor = new Vector4(0, 0, _width, _height),
      _scissorTest = false,
      // frustum
  _frustum = new Frustum(),
      // clipping
  _clipping = new WebGLClipping(),
      _clippingEnabled = false,
      _localClippingEnabled = false,
      // camera matrices cache
  _projScreenMatrix = new Matrix4(),
      _vector3 = new Vector3();

  function getTargetPixelRatio() {
    return _currentRenderTarget === null ? _pixelRatio : 1;
  } // initialize


  var _gl;

  try {
    var contextAttributes = {
      alpha: _alpha,
      depth: _depth,
      stencil: _stencil,
      antialias: _antialias,
      premultipliedAlpha: _premultipliedAlpha,
      preserveDrawingBuffer: _preserveDrawingBuffer,
      powerPreference: _powerPreference,
      failIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat,
      xrCompatible: true
    }; // event listeners must be registered before WebGL context is created, see #12753

    _canvas.addEventListener('webglcontextlost', onContextLost, false);

    _canvas.addEventListener('webglcontextrestored', onContextRestore, false);

    _gl = _context || _canvas.getContext('webgl', contextAttributes) || _canvas.getContext('experimental-webgl', contextAttributes);

    if (_gl === null) {
      if (_canvas.getContext('webgl') !== null) {
        throw new Error('Error creating WebGL context with your selected attributes.');
      } else {
        throw new Error('Error creating WebGL context.');
      }
    } // Some experimental-webgl implementations do not have getShaderPrecisionFormat


    if (_gl.getShaderPrecisionFormat === undefined) {
      _gl.getShaderPrecisionFormat = function () {
        return {
          'rangeMin': 1,
          'rangeMax': 1,
          'precision': 1
        };
      };
    }
  } catch (error) {
    console.error('THREE.WebGLRenderer: ' + error.message);
    throw error;
  }

  var extensions, capabilities, state, info;
  var properties, textures, attributes, geometries, objects;
  var programCache, renderLists, renderStates;
  var background, morphtargets, bufferRenderer, indexedBufferRenderer;
  var utils;

  function initGLContext() {
    extensions = new WebGLExtensions(_gl);
    capabilities = new WebGLCapabilities(_gl, extensions, parameters);

    if (!capabilities.isWebGL2) {
      extensions.get('WEBGL_depth_texture');
      extensions.get('OES_texture_float');
      extensions.get('OES_texture_half_float');
      extensions.get('OES_texture_half_float_linear');
      extensions.get('OES_standard_derivatives');
      extensions.get('OES_element_index_uint');
      extensions.get('ANGLE_instanced_arrays');
    }

    extensions.get('OES_texture_float_linear');
    utils = new WebGLUtils(_gl, extensions, capabilities);
    state = new WebGLState(_gl, extensions, utils, capabilities);
    state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor());
    state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor());
    info = new WebGLInfo(_gl);
    properties = new WebGLProperties();
    textures = new WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info);
    attributes = new WebGLAttributes(_gl);
    geometries = new WebGLGeometries(_gl, attributes, info);
    objects = new WebGLObjects(geometries, info);
    morphtargets = new WebGLMorphtargets(_gl);
    programCache = new WebGLPrograms(_this, extensions, capabilities);
    renderLists = new WebGLRenderLists();
    renderStates = new WebGLRenderStates();
    background = new WebGLBackground(_this, state, objects, _premultipliedAlpha);
    bufferRenderer = new WebGLBufferRenderer(_gl, extensions, info, capabilities);
    indexedBufferRenderer = new WebGLIndexedBufferRenderer(_gl, extensions, info, capabilities);
    info.programs = programCache.programs;
    _this.capabilities = capabilities;
    _this.extensions = extensions;
    _this.properties = properties;
    _this.renderLists = renderLists;
    _this.state = state;
    _this.info = info;
  }

  initGLContext(); // vr

  var vr = typeof navigator !== 'undefined' && 'xr' in navigator && 'supportsSession' in navigator.xr ? new WebXRManager(_this, _gl) : new WebVRManager(_this);
  this.vr = vr; // shadow map

  var shadowMap = new WebGLShadowMap(_this, objects, capabilities.maxTextureSize);
  this.shadowMap = shadowMap; // API

  this.getContext = function () {
    return _gl;
  };

  this.getContextAttributes = function () {
    return _gl.getContextAttributes();
  };

  this.forceContextLoss = function () {
    var extension = extensions.get('WEBGL_lose_context');
    if (extension) extension.loseContext();
  };

  this.forceContextRestore = function () {
    var extension = extensions.get('WEBGL_lose_context');
    if (extension) extension.restoreContext();
  };

  this.getPixelRatio = function () {
    return _pixelRatio;
  };

  this.setPixelRatio = function (value) {
    if (value === undefined) return;
    _pixelRatio = value;
    this.setSize(_width, _height, false);
  };

  this.getSize = function (target) {
    if (target === undefined) {
      console.warn('WebGLRenderer: .getsize() now requires a Vector2 as an argument');
      target = new Vector2();
    }

    return target.set(_width, _height);
  };

  this.setSize = function (width, height, updateStyle) {
    if (vr.isPresenting()) {
      console.warn('THREE.WebGLRenderer: Can\'t change size while VR device is presenting.');
      return;
    }

    _width = width;
    _height = height;
    _canvas.width = Math.floor(width * _pixelRatio);
    _canvas.height = Math.floor(height * _pixelRatio);

    if (updateStyle !== false) {
      _canvas.style.width = width + 'px';
      _canvas.style.height = height + 'px';
    }

    this.setViewport(0, 0, width, height);
  };

  this.getDrawingBufferSize = function (target) {
    if (target === undefined) {
      console.warn('WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument');
      target = new Vector2();
    }

    return target.set(_width * _pixelRatio, _height * _pixelRatio).floor();
  };

  this.setDrawingBufferSize = function (width, height, pixelRatio) {
    _width = width;
    _height = height;
    _pixelRatio = pixelRatio;
    _canvas.width = Math.floor(width * pixelRatio);
    _canvas.height = Math.floor(height * pixelRatio);
    this.setViewport(0, 0, width, height);
  };

  this.getCurrentViewport = function (target) {
    if (target === undefined) {
      console.warn('WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument');
      target = new Vector4();
    }

    return target.copy(_currentViewport);
  };

  this.getViewport = function (target) {
    return target.copy(_viewport);
  };

  this.setViewport = function (x, y, width, height) {
    if (x.isVector4) {
      _viewport.set(x.x, x.y, x.z, x.w);
    } else {
      _viewport.set(x, y, width, height);
    }

    state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor());
  };

  this.getScissor = function (target) {
    return target.copy(_scissor);
  };

  this.setScissor = function (x, y, width, height) {
    if (x.isVector4) {
      _scissor.set(x.x, x.y, x.z, x.w);
    } else {
      _scissor.set(x, y, width, height);
    }

    state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor());
  };

  this.getScissorTest = function () {
    return _scissorTest;
  };

  this.setScissorTest = function (boolean) {
    state.setScissorTest(_scissorTest = boolean);
  }; // Clearing


  this.getClearColor = function () {
    return background.getClearColor();
  };

  this.setClearColor = function () {
    background.setClearColor.apply(background, arguments);
  };

  this.getClearAlpha = function () {
    return background.getClearAlpha();
  };

  this.setClearAlpha = function () {
    background.setClearAlpha.apply(background, arguments);
  };

  this.clear = function (color, depth, stencil) {
    var bits = 0;
    if (color === undefined || color) bits |= 16384;
    if (depth === undefined || depth) bits |= 256;
    if (stencil === undefined || stencil) bits |= 1024;

    _gl.clear(bits);
  };

  this.clearColor = function () {
    this.clear(true, false, false);
  };

  this.clearDepth = function () {
    this.clear(false, true, false);
  };

  this.clearStencil = function () {
    this.clear(false, false, true);
  }; //


  this.dispose = function () {
    _canvas.removeEventListener('webglcontextlost', onContextLost, false);

    _canvas.removeEventListener('webglcontextrestored', onContextRestore, false);

    renderLists.dispose();
    renderStates.dispose();
    properties.dispose();
    objects.dispose();
    vr.dispose();
    animation.stop();
  }; // Events


  function onContextLost(event) {
    event.preventDefault();
    console.log('THREE.WebGLRenderer: Context Lost.');
    _isContextLost = true;
  }

  function
    /* event */
  onContextRestore() {
    console.log('THREE.WebGLRenderer: Context Restored.');
    _isContextLost = false;
    initGLContext();
  }

  function onMaterialDispose(event) {
    var material = event.target;
    material.removeEventListener('dispose', onMaterialDispose);
    deallocateMaterial(material);
  } // Buffer deallocation


  function deallocateMaterial(material) {
    releaseMaterialProgramReference(material);
    properties.remove(material);
  }

  function releaseMaterialProgramReference(material) {
    var programInfo = properties.get(material).program;
    material.program = undefined;

    if (programInfo !== undefined) {
      programCache.releaseProgram(programInfo);
    }
  } // Buffer rendering


  function renderObjectImmediate(object, program) {
    object.render(function (object) {
      _this.renderBufferImmediate(object, program);
    });
  }

  this.renderBufferImmediate = function (object, program) {
    state.initAttributes();
    var buffers = properties.get(object);
    if (object.hasPositions && !buffers.position) buffers.position = _gl.createBuffer();
    if (object.hasNormals && !buffers.normal) buffers.normal = _gl.createBuffer();
    if (object.hasUvs && !buffers.uv) buffers.uv = _gl.createBuffer();
    if (object.hasColors && !buffers.color) buffers.color = _gl.createBuffer();
    var programAttributes = program.getAttributes();

    if (object.hasPositions) {
      _gl.bindBuffer(34962, buffers.position);

      _gl.bufferData(34962, object.positionArray, 35048);

      state.enableAttribute(programAttributes.position);

      _gl.vertexAttribPointer(programAttributes.position, 3, 5126, false, 0, 0);
    }

    if (object.hasNormals) {
      _gl.bindBuffer(34962, buffers.normal);

      _gl.bufferData(34962, object.normalArray, 35048);

      state.enableAttribute(programAttributes.normal);

      _gl.vertexAttribPointer(programAttributes.normal, 3, 5126, false, 0, 0);
    }

    if (object.hasUvs) {
      _gl.bindBuffer(34962, buffers.uv);

      _gl.bufferData(34962, object.uvArray, 35048);

      state.enableAttribute(programAttributes.uv);

      _gl.vertexAttribPointer(programAttributes.uv, 2, 5126, false, 0, 0);
    }

    if (object.hasColors) {
      _gl.bindBuffer(34962, buffers.color);

      _gl.bufferData(34962, object.colorArray, 35048);

      state.enableAttribute(programAttributes.color);

      _gl.vertexAttribPointer(programAttributes.color, 3, 5126, false, 0, 0);
    }

    state.disableUnusedAttributes();

    _gl.drawArrays(4, 0, object.count);

    object.count = 0;
  };

  this.renderBufferDirect = function (camera, fog, geometry, material, object, group) {
    var frontFaceCW = object.isMesh && object.matrixWorld.determinant() < 0;
    state.setMaterial(material, frontFaceCW);
    var program = setProgram(camera, fog, material, object);
    var updateBuffers = false;

    if (_currentGeometryProgram.geometry !== geometry.id || _currentGeometryProgram.program !== program.id || _currentGeometryProgram.wireframe !== (material.wireframe === true)) {
      _currentGeometryProgram.geometry = geometry.id;
      _currentGeometryProgram.program = program.id;
      _currentGeometryProgram.wireframe = material.wireframe === true;
      updateBuffers = true;
    }

    if (object.morphTargetInfluences) {
      morphtargets.update(object, geometry, material, program);
      updateBuffers = true;
    } //


    var index = geometry.index;
    var position = geometry.attributes.position;
    var rangeFactor = 1;

    if (material.wireframe === true) {
      index = geometries.getWireframeAttribute(geometry);
      rangeFactor = 2;
    }

    var attribute;
    var renderer = bufferRenderer;

    if (index !== null) {
      attribute = attributes.get(index);
      renderer = indexedBufferRenderer;
      renderer.setIndex(attribute);
    }

    if (updateBuffers) {
      setupVertexAttributes(material, program, geometry);

      if (index !== null) {
        _gl.bindBuffer(34963, attribute.buffer);
      }
    } //


    var dataCount = Infinity;

    if (index !== null) {
      dataCount = index.count;
    } else if (position !== undefined) {
      dataCount = position.count;
    }

    var rangeStart = geometry.drawRange.start * rangeFactor;
    var rangeCount = geometry.drawRange.count * rangeFactor;
    var groupStart = group !== null ? group.start * rangeFactor : 0;
    var groupCount = group !== null ? group.count * rangeFactor : Infinity;
    var drawStart = Math.max(rangeStart, groupStart);
    var drawEnd = Math.min(dataCount, rangeStart + rangeCount, groupStart + groupCount) - 1;
    var drawCount = Math.max(0, drawEnd - drawStart + 1);
    if (drawCount === 0) return; //

    if (object.isMesh) {
      if (material.wireframe === true) {
        state.setLineWidth(material.wireframeLinewidth * getTargetPixelRatio());
        renderer.setMode(1);
      } else {
        switch (object.drawMode) {
          case TrianglesDrawMode:
            renderer.setMode(4);
            break;

          case TriangleStripDrawMode:
            renderer.setMode(5);
            break;

          case TriangleFanDrawMode:
            renderer.setMode(6);
            break;
        }
      }
    } else if (object.isLine) {
      var lineWidth = material.linewidth;
      if (lineWidth === undefined) lineWidth = 1; // Not using Line*Material

      state.setLineWidth(lineWidth * getTargetPixelRatio());

      if (object.isLineSegments) {
        renderer.setMode(1);
      } else if (object.isLineLoop) {
        renderer.setMode(2);
      } else {
        renderer.setMode(3);
      }
    } else if (object.isPoints) {
      renderer.setMode(0);
    } else if (object.isSprite) {
      renderer.setMode(4);
    }

    if (geometry && geometry.isInstancedBufferGeometry) {
      if (geometry.maxInstancedCount > 0) {
        renderer.renderInstances(geometry, drawStart, drawCount);
      }
    } else {
      renderer.render(drawStart, drawCount);
    }
  };

  function setupVertexAttributes(material, program, geometry) {
    if (geometry && geometry.isInstancedBufferGeometry && !capabilities.isWebGL2) {
      if (extensions.get('ANGLE_instanced_arrays') === null) {
        console.error('THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');
        return;
      }
    }

    state.initAttributes();
    var geometryAttributes = geometry.attributes;
    var programAttributes = program.getAttributes();
    var materialDefaultAttributeValues = material.defaultAttributeValues;

    for (var name in programAttributes) {
      var programAttribute = programAttributes[name];

      if (programAttribute >= 0) {
        var geometryAttribute = geometryAttributes[name];

        if (geometryAttribute !== undefined) {
          var normalized = geometryAttribute.normalized;
          var size = geometryAttribute.itemSize;
          var attribute = attributes.get(geometryAttribute); // TODO Attribute may not be available on context restore

          if (attribute === undefined) continue;
          var buffer = attribute.buffer;
          var type = attribute.type;
          var bytesPerElement = attribute.bytesPerElement;

          if (geometryAttribute.isInterleavedBufferAttribute) {
            var data = geometryAttribute.data;
            var stride = data.stride;
            var offset = geometryAttribute.offset;

            if (data && data.isInstancedInterleavedBuffer) {
              state.enableAttributeAndDivisor(programAttribute, data.meshPerAttribute);

              if (geometry.maxInstancedCount === undefined) {
                geometry.maxInstancedCount = data.meshPerAttribute * data.count;
              }
            } else {
              state.enableAttribute(programAttribute);
            }

            _gl.bindBuffer(34962, buffer);

            _gl.vertexAttribPointer(programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement);
          } else {
            if (geometryAttribute.isInstancedBufferAttribute) {
              state.enableAttributeAndDivisor(programAttribute, geometryAttribute.meshPerAttribute);

              if (geometry.maxInstancedCount === undefined) {
                geometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;
              }
            } else {
              state.enableAttribute(programAttribute);
            }

            _gl.bindBuffer(34962, buffer);

            _gl.vertexAttribPointer(programAttribute, size, type, normalized, 0, 0);
          }
        } else if (materialDefaultAttributeValues !== undefined) {
          var value = materialDefaultAttributeValues[name];

          if (value !== undefined) {
            switch (value.length) {
              case 2:
                _gl.vertexAttrib2fv(programAttribute, value);

                break;

              case 3:
                _gl.vertexAttrib3fv(programAttribute, value);

                break;

              case 4:
                _gl.vertexAttrib4fv(programAttribute, value);

                break;

              default:
                _gl.vertexAttrib1fv(programAttribute, value);

            }
          }
        }
      }
    }

    state.disableUnusedAttributes();
  } // Compile


  this.compile = function (scene, camera) {
    currentRenderState = renderStates.get(scene, camera);
    currentRenderState.init();
    scene.traverse(function (object) {
      if (object.isLight) {
        currentRenderState.pushLight(object);

        if (object.castShadow) {
          currentRenderState.pushShadow(object);
        }
      }
    });
    currentRenderState.setupLights(camera);
    scene.traverse(function (object) {
      if (object.material) {
        if (Array.isArray(object.material)) {
          for (var i = 0; i < object.material.length; i++) {
            initMaterial(object.material[i], scene.fog, object);
          }
        } else {
          initMaterial(object.material, scene.fog, object);
        }
      }
    });
  }; // Animation Loop


  var onAnimationFrameCallback = null;

  function onAnimationFrame(time) {
    if (vr.isPresenting()) return;
    if (onAnimationFrameCallback) onAnimationFrameCallback(time);
  }

  var animation = new WebGLAnimation();
  animation.setAnimationLoop(onAnimationFrame);
  if (typeof window !== 'undefined') animation.setContext(window);

  this.setAnimationLoop = function (callback) {
    onAnimationFrameCallback = callback;
    vr.setAnimationLoop(callback);
    animation.start();
  }; // Rendering


  this.render = function (scene, camera) {
    var renderTarget, forceClear;

    if (arguments[2] !== undefined) {
      console.warn('THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.');
      renderTarget = arguments[2];
    }

    if (arguments[3] !== undefined) {
      console.warn('THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.');
      forceClear = arguments[3];
    }

    if (!(camera && camera.isCamera)) {
      console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');
      return;
    }

    if (_isContextLost) return; // reset caching for this frame

    _currentGeometryProgram.geometry = null;
    _currentGeometryProgram.program = null;
    _currentGeometryProgram.wireframe = false;
    _currentMaterialId = -1;
    _currentCamera = null; // update scene graph

    if (scene.autoUpdate === true) scene.updateMatrixWorld(); // update camera matrices and frustum

    if (camera.parent === null) camera.updateMatrixWorld();

    if (vr.enabled) {
      camera = vr.getCamera(camera);
    } //


    currentRenderState = renderStates.get(scene, camera);
    currentRenderState.init();
    scene.onBeforeRender(_this, scene, camera, renderTarget || _currentRenderTarget);

    _projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);

    _frustum.setFromMatrix(_projScreenMatrix);

    _localClippingEnabled = this.localClippingEnabled;
    _clippingEnabled = _clipping.init(this.clippingPlanes, _localClippingEnabled, camera);
    currentRenderList = renderLists.get(scene, camera);
    currentRenderList.init();
    projectObject(scene, camera, 0, _this.sortObjects);

    if (_this.sortObjects === true) {
      currentRenderList.sort();
    } //


    if (_clippingEnabled) _clipping.beginShadows();
    var shadowsArray = currentRenderState.state.shadowsArray;
    shadowMap.render(shadowsArray, scene, camera);
    currentRenderState.setupLights(camera);
    if (_clippingEnabled) _clipping.endShadows(); //

    if (this.info.autoReset) this.info.reset();

    if (renderTarget !== undefined) {
      this.setRenderTarget(renderTarget);
    } //


    background.render(currentRenderList, scene, camera, forceClear); // render scene

    var opaqueObjects = currentRenderList.opaque;
    var transparentObjects = currentRenderList.transparent;

    if (scene.overrideMaterial) {
      var overrideMaterial = scene.overrideMaterial;
      if (opaqueObjects.length) renderObjects(opaqueObjects, scene, camera, overrideMaterial);
      if (transparentObjects.length) renderObjects(transparentObjects, scene, camera, overrideMaterial);
    } else {
      // opaque pass (front-to-back order)
      if (opaqueObjects.length) renderObjects(opaqueObjects, scene, camera); // transparent pass (back-to-front order)

      if (transparentObjects.length) renderObjects(transparentObjects, scene, camera);
    } //


    scene.onAfterRender(_this, scene, camera); //

    if (_currentRenderTarget !== null) {
      // Generate mipmap if we're using any kind of mipmap filtering
      textures.updateRenderTargetMipmap(_currentRenderTarget); // resolve multisample renderbuffers to a single-sample texture if necessary

      textures.updateMultisampleRenderTarget(_currentRenderTarget);
    } // Ensure depth buffer writing is enabled so it can be cleared on next render


    state.buffers.depth.setTest(true);
    state.buffers.depth.setMask(true);
    state.buffers.color.setMask(true);
    state.setPolygonOffset(false);

    if (vr.enabled) {
      vr.submitFrame();
    } // _gl.finish();


    currentRenderList = null;
    currentRenderState = null;
  };

  function projectObject(object, camera, groupOrder, sortObjects) {
    if (object.visible === false) return;
    var visible = object.layers.test(camera.layers);

    if (visible) {
      if (object.isGroup) {
        groupOrder = object.renderOrder;
      } else if (object.isLOD) {
        if (object.autoUpdate === true) object.update(camera);
      } else if (object.isLight) {
        currentRenderState.pushLight(object);

        if (object.castShadow) {
          currentRenderState.pushShadow(object);
        }
      } else if (object.isSprite) {
        if (!object.frustumCulled || _frustum.intersectsSprite(object)) {
          if (sortObjects) {
            _vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);
          }

          var geometry = objects.update(object);
          var material = object.material;

          if (material.visible) {
            currentRenderList.push(object, geometry, material, groupOrder, _vector3.z, null);
          }
        }
      } else if (object.isImmediateRenderObject) {
        if (sortObjects) {
          _vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);
        }

        currentRenderList.push(object, null, object.material, groupOrder, _vector3.z, null);
      } else if (object.isMesh || object.isLine || object.isPoints) {
        if (object.isSkinnedMesh) {
          object.skeleton.update();
        }

        if (!object.frustumCulled || _frustum.intersectsObject(object)) {
          if (sortObjects) {
            _vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);
          }

          var geometry = objects.update(object);
          var material = object.material;

          if (Array.isArray(material)) {
            var groups = geometry.groups;

            for (var i = 0, l = groups.length; i < l; i++) {
              var group = groups[i];
              var groupMaterial = material[group.materialIndex];

              if (groupMaterial && groupMaterial.visible) {
                currentRenderList.push(object, geometry, groupMaterial, groupOrder, _vector3.z, group);
              }
            }
          } else if (material.visible) {
            currentRenderList.push(object, geometry, material, groupOrder, _vector3.z, null);
          }
        }
      }
    }

    var children = object.children;

    for (var i = 0, l = children.length; i < l; i++) {
      projectObject(children[i], camera, groupOrder, sortObjects);
    }
  }

  function renderObjects(renderList, scene, camera, overrideMaterial) {
    for (var i = 0, l = renderList.length; i < l; i++) {
      var renderItem = renderList[i];
      var object = renderItem.object;
      var geometry = renderItem.geometry;
      var material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;
      var group = renderItem.group;

      if (camera.isArrayCamera) {
        _currentArrayCamera = camera;
        var cameras = camera.cameras;

        for (var j = 0, jl = cameras.length; j < jl; j++) {
          var camera2 = cameras[j];

          if (object.layers.test(camera2.layers)) {
            state.viewport(_currentViewport.copy(camera2.viewport));
            currentRenderState.setupLights(camera2);
            renderObject(object, scene, camera2, geometry, material, group);
          }
        }
      } else {
        _currentArrayCamera = null;
        renderObject(object, scene, camera, geometry, material, group);
      }
    }
  }

  function renderObject(object, scene, camera, geometry, material, group) {
    object.onBeforeRender(_this, scene, camera, geometry, material, group);
    currentRenderState = renderStates.get(scene, _currentArrayCamera || camera);
    object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, object.matrixWorld);
    object.normalMatrix.getNormalMatrix(object.modelViewMatrix);

    if (object.isImmediateRenderObject) {
      state.setMaterial(material);
      var program = setProgram(camera, scene.fog, material, object);
      _currentGeometryProgram.geometry = null;
      _currentGeometryProgram.program = null;
      _currentGeometryProgram.wireframe = false;
      renderObjectImmediate(object, program);
    } else {
      _this.renderBufferDirect(camera, scene.fog, geometry, material, object, group);
    }

    object.onAfterRender(_this, scene, camera, geometry, material, group);
    currentRenderState = renderStates.get(scene, _currentArrayCamera || camera);
  }

  function initMaterial(material, fog, object) {
    var materialProperties = properties.get(material);
    var lights = currentRenderState.state.lights;
    var shadowsArray = currentRenderState.state.shadowsArray;
    var lightsStateVersion = lights.state.version;
    var parameters = programCache.getParameters(material, lights.state, shadowsArray, fog, _clipping.numPlanes, _clipping.numIntersection, object);
    var code = programCache.getProgramCode(material, parameters);
    var program = materialProperties.program;
    var programChange = true;

    if (program === undefined) {
      // new material
      material.addEventListener('dispose', onMaterialDispose);
    } else if (program.code !== code) {
      // changed glsl or parameters
      releaseMaterialProgramReference(material);
    } else if (materialProperties.lightsStateVersion !== lightsStateVersion) {
      materialProperties.lightsStateVersion = lightsStateVersion;
      programChange = false;
    } else if (parameters.shaderID !== undefined) {
      // same glsl and uniform list
      return;
    } else {
      // only rebuild uniform list
      programChange = false;
    }

    if (programChange) {
      if (parameters.shaderID) {
        var shader = ShaderLib[parameters.shaderID];
        materialProperties.shader = {
          name: material.type,
          uniforms: cloneUniforms(shader.uniforms),
          vertexShader: shader.vertexShader,
          fragmentShader: shader.fragmentShader
        };
      } else {
        materialProperties.shader = {
          name: material.type,
          uniforms: material.uniforms,
          vertexShader: material.vertexShader,
          fragmentShader: material.fragmentShader
        };
      }

      material.onBeforeCompile(materialProperties.shader, _this); // Computing code again as onBeforeCompile may have changed the shaders

      code = programCache.getProgramCode(material, parameters);
      program = programCache.acquireProgram(material, materialProperties.shader, parameters, code);
      materialProperties.program = program;
      material.program = program;
    }

    var programAttributes = program.getAttributes();

    if (material.morphTargets) {
      material.numSupportedMorphTargets = 0;

      for (var i = 0; i < _this.maxMorphTargets; i++) {
        if (programAttributes['morphTarget' + i] >= 0) {
          material.numSupportedMorphTargets++;
        }
      }
    }

    if (material.morphNormals) {
      material.numSupportedMorphNormals = 0;

      for (var i = 0; i < _this.maxMorphNormals; i++) {
        if (programAttributes['morphNormal' + i] >= 0) {
          material.numSupportedMorphNormals++;
        }
      }
    }

    var uniforms = materialProperties.shader.uniforms;

    if (!material.isShaderMaterial && !material.isRawShaderMaterial || material.clipping === true) {
      materialProperties.numClippingPlanes = _clipping.numPlanes;
      materialProperties.numIntersection = _clipping.numIntersection;
      uniforms.clippingPlanes = _clipping.uniform;
    }

    materialProperties.fog = fog; // store the light setup it was created for

    materialProperties.lightsStateVersion = lightsStateVersion;

    if (material.lights) {
      // wire up the material to this renderer's lighting state
      uniforms.ambientLightColor.value = lights.state.ambient;
      uniforms.lightProbe.value = lights.state.probe;
      uniforms.directionalLights.value = lights.state.directional;
      uniforms.spotLights.value = lights.state.spot;
      uniforms.rectAreaLights.value = lights.state.rectArea;
      uniforms.pointLights.value = lights.state.point;
      uniforms.hemisphereLights.value = lights.state.hemi;
      uniforms.directionalShadowMap.value = lights.state.directionalShadowMap;
      uniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;
      uniforms.spotShadowMap.value = lights.state.spotShadowMap;
      uniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;
      uniforms.pointShadowMap.value = lights.state.pointShadowMap;
      uniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix; // TODO (abelnation): add area lights shadow info to uniforms
    }

    var progUniforms = materialProperties.program.getUniforms(),
        uniformsList = WebGLUniforms.seqWithValue(progUniforms.seq, uniforms);
    materialProperties.uniformsList = uniformsList;
  }

  function setProgram(camera, fog, material, object) {
    textures.resetTextureUnits();
    var materialProperties = properties.get(material);
    var lights = currentRenderState.state.lights;

    if (_clippingEnabled) {
      if (_localClippingEnabled || camera !== _currentCamera) {
        var useCache = camera === _currentCamera && material.id === _currentMaterialId; // we might want to call this function with some ClippingGroup
        // object instead of the material, once it becomes feasible
        // (#8465, #8379)

        _clipping.setState(material.clippingPlanes, material.clipIntersection, material.clipShadows, camera, materialProperties, useCache);
      }
    }

    if (material.needsUpdate === false) {
      if (materialProperties.program === undefined) {
        material.needsUpdate = true;
      } else if (material.fog && materialProperties.fog !== fog) {
        material.needsUpdate = true;
      } else if (material.lights && materialProperties.lightsStateVersion !== lights.state.version) {
        material.needsUpdate = true;
      } else if (materialProperties.numClippingPlanes !== undefined && (materialProperties.numClippingPlanes !== _clipping.numPlanes || materialProperties.numIntersection !== _clipping.numIntersection)) {
        material.needsUpdate = true;
      }
    }

    if (material.needsUpdate) {
      initMaterial(material, fog, object);
      material.needsUpdate = false;
    }

    var refreshProgram = false;
    var refreshMaterial = false;
    var refreshLights = false;
    var program = materialProperties.program,
        p_uniforms = program.getUniforms(),
        m_uniforms = materialProperties.shader.uniforms;

    if (state.useProgram(program.program)) {
      refreshProgram = true;
      refreshMaterial = true;
      refreshLights = true;
    }

    if (material.id !== _currentMaterialId) {
      _currentMaterialId = material.id;
      refreshMaterial = true;
    }

    if (refreshProgram || _currentCamera !== camera) {
      p_uniforms.setValue(_gl, 'projectionMatrix', camera.projectionMatrix);

      if (capabilities.logarithmicDepthBuffer) {
        p_uniforms.setValue(_gl, 'logDepthBufFC', 2.0 / (Math.log(camera.far + 1.0) / Math.LN2));
      }

      if (_currentCamera !== camera) {
        _currentCamera = camera; // lighting uniforms depend on the camera so enforce an update
        // now, in case this material supports lights - or later, when
        // the next material that does gets activated:

        refreshMaterial = true; // set to true on material change

        refreshLights = true; // remains set until update done
      } // load material specific uniforms
      // (shader material also gets them for the sake of genericity)


      if (material.isShaderMaterial || material.isMeshPhongMaterial || material.isMeshStandardMaterial || material.envMap) {
        var uCamPos = p_uniforms.map.cameraPosition;

        if (uCamPos !== undefined) {
          uCamPos.setValue(_gl, _vector3.setFromMatrixPosition(camera.matrixWorld));
        }
      }

      if (material.isMeshPhongMaterial || material.isMeshLambertMaterial || material.isMeshBasicMaterial || material.isMeshStandardMaterial || material.isShaderMaterial || material.skinning) {
        p_uniforms.setValue(_gl, 'viewMatrix', camera.matrixWorldInverse);
      }
    } // skinning uniforms must be set even if material didn't change
    // auto-setting of texture unit for bone texture must go before other textures
    // not sure why, but otherwise weird things happen


    if (material.skinning) {
      p_uniforms.setOptional(_gl, object, 'bindMatrix');
      p_uniforms.setOptional(_gl, object, 'bindMatrixInverse');
      var skeleton = object.skeleton;

      if (skeleton) {
        var bones = skeleton.bones;

        if (capabilities.floatVertexTextures) {
          if (skeleton.boneTexture === undefined) {
            // layout (1 matrix = 4 pixels)
            //      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)
            //  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)
            //       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)
            //       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)
            //       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)
            var size = Math.sqrt(bones.length * 4); // 4 pixels needed for 1 matrix

            size = _Math.ceilPowerOfTwo(size);
            size = Math.max(size, 4);
            var boneMatrices = new Float32Array(size * size * 4); // 4 floats per RGBA pixel

            boneMatrices.set(skeleton.boneMatrices); // copy current values

            var boneTexture = new DataTexture(boneMatrices, size, size, RGBAFormat, FloatType);
            boneTexture.needsUpdate = true;
            skeleton.boneMatrices = boneMatrices;
            skeleton.boneTexture = boneTexture;
            skeleton.boneTextureSize = size;
          }

          p_uniforms.setValue(_gl, 'boneTexture', skeleton.boneTexture, textures);
          p_uniforms.setValue(_gl, 'boneTextureSize', skeleton.boneTextureSize);
        } else {
          p_uniforms.setOptional(_gl, skeleton, 'boneMatrices');
        }
      }
    }

    if (refreshMaterial) {
      p_uniforms.setValue(_gl, 'toneMappingExposure', _this.toneMappingExposure);
      p_uniforms.setValue(_gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint);

      if (material.lights) {
        // the current material requires lighting info
        // note: all lighting uniforms are always set correctly
        // they simply reference the renderer's state for their
        // values
        //
        // use the current material's .needsUpdate flags to set
        // the GL state when required
        markUniformsLightsNeedsUpdate(m_uniforms, refreshLights);
      } // refresh uniforms common to several materials


      if (fog && material.fog) {
        refreshUniformsFog(m_uniforms, fog);
      }

      if (material.isMeshBasicMaterial) {
        refreshUniformsCommon(m_uniforms, material);
      } else if (material.isMeshLambertMaterial) {
        refreshUniformsCommon(m_uniforms, material);
        refreshUniformsLambert(m_uniforms, material);
      } else if (material.isMeshPhongMaterial) {
        refreshUniformsCommon(m_uniforms, material);

        if (material.isMeshToonMaterial) {
          refreshUniformsToon(m_uniforms, material);
        } else {
          refreshUniformsPhong(m_uniforms, material);
        }
      } else if (material.isMeshStandardMaterial) {
        refreshUniformsCommon(m_uniforms, material);

        if (material.isMeshPhysicalMaterial) {
          refreshUniformsPhysical(m_uniforms, material);
        } else {
          refreshUniformsStandard(m_uniforms, material);
        }
      } else if (material.isMeshMatcapMaterial) {
        refreshUniformsCommon(m_uniforms, material);
        refreshUniformsMatcap(m_uniforms, material);
      } else if (material.isMeshDepthMaterial) {
        refreshUniformsCommon(m_uniforms, material);
        refreshUniformsDepth(m_uniforms, material);
      } else if (material.isMeshDistanceMaterial) {
        refreshUniformsCommon(m_uniforms, material);
        refreshUniformsDistance(m_uniforms, material);
      } else if (material.isMeshNormalMaterial) {
        refreshUniformsCommon(m_uniforms, material);
        refreshUniformsNormal(m_uniforms, material);
      } else if (material.isLineBasicMaterial) {
        refreshUniformsLine(m_uniforms, material);

        if (material.isLineDashedMaterial) {
          refreshUniformsDash(m_uniforms, material);
        }
      } else if (material.isPointsMaterial) {
        refreshUniformsPoints(m_uniforms, material);
      } else if (material.isSpriteMaterial) {
        refreshUniformsSprites(m_uniforms, material);
      } else if (material.isShadowMaterial) {
        m_uniforms.color.value.copy(material.color);
        m_uniforms.opacity.value = material.opacity;
      } // RectAreaLight Texture
      // TODO (mrdoob): Find a nicer implementation


      if (m_uniforms.ltc_1 !== undefined) m_uniforms.ltc_1.value = UniformsLib.LTC_1;
      if (m_uniforms.ltc_2 !== undefined) m_uniforms.ltc_2.value = UniformsLib.LTC_2;
      WebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, textures);
    }

    if (material.isShaderMaterial && material.uniformsNeedUpdate === true) {
      WebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, textures);
      material.uniformsNeedUpdate = false;
    }

    if (material.isSpriteMaterial) {
      p_uniforms.setValue(_gl, 'center', object.center);
    } // common matrices


    p_uniforms.setValue(_gl, 'modelViewMatrix', object.modelViewMatrix);
    p_uniforms.setValue(_gl, 'normalMatrix', object.normalMatrix);
    p_uniforms.setValue(_gl, 'modelMatrix', object.matrixWorld);
    return program;
  } // Uniforms (refresh uniforms objects)


  function refreshUniformsCommon(uniforms, material) {
    uniforms.opacity.value = material.opacity;

    if (material.color) {
      uniforms.diffuse.value.copy(material.color);
    }

    if (material.emissive) {
      uniforms.emissive.value.copy(material.emissive).multiplyScalar(material.emissiveIntensity);
    }

    if (material.map) {
      uniforms.map.value = material.map;
    }

    if (material.alphaMap) {
      uniforms.alphaMap.value = material.alphaMap;
    }

    if (material.specularMap) {
      uniforms.specularMap.value = material.specularMap;
    }

    if (material.envMap) {
      uniforms.envMap.value = material.envMap; // don't flip CubeTexture envMaps, flip everything else:
      //  WebGLRenderTargetCube will be flipped for backwards compatibility
      //  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture
      // this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future

      uniforms.flipEnvMap.value = material.envMap.isCubeTexture ? -1 : 1;
      uniforms.reflectivity.value = material.reflectivity;
      uniforms.refractionRatio.value = material.refractionRatio;
      uniforms.maxMipLevel.value = properties.get(material.envMap).__maxMipLevel;
    }

    if (material.lightMap) {
      uniforms.lightMap.value = material.lightMap;
      uniforms.lightMapIntensity.value = material.lightMapIntensity;
    }

    if (material.aoMap) {
      uniforms.aoMap.value = material.aoMap;
      uniforms.aoMapIntensity.value = material.aoMapIntensity;
    } // uv repeat and offset setting priorities
    // 1. color map
    // 2. specular map
    // 3. normal map
    // 4. bump map
    // 5. alpha map
    // 6. emissive map


    var uvScaleMap;

    if (material.map) {
      uvScaleMap = material.map;
    } else if (material.specularMap) {
      uvScaleMap = material.specularMap;
    } else if (material.displacementMap) {
      uvScaleMap = material.displacementMap;
    } else if (material.normalMap) {
      uvScaleMap = material.normalMap;
    } else if (material.bumpMap) {
      uvScaleMap = material.bumpMap;
    } else if (material.roughnessMap) {
      uvScaleMap = material.roughnessMap;
    } else if (material.metalnessMap) {
      uvScaleMap = material.metalnessMap;
    } else if (material.alphaMap) {
      uvScaleMap = material.alphaMap;
    } else if (material.emissiveMap) {
      uvScaleMap = material.emissiveMap;
    }

    if (uvScaleMap !== undefined) {
      // backwards compatibility
      if (uvScaleMap.isWebGLRenderTarget) {
        uvScaleMap = uvScaleMap.texture;
      }

      if (uvScaleMap.matrixAutoUpdate === true) {
        uvScaleMap.updateMatrix();
      }

      uniforms.uvTransform.value.copy(uvScaleMap.matrix);
    }
  }

  function refreshUniformsLine(uniforms, material) {
    uniforms.diffuse.value.copy(material.color);
    uniforms.opacity.value = material.opacity;
  }

  function refreshUniformsDash(uniforms, material) {
    uniforms.dashSize.value = material.dashSize;
    uniforms.totalSize.value = material.dashSize + material.gapSize;
    uniforms.scale.value = material.scale;
  }

  function refreshUniformsPoints(uniforms, material) {
    uniforms.diffuse.value.copy(material.color);
    uniforms.opacity.value = material.opacity;
    uniforms.size.value = material.size * _pixelRatio;
    uniforms.scale.value = _height * 0.5;
    uniforms.map.value = material.map;

    if (material.map !== null) {
      if (material.map.matrixAutoUpdate === true) {
        material.map.updateMatrix();
      }

      uniforms.uvTransform.value.copy(material.map.matrix);
    }
  }

  function refreshUniformsSprites(uniforms, material) {
    uniforms.diffuse.value.copy(material.color);
    uniforms.opacity.value = material.opacity;
    uniforms.rotation.value = material.rotation;
    uniforms.map.value = material.map;

    if (material.map !== null) {
      if (material.map.matrixAutoUpdate === true) {
        material.map.updateMatrix();
      }

      uniforms.uvTransform.value.copy(material.map.matrix);
    }
  }

  function refreshUniformsFog(uniforms, fog) {
    uniforms.fogColor.value.copy(fog.color);

    if (fog.isFog) {
      uniforms.fogNear.value = fog.near;
      uniforms.fogFar.value = fog.far;
    } else if (fog.isFogExp2) {
      uniforms.fogDensity.value = fog.density;
    }
  }

  function refreshUniformsLambert(uniforms, material) {
    if (material.emissiveMap) {
      uniforms.emissiveMap.value = material.emissiveMap;
    }
  }

  function refreshUniformsPhong(uniforms, material) {
    uniforms.specular.value.copy(material.specular);
    uniforms.shininess.value = Math.max(material.shininess, 1e-4); // to prevent pow( 0.0, 0.0 )

    if (material.emissiveMap) {
      uniforms.emissiveMap.value = material.emissiveMap;
    }

    if (material.bumpMap) {
      uniforms.bumpMap.value = material.bumpMap;
      uniforms.bumpScale.value = material.bumpScale;
      if (material.side === BackSide) uniforms.bumpScale.value *= -1;
    }

    if (material.normalMap) {
      uniforms.normalMap.value = material.normalMap;
      uniforms.normalScale.value.copy(material.normalScale);
      if (material.side === BackSide) uniforms.normalScale.value.negate();
    }

    if (material.displacementMap) {
      uniforms.displacementMap.value = material.displacementMap;
      uniforms.displacementScale.value = material.displacementScale;
      uniforms.displacementBias.value = material.displacementBias;
    }
  }

  function refreshUniformsToon(uniforms, material) {
    refreshUniformsPhong(uniforms, material);

    if (material.gradientMap) {
      uniforms.gradientMap.value = material.gradientMap;
    }
  }

  function refreshUniformsStandard(uniforms, material) {
    uniforms.roughness.value = material.roughness;
    uniforms.metalness.value = material.metalness;

    if (material.roughnessMap) {
      uniforms.roughnessMap.value = material.roughnessMap;
    }

    if (material.metalnessMap) {
      uniforms.metalnessMap.value = material.metalnessMap;
    }

    if (material.emissiveMap) {
      uniforms.emissiveMap.value = material.emissiveMap;
    }

    if (material.bumpMap) {
      uniforms.bumpMap.value = material.bumpMap;
      uniforms.bumpScale.value = material.bumpScale;
      if (material.side === BackSide) uniforms.bumpScale.value *= -1;
    }

    if (material.normalMap) {
      uniforms.normalMap.value = material.normalMap;
      uniforms.normalScale.value.copy(material.normalScale);
      if (material.side === BackSide) uniforms.normalScale.value.negate();
    }

    if (material.displacementMap) {
      uniforms.displacementMap.value = material.displacementMap;
      uniforms.displacementScale.value = material.displacementScale;
      uniforms.displacementBias.value = material.displacementBias;
    }

    if (material.envMap) {
      //uniforms.envMap.value = material.envMap; // part of uniforms common
      uniforms.envMapIntensity.value = material.envMapIntensity;
    }
  }

  function refreshUniformsPhysical(uniforms, material) {
    refreshUniformsStandard(uniforms, material);
    uniforms.reflectivity.value = material.reflectivity; // also part of uniforms common

    uniforms.clearCoat.value = material.clearCoat;
    uniforms.clearCoatRoughness.value = material.clearCoatRoughness;
  }

  function refreshUniformsMatcap(uniforms, material) {
    if (material.matcap) {
      uniforms.matcap.value = material.matcap;
    }

    if (material.bumpMap) {
      uniforms.bumpMap.value = material.bumpMap;
      uniforms.bumpScale.value = material.bumpScale;
      if (material.side === BackSide) uniforms.bumpScale.value *= -1;
    }

    if (material.normalMap) {
      uniforms.normalMap.value = material.normalMap;
      uniforms.normalScale.value.copy(material.normalScale);
      if (material.side === BackSide) uniforms.normalScale.value.negate();
    }

    if (material.displacementMap) {
      uniforms.displacementMap.value = material.displacementMap;
      uniforms.displacementScale.value = material.displacementScale;
      uniforms.displacementBias.value = material.displacementBias;
    }
  }

  function refreshUniformsDepth(uniforms, material) {
    if (material.displacementMap) {
      uniforms.displacementMap.value = material.displacementMap;
      uniforms.displacementScale.value = material.displacementScale;
      uniforms.displacementBias.value = material.displacementBias;
    }
  }

  function refreshUniformsDistance(uniforms, material) {
    if (material.displacementMap) {
      uniforms.displacementMap.value = material.displacementMap;
      uniforms.displacementScale.value = material.displacementScale;
      uniforms.displacementBias.value = material.displacementBias;
    }

    uniforms.referencePosition.value.copy(material.referencePosition);
    uniforms.nearDistance.value = material.nearDistance;
    uniforms.farDistance.value = material.farDistance;
  }

  function refreshUniformsNormal(uniforms, material) {
    if (material.bumpMap) {
      uniforms.bumpMap.value = material.bumpMap;
      uniforms.bumpScale.value = material.bumpScale;
      if (material.side === BackSide) uniforms.bumpScale.value *= -1;
    }

    if (material.normalMap) {
      uniforms.normalMap.value = material.normalMap;
      uniforms.normalScale.value.copy(material.normalScale);
      if (material.side === BackSide) uniforms.normalScale.value.negate();
    }

    if (material.displacementMap) {
      uniforms.displacementMap.value = material.displacementMap;
      uniforms.displacementScale.value = material.displacementScale;
      uniforms.displacementBias.value = material.displacementBias;
    }
  } // If uniforms are marked as clean, they don't need to be loaded to the GPU.


  function markUniformsLightsNeedsUpdate(uniforms, value) {
    uniforms.ambientLightColor.needsUpdate = value;
    uniforms.lightProbe.needsUpdate = value;
    uniforms.directionalLights.needsUpdate = value;
    uniforms.pointLights.needsUpdate = value;
    uniforms.spotLights.needsUpdate = value;
    uniforms.rectAreaLights.needsUpdate = value;
    uniforms.hemisphereLights.needsUpdate = value;
  } //


  this.setFramebuffer = function (value) {
    if (_framebuffer !== value) _gl.bindFramebuffer(36160, value);
    _framebuffer = value;
  };

  this.getActiveCubeFace = function () {
    return _currentActiveCubeFace;
  };

  this.getActiveMipmapLevel = function () {
    return _currentActiveMipmapLevel;
  };

  this.getRenderTarget = function () {
    return _currentRenderTarget;
  };

  this.setRenderTarget = function (renderTarget, activeCubeFace, activeMipmapLevel) {
    _currentRenderTarget = renderTarget;
    _currentActiveCubeFace = activeCubeFace;
    _currentActiveMipmapLevel = activeMipmapLevel;

    if (renderTarget && properties.get(renderTarget).__webglFramebuffer === undefined) {
      textures.setupRenderTarget(renderTarget);
    }

    var framebuffer = _framebuffer;
    var isCube = false;

    if (renderTarget) {
      var __webglFramebuffer = properties.get(renderTarget).__webglFramebuffer;

      if (renderTarget.isWebGLRenderTargetCube) {
        framebuffer = __webglFramebuffer[activeCubeFace || 0];
        isCube = true;
      } else if (renderTarget.isWebGLMultisampleRenderTarget) {
        framebuffer = properties.get(renderTarget).__webglMultisampledFramebuffer;
      } else {
        framebuffer = __webglFramebuffer;
      }

      _currentViewport.copy(renderTarget.viewport);

      _currentScissor.copy(renderTarget.scissor);

      _currentScissorTest = renderTarget.scissorTest;
    } else {
      _currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor();

      _currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor();

      _currentScissorTest = _scissorTest;
    }

    if (_currentFramebuffer !== framebuffer) {
      _gl.bindFramebuffer(36160, framebuffer);

      _currentFramebuffer = framebuffer;
    }

    state.viewport(_currentViewport);
    state.scissor(_currentScissor);
    state.setScissorTest(_currentScissorTest);

    if (isCube) {
      var textureProperties = properties.get(renderTarget.texture);

      _gl.framebufferTexture2D(36160, 36064, 34069 + (activeCubeFace || 0), textureProperties.__webglTexture, activeMipmapLevel || 0);
    }
  };

  this.readRenderTargetPixels = function (renderTarget, x, y, width, height, buffer, activeCubeFaceIndex) {
    if (!(renderTarget && renderTarget.isWebGLRenderTarget)) {
      console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');
      return;
    }

    var framebuffer = properties.get(renderTarget).__webglFramebuffer;

    if (renderTarget.isWebGLRenderTargetCube && activeCubeFaceIndex !== undefined) {
      framebuffer = framebuffer[activeCubeFaceIndex];
    }

    if (framebuffer) {
      var restore = false;

      if (framebuffer !== _currentFramebuffer) {
        _gl.bindFramebuffer(36160, framebuffer);

        restore = true;
      }

      try {
        var texture = renderTarget.texture;
        var textureFormat = texture.format;
        var textureType = texture.type;

        if (textureFormat !== RGBAFormat && utils.convert(textureFormat) !== _gl.getParameter(35739)) {
          console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');
          return;
        }

        if (textureType !== UnsignedByteType && utils.convert(textureType) !== _gl.getParameter(35738) && // IE11, Edge and Chrome Mac < 52 (#9513)
        !(textureType === FloatType && (capabilities.isWebGL2 || extensions.get('OES_texture_float') || extensions.get('WEBGL_color_buffer_float'))) && // Chrome Mac >= 52 and Firefox
        !(textureType === HalfFloatType && (capabilities.isWebGL2 ? extensions.get('EXT_color_buffer_float') : extensions.get('EXT_color_buffer_half_float')))) {
          console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');
          return;
        }

        if (_gl.checkFramebufferStatus(36160) === 36053) {
          // the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)
          if (x >= 0 && x <= renderTarget.width - width && y >= 0 && y <= renderTarget.height - height) {
            _gl.readPixels(x, y, width, height, utils.convert(textureFormat), utils.convert(textureType), buffer);
          }
        } else {
          console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.');
        }
      } finally {
        if (restore) {
          _gl.bindFramebuffer(36160, _currentFramebuffer);
        }
      }
    }
  };

  this.copyFramebufferToTexture = function (position, texture, level) {
    var width = texture.image.width;
    var height = texture.image.height;
    var glFormat = utils.convert(texture.format);
    textures.setTexture2D(texture, 0);

    _gl.copyTexImage2D(3553, level || 0, glFormat, position.x, position.y, width, height, 0);
  };

  this.copyTextureToTexture = function (position, srcTexture, dstTexture, level) {
    var width = srcTexture.image.width;
    var height = srcTexture.image.height;
    var glFormat = utils.convert(dstTexture.format);
    var glType = utils.convert(dstTexture.type);
    textures.setTexture2D(dstTexture, 0);

    if (srcTexture.isDataTexture) {
      _gl.texSubImage2D(3553, level || 0, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data);
    } else {
      _gl.texSubImage2D(3553, level || 0, position.x, position.y, glFormat, glType, srcTexture.image);
    }
  };

  if (typeof __THREE_DEVTOOLS__ !== 'undefined') {
    __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', {
      detail: this
    })); // eslint-disable-line no-undef

  }
}
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 */


function FogExp2(color, density) {
  this.name = '';
  this.color = new Color(color);
  this.density = density !== undefined ? density : 0.00025;
}

Object.assign(FogExp2.prototype, {
  isFogExp2: true,
  clone: function () {
    return new FogExp2(this.color, this.density);
  },
  toJSON: function
    /* meta */
  () {
    return {
      type: 'FogExp2',
      color: this.color.getHex(),
      density: this.density
    };
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 */

function Fog(color, near, far) {
  this.name = '';
  this.color = new Color(color);
  this.near = near !== undefined ? near : 1;
  this.far = far !== undefined ? far : 1000;
}

Object.assign(Fog.prototype, {
  isFog: true,
  clone: function () {
    return new Fog(this.color, this.near, this.far);
  },
  toJSON: function
    /* meta */
  () {
    return {
      type: 'Fog',
      color: this.color.getHex(),
      near: this.near,
      far: this.far
    };
  }
});
/**
 * @author benaadams / https://twitter.com/ben_a_adams
 */

function InterleavedBuffer(array, stride) {
  this.array = array;
  this.stride = stride;
  this.count = array !== undefined ? array.length / stride : 0;
  this.dynamic = false;
  this.updateRange = {
    offset: 0,
    count: -1
  };
  this.version = 0;
}

Object.defineProperty(InterleavedBuffer.prototype, 'needsUpdate', {
  set: function (value) {
    if (value === true) this.version++;
  }
});
Object.assign(InterleavedBuffer.prototype, {
  isInterleavedBuffer: true,
  onUploadCallback: function () {},
  setArray: function (array) {
    if (Array.isArray(array)) {
      throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');
    }

    this.count = array !== undefined ? array.length / this.stride : 0;
    this.array = array;
    return this;
  },
  setDynamic: function (value) {
    this.dynamic = value;
    return this;
  },
  copy: function (source) {
    this.array = new source.array.constructor(source.array);
    this.count = source.count;
    this.stride = source.stride;
    this.dynamic = source.dynamic;
    return this;
  },
  copyAt: function (index1, attribute, index2) {
    index1 *= this.stride;
    index2 *= attribute.stride;

    for (var i = 0, l = this.stride; i < l; i++) {
      this.array[index1 + i] = attribute.array[index2 + i];
    }

    return this;
  },
  set: function (value, offset) {
    if (offset === undefined) offset = 0;
    this.array.set(value, offset);
    return this;
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  onUpload: function (callback) {
    this.onUploadCallback = callback;
    return this;
  }
});
/**
 * @author benaadams / https://twitter.com/ben_a_adams
 */

function InterleavedBufferAttribute(interleavedBuffer, itemSize, offset, normalized) {
  this.data = interleavedBuffer;
  this.itemSize = itemSize;
  this.offset = offset;
  this.normalized = normalized === true;
}

Object.defineProperties(InterleavedBufferAttribute.prototype, {
  count: {
    get: function () {
      return this.data.count;
    }
  },
  array: {
    get: function () {
      return this.data.array;
    }
  }
});
Object.assign(InterleavedBufferAttribute.prototype, {
  isInterleavedBufferAttribute: true,
  setX: function (index, x) {
    this.data.array[index * this.data.stride + this.offset] = x;
    return this;
  },
  setY: function (index, y) {
    this.data.array[index * this.data.stride + this.offset + 1] = y;
    return this;
  },
  setZ: function (index, z) {
    this.data.array[index * this.data.stride + this.offset + 2] = z;
    return this;
  },
  setW: function (index, w) {
    this.data.array[index * this.data.stride + this.offset + 3] = w;
    return this;
  },
  getX: function (index) {
    return this.data.array[index * this.data.stride + this.offset];
  },
  getY: function (index) {
    return this.data.array[index * this.data.stride + this.offset + 1];
  },
  getZ: function (index) {
    return this.data.array[index * this.data.stride + this.offset + 2];
  },
  getW: function (index) {
    return this.data.array[index * this.data.stride + this.offset + 3];
  },
  setXY: function (index, x, y) {
    index = index * this.data.stride + this.offset;
    this.data.array[index + 0] = x;
    this.data.array[index + 1] = y;
    return this;
  },
  setXYZ: function (index, x, y, z) {
    index = index * this.data.stride + this.offset;
    this.data.array[index + 0] = x;
    this.data.array[index + 1] = y;
    this.data.array[index + 2] = z;
    return this;
  },
  setXYZW: function (index, x, y, z, w) {
    index = index * this.data.stride + this.offset;
    this.data.array[index + 0] = x;
    this.data.array[index + 1] = y;
    this.data.array[index + 2] = z;
    this.data.array[index + 3] = w;
    return this;
  }
});
/**
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  color: <hex>,
 *  map: new THREE.Texture( <Image> ),
 *  rotation: <float>,
 *  sizeAttenuation: <bool>
 * }
 */

function SpriteMaterial(parameters) {
  Material.call(this);
  this.type = 'SpriteMaterial';
  this.color = new Color(0xffffff);
  this.map = null;
  this.rotation = 0;
  this.sizeAttenuation = true;
  this.lights = false;
  this.transparent = true;
  this.setValues(parameters);
}

SpriteMaterial.prototype = Object.create(Material.prototype);
SpriteMaterial.prototype.constructor = SpriteMaterial;
SpriteMaterial.prototype.isSpriteMaterial = true;

SpriteMaterial.prototype.copy = function (source) {
  Material.prototype.copy.call(this, source);
  this.color.copy(source.color);
  this.map = source.map;
  this.rotation = source.rotation;
  this.sizeAttenuation = source.sizeAttenuation;
  return this;
};
/**
 * @author mikael emtinger / http://gomo.se/
 * @author alteredq / http://alteredqualia.com/
 */


var geometry;

function Sprite(material) {
  Object3D.call(this);
  this.type = 'Sprite';

  if (geometry === undefined) {
    geometry = new BufferGeometry();
    var float32Array = new Float32Array([-0.5, -0.5, 0, 0, 0, 0.5, -0.5, 0, 1, 0, 0.5, 0.5, 0, 1, 1, -0.5, 0.5, 0, 0, 1]);
    var interleavedBuffer = new InterleavedBuffer(float32Array, 5);
    geometry.setIndex([0, 1, 2, 0, 2, 3]);
    geometry.addAttribute('position', new InterleavedBufferAttribute(interleavedBuffer, 3, 0, false));
    geometry.addAttribute('uv', new InterleavedBufferAttribute(interleavedBuffer, 2, 3, false));
  }

  this.geometry = geometry;
  this.material = material !== undefined ? material : new SpriteMaterial();
  this.center = new Vector2(0.5, 0.5);
}

Sprite.prototype = Object.assign(Object.create(Object3D.prototype), {
  constructor: Sprite,
  isSprite: true,
  raycast: function () {
    var intersectPoint = new Vector3();
    var worldScale = new Vector3();
    var mvPosition = new Vector3();
    var alignedPosition = new Vector2();
    var rotatedPosition = new Vector2();
    var viewWorldMatrix = new Matrix4();
    var vA = new Vector3();
    var vB = new Vector3();
    var vC = new Vector3();
    var uvA = new Vector2();
    var uvB = new Vector2();
    var uvC = new Vector2();

    function transformVertex(vertexPosition, mvPosition, center, scale, sin, cos) {
      // compute position in camera space
      alignedPosition.subVectors(vertexPosition, center).addScalar(0.5).multiply(scale); // to check if rotation is not zero

      if (sin !== undefined) {
        rotatedPosition.x = cos * alignedPosition.x - sin * alignedPosition.y;
        rotatedPosition.y = sin * alignedPosition.x + cos * alignedPosition.y;
      } else {
        rotatedPosition.copy(alignedPosition);
      }

      vertexPosition.copy(mvPosition);
      vertexPosition.x += rotatedPosition.x;
      vertexPosition.y += rotatedPosition.y; // transform to world space

      vertexPosition.applyMatrix4(viewWorldMatrix);
    }

    return function raycast(raycaster, intersects) {
      worldScale.setFromMatrixScale(this.matrixWorld);
      viewWorldMatrix.copy(raycaster._camera.matrixWorld);
      this.modelViewMatrix.multiplyMatrices(raycaster._camera.matrixWorldInverse, this.matrixWorld);
      mvPosition.setFromMatrixPosition(this.modelViewMatrix);

      if (raycaster._camera.isPerspectiveCamera && this.material.sizeAttenuation === false) {
        worldScale.multiplyScalar(-mvPosition.z);
      }

      var rotation = this.material.rotation;
      var sin, cos;

      if (rotation !== 0) {
        cos = Math.cos(rotation);
        sin = Math.sin(rotation);
      }

      var center = this.center;
      transformVertex(vA.set(-0.5, -0.5, 0), mvPosition, center, worldScale, sin, cos);
      transformVertex(vB.set(0.5, -0.5, 0), mvPosition, center, worldScale, sin, cos);
      transformVertex(vC.set(0.5, 0.5, 0), mvPosition, center, worldScale, sin, cos);
      uvA.set(0, 0);
      uvB.set(1, 0);
      uvC.set(1, 1); // check first triangle

      var intersect = raycaster.ray.intersectTriangle(vA, vB, vC, false, intersectPoint);

      if (intersect === null) {
        // check second triangle
        transformVertex(vB.set(-0.5, 0.5, 0), mvPosition, center, worldScale, sin, cos);
        uvB.set(0, 1);
        intersect = raycaster.ray.intersectTriangle(vA, vC, vB, false, intersectPoint);

        if (intersect === null) {
          return;
        }
      }

      var distance = raycaster.ray.origin.distanceTo(intersectPoint);
      if (distance < raycaster.near || distance > raycaster.far) return;
      intersects.push({
        distance: distance,
        point: intersectPoint.clone(),
        uv: Triangle.getUV(intersectPoint, vA, vB, vC, uvA, uvB, uvC, new Vector2()),
        face: null,
        object: this
      });
    };
  }(),
  clone: function () {
    return new this.constructor(this.material).copy(this);
  },
  copy: function (source) {
    Object3D.prototype.copy.call(this, source);
    if (source.center !== undefined) this.center.copy(source.center);
    return this;
  }
});
/**
 * @author mikael emtinger / http://gomo.se/
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
 */

function LOD() {
  Object3D.call(this);
  this.type = 'LOD';
  Object.defineProperties(this, {
    levels: {
      enumerable: true,
      value: []
    }
  });
  this.autoUpdate = true;
}

LOD.prototype = Object.assign(Object.create(Object3D.prototype), {
  constructor: LOD,
  isLOD: true,
  copy: function (source) {
    Object3D.prototype.copy.call(this, source, false);
    var levels = source.levels;

    for (var i = 0, l = levels.length; i < l; i++) {
      var level = levels[i];
      this.addLevel(level.object.clone(), level.distance);
    }

    return this;
  },
  addLevel: function (object, distance) {
    if (distance === undefined) distance = 0;
    distance = Math.abs(distance);
    var levels = this.levels;

    for (var l = 0; l < levels.length; l++) {
      if (distance < levels[l].distance) {
        break;
      }
    }

    levels.splice(l, 0, {
      distance: distance,
      object: object
    });
    this.add(object);
    return this;
  },
  getObjectForDistance: function (distance) {
    var levels = this.levels;

    for (var i = 1, l = levels.length; i < l; i++) {
      if (distance < levels[i].distance) {
        break;
      }
    }

    return levels[i - 1].object;
  },
  raycast: function () {
    var matrixPosition = new Vector3();
    return function raycast(raycaster, intersects) {
      matrixPosition.setFromMatrixPosition(this.matrixWorld);
      var distance = raycaster.ray.origin.distanceTo(matrixPosition);
      this.getObjectForDistance(distance).raycast(raycaster, intersects);
    };
  }(),
  update: function () {
    var v1 = new Vector3();
    var v2 = new Vector3();
    return function update(camera) {
      var levels = this.levels;

      if (levels.length > 1) {
        v1.setFromMatrixPosition(camera.matrixWorld);
        v2.setFromMatrixPosition(this.matrixWorld);
        var distance = v1.distanceTo(v2);
        levels[0].object.visible = true;

        for (var i = 1, l = levels.length; i < l; i++) {
          if (distance >= levels[i].distance) {
            levels[i - 1].object.visible = false;
            levels[i].object.visible = true;
          } else {
            break;
          }
        }

        for (; i < l; i++) {
          levels[i].object.visible = false;
        }
      }
    };
  }(),
  toJSON: function (meta) {
    var data = Object3D.prototype.toJSON.call(this, meta);
    data.object.levels = [];
    var levels = this.levels;

    for (var i = 0, l = levels.length; i < l; i++) {
      var level = levels[i];
      data.object.levels.push({
        object: level.object.uuid,
        distance: level.distance
      });
    }

    return data;
  }
});
/**
 * @author mikael emtinger / http://gomo.se/
 * @author alteredq / http://alteredqualia.com/
 * @author ikerr / http://verold.com
 */

function SkinnedMesh(geometry, material) {
  if (geometry && geometry.isGeometry) {
    console.error('THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');
  }

  Mesh.call(this, geometry, material);
  this.type = 'SkinnedMesh';
  this.bindMode = 'attached';
  this.bindMatrix = new Matrix4();
  this.bindMatrixInverse = new Matrix4();
}

SkinnedMesh.prototype = Object.assign(Object.create(Mesh.prototype), {
  constructor: SkinnedMesh,
  isSkinnedMesh: true,
  bind: function (skeleton, bindMatrix) {
    this.skeleton = skeleton;

    if (bindMatrix === undefined) {
      this.updateMatrixWorld(true);
      this.skeleton.calculateInverses();
      bindMatrix = this.matrixWorld;
    }

    this.bindMatrix.copy(bindMatrix);
    this.bindMatrixInverse.getInverse(bindMatrix);
  },
  pose: function () {
    this.skeleton.pose();
  },
  normalizeSkinWeights: function () {
    var vector = new Vector4();
    var skinWeight = this.geometry.attributes.skinWeight;

    for (var i = 0, l = skinWeight.count; i < l; i++) {
      vector.x = skinWeight.getX(i);
      vector.y = skinWeight.getY(i);
      vector.z = skinWeight.getZ(i);
      vector.w = skinWeight.getW(i);
      var scale = 1.0 / vector.manhattanLength();

      if (scale !== Infinity) {
        vector.multiplyScalar(scale);
      } else {
        vector.set(1, 0, 0, 0); // do something reasonable
      }

      skinWeight.setXYZW(i, vector.x, vector.y, vector.z, vector.w);
    }
  },
  updateMatrixWorld: function (force) {
    Mesh.prototype.updateMatrixWorld.call(this, force);

    if (this.bindMode === 'attached') {
      this.bindMatrixInverse.getInverse(this.matrixWorld);
    } else if (this.bindMode === 'detached') {
      this.bindMatrixInverse.getInverse(this.bindMatrix);
    } else {
      console.warn('THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode);
    }
  },
  clone: function () {
    return new this.constructor(this.geometry, this.material).copy(this);
  }
});
/**
 * @author mikael emtinger / http://gomo.se/
 * @author alteredq / http://alteredqualia.com/
 * @author michael guerrero / http://realitymeltdown.com
 * @author ikerr / http://verold.com
 */

function Skeleton(bones, boneInverses) {
  // copy the bone array
  bones = bones || [];
  this.bones = bones.slice(0);
  this.boneMatrices = new Float32Array(this.bones.length * 16); // use the supplied bone inverses or calculate the inverses

  if (boneInverses === undefined) {
    this.calculateInverses();
  } else {
    if (this.bones.length === boneInverses.length) {
      this.boneInverses = boneInverses.slice(0);
    } else {
      console.warn('THREE.Skeleton boneInverses is the wrong length.');
      this.boneInverses = [];

      for (var i = 0, il = this.bones.length; i < il; i++) {
        this.boneInverses.push(new Matrix4());
      }
    }
  }
}

Object.assign(Skeleton.prototype, {
  calculateInverses: function () {
    this.boneInverses = [];

    for (var i = 0, il = this.bones.length; i < il; i++) {
      var inverse = new Matrix4();

      if (this.bones[i]) {
        inverse.getInverse(this.bones[i].matrixWorld);
      }

      this.boneInverses.push(inverse);
    }
  },
  pose: function () {
    var bone, i, il; // recover the bind-time world matrices

    for (i = 0, il = this.bones.length; i < il; i++) {
      bone = this.bones[i];

      if (bone) {
        bone.matrixWorld.getInverse(this.boneInverses[i]);
      }
    } // compute the local matrices, positions, rotations and scales


    for (i = 0, il = this.bones.length; i < il; i++) {
      bone = this.bones[i];

      if (bone) {
        if (bone.parent && bone.parent.isBone) {
          bone.matrix.getInverse(bone.parent.matrixWorld);
          bone.matrix.multiply(bone.matrixWorld);
        } else {
          bone.matrix.copy(bone.matrixWorld);
        }

        bone.matrix.decompose(bone.position, bone.quaternion, bone.scale);
      }
    }
  },
  update: function () {
    var offsetMatrix = new Matrix4();
    var identityMatrix = new Matrix4();
    return function update() {
      var bones = this.bones;
      var boneInverses = this.boneInverses;
      var boneMatrices = this.boneMatrices;
      var boneTexture = this.boneTexture; // flatten bone matrices to array

      for (var i = 0, il = bones.length; i < il; i++) {
        // compute the offset between the current and the original transform
        var matrix = bones[i] ? bones[i].matrixWorld : identityMatrix;
        offsetMatrix.multiplyMatrices(matrix, boneInverses[i]);
        offsetMatrix.toArray(boneMatrices, i * 16);
      }

      if (boneTexture !== undefined) {
        boneTexture.needsUpdate = true;
      }
    };
  }(),
  clone: function () {
    return new Skeleton(this.bones, this.boneInverses);
  },
  getBoneByName: function (name) {
    for (var i = 0, il = this.bones.length; i < il; i++) {
      var bone = this.bones[i];

      if (bone.name === name) {
        return bone;
      }
    }

    return undefined;
  }
});
/**
 * @author mikael emtinger / http://gomo.se/
 * @author alteredq / http://alteredqualia.com/
 * @author ikerr / http://verold.com
 */

function Bone() {
  Object3D.call(this);
  this.type = 'Bone';
}

Bone.prototype = Object.assign(Object.create(Object3D.prototype), {
  constructor: Bone,
  isBone: true
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *
 *  linewidth: <float>,
 *  linecap: "round",
 *  linejoin: "round"
 * }
 */

function LineBasicMaterial(parameters) {
  Material.call(this);
  this.type = 'LineBasicMaterial';
  this.color = new Color(0xffffff);
  this.linewidth = 1;
  this.linecap = 'round';
  this.linejoin = 'round';
  this.lights = false;
  this.setValues(parameters);
}

LineBasicMaterial.prototype = Object.create(Material.prototype);
LineBasicMaterial.prototype.constructor = LineBasicMaterial;
LineBasicMaterial.prototype.isLineBasicMaterial = true;

LineBasicMaterial.prototype.copy = function (source) {
  Material.prototype.copy.call(this, source);
  this.color.copy(source.color);
  this.linewidth = source.linewidth;
  this.linecap = source.linecap;
  this.linejoin = source.linejoin;
  return this;
};
/**
 * @author mrdoob / http://mrdoob.com/
 */


function Line(geometry, material, mode) {
  if (mode === 1) {
    console.error('THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.');
  }

  Object3D.call(this);
  this.type = 'Line';
  this.geometry = geometry !== undefined ? geometry : new BufferGeometry();
  this.material = material !== undefined ? material : new LineBasicMaterial({
    color: Math.random() * 0xffffff
  });
}

Line.prototype = Object.assign(Object.create(Object3D.prototype), {
  constructor: Line,
  isLine: true,
  computeLineDistances: function () {
    var start = new Vector3();
    var end = new Vector3();
    return function computeLineDistances() {
      var geometry = this.geometry;

      if (geometry.isBufferGeometry) {
        // we assume non-indexed geometry
        if (geometry.index === null) {
          var positionAttribute = geometry.attributes.position;
          var lineDistances = [0];

          for (var i = 1, l = positionAttribute.count; i < l; i++) {
            start.fromBufferAttribute(positionAttribute, i - 1);
            end.fromBufferAttribute(positionAttribute, i);
            lineDistances[i] = lineDistances[i - 1];
            lineDistances[i] += start.distanceTo(end);
          }

          geometry.addAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));
        } else {
          console.warn('THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');
        }
      } else if (geometry.isGeometry) {
        var vertices = geometry.vertices;
        var lineDistances = geometry.lineDistances;
        lineDistances[0] = 0;

        for (var i = 1, l = vertices.length; i < l; i++) {
          lineDistances[i] = lineDistances[i - 1];
          lineDistances[i] += vertices[i - 1].distanceTo(vertices[i]);
        }
      }

      return this;
    };
  }(),
  raycast: function () {
    var inverseMatrix = new Matrix4();
    var ray = new Ray();
    var sphere = new Sphere();
    return function raycast(raycaster, intersects) {
      var precision = raycaster.linePrecision;
      var geometry = this.geometry;
      var matrixWorld = this.matrixWorld; // Checking boundingSphere distance to ray

      if (geometry.boundingSphere === null) geometry.computeBoundingSphere();
      sphere.copy(geometry.boundingSphere);
      sphere.applyMatrix4(matrixWorld);
      sphere.radius += precision;
      if (raycaster.ray.intersectsSphere(sphere) === false) return; //

      inverseMatrix.getInverse(matrixWorld);
      ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);
      var localPrecision = precision / ((this.scale.x + this.scale.y + this.scale.z) / 3);
      var localPrecisionSq = localPrecision * localPrecision;
      var vStart = new Vector3();
      var vEnd = new Vector3();
      var interSegment = new Vector3();
      var interRay = new Vector3();
      var step = this && this.isLineSegments ? 2 : 1;

      if (geometry.isBufferGeometry) {
        var index = geometry.index;
        var attributes = geometry.attributes;
        var positions = attributes.position.array;

        if (index !== null) {
          var indices = index.array;

          for (var i = 0, l = indices.length - 1; i < l; i += step) {
            var a = indices[i];
            var b = indices[i + 1];
            vStart.fromArray(positions, a * 3);
            vEnd.fromArray(positions, b * 3);
            var distSq = ray.distanceSqToSegment(vStart, vEnd, interRay, interSegment);
            if (distSq > localPrecisionSq) continue;
            interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation

            var distance = raycaster.ray.origin.distanceTo(interRay);
            if (distance < raycaster.near || distance > raycaster.far) continue;
            intersects.push({
              distance: distance,
              // What do we want? intersection point on the ray or on the segment??
              // point: raycaster.ray.at( distance ),
              point: interSegment.clone().applyMatrix4(this.matrixWorld),
              index: i,
              face: null,
              faceIndex: null,
              object: this
            });
          }
        } else {
          for (var i = 0, l = positions.length / 3 - 1; i < l; i += step) {
            vStart.fromArray(positions, 3 * i);
            vEnd.fromArray(positions, 3 * i + 3);
            var distSq = ray.distanceSqToSegment(vStart, vEnd, interRay, interSegment);
            if (distSq > localPrecisionSq) continue;
            interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation

            var distance = raycaster.ray.origin.distanceTo(interRay);
            if (distance < raycaster.near || distance > raycaster.far) continue;
            intersects.push({
              distance: distance,
              // What do we want? intersection point on the ray or on the segment??
              // point: raycaster.ray.at( distance ),
              point: interSegment.clone().applyMatrix4(this.matrixWorld),
              index: i,
              face: null,
              faceIndex: null,
              object: this
            });
          }
        }
      } else if (geometry.isGeometry) {
        var vertices = geometry.vertices;
        var nbVertices = vertices.length;

        for (var i = 0; i < nbVertices - 1; i += step) {
          var distSq = ray.distanceSqToSegment(vertices[i], vertices[i + 1], interRay, interSegment);
          if (distSq > localPrecisionSq) continue;
          interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation

          var distance = raycaster.ray.origin.distanceTo(interRay);
          if (distance < raycaster.near || distance > raycaster.far) continue;
          intersects.push({
            distance: distance,
            // What do we want? intersection point on the ray or on the segment??
            // point: raycaster.ray.at( distance ),
            point: interSegment.clone().applyMatrix4(this.matrixWorld),
            index: i,
            face: null,
            faceIndex: null,
            object: this
          });
        }
      }
    };
  }(),
  clone: function () {
    return new this.constructor(this.geometry, this.material).copy(this);
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function LineSegments(geometry, material) {
  Line.call(this, geometry, material);
  this.type = 'LineSegments';
}

LineSegments.prototype = Object.assign(Object.create(Line.prototype), {
  constructor: LineSegments,
  isLineSegments: true,
  computeLineDistances: function () {
    var start = new Vector3();
    var end = new Vector3();
    return function computeLineDistances() {
      var geometry = this.geometry;

      if (geometry.isBufferGeometry) {
        // we assume non-indexed geometry
        if (geometry.index === null) {
          var positionAttribute = geometry.attributes.position;
          var lineDistances = [];

          for (var i = 0, l = positionAttribute.count; i < l; i += 2) {
            start.fromBufferAttribute(positionAttribute, i);
            end.fromBufferAttribute(positionAttribute, i + 1);
            lineDistances[i] = i === 0 ? 0 : lineDistances[i - 1];
            lineDistances[i + 1] = lineDistances[i] + start.distanceTo(end);
          }

          geometry.addAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));
        } else {
          console.warn('THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');
        }
      } else if (geometry.isGeometry) {
        var vertices = geometry.vertices;
        var lineDistances = geometry.lineDistances;

        for (var i = 0, l = vertices.length; i < l; i += 2) {
          start.copy(vertices[i]);
          end.copy(vertices[i + 1]);
          lineDistances[i] = i === 0 ? 0 : lineDistances[i - 1];
          lineDistances[i + 1] = lineDistances[i] + start.distanceTo(end);
        }
      }

      return this;
    };
  }()
});
/**
 * @author mgreter / http://github.com/mgreter
 */

function LineLoop(geometry, material) {
  Line.call(this, geometry, material);
  this.type = 'LineLoop';
}

LineLoop.prototype = Object.assign(Object.create(Line.prototype), {
  constructor: LineLoop,
  isLineLoop: true
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *  map: new THREE.Texture( <Image> ),
 *
 *  size: <float>,
 *  sizeAttenuation: <bool>
 *
 *  morphTargets: <bool>
 * }
 */

function PointsMaterial(parameters) {
  Material.call(this);
  this.type = 'PointsMaterial';
  this.color = new Color(0xffffff);
  this.map = null;
  this.size = 1;
  this.sizeAttenuation = true;
  this.morphTargets = false;
  this.lights = false;
  this.setValues(parameters);
}

PointsMaterial.prototype = Object.create(Material.prototype);
PointsMaterial.prototype.constructor = PointsMaterial;
PointsMaterial.prototype.isPointsMaterial = true;

PointsMaterial.prototype.copy = function (source) {
  Material.prototype.copy.call(this, source);
  this.color.copy(source.color);
  this.map = source.map;
  this.size = source.size;
  this.sizeAttenuation = source.sizeAttenuation;
  this.morphTargets = source.morphTargets;
  return this;
};
/**
 * @author alteredq / http://alteredqualia.com/
 */


function Points(geometry, material) {
  Object3D.call(this);
  this.type = 'Points';
  this.geometry = geometry !== undefined ? geometry : new BufferGeometry();
  this.material = material !== undefined ? material : new PointsMaterial({
    color: Math.random() * 0xffffff
  });
  this.updateMorphTargets();
}

Points.prototype = Object.assign(Object.create(Object3D.prototype), {
  constructor: Points,
  isPoints: true,
  raycast: function () {
    var inverseMatrix = new Matrix4();
    var ray = new Ray();
    var sphere = new Sphere();
    return function raycast(raycaster, intersects) {
      var object = this;
      var geometry = this.geometry;
      var matrixWorld = this.matrixWorld;
      var threshold = raycaster.params.Points.threshold; // Checking boundingSphere distance to ray

      if (geometry.boundingSphere === null) geometry.computeBoundingSphere();
      sphere.copy(geometry.boundingSphere);
      sphere.applyMatrix4(matrixWorld);
      sphere.radius += threshold;
      if (raycaster.ray.intersectsSphere(sphere) === false) return; //

      inverseMatrix.getInverse(matrixWorld);
      ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);
      var localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);
      var localThresholdSq = localThreshold * localThreshold;
      var position = new Vector3();
      var intersectPoint = new Vector3();

      function testPoint(point, index) {
        var rayPointDistanceSq = ray.distanceSqToPoint(point);

        if (rayPointDistanceSq < localThresholdSq) {
          ray.closestPointToPoint(point, intersectPoint);
          intersectPoint.applyMatrix4(matrixWorld);
          var distance = raycaster.ray.origin.distanceTo(intersectPoint);
          if (distance < raycaster.near || distance > raycaster.far) return;
          intersects.push({
            distance: distance,
            distanceToRay: Math.sqrt(rayPointDistanceSq),
            point: intersectPoint.clone(),
            index: index,
            face: null,
            object: object
          });
        }
      }

      if (geometry.isBufferGeometry) {
        var index = geometry.index;
        var attributes = geometry.attributes;
        var positions = attributes.position.array;

        if (index !== null) {
          var indices = index.array;

          for (var i = 0, il = indices.length; i < il; i++) {
            var a = indices[i];
            position.fromArray(positions, a * 3);
            testPoint(position, a);
          }
        } else {
          for (var i = 0, l = positions.length / 3; i < l; i++) {
            position.fromArray(positions, i * 3);
            testPoint(position, i);
          }
        }
      } else {
        var vertices = geometry.vertices;

        for (var i = 0, l = vertices.length; i < l; i++) {
          testPoint(vertices[i], i);
        }
      }
    };
  }(),
  updateMorphTargets: function () {
    var geometry = this.geometry;
    var m, ml, name;

    if (geometry.isBufferGeometry) {
      var morphAttributes = geometry.morphAttributes;
      var keys = Object.keys(morphAttributes);

      if (keys.length > 0) {
        var morphAttribute = morphAttributes[keys[0]];

        if (morphAttribute !== undefined) {
          this.morphTargetInfluences = [];
          this.morphTargetDictionary = {};

          for (m = 0, ml = morphAttribute.length; m < ml; m++) {
            name = morphAttribute[m].name || String(m);
            this.morphTargetInfluences.push(0);
            this.morphTargetDictionary[name] = m;
          }
        }
      }
    } else {
      var morphTargets = geometry.morphTargets;

      if (morphTargets !== undefined && morphTargets.length > 0) {
        console.error('THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.');
      }
    }
  },
  clone: function () {
    return new this.constructor(this.geometry, this.material).copy(this);
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function VideoTexture(video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {
  Texture.call(this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);
  this.format = format !== undefined ? format : RGBFormat;
  this.minFilter = minFilter !== undefined ? minFilter : LinearFilter;
  this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;
  this.generateMipmaps = false;
}

VideoTexture.prototype = Object.assign(Object.create(Texture.prototype), {
  constructor: VideoTexture,
  isVideoTexture: true,
  update: function () {
    var video = this.image;

    if (video.readyState >= video.HAVE_CURRENT_DATA) {
      this.needsUpdate = true;
    }
  }
});
/**
 * @author alteredq / http://alteredqualia.com/
 */

function CompressedTexture(mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {
  Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);
  this.image = {
    width: width,
    height: height
  };
  this.mipmaps = mipmaps; // no flipping for cube textures
  // (also flipping doesn't work for compressed textures )

  this.flipY = false; // can't generate mipmaps for compressed textures
  // mips must be embedded in DDS files

  this.generateMipmaps = false;
}

CompressedTexture.prototype = Object.create(Texture.prototype);
CompressedTexture.prototype.constructor = CompressedTexture;
CompressedTexture.prototype.isCompressedTexture = true;
/**
 * @author mrdoob / http://mrdoob.com/
 */

function CanvasTexture(canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {
  Texture.call(this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);
  this.needsUpdate = true;
}

CanvasTexture.prototype = Object.create(Texture.prototype);
CanvasTexture.prototype.constructor = CanvasTexture;
CanvasTexture.prototype.isCanvasTexture = true;
/**
 * @author Matt DesLauriers / @mattdesl
 * @author atix / arthursilber.de
 */

function DepthTexture(width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format) {
  format = format !== undefined ? format : DepthFormat;

  if (format !== DepthFormat && format !== DepthStencilFormat) {
    throw new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');
  }

  if (type === undefined && format === DepthFormat) type = UnsignedShortType;
  if (type === undefined && format === DepthStencilFormat) type = UnsignedInt248Type;
  Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);
  this.image = {
    width: width,
    height: height
  };
  this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;
  this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;
  this.flipY = false;
  this.generateMipmaps = false;
}

DepthTexture.prototype = Object.create(Texture.prototype);
DepthTexture.prototype.constructor = DepthTexture;
DepthTexture.prototype.isDepthTexture = true;
/**
 * @author mrdoob / http://mrdoob.com/
 * @author Mugen87 / https://github.com/Mugen87
 */

function WireframeGeometry(geometry) {
  BufferGeometry.call(this);
  this.type = 'WireframeGeometry'; // buffer

  var vertices = []; // helper variables

  var i, j, l, o, ol;
  var edge = [0, 0],
      edges = {},
      e,
      edge1,
      edge2;
  var key,
      keys = ['a', 'b', 'c'];
  var vertex; // different logic for Geometry and BufferGeometry

  if (geometry && geometry.isGeometry) {
    // create a data structure that contains all edges without duplicates
    var faces = geometry.faces;

    for (i = 0, l = faces.length; i < l; i++) {
      var face = faces[i];

      for (j = 0; j < 3; j++) {
        edge1 = face[keys[j]];
        edge2 = face[keys[(j + 1) % 3]];
        edge[0] = Math.min(edge1, edge2); // sorting prevents duplicates

        edge[1] = Math.max(edge1, edge2);
        key = edge[0] + ',' + edge[1];

        if (edges[key] === undefined) {
          edges[key] = {
            index1: edge[0],
            index2: edge[1]
          };
        }
      }
    } // generate vertices


    for (key in edges) {
      e = edges[key];
      vertex = geometry.vertices[e.index1];
      vertices.push(vertex.x, vertex.y, vertex.z);
      vertex = geometry.vertices[e.index2];
      vertices.push(vertex.x, vertex.y, vertex.z);
    }
  } else if (geometry && geometry.isBufferGeometry) {
    var position, indices, groups;
    var group, start, count;
    var index1, index2;
    vertex = new Vector3();

    if (geometry.index !== null) {
      // indexed BufferGeometry
      position = geometry.attributes.position;
      indices = geometry.index;
      groups = geometry.groups;

      if (groups.length === 0) {
        groups = [{
          start: 0,
          count: indices.count,
          materialIndex: 0
        }];
      } // create a data structure that contains all eges without duplicates


      for (o = 0, ol = groups.length; o < ol; ++o) {
        group = groups[o];
        start = group.start;
        count = group.count;

        for (i = start, l = start + count; i < l; i += 3) {
          for (j = 0; j < 3; j++) {
            edge1 = indices.getX(i + j);
            edge2 = indices.getX(i + (j + 1) % 3);
            edge[0] = Math.min(edge1, edge2); // sorting prevents duplicates

            edge[1] = Math.max(edge1, edge2);
            key = edge[0] + ',' + edge[1];

            if (edges[key] === undefined) {
              edges[key] = {
                index1: edge[0],
                index2: edge[1]
              };
            }
          }
        }
      } // generate vertices


      for (key in edges) {
        e = edges[key];
        vertex.fromBufferAttribute(position, e.index1);
        vertices.push(vertex.x, vertex.y, vertex.z);
        vertex.fromBufferAttribute(position, e.index2);
        vertices.push(vertex.x, vertex.y, vertex.z);
      }
    } else {
      // non-indexed BufferGeometry
      position = geometry.attributes.position;

      for (i = 0, l = position.count / 3; i < l; i++) {
        for (j = 0; j < 3; j++) {
          // three edges per triangle, an edge is represented as (index1, index2)
          // e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)
          index1 = 3 * i + j;
          vertex.fromBufferAttribute(position, index1);
          vertices.push(vertex.x, vertex.y, vertex.z);
          index2 = 3 * i + (j + 1) % 3;
          vertex.fromBufferAttribute(position, index2);
          vertices.push(vertex.x, vertex.y, vertex.z);
        }
      }
    }
  } // build geometry


  this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
}

WireframeGeometry.prototype = Object.create(BufferGeometry.prototype);
WireframeGeometry.prototype.constructor = WireframeGeometry;
/**
 * @author zz85 / https://github.com/zz85
 * @author Mugen87 / https://github.com/Mugen87
 *
 * Parametric Surfaces Geometry
 * based on the brilliant article by @prideout http://prideout.net/blog/?p=44
 */
// ParametricGeometry

function ParametricGeometry(func, slices, stacks) {
  Geometry.call(this);
  this.type = 'ParametricGeometry';
  this.parameters = {
    func: func,
    slices: slices,
    stacks: stacks
  };
  this.fromBufferGeometry(new ParametricBufferGeometry(func, slices, stacks));
  this.mergeVertices();
}

ParametricGeometry.prototype = Object.create(Geometry.prototype);
ParametricGeometry.prototype.constructor = ParametricGeometry; // ParametricBufferGeometry

function ParametricBufferGeometry(func, slices, stacks) {
  BufferGeometry.call(this);
  this.type = 'ParametricBufferGeometry';
  this.parameters = {
    func: func,
    slices: slices,
    stacks: stacks
  }; // buffers

  var indices = [];
  var vertices = [];
  var normals = [];
  var uvs = [];
  var EPS = 0.00001;
  var normal = new Vector3();
  var p0 = new Vector3(),
      p1 = new Vector3();
  var pu = new Vector3(),
      pv = new Vector3();
  var i, j;

  if (func.length < 3) {
    console.error('THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.');
  } // generate vertices, normals and uvs


  var sliceCount = slices + 1;

  for (i = 0; i <= stacks; i++) {
    var v = i / stacks;

    for (j = 0; j <= slices; j++) {
      var u = j / slices; // vertex

      func(u, v, p0);
      vertices.push(p0.x, p0.y, p0.z); // normal
      // approximate tangent vectors via finite differences

      if (u - EPS >= 0) {
        func(u - EPS, v, p1);
        pu.subVectors(p0, p1);
      } else {
        func(u + EPS, v, p1);
        pu.subVectors(p1, p0);
      }

      if (v - EPS >= 0) {
        func(u, v - EPS, p1);
        pv.subVectors(p0, p1);
      } else {
        func(u, v + EPS, p1);
        pv.subVectors(p1, p0);
      } // cross product of tangent vectors returns surface normal


      normal.crossVectors(pu, pv).normalize();
      normals.push(normal.x, normal.y, normal.z); // uv

      uvs.push(u, v);
    }
  } // generate indices


  for (i = 0; i < stacks; i++) {
    for (j = 0; j < slices; j++) {
      var a = i * sliceCount + j;
      var b = i * sliceCount + j + 1;
      var c = (i + 1) * sliceCount + j + 1;
      var d = (i + 1) * sliceCount + j; // faces one and two

      indices.push(a, b, d);
      indices.push(b, c, d);
    }
  } // build geometry


  this.setIndex(indices);
  this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
  this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
}

ParametricBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
ParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;
/**
 * @author clockworkgeek / https://github.com/clockworkgeek
 * @author timothypratley / https://github.com/timothypratley
 * @author WestLangley / http://github.com/WestLangley
 * @author Mugen87 / https://github.com/Mugen87
 */
// PolyhedronGeometry

function PolyhedronGeometry(vertices, indices, radius, detail) {
  Geometry.call(this);
  this.type = 'PolyhedronGeometry';
  this.parameters = {
    vertices: vertices,
    indices: indices,
    radius: radius,
    detail: detail
  };
  this.fromBufferGeometry(new PolyhedronBufferGeometry(vertices, indices, radius, detail));
  this.mergeVertices();
}

PolyhedronGeometry.prototype = Object.create(Geometry.prototype);
PolyhedronGeometry.prototype.constructor = PolyhedronGeometry; // PolyhedronBufferGeometry

function PolyhedronBufferGeometry(vertices, indices, radius, detail) {
  BufferGeometry.call(this);
  this.type = 'PolyhedronBufferGeometry';
  this.parameters = {
    vertices: vertices,
    indices: indices,
    radius: radius,
    detail: detail
  };
  radius = radius || 1;
  detail = detail || 0; // default buffer data

  var vertexBuffer = [];
  var uvBuffer = []; // the subdivision creates the vertex buffer data

  subdivide(detail); // all vertices should lie on a conceptual sphere with a given radius

  applyRadius(radius); // finally, create the uv data

  generateUVs(); // build non-indexed geometry

  this.addAttribute('position', new Float32BufferAttribute(vertexBuffer, 3));
  this.addAttribute('normal', new Float32BufferAttribute(vertexBuffer.slice(), 3));
  this.addAttribute('uv', new Float32BufferAttribute(uvBuffer, 2));

  if (detail === 0) {
    this.computeVertexNormals(); // flat normals
  } else {
    this.normalizeNormals(); // smooth normals
  } // helper functions


  function subdivide(detail) {
    var a = new Vector3();
    var b = new Vector3();
    var c = new Vector3(); // iterate over all faces and apply a subdivison with the given detail value

    for (var i = 0; i < indices.length; i += 3) {
      // get the vertices of the face
      getVertexByIndex(indices[i + 0], a);
      getVertexByIndex(indices[i + 1], b);
      getVertexByIndex(indices[i + 2], c); // perform subdivision

      subdivideFace(a, b, c, detail);
    }
  }

  function subdivideFace(a, b, c, detail) {
    var cols = Math.pow(2, detail); // we use this multidimensional array as a data structure for creating the subdivision

    var v = [];
    var i, j; // construct all of the vertices for this subdivision

    for (i = 0; i <= cols; i++) {
      v[i] = [];
      var aj = a.clone().lerp(c, i / cols);
      var bj = b.clone().lerp(c, i / cols);
      var rows = cols - i;

      for (j = 0; j <= rows; j++) {
        if (j === 0 && i === cols) {
          v[i][j] = aj;
        } else {
          v[i][j] = aj.clone().lerp(bj, j / rows);
        }
      }
    } // construct all of the faces


    for (i = 0; i < cols; i++) {
      for (j = 0; j < 2 * (cols - i) - 1; j++) {
        var k = Math.floor(j / 2);

        if (j % 2 === 0) {
          pushVertex(v[i][k + 1]);
          pushVertex(v[i + 1][k]);
          pushVertex(v[i][k]);
        } else {
          pushVertex(v[i][k + 1]);
          pushVertex(v[i + 1][k + 1]);
          pushVertex(v[i + 1][k]);
        }
      }
    }
  }

  function applyRadius(radius) {
    var vertex = new Vector3(); // iterate over the entire buffer and apply the radius to each vertex

    for (var i = 0; i < vertexBuffer.length; i += 3) {
      vertex.x = vertexBuffer[i + 0];
      vertex.y = vertexBuffer[i + 1];
      vertex.z = vertexBuffer[i + 2];
      vertex.normalize().multiplyScalar(radius);
      vertexBuffer[i + 0] = vertex.x;
      vertexBuffer[i + 1] = vertex.y;
      vertexBuffer[i + 2] = vertex.z;
    }
  }

  function generateUVs() {
    var vertex = new Vector3();

    for (var i = 0; i < vertexBuffer.length; i += 3) {
      vertex.x = vertexBuffer[i + 0];
      vertex.y = vertexBuffer[i + 1];
      vertex.z = vertexBuffer[i + 2];
      var u = azimuth(vertex) / 2 / Math.PI + 0.5;
      var v = inclination(vertex) / Math.PI + 0.5;
      uvBuffer.push(u, 1 - v);
    }

    correctUVs();
    correctSeam();
  }

  function correctSeam() {
    // handle case when face straddles the seam, see #3269
    for (var i = 0; i < uvBuffer.length; i += 6) {
      // uv data of a single face
      var x0 = uvBuffer[i + 0];
      var x1 = uvBuffer[i + 2];
      var x2 = uvBuffer[i + 4];
      var max = Math.max(x0, x1, x2);
      var min = Math.min(x0, x1, x2); // 0.9 is somewhat arbitrary

      if (max > 0.9 && min < 0.1) {
        if (x0 < 0.2) uvBuffer[i + 0] += 1;
        if (x1 < 0.2) uvBuffer[i + 2] += 1;
        if (x2 < 0.2) uvBuffer[i + 4] += 1;
      }
    }
  }

  function pushVertex(vertex) {
    vertexBuffer.push(vertex.x, vertex.y, vertex.z);
  }

  function getVertexByIndex(index, vertex) {
    var stride = index * 3;
    vertex.x = vertices[stride + 0];
    vertex.y = vertices[stride + 1];
    vertex.z = vertices[stride + 2];
  }

  function correctUVs() {
    var a = new Vector3();
    var b = new Vector3();
    var c = new Vector3();
    var centroid = new Vector3();
    var uvA = new Vector2();
    var uvB = new Vector2();
    var uvC = new Vector2();

    for (var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6) {
      a.set(vertexBuffer[i + 0], vertexBuffer[i + 1], vertexBuffer[i + 2]);
      b.set(vertexBuffer[i + 3], vertexBuffer[i + 4], vertexBuffer[i + 5]);
      c.set(vertexBuffer[i + 6], vertexBuffer[i + 7], vertexBuffer[i + 8]);
      uvA.set(uvBuffer[j + 0], uvBuffer[j + 1]);
      uvB.set(uvBuffer[j + 2], uvBuffer[j + 3]);
      uvC.set(uvBuffer[j + 4], uvBuffer[j + 5]);
      centroid.copy(a).add(b).add(c).divideScalar(3);
      var azi = azimuth(centroid);
      correctUV(uvA, j + 0, a, azi);
      correctUV(uvB, j + 2, b, azi);
      correctUV(uvC, j + 4, c, azi);
    }
  }

  function correctUV(uv, stride, vector, azimuth) {
    if (azimuth < 0 && uv.x === 1) {
      uvBuffer[stride] = uv.x - 1;
    }

    if (vector.x === 0 && vector.z === 0) {
      uvBuffer[stride] = azimuth / 2 / Math.PI + 0.5;
    }
  } // Angle around the Y axis, counter-clockwise when looking from above.


  function azimuth(vector) {
    return Math.atan2(vector.z, -vector.x);
  } // Angle above the XZ plane.


  function inclination(vector) {
    return Math.atan2(-vector.y, Math.sqrt(vector.x * vector.x + vector.z * vector.z));
  }
}

PolyhedronBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
PolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;
/**
 * @author timothypratley / https://github.com/timothypratley
 * @author Mugen87 / https://github.com/Mugen87
 */
// TetrahedronGeometry

function TetrahedronGeometry(radius, detail) {
  Geometry.call(this);
  this.type = 'TetrahedronGeometry';
  this.parameters = {
    radius: radius,
    detail: detail
  };
  this.fromBufferGeometry(new TetrahedronBufferGeometry(radius, detail));
  this.mergeVertices();
}

TetrahedronGeometry.prototype = Object.create(Geometry.prototype);
TetrahedronGeometry.prototype.constructor = TetrahedronGeometry; // TetrahedronBufferGeometry

function TetrahedronBufferGeometry(radius, detail) {
  var vertices = [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1];
  var indices = [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1];
  PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);
  this.type = 'TetrahedronBufferGeometry';
  this.parameters = {
    radius: radius,
    detail: detail
  };
}

TetrahedronBufferGeometry.prototype = Object.create(PolyhedronBufferGeometry.prototype);
TetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;
/**
 * @author timothypratley / https://github.com/timothypratley
 * @author Mugen87 / https://github.com/Mugen87
 */
// OctahedronGeometry

function OctahedronGeometry(radius, detail) {
  Geometry.call(this);
  this.type = 'OctahedronGeometry';
  this.parameters = {
    radius: radius,
    detail: detail
  };
  this.fromBufferGeometry(new OctahedronBufferGeometry(radius, detail));
  this.mergeVertices();
}

OctahedronGeometry.prototype = Object.create(Geometry.prototype);
OctahedronGeometry.prototype.constructor = OctahedronGeometry; // OctahedronBufferGeometry

function OctahedronBufferGeometry(radius, detail) {
  var vertices = [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1];
  var indices = [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2];
  PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);
  this.type = 'OctahedronBufferGeometry';
  this.parameters = {
    radius: radius,
    detail: detail
  };
}

OctahedronBufferGeometry.prototype = Object.create(PolyhedronBufferGeometry.prototype);
OctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;
/**
 * @author timothypratley / https://github.com/timothypratley
 * @author Mugen87 / https://github.com/Mugen87
 */
// IcosahedronGeometry

function IcosahedronGeometry(radius, detail) {
  Geometry.call(this);
  this.type = 'IcosahedronGeometry';
  this.parameters = {
    radius: radius,
    detail: detail
  };
  this.fromBufferGeometry(new IcosahedronBufferGeometry(radius, detail));
  this.mergeVertices();
}

IcosahedronGeometry.prototype = Object.create(Geometry.prototype);
IcosahedronGeometry.prototype.constructor = IcosahedronGeometry; // IcosahedronBufferGeometry

function IcosahedronBufferGeometry(radius, detail) {
  var t = (1 + Math.sqrt(5)) / 2;
  var vertices = [-1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, 0, 0, -1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, t, 0, -1, t, 0, 1, -t, 0, -1, -t, 0, 1];
  var indices = [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1];
  PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);
  this.type = 'IcosahedronBufferGeometry';
  this.parameters = {
    radius: radius,
    detail: detail
  };
}

IcosahedronBufferGeometry.prototype = Object.create(PolyhedronBufferGeometry.prototype);
IcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;
/**
 * @author Abe Pazos / https://hamoid.com
 * @author Mugen87 / https://github.com/Mugen87
 */
// DodecahedronGeometry

function DodecahedronGeometry(radius, detail) {
  Geometry.call(this);
  this.type = 'DodecahedronGeometry';
  this.parameters = {
    radius: radius,
    detail: detail
  };
  this.fromBufferGeometry(new DodecahedronBufferGeometry(radius, detail));
  this.mergeVertices();
}

DodecahedronGeometry.prototype = Object.create(Geometry.prototype);
DodecahedronGeometry.prototype.constructor = DodecahedronGeometry; // DodecahedronBufferGeometry

function DodecahedronBufferGeometry(radius, detail) {
  var t = (1 + Math.sqrt(5)) / 2;
  var r = 1 / t;
  var vertices = [// (±1, ±1, ±1)
  -1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, // (0, ±1/φ, ±φ)
  0, -r, -t, 0, -r, t, 0, r, -t, 0, r, t, // (±1/φ, ±φ, 0)
  -r, -t, 0, -r, t, 0, r, -t, 0, r, t, 0, // (±φ, 0, ±1/φ)
  -t, 0, -r, t, 0, -r, -t, 0, r, t, 0, r];
  var indices = [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9];
  PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);
  this.type = 'DodecahedronBufferGeometry';
  this.parameters = {
    radius: radius,
    detail: detail
  };
}

DodecahedronBufferGeometry.prototype = Object.create(PolyhedronBufferGeometry.prototype);
DodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;
/**
 * @author oosmoxiecode / https://github.com/oosmoxiecode
 * @author WestLangley / https://github.com/WestLangley
 * @author zz85 / https://github.com/zz85
 * @author miningold / https://github.com/miningold
 * @author jonobr1 / https://github.com/jonobr1
 * @author Mugen87 / https://github.com/Mugen87
 *
 */
// TubeGeometry

function TubeGeometry(path, tubularSegments, radius, radialSegments, closed, taper) {
  Geometry.call(this);
  this.type = 'TubeGeometry';
  this.parameters = {
    path: path,
    tubularSegments: tubularSegments,
    radius: radius,
    radialSegments: radialSegments,
    closed: closed
  };
  if (taper !== undefined) console.warn('THREE.TubeGeometry: taper has been removed.');
  var bufferGeometry = new TubeBufferGeometry(path, tubularSegments, radius, radialSegments, closed); // expose internals

  this.tangents = bufferGeometry.tangents;
  this.normals = bufferGeometry.normals;
  this.binormals = bufferGeometry.binormals; // create geometry

  this.fromBufferGeometry(bufferGeometry);
  this.mergeVertices();
}

TubeGeometry.prototype = Object.create(Geometry.prototype);
TubeGeometry.prototype.constructor = TubeGeometry; // TubeBufferGeometry

function TubeBufferGeometry(path, tubularSegments, radius, radialSegments, closed) {
  BufferGeometry.call(this);
  this.type = 'TubeBufferGeometry';
  this.parameters = {
    path: path,
    tubularSegments: tubularSegments,
    radius: radius,
    radialSegments: radialSegments,
    closed: closed
  };
  tubularSegments = tubularSegments || 64;
  radius = radius || 1;
  radialSegments = radialSegments || 8;
  closed = closed || false;
  var frames = path.computeFrenetFrames(tubularSegments, closed); // expose internals

  this.tangents = frames.tangents;
  this.normals = frames.normals;
  this.binormals = frames.binormals; // helper variables

  var vertex = new Vector3();
  var normal = new Vector3();
  var uv = new Vector2();
  var P = new Vector3();
  var i, j; // buffer

  var vertices = [];
  var normals = [];
  var uvs = [];
  var indices = []; // create buffer data

  generateBufferData(); // build geometry

  this.setIndex(indices);
  this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
  this.addAttribute('uv', new Float32BufferAttribute(uvs, 2)); // functions

  function generateBufferData() {
    for (i = 0; i < tubularSegments; i++) {
      generateSegment(i);
    } // if the geometry is not closed, generate the last row of vertices and normals
    // at the regular position on the given path
    //
    // if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)


    generateSegment(closed === false ? tubularSegments : 0); // uvs are generated in a separate function.
    // this makes it easy compute correct values for closed geometries

    generateUVs(); // finally create faces

    generateIndices();
  }

  function generateSegment(i) {
    // we use getPointAt to sample evenly distributed points from the given path
    P = path.getPointAt(i / tubularSegments, P); // retrieve corresponding normal and binormal

    var N = frames.normals[i];
    var B = frames.binormals[i]; // generate normals and vertices for the current segment

    for (j = 0; j <= radialSegments; j++) {
      var v = j / radialSegments * Math.PI * 2;
      var sin = Math.sin(v);
      var cos = -Math.cos(v); // normal

      normal.x = cos * N.x + sin * B.x;
      normal.y = cos * N.y + sin * B.y;
      normal.z = cos * N.z + sin * B.z;
      normal.normalize();
      normals.push(normal.x, normal.y, normal.z); // vertex

      vertex.x = P.x + radius * normal.x;
      vertex.y = P.y + radius * normal.y;
      vertex.z = P.z + radius * normal.z;
      vertices.push(vertex.x, vertex.y, vertex.z);
    }
  }

  function generateIndices() {
    for (j = 1; j <= tubularSegments; j++) {
      for (i = 1; i <= radialSegments; i++) {
        var a = (radialSegments + 1) * (j - 1) + (i - 1);
        var b = (radialSegments + 1) * j + (i - 1);
        var c = (radialSegments + 1) * j + i;
        var d = (radialSegments + 1) * (j - 1) + i; // faces

        indices.push(a, b, d);
        indices.push(b, c, d);
      }
    }
  }

  function generateUVs() {
    for (i = 0; i <= tubularSegments; i++) {
      for (j = 0; j <= radialSegments; j++) {
        uv.x = i / tubularSegments;
        uv.y = j / radialSegments;
        uvs.push(uv.x, uv.y);
      }
    }
  }
}

TubeBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
TubeBufferGeometry.prototype.constructor = TubeBufferGeometry;

TubeBufferGeometry.prototype.toJSON = function () {
  var data = BufferGeometry.prototype.toJSON.call(this);
  data.path = this.parameters.path.toJSON();
  return data;
};
/**
 * @author oosmoxiecode
 * @author Mugen87 / https://github.com/Mugen87
 *
 * based on http://www.blackpawn.com/texts/pqtorus/
 */
// TorusKnotGeometry


function TorusKnotGeometry(radius, tube, tubularSegments, radialSegments, p, q, heightScale) {
  Geometry.call(this);
  this.type = 'TorusKnotGeometry';
  this.parameters = {
    radius: radius,
    tube: tube,
    tubularSegments: tubularSegments,
    radialSegments: radialSegments,
    p: p,
    q: q
  };
  if (heightScale !== undefined) console.warn('THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.');
  this.fromBufferGeometry(new TorusKnotBufferGeometry(radius, tube, tubularSegments, radialSegments, p, q));
  this.mergeVertices();
}

TorusKnotGeometry.prototype = Object.create(Geometry.prototype);
TorusKnotGeometry.prototype.constructor = TorusKnotGeometry; // TorusKnotBufferGeometry

function TorusKnotBufferGeometry(radius, tube, tubularSegments, radialSegments, p, q) {
  BufferGeometry.call(this);
  this.type = 'TorusKnotBufferGeometry';
  this.parameters = {
    radius: radius,
    tube: tube,
    tubularSegments: tubularSegments,
    radialSegments: radialSegments,
    p: p,
    q: q
  };
  radius = radius || 1;
  tube = tube || 0.4;
  tubularSegments = Math.floor(tubularSegments) || 64;
  radialSegments = Math.floor(radialSegments) || 8;
  p = p || 2;
  q = q || 3; // buffers

  var indices = [];
  var vertices = [];
  var normals = [];
  var uvs = []; // helper variables

  var i, j;
  var vertex = new Vector3();
  var normal = new Vector3();
  var P1 = new Vector3();
  var P2 = new Vector3();
  var B = new Vector3();
  var T = new Vector3();
  var N = new Vector3(); // generate vertices, normals and uvs

  for (i = 0; i <= tubularSegments; ++i) {
    // the radian "u" is used to calculate the position on the torus curve of the current tubular segement
    var u = i / tubularSegments * p * Math.PI * 2; // now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.
    // these points are used to create a special "coordinate space", which is necessary to calculate the correct vertex positions

    calculatePositionOnCurve(u, p, q, radius, P1);
    calculatePositionOnCurve(u + 0.01, p, q, radius, P2); // calculate orthonormal basis

    T.subVectors(P2, P1);
    N.addVectors(P2, P1);
    B.crossVectors(T, N);
    N.crossVectors(B, T); // normalize B, N. T can be ignored, we don't use it

    B.normalize();
    N.normalize();

    for (j = 0; j <= radialSegments; ++j) {
      // now calculate the vertices. they are nothing more than an extrusion of the torus curve.
      // because we extrude a shape in the xy-plane, there is no need to calculate a z-value.
      var v = j / radialSegments * Math.PI * 2;
      var cx = -tube * Math.cos(v);
      var cy = tube * Math.sin(v); // now calculate the final vertex position.
      // first we orient the extrusion with our basis vectos, then we add it to the current position on the curve

      vertex.x = P1.x + (cx * N.x + cy * B.x);
      vertex.y = P1.y + (cx * N.y + cy * B.y);
      vertex.z = P1.z + (cx * N.z + cy * B.z);
      vertices.push(vertex.x, vertex.y, vertex.z); // normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)

      normal.subVectors(vertex, P1).normalize();
      normals.push(normal.x, normal.y, normal.z); // uv

      uvs.push(i / tubularSegments);
      uvs.push(j / radialSegments);
    }
  } // generate indices


  for (j = 1; j <= tubularSegments; j++) {
    for (i = 1; i <= radialSegments; i++) {
      // indices
      var a = (radialSegments + 1) * (j - 1) + (i - 1);
      var b = (radialSegments + 1) * j + (i - 1);
      var c = (radialSegments + 1) * j + i;
      var d = (radialSegments + 1) * (j - 1) + i; // faces

      indices.push(a, b, d);
      indices.push(b, c, d);
    }
  } // build geometry


  this.setIndex(indices);
  this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
  this.addAttribute('uv', new Float32BufferAttribute(uvs, 2)); // this function calculates the current position on the torus curve

  function calculatePositionOnCurve(u, p, q, radius, position) {
    var cu = Math.cos(u);
    var su = Math.sin(u);
    var quOverP = q / p * u;
    var cs = Math.cos(quOverP);
    position.x = radius * (2 + cs) * 0.5 * cu;
    position.y = radius * (2 + cs) * su * 0.5;
    position.z = radius * Math.sin(quOverP) * 0.5;
  }
}

TorusKnotBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
TorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;
/**
 * @author oosmoxiecode
 * @author mrdoob / http://mrdoob.com/
 * @author Mugen87 / https://github.com/Mugen87
 */
// TorusGeometry

function TorusGeometry(radius, tube, radialSegments, tubularSegments, arc) {
  Geometry.call(this);
  this.type = 'TorusGeometry';
  this.parameters = {
    radius: radius,
    tube: tube,
    radialSegments: radialSegments,
    tubularSegments: tubularSegments,
    arc: arc
  };
  this.fromBufferGeometry(new TorusBufferGeometry(radius, tube, radialSegments, tubularSegments, arc));
  this.mergeVertices();
}

TorusGeometry.prototype = Object.create(Geometry.prototype);
TorusGeometry.prototype.constructor = TorusGeometry; // TorusBufferGeometry

function TorusBufferGeometry(radius, tube, radialSegments, tubularSegments, arc) {
  BufferGeometry.call(this);
  this.type = 'TorusBufferGeometry';
  this.parameters = {
    radius: radius,
    tube: tube,
    radialSegments: radialSegments,
    tubularSegments: tubularSegments,
    arc: arc
  };
  radius = radius || 1;
  tube = tube || 0.4;
  radialSegments = Math.floor(radialSegments) || 8;
  tubularSegments = Math.floor(tubularSegments) || 6;
  arc = arc || Math.PI * 2; // buffers

  var indices = [];
  var vertices = [];
  var normals = [];
  var uvs = []; // helper variables

  var center = new Vector3();
  var vertex = new Vector3();
  var normal = new Vector3();
  var j, i; // generate vertices, normals and uvs

  for (j = 0; j <= radialSegments; j++) {
    for (i = 0; i <= tubularSegments; i++) {
      var u = i / tubularSegments * arc;
      var v = j / radialSegments * Math.PI * 2; // vertex

      vertex.x = (radius + tube * Math.cos(v)) * Math.cos(u);
      vertex.y = (radius + tube * Math.cos(v)) * Math.sin(u);
      vertex.z = tube * Math.sin(v);
      vertices.push(vertex.x, vertex.y, vertex.z); // normal

      center.x = radius * Math.cos(u);
      center.y = radius * Math.sin(u);
      normal.subVectors(vertex, center).normalize();
      normals.push(normal.x, normal.y, normal.z); // uv

      uvs.push(i / tubularSegments);
      uvs.push(j / radialSegments);
    }
  } // generate indices


  for (j = 1; j <= radialSegments; j++) {
    for (i = 1; i <= tubularSegments; i++) {
      // indices
      var a = (tubularSegments + 1) * j + i - 1;
      var b = (tubularSegments + 1) * (j - 1) + i - 1;
      var c = (tubularSegments + 1) * (j - 1) + i;
      var d = (tubularSegments + 1) * j + i; // faces

      indices.push(a, b, d);
      indices.push(b, c, d);
    }
  } // build geometry


  this.setIndex(indices);
  this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
  this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
}

TorusBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
TorusBufferGeometry.prototype.constructor = TorusBufferGeometry;
/**
 * @author Mugen87 / https://github.com/Mugen87
 * Port from https://github.com/mapbox/earcut (v2.1.5)
 */

var Earcut = {
  triangulate: function (data, holeIndices, dim) {
    dim = dim || 2;
    var hasHoles = holeIndices && holeIndices.length,
        outerLen = hasHoles ? holeIndices[0] * dim : data.length,
        outerNode = linkedList(data, 0, outerLen, dim, true),
        triangles = [];
    if (!outerNode || outerNode.next === outerNode.prev) return triangles;
    var minX, minY, maxX, maxY, x, y, invSize;
    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim); // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox

    if (data.length > 80 * dim) {
      minX = maxX = data[0];
      minY = maxY = data[1];

      for (var i = dim; i < outerLen; i += dim) {
        x = data[i];
        y = data[i + 1];
        if (x < minX) minX = x;
        if (y < minY) minY = y;
        if (x > maxX) maxX = x;
        if (y > maxY) maxY = y;
      } // minX, minY and invSize are later used to transform coords into integers for z-order calculation


      invSize = Math.max(maxX - minX, maxY - minY);
      invSize = invSize !== 0 ? 1 / invSize : 0;
    }

    earcutLinked(outerNode, triangles, dim, minX, minY, invSize);
    return triangles;
  }
}; // create a circular doubly linked list from polygon points in the specified winding order

function linkedList(data, start, end, dim, clockwise) {
  var i, last;

  if (clockwise === signedArea(data, start, end, dim) > 0) {
    for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);
  } else {
    for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);
  }

  if (last && equals(last, last.next)) {
    removeNode(last);
    last = last.next;
  }

  return last;
} // eliminate colinear or duplicate points


function filterPoints(start, end) {
  if (!start) return start;
  if (!end) end = start;
  var p = start,
      again;

  do {
    again = false;

    if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {
      removeNode(p);
      p = end = p.prev;
      if (p === p.next) break;
      again = true;
    } else {
      p = p.next;
    }
  } while (again || p !== end);

  return end;
} // main ear slicing loop which triangulates a polygon (given as a linked list)


function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {
  if (!ear) return; // interlink polygon nodes in z-order

  if (!pass && invSize) indexCurve(ear, minX, minY, invSize);
  var stop = ear,
      prev,
      next; // iterate through ears, slicing them one by one

  while (ear.prev !== ear.next) {
    prev = ear.prev;
    next = ear.next;

    if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {
      // cut off the triangle
      triangles.push(prev.i / dim);
      triangles.push(ear.i / dim);
      triangles.push(next.i / dim);
      removeNode(ear); // skipping the next vertex leads to less sliver triangles

      ear = next.next;
      stop = next.next;
      continue;
    }

    ear = next; // if we looped through the whole remaining polygon and can't find any more ears

    if (ear === stop) {
      // try filtering points and slicing again
      if (!pass) {
        earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1); // if this didn't work, try curing all small self-intersections locally
      } else if (pass === 1) {
        ear = cureLocalIntersections(ear, triangles, dim);
        earcutLinked(ear, triangles, dim, minX, minY, invSize, 2); // as a last resort, try splitting the remaining polygon into two
      } else if (pass === 2) {
        splitEarcut(ear, triangles, dim, minX, minY, invSize);
      }

      break;
    }
  }
} // check whether a polygon node forms a valid ear with adjacent nodes


function isEar(ear) {
  var a = ear.prev,
      b = ear,
      c = ear.next;
  if (area(a, b, c) >= 0) return false; // reflex, can't be an ear
  // now make sure we don't have other points inside the potential ear

  var p = ear.next.next;

  while (p !== ear.prev) {
    if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;
    p = p.next;
  }

  return true;
}

function isEarHashed(ear, minX, minY, invSize) {
  var a = ear.prev,
      b = ear,
      c = ear.next;
  if (area(a, b, c) >= 0) return false; // reflex, can't be an ear
  // triangle bbox; min & max are calculated like this for speed

  var minTX = a.x < b.x ? a.x < c.x ? a.x : c.x : b.x < c.x ? b.x : c.x,
      minTY = a.y < b.y ? a.y < c.y ? a.y : c.y : b.y < c.y ? b.y : c.y,
      maxTX = a.x > b.x ? a.x > c.x ? a.x : c.x : b.x > c.x ? b.x : c.x,
      maxTY = a.y > b.y ? a.y > c.y ? a.y : c.y : b.y > c.y ? b.y : c.y; // z-order range for the current triangle bbox;

  var minZ = zOrder(minTX, minTY, minX, minY, invSize),
      maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);
  var p = ear.prevZ,
      n = ear.nextZ; // look for points inside the triangle in both directions

  while (p && p.z >= minZ && n && n.z <= maxZ) {
    if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;
    p = p.prevZ;
    if (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;
    n = n.nextZ;
  } // look for remaining points in decreasing z-order


  while (p && p.z >= minZ) {
    if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;
    p = p.prevZ;
  } // look for remaining points in increasing z-order


  while (n && n.z <= maxZ) {
    if (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;
    n = n.nextZ;
  }

  return true;
} // go through all polygon nodes and cure small local self-intersections


function cureLocalIntersections(start, triangles, dim) {
  var p = start;

  do {
    var a = p.prev,
        b = p.next.next;

    if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {
      triangles.push(a.i / dim);
      triangles.push(p.i / dim);
      triangles.push(b.i / dim); // remove two nodes involved

      removeNode(p);
      removeNode(p.next);
      p = start = b;
    }

    p = p.next;
  } while (p !== start);

  return p;
} // try splitting polygon into two and triangulate them independently


function splitEarcut(start, triangles, dim, minX, minY, invSize) {
  // look for a valid diagonal that divides the polygon into two
  var a = start;

  do {
    var b = a.next.next;

    while (b !== a.prev) {
      if (a.i !== b.i && isValidDiagonal(a, b)) {
        // split the polygon in two by the diagonal
        var c = splitPolygon(a, b); // filter colinear points around the cuts

        a = filterPoints(a, a.next);
        c = filterPoints(c, c.next); // run earcut on each half

        earcutLinked(a, triangles, dim, minX, minY, invSize);
        earcutLinked(c, triangles, dim, minX, minY, invSize);
        return;
      }

      b = b.next;
    }

    a = a.next;
  } while (a !== start);
} // link every hole into the outer loop, producing a single-ring polygon without holes


function eliminateHoles(data, holeIndices, outerNode, dim) {
  var queue = [],
      i,
      len,
      start,
      end,
      list;

  for (i = 0, len = holeIndices.length; i < len; i++) {
    start = holeIndices[i] * dim;
    end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;
    list = linkedList(data, start, end, dim, false);
    if (list === list.next) list.steiner = true;
    queue.push(getLeftmost(list));
  }

  queue.sort(compareX); // process holes from left to right

  for (i = 0; i < queue.length; i++) {
    eliminateHole(queue[i], outerNode);
    outerNode = filterPoints(outerNode, outerNode.next);
  }

  return outerNode;
}

function compareX(a, b) {
  return a.x - b.x;
} // find a bridge between vertices that connects hole with an outer ring and and link it


function eliminateHole(hole, outerNode) {
  outerNode = findHoleBridge(hole, outerNode);

  if (outerNode) {
    var b = splitPolygon(outerNode, hole);
    filterPoints(b, b.next);
  }
} // David Eberly's algorithm for finding a bridge between hole and outer polygon


function findHoleBridge(hole, outerNode) {
  var p = outerNode,
      hx = hole.x,
      hy = hole.y,
      qx = -Infinity,
      m; // find a segment intersected by a ray from the hole's leftmost point to the left;
  // segment's endpoint with lesser x will be potential connection point

  do {
    if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {
      var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);

      if (x <= hx && x > qx) {
        qx = x;

        if (x === hx) {
          if (hy === p.y) return p;
          if (hy === p.next.y) return p.next;
        }

        m = p.x < p.next.x ? p : p.next;
      }
    }

    p = p.next;
  } while (p !== outerNode);

  if (!m) return null;
  if (hx === qx) return m.prev; // hole touches outer segment; pick lower endpoint
  // look for points inside the triangle of hole point, segment intersection and endpoint;
  // if there are no points found, we have a valid connection;
  // otherwise choose the point of the minimum angle with the ray as connection point

  var stop = m,
      mx = m.x,
      my = m.y,
      tanMin = Infinity,
      tan;
  p = m.next;

  while (p !== stop) {
    if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {
      tan = Math.abs(hy - p.y) / (hx - p.x); // tangential

      if ((tan < tanMin || tan === tanMin && p.x > m.x) && locallyInside(p, hole)) {
        m = p;
        tanMin = tan;
      }
    }

    p = p.next;
  }

  return m;
} // interlink polygon nodes in z-order


function indexCurve(start, minX, minY, invSize) {
  var p = start;

  do {
    if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);
    p.prevZ = p.prev;
    p.nextZ = p.next;
    p = p.next;
  } while (p !== start);

  p.prevZ.nextZ = null;
  p.prevZ = null;
  sortLinked(p);
} // Simon Tatham's linked list merge sort algorithm
// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html


function sortLinked(list) {
  var i,
      p,
      q,
      e,
      tail,
      numMerges,
      pSize,
      qSize,
      inSize = 1;

  do {
    p = list;
    list = null;
    tail = null;
    numMerges = 0;

    while (p) {
      numMerges++;
      q = p;
      pSize = 0;

      for (i = 0; i < inSize; i++) {
        pSize++;
        q = q.nextZ;
        if (!q) break;
      }

      qSize = inSize;

      while (pSize > 0 || qSize > 0 && q) {
        if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {
          e = p;
          p = p.nextZ;
          pSize--;
        } else {
          e = q;
          q = q.nextZ;
          qSize--;
        }

        if (tail) tail.nextZ = e;else list = e;
        e.prevZ = tail;
        tail = e;
      }

      p = q;
    }

    tail.nextZ = null;
    inSize *= 2;
  } while (numMerges > 1);

  return list;
} // z-order of a point given coords and inverse of the longer side of data bbox


function zOrder(x, y, minX, minY, invSize) {
  // coords are transformed into non-negative 15-bit integer range
  x = 32767 * (x - minX) * invSize;
  y = 32767 * (y - minY) * invSize;
  x = (x | x << 8) & 0x00FF00FF;
  x = (x | x << 4) & 0x0F0F0F0F;
  x = (x | x << 2) & 0x33333333;
  x = (x | x << 1) & 0x55555555;
  y = (y | y << 8) & 0x00FF00FF;
  y = (y | y << 4) & 0x0F0F0F0F;
  y = (y | y << 2) & 0x33333333;
  y = (y | y << 1) & 0x55555555;
  return x | y << 1;
} // find the leftmost node of a polygon ring


function getLeftmost(start) {
  var p = start,
      leftmost = start;

  do {
    if (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y) leftmost = p;
    p = p.next;
  } while (p !== start);

  return leftmost;
} // check if a point lies within a convex triangle


function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {
  return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 && (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 && (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;
} // check if a diagonal between two polygon nodes is valid (lies in polygon interior)


function isValidDiagonal(a, b) {
  return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b);
} // signed area of a triangle


function area(p, q, r) {
  return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);
} // check if two points are equal


function equals(p1, p2) {
  return p1.x === p2.x && p1.y === p2.y;
} // check if two segments intersect


function intersects(p1, q1, p2, q2) {
  if (equals(p1, p2) && equals(q1, q2) || equals(p1, q2) && equals(p2, q1)) return true;
  return area(p1, q1, p2) > 0 !== area(p1, q1, q2) > 0 && area(p2, q2, p1) > 0 !== area(p2, q2, q1) > 0;
} // check if a polygon diagonal intersects any polygon segments


function intersectsPolygon(a, b) {
  var p = a;

  do {
    if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b)) return true;
    p = p.next;
  } while (p !== a);

  return false;
} // check if a polygon diagonal is locally inside the polygon


function locallyInside(a, b) {
  return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;
} // check if the middle point of a polygon diagonal is inside the polygon


function middleInside(a, b) {
  var p = a,
      inside = false,
      px = (a.x + b.x) / 2,
      py = (a.y + b.y) / 2;

  do {
    if (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x) inside = !inside;
    p = p.next;
  } while (p !== a);

  return inside;
} // link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;
// if one belongs to the outer ring and another to a hole, it merges it into a single ring


function splitPolygon(a, b) {
  var a2 = new Node(a.i, a.x, a.y),
      b2 = new Node(b.i, b.x, b.y),
      an = a.next,
      bp = b.prev;
  a.next = b;
  b.prev = a;
  a2.next = an;
  an.prev = a2;
  b2.next = a2;
  a2.prev = b2;
  bp.next = b2;
  b2.prev = bp;
  return b2;
} // create a node and optionally link it with previous one (in a circular doubly linked list)


function insertNode(i, x, y, last) {
  var p = new Node(i, x, y);

  if (!last) {
    p.prev = p;
    p.next = p;
  } else {
    p.next = last.next;
    p.prev = last;
    last.next.prev = p;
    last.next = p;
  }

  return p;
}

function removeNode(p) {
  p.next.prev = p.prev;
  p.prev.next = p.next;
  if (p.prevZ) p.prevZ.nextZ = p.nextZ;
  if (p.nextZ) p.nextZ.prevZ = p.prevZ;
}

function Node(i, x, y) {
  // vertex index in coordinates array
  this.i = i; // vertex coordinates

  this.x = x;
  this.y = y; // previous and next vertex nodes in a polygon ring

  this.prev = null;
  this.next = null; // z-order curve value

  this.z = null; // previous and next nodes in z-order

  this.prevZ = null;
  this.nextZ = null; // indicates whether this is a steiner point

  this.steiner = false;
}

function signedArea(data, start, end, dim) {
  var sum = 0;

  for (var i = start, j = end - dim; i < end; i += dim) {
    sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);
    j = i;
  }

  return sum;
}
/**
 * @author zz85 / http://www.lab4games.net/zz85/blog
 */


var ShapeUtils = {
  // calculate area of the contour polygon
  area: function (contour) {
    var n = contour.length;
    var a = 0.0;

    for (var p = n - 1, q = 0; q < n; p = q++) {
      a += contour[p].x * contour[q].y - contour[q].x * contour[p].y;
    }

    return a * 0.5;
  },
  isClockWise: function (pts) {
    return ShapeUtils.area(pts) < 0;
  },
  triangulateShape: function (contour, holes) {
    var vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]

    var holeIndices = []; // array of hole indices

    var faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]

    removeDupEndPts(contour);
    addContour(vertices, contour); //

    var holeIndex = contour.length;
    holes.forEach(removeDupEndPts);

    for (var i = 0; i < holes.length; i++) {
      holeIndices.push(holeIndex);
      holeIndex += holes[i].length;
      addContour(vertices, holes[i]);
    } //


    var triangles = Earcut.triangulate(vertices, holeIndices); //

    for (var i = 0; i < triangles.length; i += 3) {
      faces.push(triangles.slice(i, i + 3));
    }

    return faces;
  }
};
exports.ShapeUtils = ShapeUtils;

function removeDupEndPts(points) {
  var l = points.length;

  if (l > 2 && points[l - 1].equals(points[0])) {
    points.pop();
  }
}

function addContour(vertices, contour) {
  for (var i = 0; i < contour.length; i++) {
    vertices.push(contour[i].x);
    vertices.push(contour[i].y);
  }
}
/**
 * @author zz85 / http://www.lab4games.net/zz85/blog
 *
 * Creates extruded geometry from a path shape.
 *
 * parameters = {
 *
 *  curveSegments: <int>, // number of points on the curves
 *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too
 *  depth: <float>, // Depth to extrude the shape
 *
 *  bevelEnabled: <bool>, // turn on bevel
 *  bevelThickness: <float>, // how deep into the original shape bevel goes
 *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel
 *  bevelOffset: <float>, // how far from shape outline does bevel start
 *  bevelSegments: <int>, // number of bevel layers
 *
 *  extrudePath: <THREE.Curve> // curve to extrude shape along
 *
 *  UVGenerator: <Object> // object that provides UV generator functions
 *
 * }
 */
// ExtrudeGeometry


function ExtrudeGeometry(shapes, options) {
  Geometry.call(this);
  this.type = 'ExtrudeGeometry';
  this.parameters = {
    shapes: shapes,
    options: options
  };
  this.fromBufferGeometry(new ExtrudeBufferGeometry(shapes, options));
  this.mergeVertices();
}

ExtrudeGeometry.prototype = Object.create(Geometry.prototype);
ExtrudeGeometry.prototype.constructor = ExtrudeGeometry;

ExtrudeGeometry.prototype.toJSON = function () {
  var data = Geometry.prototype.toJSON.call(this);
  var shapes = this.parameters.shapes;
  var options = this.parameters.options;
  return toJSON(shapes, options, data);
}; // ExtrudeBufferGeometry


function ExtrudeBufferGeometry(shapes, options) {
  BufferGeometry.call(this);
  this.type = 'ExtrudeBufferGeometry';
  this.parameters = {
    shapes: shapes,
    options: options
  };
  shapes = Array.isArray(shapes) ? shapes : [shapes];
  var scope = this;
  var verticesArray = [];
  var uvArray = [];

  for (var i = 0, l = shapes.length; i < l; i++) {
    var shape = shapes[i];
    addShape(shape);
  } // build geometry


  this.addAttribute('position', new Float32BufferAttribute(verticesArray, 3));
  this.addAttribute('uv', new Float32BufferAttribute(uvArray, 2));
  this.computeVertexNormals(); // functions

  function addShape(shape) {
    var placeholder = []; // options

    var curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;
    var steps = options.steps !== undefined ? options.steps : 1;
    var depth = options.depth !== undefined ? options.depth : 100;
    var bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;
    var bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;
    var bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;
    var bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;
    var bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;
    var extrudePath = options.extrudePath;
    var uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator; // deprecated options

    if (options.amount !== undefined) {
      console.warn('THREE.ExtrudeBufferGeometry: amount has been renamed to depth.');
      depth = options.amount;
    } //


    var extrudePts,
        extrudeByPath = false;
    var splineTube, binormal, normal, position2;

    if (extrudePath) {
      extrudePts = extrudePath.getSpacedPoints(steps);
      extrudeByPath = true;
      bevelEnabled = false; // bevels not supported for path extrusion
      // SETUP TNB variables
      // TODO1 - have a .isClosed in spline?

      splineTube = extrudePath.computeFrenetFrames(steps, false); // console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);

      binormal = new Vector3();
      normal = new Vector3();
      position2 = new Vector3();
    } // Safeguards if bevels are not enabled


    if (!bevelEnabled) {
      bevelSegments = 0;
      bevelThickness = 0;
      bevelSize = 0;
      bevelOffset = 0;
    } // Variables initialization


    var ahole, h, hl; // looping of holes

    var shapePoints = shape.extractPoints(curveSegments);
    var vertices = shapePoints.shape;
    var holes = shapePoints.holes;
    var reverse = !ShapeUtils.isClockWise(vertices);

    if (reverse) {
      vertices = vertices.reverse(); // Maybe we should also check if holes are in the opposite direction, just to be safe ...

      for (h = 0, hl = holes.length; h < hl; h++) {
        ahole = holes[h];

        if (ShapeUtils.isClockWise(ahole)) {
          holes[h] = ahole.reverse();
        }
      }
    }

    var faces = ShapeUtils.triangulateShape(vertices, holes);
    /* Vertices */

    var contour = vertices; // vertices has all points but contour has only points of circumference

    for (h = 0, hl = holes.length; h < hl; h++) {
      ahole = holes[h];
      vertices = vertices.concat(ahole);
    }

    function scalePt2(pt, vec, size) {
      if (!vec) console.error("THREE.ExtrudeGeometry: vec does not exist");
      return vec.clone().multiplyScalar(size).add(pt);
    }

    var b,
        bs,
        t,
        z,
        vert,
        vlen = vertices.length,
        face,
        flen = faces.length; // Find directions for point movement

    function getBevelVec(inPt, inPrev, inNext) {
      // computes for inPt the corresponding point inPt' on a new contour
      //   shifted by 1 unit (length of normalized vector) to the left
      // if we walk along contour clockwise, this new contour is outside the old one
      //
      // inPt' is the intersection of the two lines parallel to the two
      //  adjacent edges of inPt at a distance of 1 unit on the left side.
      var v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt
      // good reading for geometry algorithms (here: line-line intersection)
      // http://geomalgorithms.com/a05-_intersect-1.html

      var v_prev_x = inPt.x - inPrev.x,
          v_prev_y = inPt.y - inPrev.y;
      var v_next_x = inNext.x - inPt.x,
          v_next_y = inNext.y - inPt.y;
      var v_prev_lensq = v_prev_x * v_prev_x + v_prev_y * v_prev_y; // check for collinear edges

      var collinear0 = v_prev_x * v_next_y - v_prev_y * v_next_x;

      if (Math.abs(collinear0) > Number.EPSILON) {
        // not collinear
        // length of vectors for normalizing
        var v_prev_len = Math.sqrt(v_prev_lensq);
        var v_next_len = Math.sqrt(v_next_x * v_next_x + v_next_y * v_next_y); // shift adjacent points by unit vectors to the left

        var ptPrevShift_x = inPrev.x - v_prev_y / v_prev_len;
        var ptPrevShift_y = inPrev.y + v_prev_x / v_prev_len;
        var ptNextShift_x = inNext.x - v_next_y / v_next_len;
        var ptNextShift_y = inNext.y + v_next_x / v_next_len; // scaling factor for v_prev to intersection point

        var sf = ((ptNextShift_x - ptPrevShift_x) * v_next_y - (ptNextShift_y - ptPrevShift_y) * v_next_x) / (v_prev_x * v_next_y - v_prev_y * v_next_x); // vector from inPt to intersection point

        v_trans_x = ptPrevShift_x + v_prev_x * sf - inPt.x;
        v_trans_y = ptPrevShift_y + v_prev_y * sf - inPt.y; // Don't normalize!, otherwise sharp corners become ugly
        //  but prevent crazy spikes

        var v_trans_lensq = v_trans_x * v_trans_x + v_trans_y * v_trans_y;

        if (v_trans_lensq <= 2) {
          return new Vector2(v_trans_x, v_trans_y);
        } else {
          shrink_by = Math.sqrt(v_trans_lensq / 2);
        }
      } else {
        // handle special case of collinear edges
        var direction_eq = false; // assumes: opposite

        if (v_prev_x > Number.EPSILON) {
          if (v_next_x > Number.EPSILON) {
            direction_eq = true;
          }
        } else {
          if (v_prev_x < -Number.EPSILON) {
            if (v_next_x < -Number.EPSILON) {
              direction_eq = true;
            }
          } else {
            if (Math.sign(v_prev_y) === Math.sign(v_next_y)) {
              direction_eq = true;
            }
          }
        }

        if (direction_eq) {
          // console.log("Warning: lines are a straight sequence");
          v_trans_x = -v_prev_y;
          v_trans_y = v_prev_x;
          shrink_by = Math.sqrt(v_prev_lensq);
        } else {
          // console.log("Warning: lines are a straight spike");
          v_trans_x = v_prev_x;
          v_trans_y = v_prev_y;
          shrink_by = Math.sqrt(v_prev_lensq / 2);
        }
      }

      return new Vector2(v_trans_x / shrink_by, v_trans_y / shrink_by);
    }

    var contourMovements = [];

    for (var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i++, j++, k++) {
      if (j === il) j = 0;
      if (k === il) k = 0; //  (j)---(i)---(k)
      // console.log('i,j,k', i, j , k)

      contourMovements[i] = getBevelVec(contour[i], contour[j], contour[k]);
    }

    var holesMovements = [],
        oneHoleMovements,
        verticesMovements = contourMovements.concat();

    for (h = 0, hl = holes.length; h < hl; h++) {
      ahole = holes[h];
      oneHoleMovements = [];

      for (i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i++, j++, k++) {
        if (j === il) j = 0;
        if (k === il) k = 0; //  (j)---(i)---(k)

        oneHoleMovements[i] = getBevelVec(ahole[i], ahole[j], ahole[k]);
      }

      holesMovements.push(oneHoleMovements);
      verticesMovements = verticesMovements.concat(oneHoleMovements);
    } // Loop bevelSegments, 1 for the front, 1 for the back


    for (b = 0; b < bevelSegments; b++) {
      //for ( b = bevelSegments; b > 0; b -- ) {
      t = b / bevelSegments;
      z = bevelThickness * Math.cos(t * Math.PI / 2);
      bs = bevelSize * Math.sin(t * Math.PI / 2) + bevelOffset; // contract shape

      for (i = 0, il = contour.length; i < il; i++) {
        vert = scalePt2(contour[i], contourMovements[i], bs);
        v(vert.x, vert.y, -z);
      } // expand holes


      for (h = 0, hl = holes.length; h < hl; h++) {
        ahole = holes[h];
        oneHoleMovements = holesMovements[h];

        for (i = 0, il = ahole.length; i < il; i++) {
          vert = scalePt2(ahole[i], oneHoleMovements[i], bs);
          v(vert.x, vert.y, -z);
        }
      }
    }

    bs = bevelSize + bevelOffset; // Back facing vertices

    for (i = 0; i < vlen; i++) {
      vert = bevelEnabled ? scalePt2(vertices[i], verticesMovements[i], bs) : vertices[i];

      if (!extrudeByPath) {
        v(vert.x, vert.y, 0);
      } else {
        // v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );
        normal.copy(splineTube.normals[0]).multiplyScalar(vert.x);
        binormal.copy(splineTube.binormals[0]).multiplyScalar(vert.y);
        position2.copy(extrudePts[0]).add(normal).add(binormal);
        v(position2.x, position2.y, position2.z);
      }
    } // Add stepped vertices...
    // Including front facing vertices


    var s;

    for (s = 1; s <= steps; s++) {
      for (i = 0; i < vlen; i++) {
        vert = bevelEnabled ? scalePt2(vertices[i], verticesMovements[i], bs) : vertices[i];

        if (!extrudeByPath) {
          v(vert.x, vert.y, depth / steps * s);
        } else {
          // v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );
          normal.copy(splineTube.normals[s]).multiplyScalar(vert.x);
          binormal.copy(splineTube.binormals[s]).multiplyScalar(vert.y);
          position2.copy(extrudePts[s]).add(normal).add(binormal);
          v(position2.x, position2.y, position2.z);
        }
      }
    } // Add bevel segments planes
    //for ( b = 1; b <= bevelSegments; b ++ ) {


    for (b = bevelSegments - 1; b >= 0; b--) {
      t = b / bevelSegments;
      z = bevelThickness * Math.cos(t * Math.PI / 2);
      bs = bevelSize * Math.sin(t * Math.PI / 2) + bevelOffset; // contract shape

      for (i = 0, il = contour.length; i < il; i++) {
        vert = scalePt2(contour[i], contourMovements[i], bs);
        v(vert.x, vert.y, depth + z);
      } // expand holes


      for (h = 0, hl = holes.length; h < hl; h++) {
        ahole = holes[h];
        oneHoleMovements = holesMovements[h];

        for (i = 0, il = ahole.length; i < il; i++) {
          vert = scalePt2(ahole[i], oneHoleMovements[i], bs);

          if (!extrudeByPath) {
            v(vert.x, vert.y, depth + z);
          } else {
            v(vert.x, vert.y + extrudePts[steps - 1].y, extrudePts[steps - 1].x + z);
          }
        }
      }
    }
    /* Faces */
    // Top and bottom faces


    buildLidFaces(); // Sides faces

    buildSideFaces(); /////  Internal functions

    function buildLidFaces() {
      var start = verticesArray.length / 3;

      if (bevelEnabled) {
        var layer = 0; // steps + 1

        var offset = vlen * layer; // Bottom faces

        for (i = 0; i < flen; i++) {
          face = faces[i];
          f3(face[2] + offset, face[1] + offset, face[0] + offset);
        }

        layer = steps + bevelSegments * 2;
        offset = vlen * layer; // Top faces

        for (i = 0; i < flen; i++) {
          face = faces[i];
          f3(face[0] + offset, face[1] + offset, face[2] + offset);
        }
      } else {
        // Bottom faces
        for (i = 0; i < flen; i++) {
          face = faces[i];
          f3(face[2], face[1], face[0]);
        } // Top faces


        for (i = 0; i < flen; i++) {
          face = faces[i];
          f3(face[0] + vlen * steps, face[1] + vlen * steps, face[2] + vlen * steps);
        }
      }

      scope.addGroup(start, verticesArray.length / 3 - start, 0);
    } // Create faces for the z-sides of the shape


    function buildSideFaces() {
      var start = verticesArray.length / 3;
      var layeroffset = 0;
      sidewalls(contour, layeroffset);
      layeroffset += contour.length;

      for (h = 0, hl = holes.length; h < hl; h++) {
        ahole = holes[h];
        sidewalls(ahole, layeroffset); //, true

        layeroffset += ahole.length;
      }

      scope.addGroup(start, verticesArray.length / 3 - start, 1);
    }

    function sidewalls(contour, layeroffset) {
      var j, k;
      i = contour.length;

      while (--i >= 0) {
        j = i;
        k = i - 1;
        if (k < 0) k = contour.length - 1; //console.log('b', i,j, i-1, k,vertices.length);

        var s = 0,
            sl = steps + bevelSegments * 2;

        for (s = 0; s < sl; s++) {
          var slen1 = vlen * s;
          var slen2 = vlen * (s + 1);
          var a = layeroffset + j + slen1,
              b = layeroffset + k + slen1,
              c = layeroffset + k + slen2,
              d = layeroffset + j + slen2;
          f4(a, b, c, d);
        }
      }
    }

    function v(x, y, z) {
      placeholder.push(x);
      placeholder.push(y);
      placeholder.push(z);
    }

    function f3(a, b, c) {
      addVertex(a);
      addVertex(b);
      addVertex(c);
      var nextIndex = verticesArray.length / 3;
      var uvs = uvgen.generateTopUV(scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1);
      addUV(uvs[0]);
      addUV(uvs[1]);
      addUV(uvs[2]);
    }

    function f4(a, b, c, d) {
      addVertex(a);
      addVertex(b);
      addVertex(d);
      addVertex(b);
      addVertex(c);
      addVertex(d);
      var nextIndex = verticesArray.length / 3;
      var uvs = uvgen.generateSideWallUV(scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1);
      addUV(uvs[0]);
      addUV(uvs[1]);
      addUV(uvs[3]);
      addUV(uvs[1]);
      addUV(uvs[2]);
      addUV(uvs[3]);
    }

    function addVertex(index) {
      verticesArray.push(placeholder[index * 3 + 0]);
      verticesArray.push(placeholder[index * 3 + 1]);
      verticesArray.push(placeholder[index * 3 + 2]);
    }

    function addUV(vector2) {
      uvArray.push(vector2.x);
      uvArray.push(vector2.y);
    }
  }
}

ExtrudeBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
ExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;

ExtrudeBufferGeometry.prototype.toJSON = function () {
  var data = BufferGeometry.prototype.toJSON.call(this);
  var shapes = this.parameters.shapes;
  var options = this.parameters.options;
  return toJSON(shapes, options, data);
}; //


var WorldUVGenerator = {
  generateTopUV: function (geometry, vertices, indexA, indexB, indexC) {
    var a_x = vertices[indexA * 3];
    var a_y = vertices[indexA * 3 + 1];
    var b_x = vertices[indexB * 3];
    var b_y = vertices[indexB * 3 + 1];
    var c_x = vertices[indexC * 3];
    var c_y = vertices[indexC * 3 + 1];
    return [new Vector2(a_x, a_y), new Vector2(b_x, b_y), new Vector2(c_x, c_y)];
  },
  generateSideWallUV: function (geometry, vertices, indexA, indexB, indexC, indexD) {
    var a_x = vertices[indexA * 3];
    var a_y = vertices[indexA * 3 + 1];
    var a_z = vertices[indexA * 3 + 2];
    var b_x = vertices[indexB * 3];
    var b_y = vertices[indexB * 3 + 1];
    var b_z = vertices[indexB * 3 + 2];
    var c_x = vertices[indexC * 3];
    var c_y = vertices[indexC * 3 + 1];
    var c_z = vertices[indexC * 3 + 2];
    var d_x = vertices[indexD * 3];
    var d_y = vertices[indexD * 3 + 1];
    var d_z = vertices[indexD * 3 + 2];

    if (Math.abs(a_y - b_y) < 0.01) {
      return [new Vector2(a_x, 1 - a_z), new Vector2(b_x, 1 - b_z), new Vector2(c_x, 1 - c_z), new Vector2(d_x, 1 - d_z)];
    } else {
      return [new Vector2(a_y, 1 - a_z), new Vector2(b_y, 1 - b_z), new Vector2(c_y, 1 - c_z), new Vector2(d_y, 1 - d_z)];
    }
  }
};

function toJSON(shapes, options, data) {
  //
  data.shapes = [];

  if (Array.isArray(shapes)) {
    for (var i = 0, l = shapes.length; i < l; i++) {
      var shape = shapes[i];
      data.shapes.push(shape.uuid);
    }
  } else {
    data.shapes.push(shapes.uuid);
  } //


  if (options.extrudePath !== undefined) data.options.extrudePath = options.extrudePath.toJSON();
  return data;
}
/**
 * @author zz85 / http://www.lab4games.net/zz85/blog
 * @author alteredq / http://alteredqualia.com/
 *
 * Text = 3D Text
 *
 * parameters = {
 *  font: <THREE.Font>, // font
 *
 *  size: <float>, // size of the text
 *  height: <float>, // thickness to extrude text
 *  curveSegments: <int>, // number of points on the curves
 *
 *  bevelEnabled: <bool>, // turn on bevel
 *  bevelThickness: <float>, // how deep into text bevel goes
 *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel
 *  bevelOffset: <float> // how far from text outline does bevel start
 * }
 */
// TextGeometry


function TextGeometry(text, parameters) {
  Geometry.call(this);
  this.type = 'TextGeometry';
  this.parameters = {
    text: text,
    parameters: parameters
  };
  this.fromBufferGeometry(new TextBufferGeometry(text, parameters));
  this.mergeVertices();
}

TextGeometry.prototype = Object.create(Geometry.prototype);
TextGeometry.prototype.constructor = TextGeometry; // TextBufferGeometry

function TextBufferGeometry(text, parameters) {
  parameters = parameters || {};
  var font = parameters.font;

  if (!(font && font.isFont)) {
    console.error('THREE.TextGeometry: font parameter is not an instance of THREE.Font.');
    return new Geometry();
  }

  var shapes = font.generateShapes(text, parameters.size); // translate parameters to ExtrudeGeometry API

  parameters.depth = parameters.height !== undefined ? parameters.height : 50; // defaults

  if (parameters.bevelThickness === undefined) parameters.bevelThickness = 10;
  if (parameters.bevelSize === undefined) parameters.bevelSize = 8;
  if (parameters.bevelEnabled === undefined) parameters.bevelEnabled = false;
  ExtrudeBufferGeometry.call(this, shapes, parameters);
  this.type = 'TextBufferGeometry';
}

TextBufferGeometry.prototype = Object.create(ExtrudeBufferGeometry.prototype);
TextBufferGeometry.prototype.constructor = TextBufferGeometry;
/**
 * @author mrdoob / http://mrdoob.com/
 * @author benaadams / https://twitter.com/ben_a_adams
 * @author Mugen87 / https://github.com/Mugen87
 */
// SphereGeometry

function SphereGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength) {
  Geometry.call(this);
  this.type = 'SphereGeometry';
  this.parameters = {
    radius: radius,
    widthSegments: widthSegments,
    heightSegments: heightSegments,
    phiStart: phiStart,
    phiLength: phiLength,
    thetaStart: thetaStart,
    thetaLength: thetaLength
  };
  this.fromBufferGeometry(new SphereBufferGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength));
  this.mergeVertices();
}

SphereGeometry.prototype = Object.create(Geometry.prototype);
SphereGeometry.prototype.constructor = SphereGeometry; // SphereBufferGeometry

function SphereBufferGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength) {
  BufferGeometry.call(this);
  this.type = 'SphereBufferGeometry';
  this.parameters = {
    radius: radius,
    widthSegments: widthSegments,
    heightSegments: heightSegments,
    phiStart: phiStart,
    phiLength: phiLength,
    thetaStart: thetaStart,
    thetaLength: thetaLength
  };
  radius = radius || 1;
  widthSegments = Math.max(3, Math.floor(widthSegments) || 8);
  heightSegments = Math.max(2, Math.floor(heightSegments) || 6);
  phiStart = phiStart !== undefined ? phiStart : 0;
  phiLength = phiLength !== undefined ? phiLength : Math.PI * 2;
  thetaStart = thetaStart !== undefined ? thetaStart : 0;
  thetaLength = thetaLength !== undefined ? thetaLength : Math.PI;
  var thetaEnd = Math.min(thetaStart + thetaLength, Math.PI);
  var ix, iy;
  var index = 0;
  var grid = [];
  var vertex = new Vector3();
  var normal = new Vector3(); // buffers

  var indices = [];
  var vertices = [];
  var normals = [];
  var uvs = []; // generate vertices, normals and uvs

  for (iy = 0; iy <= heightSegments; iy++) {
    var verticesRow = [];
    var v = iy / heightSegments; // special case for the poles

    var uOffset = 0;

    if (iy == 0 && thetaStart == 0) {
      uOffset = 0.5 / widthSegments;
    } else if (iy == heightSegments && thetaEnd == Math.PI) {
      uOffset = -0.5 / widthSegments;
    }

    for (ix = 0; ix <= widthSegments; ix++) {
      var u = ix / widthSegments; // vertex

      vertex.x = -radius * Math.cos(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);
      vertex.y = radius * Math.cos(thetaStart + v * thetaLength);
      vertex.z = radius * Math.sin(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);
      vertices.push(vertex.x, vertex.y, vertex.z); // normal

      normal.copy(vertex).normalize();
      normals.push(normal.x, normal.y, normal.z); // uv

      uvs.push(u + uOffset, 1 - v);
      verticesRow.push(index++);
    }

    grid.push(verticesRow);
  } // indices


  for (iy = 0; iy < heightSegments; iy++) {
    for (ix = 0; ix < widthSegments; ix++) {
      var a = grid[iy][ix + 1];
      var b = grid[iy][ix];
      var c = grid[iy + 1][ix];
      var d = grid[iy + 1][ix + 1];
      if (iy !== 0 || thetaStart > 0) indices.push(a, b, d);
      if (iy !== heightSegments - 1 || thetaEnd < Math.PI) indices.push(b, c, d);
    }
  } // build geometry


  this.setIndex(indices);
  this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
  this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
}

SphereBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
SphereBufferGeometry.prototype.constructor = SphereBufferGeometry;
/**
 * @author Kaleb Murphy
 * @author Mugen87 / https://github.com/Mugen87
 */
// RingGeometry

function RingGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength) {
  Geometry.call(this);
  this.type = 'RingGeometry';
  this.parameters = {
    innerRadius: innerRadius,
    outerRadius: outerRadius,
    thetaSegments: thetaSegments,
    phiSegments: phiSegments,
    thetaStart: thetaStart,
    thetaLength: thetaLength
  };
  this.fromBufferGeometry(new RingBufferGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength));
  this.mergeVertices();
}

RingGeometry.prototype = Object.create(Geometry.prototype);
RingGeometry.prototype.constructor = RingGeometry; // RingBufferGeometry

function RingBufferGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength) {
  BufferGeometry.call(this);
  this.type = 'RingBufferGeometry';
  this.parameters = {
    innerRadius: innerRadius,
    outerRadius: outerRadius,
    thetaSegments: thetaSegments,
    phiSegments: phiSegments,
    thetaStart: thetaStart,
    thetaLength: thetaLength
  };
  innerRadius = innerRadius || 0.5;
  outerRadius = outerRadius || 1;
  thetaStart = thetaStart !== undefined ? thetaStart : 0;
  thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;
  thetaSegments = thetaSegments !== undefined ? Math.max(3, thetaSegments) : 8;
  phiSegments = phiSegments !== undefined ? Math.max(1, phiSegments) : 1; // buffers

  var indices = [];
  var vertices = [];
  var normals = [];
  var uvs = []; // some helper variables

  var segment;
  var radius = innerRadius;
  var radiusStep = (outerRadius - innerRadius) / phiSegments;
  var vertex = new Vector3();
  var uv = new Vector2();
  var j, i; // generate vertices, normals and uvs

  for (j = 0; j <= phiSegments; j++) {
    for (i = 0; i <= thetaSegments; i++) {
      // values are generate from the inside of the ring to the outside
      segment = thetaStart + i / thetaSegments * thetaLength; // vertex

      vertex.x = radius * Math.cos(segment);
      vertex.y = radius * Math.sin(segment);
      vertices.push(vertex.x, vertex.y, vertex.z); // normal

      normals.push(0, 0, 1); // uv

      uv.x = (vertex.x / outerRadius + 1) / 2;
      uv.y = (vertex.y / outerRadius + 1) / 2;
      uvs.push(uv.x, uv.y);
    } // increase the radius for next row of vertices


    radius += radiusStep;
  } // indices


  for (j = 0; j < phiSegments; j++) {
    var thetaSegmentLevel = j * (thetaSegments + 1);

    for (i = 0; i < thetaSegments; i++) {
      segment = i + thetaSegmentLevel;
      var a = segment;
      var b = segment + thetaSegments + 1;
      var c = segment + thetaSegments + 2;
      var d = segment + 1; // faces

      indices.push(a, b, d);
      indices.push(b, c, d);
    }
  } // build geometry


  this.setIndex(indices);
  this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
  this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
}

RingBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
RingBufferGeometry.prototype.constructor = RingBufferGeometry;
/**
 * @author zz85 / https://github.com/zz85
 * @author bhouston / http://clara.io
 * @author Mugen87 / https://github.com/Mugen87
 */
// LatheGeometry

function LatheGeometry(points, segments, phiStart, phiLength) {
  Geometry.call(this);
  this.type = 'LatheGeometry';
  this.parameters = {
    points: points,
    segments: segments,
    phiStart: phiStart,
    phiLength: phiLength
  };
  this.fromBufferGeometry(new LatheBufferGeometry(points, segments, phiStart, phiLength));
  this.mergeVertices();
}

LatheGeometry.prototype = Object.create(Geometry.prototype);
LatheGeometry.prototype.constructor = LatheGeometry; // LatheBufferGeometry

function LatheBufferGeometry(points, segments, phiStart, phiLength) {
  BufferGeometry.call(this);
  this.type = 'LatheBufferGeometry';
  this.parameters = {
    points: points,
    segments: segments,
    phiStart: phiStart,
    phiLength: phiLength
  };
  segments = Math.floor(segments) || 12;
  phiStart = phiStart || 0;
  phiLength = phiLength || Math.PI * 2; // clamp phiLength so it's in range of [ 0, 2PI ]

  phiLength = _Math.clamp(phiLength, 0, Math.PI * 2); // buffers

  var indices = [];
  var vertices = [];
  var uvs = []; // helper variables

  var base;
  var inverseSegments = 1.0 / segments;
  var vertex = new Vector3();
  var uv = new Vector2();
  var i, j; // generate vertices and uvs

  for (i = 0; i <= segments; i++) {
    var phi = phiStart + i * inverseSegments * phiLength;
    var sin = Math.sin(phi);
    var cos = Math.cos(phi);

    for (j = 0; j <= points.length - 1; j++) {
      // vertex
      vertex.x = points[j].x * sin;
      vertex.y = points[j].y;
      vertex.z = points[j].x * cos;
      vertices.push(vertex.x, vertex.y, vertex.z); // uv

      uv.x = i / segments;
      uv.y = j / (points.length - 1);
      uvs.push(uv.x, uv.y);
    }
  } // indices


  for (i = 0; i < segments; i++) {
    for (j = 0; j < points.length - 1; j++) {
      base = j + i * points.length;
      var a = base;
      var b = base + points.length;
      var c = base + points.length + 1;
      var d = base + 1; // faces

      indices.push(a, b, d);
      indices.push(b, c, d);
    }
  } // build geometry


  this.setIndex(indices);
  this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  this.addAttribute('uv', new Float32BufferAttribute(uvs, 2)); // generate normals

  this.computeVertexNormals(); // if the geometry is closed, we need to average the normals along the seam.
  // because the corresponding vertices are identical (but still have different UVs).

  if (phiLength === Math.PI * 2) {
    var normals = this.attributes.normal.array;
    var n1 = new Vector3();
    var n2 = new Vector3();
    var n = new Vector3(); // this is the buffer offset for the last line of vertices

    base = segments * points.length * 3;

    for (i = 0, j = 0; i < points.length; i++, j += 3) {
      // select the normal of the vertex in the first line
      n1.x = normals[j + 0];
      n1.y = normals[j + 1];
      n1.z = normals[j + 2]; // select the normal of the vertex in the last line

      n2.x = normals[base + j + 0];
      n2.y = normals[base + j + 1];
      n2.z = normals[base + j + 2]; // average normals

      n.addVectors(n1, n2).normalize(); // assign the new values to both normals

      normals[j + 0] = normals[base + j + 0] = n.x;
      normals[j + 1] = normals[base + j + 1] = n.y;
      normals[j + 2] = normals[base + j + 2] = n.z;
    }
  }
}

LatheBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
LatheBufferGeometry.prototype.constructor = LatheBufferGeometry;
/**
 * @author jonobr1 / http://jonobr1.com
 * @author Mugen87 / https://github.com/Mugen87
 */
// ShapeGeometry

function ShapeGeometry(shapes, curveSegments) {
  Geometry.call(this);
  this.type = 'ShapeGeometry';

  if (typeof curveSegments === 'object') {
    console.warn('THREE.ShapeGeometry: Options parameter has been removed.');
    curveSegments = curveSegments.curveSegments;
  }

  this.parameters = {
    shapes: shapes,
    curveSegments: curveSegments
  };
  this.fromBufferGeometry(new ShapeBufferGeometry(shapes, curveSegments));
  this.mergeVertices();
}

ShapeGeometry.prototype = Object.create(Geometry.prototype);
ShapeGeometry.prototype.constructor = ShapeGeometry;

ShapeGeometry.prototype.toJSON = function () {
  var data = Geometry.prototype.toJSON.call(this);
  var shapes = this.parameters.shapes;
  return toJSON$1(shapes, data);
}; // ShapeBufferGeometry


function ShapeBufferGeometry(shapes, curveSegments) {
  BufferGeometry.call(this);
  this.type = 'ShapeBufferGeometry';
  this.parameters = {
    shapes: shapes,
    curveSegments: curveSegments
  };
  curveSegments = curveSegments || 12; // buffers

  var indices = [];
  var vertices = [];
  var normals = [];
  var uvs = []; // helper variables

  var groupStart = 0;
  var groupCount = 0; // allow single and array values for "shapes" parameter

  if (Array.isArray(shapes) === false) {
    addShape(shapes);
  } else {
    for (var i = 0; i < shapes.length; i++) {
      addShape(shapes[i]);
      this.addGroup(groupStart, groupCount, i); // enables MultiMaterial support

      groupStart += groupCount;
      groupCount = 0;
    }
  } // build geometry


  this.setIndex(indices);
  this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
  this.addAttribute('uv', new Float32BufferAttribute(uvs, 2)); // helper functions

  function addShape(shape) {
    var i, l, shapeHole;
    var indexOffset = vertices.length / 3;
    var points = shape.extractPoints(curveSegments);
    var shapeVertices = points.shape;
    var shapeHoles = points.holes; // check direction of vertices

    if (ShapeUtils.isClockWise(shapeVertices) === false) {
      shapeVertices = shapeVertices.reverse();
    }

    for (i = 0, l = shapeHoles.length; i < l; i++) {
      shapeHole = shapeHoles[i];

      if (ShapeUtils.isClockWise(shapeHole) === true) {
        shapeHoles[i] = shapeHole.reverse();
      }
    }

    var faces = ShapeUtils.triangulateShape(shapeVertices, shapeHoles); // join vertices of inner and outer paths to a single array

    for (i = 0, l = shapeHoles.length; i < l; i++) {
      shapeHole = shapeHoles[i];
      shapeVertices = shapeVertices.concat(shapeHole);
    } // vertices, normals, uvs


    for (i = 0, l = shapeVertices.length; i < l; i++) {
      var vertex = shapeVertices[i];
      vertices.push(vertex.x, vertex.y, 0);
      normals.push(0, 0, 1);
      uvs.push(vertex.x, vertex.y); // world uvs
    } // incides


    for (i = 0, l = faces.length; i < l; i++) {
      var face = faces[i];
      var a = face[0] + indexOffset;
      var b = face[1] + indexOffset;
      var c = face[2] + indexOffset;
      indices.push(a, b, c);
      groupCount += 3;
    }
  }
}

ShapeBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
ShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;

ShapeBufferGeometry.prototype.toJSON = function () {
  var data = BufferGeometry.prototype.toJSON.call(this);
  var shapes = this.parameters.shapes;
  return toJSON$1(shapes, data);
}; //


function toJSON$1(shapes, data) {
  data.shapes = [];

  if (Array.isArray(shapes)) {
    for (var i = 0, l = shapes.length; i < l; i++) {
      var shape = shapes[i];
      data.shapes.push(shape.uuid);
    }
  } else {
    data.shapes.push(shapes.uuid);
  }

  return data;
}
/**
 * @author WestLangley / http://github.com/WestLangley
 * @author Mugen87 / https://github.com/Mugen87
 */


function EdgesGeometry(geometry, thresholdAngle) {
  BufferGeometry.call(this);
  this.type = 'EdgesGeometry';
  this.parameters = {
    thresholdAngle: thresholdAngle
  };
  thresholdAngle = thresholdAngle !== undefined ? thresholdAngle : 1; // buffer

  var vertices = []; // helper variables

  var thresholdDot = Math.cos(_Math.DEG2RAD * thresholdAngle);
  var edge = [0, 0],
      edges = {},
      edge1,
      edge2;
  var key,
      keys = ['a', 'b', 'c']; // prepare source geometry

  var geometry2;

  if (geometry.isBufferGeometry) {
    geometry2 = new Geometry();
    geometry2.fromBufferGeometry(geometry);
  } else {
    geometry2 = geometry.clone();
  }

  geometry2.mergeVertices();
  geometry2.computeFaceNormals();
  var sourceVertices = geometry2.vertices;
  var faces = geometry2.faces; // now create a data structure where each entry represents an edge with its adjoining faces

  for (var i = 0, l = faces.length; i < l; i++) {
    var face = faces[i];

    for (var j = 0; j < 3; j++) {
      edge1 = face[keys[j]];
      edge2 = face[keys[(j + 1) % 3]];
      edge[0] = Math.min(edge1, edge2);
      edge[1] = Math.max(edge1, edge2);
      key = edge[0] + ',' + edge[1];

      if (edges[key] === undefined) {
        edges[key] = {
          index1: edge[0],
          index2: edge[1],
          face1: i,
          face2: undefined
        };
      } else {
        edges[key].face2 = i;
      }
    }
  } // generate vertices


  for (key in edges) {
    var e = edges[key]; // an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.

    if (e.face2 === undefined || faces[e.face1].normal.dot(faces[e.face2].normal) <= thresholdDot) {
      var vertex = sourceVertices[e.index1];
      vertices.push(vertex.x, vertex.y, vertex.z);
      vertex = sourceVertices[e.index2];
      vertices.push(vertex.x, vertex.y, vertex.z);
    }
  } // build geometry


  this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
}

EdgesGeometry.prototype = Object.create(BufferGeometry.prototype);
EdgesGeometry.prototype.constructor = EdgesGeometry;
/**
 * @author mrdoob / http://mrdoob.com/
 * @author Mugen87 / https://github.com/Mugen87
 */
// CylinderGeometry

function CylinderGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {
  Geometry.call(this);
  this.type = 'CylinderGeometry';
  this.parameters = {
    radiusTop: radiusTop,
    radiusBottom: radiusBottom,
    height: height,
    radialSegments: radialSegments,
    heightSegments: heightSegments,
    openEnded: openEnded,
    thetaStart: thetaStart,
    thetaLength: thetaLength
  };
  this.fromBufferGeometry(new CylinderBufferGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength));
  this.mergeVertices();
}

CylinderGeometry.prototype = Object.create(Geometry.prototype);
CylinderGeometry.prototype.constructor = CylinderGeometry; // CylinderBufferGeometry

function CylinderBufferGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {
  BufferGeometry.call(this);
  this.type = 'CylinderBufferGeometry';
  this.parameters = {
    radiusTop: radiusTop,
    radiusBottom: radiusBottom,
    height: height,
    radialSegments: radialSegments,
    heightSegments: heightSegments,
    openEnded: openEnded,
    thetaStart: thetaStart,
    thetaLength: thetaLength
  };
  var scope = this;
  radiusTop = radiusTop !== undefined ? radiusTop : 1;
  radiusBottom = radiusBottom !== undefined ? radiusBottom : 1;
  height = height || 1;
  radialSegments = Math.floor(radialSegments) || 8;
  heightSegments = Math.floor(heightSegments) || 1;
  openEnded = openEnded !== undefined ? openEnded : false;
  thetaStart = thetaStart !== undefined ? thetaStart : 0.0;
  thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2; // buffers

  var indices = [];
  var vertices = [];
  var normals = [];
  var uvs = []; // helper variables

  var index = 0;
  var indexArray = [];
  var halfHeight = height / 2;
  var groupStart = 0; // generate geometry

  generateTorso();

  if (openEnded === false) {
    if (radiusTop > 0) generateCap(true);
    if (radiusBottom > 0) generateCap(false);
  } // build geometry


  this.setIndex(indices);
  this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
  this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));

  function generateTorso() {
    var x, y;
    var normal = new Vector3();
    var vertex = new Vector3();
    var groupCount = 0; // this will be used to calculate the normal

    var slope = (radiusBottom - radiusTop) / height; // generate vertices, normals and uvs

    for (y = 0; y <= heightSegments; y++) {
      var indexRow = [];
      var v = y / heightSegments; // calculate the radius of the current row

      var radius = v * (radiusBottom - radiusTop) + radiusTop;

      for (x = 0; x <= radialSegments; x++) {
        var u = x / radialSegments;
        var theta = u * thetaLength + thetaStart;
        var sinTheta = Math.sin(theta);
        var cosTheta = Math.cos(theta); // vertex

        vertex.x = radius * sinTheta;
        vertex.y = -v * height + halfHeight;
        vertex.z = radius * cosTheta;
        vertices.push(vertex.x, vertex.y, vertex.z); // normal

        normal.set(sinTheta, slope, cosTheta).normalize();
        normals.push(normal.x, normal.y, normal.z); // uv

        uvs.push(u, 1 - v); // save index of vertex in respective row

        indexRow.push(index++);
      } // now save vertices of the row in our index array


      indexArray.push(indexRow);
    } // generate indices


    for (x = 0; x < radialSegments; x++) {
      for (y = 0; y < heightSegments; y++) {
        // we use the index array to access the correct indices
        var a = indexArray[y][x];
        var b = indexArray[y + 1][x];
        var c = indexArray[y + 1][x + 1];
        var d = indexArray[y][x + 1]; // faces

        indices.push(a, b, d);
        indices.push(b, c, d); // update group counter

        groupCount += 6;
      }
    } // add a group to the geometry. this will ensure multi material support


    scope.addGroup(groupStart, groupCount, 0); // calculate new start value for groups

    groupStart += groupCount;
  }

  function generateCap(top) {
    var x, centerIndexStart, centerIndexEnd;
    var uv = new Vector2();
    var vertex = new Vector3();
    var groupCount = 0;
    var radius = top === true ? radiusTop : radiusBottom;
    var sign = top === true ? 1 : -1; // save the index of the first center vertex

    centerIndexStart = index; // first we generate the center vertex data of the cap.
    // because the geometry needs one set of uvs per face,
    // we must generate a center vertex per face/segment

    for (x = 1; x <= radialSegments; x++) {
      // vertex
      vertices.push(0, halfHeight * sign, 0); // normal

      normals.push(0, sign, 0); // uv

      uvs.push(0.5, 0.5); // increase index

      index++;
    } // save the index of the last center vertex


    centerIndexEnd = index; // now we generate the surrounding vertices, normals and uvs

    for (x = 0; x <= radialSegments; x++) {
      var u = x / radialSegments;
      var theta = u * thetaLength + thetaStart;
      var cosTheta = Math.cos(theta);
      var sinTheta = Math.sin(theta); // vertex

      vertex.x = radius * sinTheta;
      vertex.y = halfHeight * sign;
      vertex.z = radius * cosTheta;
      vertices.push(vertex.x, vertex.y, vertex.z); // normal

      normals.push(0, sign, 0); // uv

      uv.x = cosTheta * 0.5 + 0.5;
      uv.y = sinTheta * 0.5 * sign + 0.5;
      uvs.push(uv.x, uv.y); // increase index

      index++;
    } // generate indices


    for (x = 0; x < radialSegments; x++) {
      var c = centerIndexStart + x;
      var i = centerIndexEnd + x;

      if (top === true) {
        // face top
        indices.push(i, i + 1, c);
      } else {
        // face bottom
        indices.push(i + 1, i, c);
      }

      groupCount += 3;
    } // add a group to the geometry. this will ensure multi material support


    scope.addGroup(groupStart, groupCount, top === true ? 1 : 2); // calculate new start value for groups

    groupStart += groupCount;
  }
}

CylinderBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
CylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;
/**
 * @author abelnation / http://github.com/abelnation
 */
// ConeGeometry

function ConeGeometry(radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {
  CylinderGeometry.call(this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);
  this.type = 'ConeGeometry';
  this.parameters = {
    radius: radius,
    height: height,
    radialSegments: radialSegments,
    heightSegments: heightSegments,
    openEnded: openEnded,
    thetaStart: thetaStart,
    thetaLength: thetaLength
  };
}

ConeGeometry.prototype = Object.create(CylinderGeometry.prototype);
ConeGeometry.prototype.constructor = ConeGeometry; // ConeBufferGeometry

function ConeBufferGeometry(radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {
  CylinderBufferGeometry.call(this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);
  this.type = 'ConeBufferGeometry';
  this.parameters = {
    radius: radius,
    height: height,
    radialSegments: radialSegments,
    heightSegments: heightSegments,
    openEnded: openEnded,
    thetaStart: thetaStart,
    thetaLength: thetaLength
  };
}

ConeBufferGeometry.prototype = Object.create(CylinderBufferGeometry.prototype);
ConeBufferGeometry.prototype.constructor = ConeBufferGeometry;
/**
 * @author benaadams / https://twitter.com/ben_a_adams
 * @author Mugen87 / https://github.com/Mugen87
 * @author hughes
 */
// CircleGeometry

function CircleGeometry(radius, segments, thetaStart, thetaLength) {
  Geometry.call(this);
  this.type = 'CircleGeometry';
  this.parameters = {
    radius: radius,
    segments: segments,
    thetaStart: thetaStart,
    thetaLength: thetaLength
  };
  this.fromBufferGeometry(new CircleBufferGeometry(radius, segments, thetaStart, thetaLength));
  this.mergeVertices();
}

CircleGeometry.prototype = Object.create(Geometry.prototype);
CircleGeometry.prototype.constructor = CircleGeometry; // CircleBufferGeometry

function CircleBufferGeometry(radius, segments, thetaStart, thetaLength) {
  BufferGeometry.call(this);
  this.type = 'CircleBufferGeometry';
  this.parameters = {
    radius: radius,
    segments: segments,
    thetaStart: thetaStart,
    thetaLength: thetaLength
  };
  radius = radius || 1;
  segments = segments !== undefined ? Math.max(3, segments) : 8;
  thetaStart = thetaStart !== undefined ? thetaStart : 0;
  thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2; // buffers

  var indices = [];
  var vertices = [];
  var normals = [];
  var uvs = []; // helper variables

  var i, s;
  var vertex = new Vector3();
  var uv = new Vector2(); // center point

  vertices.push(0, 0, 0);
  normals.push(0, 0, 1);
  uvs.push(0.5, 0.5);

  for (s = 0, i = 3; s <= segments; s++, i += 3) {
    var segment = thetaStart + s / segments * thetaLength; // vertex

    vertex.x = radius * Math.cos(segment);
    vertex.y = radius * Math.sin(segment);
    vertices.push(vertex.x, vertex.y, vertex.z); // normal

    normals.push(0, 0, 1); // uvs

    uv.x = (vertices[i] / radius + 1) / 2;
    uv.y = (vertices[i + 1] / radius + 1) / 2;
    uvs.push(uv.x, uv.y);
  } // indices


  for (i = 1; i <= segments; i++) {
    indices.push(i, i + 1, 0);
  } // build geometry


  this.setIndex(indices);
  this.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  this.addAttribute('normal', new Float32BufferAttribute(normals, 3));
  this.addAttribute('uv', new Float32BufferAttribute(uvs, 2));
}

CircleBufferGeometry.prototype = Object.create(BufferGeometry.prototype);
CircleBufferGeometry.prototype.constructor = CircleBufferGeometry;
var Geometries = /*#__PURE__*/Object.freeze({
  WireframeGeometry: WireframeGeometry,
  ParametricGeometry: ParametricGeometry,
  ParametricBufferGeometry: ParametricBufferGeometry,
  TetrahedronGeometry: TetrahedronGeometry,
  TetrahedronBufferGeometry: TetrahedronBufferGeometry,
  OctahedronGeometry: OctahedronGeometry,
  OctahedronBufferGeometry: OctahedronBufferGeometry,
  IcosahedronGeometry: IcosahedronGeometry,
  IcosahedronBufferGeometry: IcosahedronBufferGeometry,
  DodecahedronGeometry: DodecahedronGeometry,
  DodecahedronBufferGeometry: DodecahedronBufferGeometry,
  PolyhedronGeometry: PolyhedronGeometry,
  PolyhedronBufferGeometry: PolyhedronBufferGeometry,
  TubeGeometry: TubeGeometry,
  TubeBufferGeometry: TubeBufferGeometry,
  TorusKnotGeometry: TorusKnotGeometry,
  TorusKnotBufferGeometry: TorusKnotBufferGeometry,
  TorusGeometry: TorusGeometry,
  TorusBufferGeometry: TorusBufferGeometry,
  TextGeometry: TextGeometry,
  TextBufferGeometry: TextBufferGeometry,
  SphereGeometry: SphereGeometry,
  SphereBufferGeometry: SphereBufferGeometry,
  RingGeometry: RingGeometry,
  RingBufferGeometry: RingBufferGeometry,
  PlaneGeometry: PlaneGeometry,
  PlaneBufferGeometry: PlaneBufferGeometry,
  LatheGeometry: LatheGeometry,
  LatheBufferGeometry: LatheBufferGeometry,
  ShapeGeometry: ShapeGeometry,
  ShapeBufferGeometry: ShapeBufferGeometry,
  ExtrudeGeometry: ExtrudeGeometry,
  ExtrudeBufferGeometry: ExtrudeBufferGeometry,
  EdgesGeometry: EdgesGeometry,
  ConeGeometry: ConeGeometry,
  ConeBufferGeometry: ConeBufferGeometry,
  CylinderGeometry: CylinderGeometry,
  CylinderBufferGeometry: CylinderBufferGeometry,
  CircleGeometry: CircleGeometry,
  CircleBufferGeometry: CircleBufferGeometry,
  BoxGeometry: BoxGeometry,
  BoxBufferGeometry: BoxBufferGeometry
});
/**
 * @author mrdoob / http://mrdoob.com/
 *
 * parameters = {
 *  color: <THREE.Color>
 * }
 */

function ShadowMaterial(parameters) {
  Material.call(this);
  this.type = 'ShadowMaterial';
  this.color = new Color(0x000000);
  this.transparent = true;
  this.setValues(parameters);
}

ShadowMaterial.prototype = Object.create(Material.prototype);
ShadowMaterial.prototype.constructor = ShadowMaterial;
ShadowMaterial.prototype.isShadowMaterial = true;

ShadowMaterial.prototype.copy = function (source) {
  Material.prototype.copy.call(this, source);
  this.color.copy(source.color);
  return this;
};
/**
 * @author mrdoob / http://mrdoob.com/
 */


function RawShaderMaterial(parameters) {
  ShaderMaterial.call(this, parameters);
  this.type = 'RawShaderMaterial';
}

RawShaderMaterial.prototype = Object.create(ShaderMaterial.prototype);
RawShaderMaterial.prototype.constructor = RawShaderMaterial;
RawShaderMaterial.prototype.isRawShaderMaterial = true;
/**
 * @author WestLangley / http://github.com/WestLangley
 *
 * parameters = {
 *  color: <hex>,
 *  roughness: <float>,
 *  metalness: <float>,
 *  opacity: <float>,
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  lightMap: new THREE.Texture( <Image> ),
 *  lightMapIntensity: <float>
 *
 *  aoMap: new THREE.Texture( <Image> ),
 *  aoMapIntensity: <float>
 *
 *  emissive: <hex>,
 *  emissiveIntensity: <float>
 *  emissiveMap: new THREE.Texture( <Image> ),
 *
 *  bumpMap: new THREE.Texture( <Image> ),
 *  bumpScale: <float>,
 *
 *  normalMap: new THREE.Texture( <Image> ),
 *  normalMapType: THREE.TangentSpaceNormalMap,
 *  normalScale: <Vector2>,
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>,
 *
 *  roughnessMap: new THREE.Texture( <Image> ),
 *
 *  metalnessMap: new THREE.Texture( <Image> ),
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),
 *  envMapIntensity: <float>
 *
 *  refractionRatio: <float>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 *  skinning: <bool>,
 *  morphTargets: <bool>,
 *  morphNormals: <bool>
 * }
 */

function MeshStandardMaterial(parameters) {
  Material.call(this);
  this.defines = {
    'STANDARD': ''
  };
  this.type = 'MeshStandardMaterial';
  this.color = new Color(0xffffff); // diffuse

  this.roughness = 0.5;
  this.metalness = 0.5;
  this.map = null;
  this.lightMap = null;
  this.lightMapIntensity = 1.0;
  this.aoMap = null;
  this.aoMapIntensity = 1.0;
  this.emissive = new Color(0x000000);
  this.emissiveIntensity = 1.0;
  this.emissiveMap = null;
  this.bumpMap = null;
  this.bumpScale = 1;
  this.normalMap = null;
  this.normalMapType = TangentSpaceNormalMap;
  this.normalScale = new Vector2(1, 1);
  this.displacementMap = null;
  this.displacementScale = 1;
  this.displacementBias = 0;
  this.roughnessMap = null;
  this.metalnessMap = null;
  this.alphaMap = null;
  this.envMap = null;
  this.envMapIntensity = 1.0;
  this.refractionRatio = 0.98;
  this.wireframe = false;
  this.wireframeLinewidth = 1;
  this.wireframeLinecap = 'round';
  this.wireframeLinejoin = 'round';
  this.skinning = false;
  this.morphTargets = false;
  this.morphNormals = false;
  this.setValues(parameters);
}

MeshStandardMaterial.prototype = Object.create(Material.prototype);
MeshStandardMaterial.prototype.constructor = MeshStandardMaterial;
MeshStandardMaterial.prototype.isMeshStandardMaterial = true;

MeshStandardMaterial.prototype.copy = function (source) {
  Material.prototype.copy.call(this, source);
  this.defines = {
    'STANDARD': ''
  };
  this.color.copy(source.color);
  this.roughness = source.roughness;
  this.metalness = source.metalness;
  this.map = source.map;
  this.lightMap = source.lightMap;
  this.lightMapIntensity = source.lightMapIntensity;
  this.aoMap = source.aoMap;
  this.aoMapIntensity = source.aoMapIntensity;
  this.emissive.copy(source.emissive);
  this.emissiveMap = source.emissiveMap;
  this.emissiveIntensity = source.emissiveIntensity;
  this.bumpMap = source.bumpMap;
  this.bumpScale = source.bumpScale;
  this.normalMap = source.normalMap;
  this.normalMapType = source.normalMapType;
  this.normalScale.copy(source.normalScale);
  this.displacementMap = source.displacementMap;
  this.displacementScale = source.displacementScale;
  this.displacementBias = source.displacementBias;
  this.roughnessMap = source.roughnessMap;
  this.metalnessMap = source.metalnessMap;
  this.alphaMap = source.alphaMap;
  this.envMap = source.envMap;
  this.envMapIntensity = source.envMapIntensity;
  this.refractionRatio = source.refractionRatio;
  this.wireframe = source.wireframe;
  this.wireframeLinewidth = source.wireframeLinewidth;
  this.wireframeLinecap = source.wireframeLinecap;
  this.wireframeLinejoin = source.wireframeLinejoin;
  this.skinning = source.skinning;
  this.morphTargets = source.morphTargets;
  this.morphNormals = source.morphNormals;
  return this;
};
/**
 * @author WestLangley / http://github.com/WestLangley
 *
 * parameters = {
 *  reflectivity: <float>
 *  clearCoat: <float>
 *  clearCoatRoughness: <float>
 * }
 */


function MeshPhysicalMaterial(parameters) {
  MeshStandardMaterial.call(this);
  this.defines = {
    'PHYSICAL': ''
  };
  this.type = 'MeshPhysicalMaterial';
  this.reflectivity = 0.5; // maps to F0 = 0.04

  this.clearCoat = 0.0;
  this.clearCoatRoughness = 0.0;
  this.setValues(parameters);
}

MeshPhysicalMaterial.prototype = Object.create(MeshStandardMaterial.prototype);
MeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;
MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;

MeshPhysicalMaterial.prototype.copy = function (source) {
  MeshStandardMaterial.prototype.copy.call(this, source);
  this.defines = {
    'PHYSICAL': ''
  };
  this.reflectivity = source.reflectivity;
  this.clearCoat = source.clearCoat;
  this.clearCoatRoughness = source.clearCoatRoughness;
  return this;
};
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  color: <hex>,
 *  specular: <hex>,
 *  shininess: <float>,
 *  opacity: <float>,
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  lightMap: new THREE.Texture( <Image> ),
 *  lightMapIntensity: <float>
 *
 *  aoMap: new THREE.Texture( <Image> ),
 *  aoMapIntensity: <float>
 *
 *  emissive: <hex>,
 *  emissiveIntensity: <float>
 *  emissiveMap: new THREE.Texture( <Image> ),
 *
 *  bumpMap: new THREE.Texture( <Image> ),
 *  bumpScale: <float>,
 *
 *  normalMap: new THREE.Texture( <Image> ),
 *  normalMapType: THREE.TangentSpaceNormalMap,
 *  normalScale: <Vector2>,
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>,
 *
 *  specularMap: new THREE.Texture( <Image> ),
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),
 *  combine: THREE.Multiply,
 *  reflectivity: <float>,
 *  refractionRatio: <float>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 *  skinning: <bool>,
 *  morphTargets: <bool>,
 *  morphNormals: <bool>
 * }
 */


function MeshPhongMaterial(parameters) {
  Material.call(this);
  this.type = 'MeshPhongMaterial';
  this.color = new Color(0xffffff); // diffuse

  this.specular = new Color(0x111111);
  this.shininess = 30;
  this.map = null;
  this.lightMap = null;
  this.lightMapIntensity = 1.0;
  this.aoMap = null;
  this.aoMapIntensity = 1.0;
  this.emissive = new Color(0x000000);
  this.emissiveIntensity = 1.0;
  this.emissiveMap = null;
  this.bumpMap = null;
  this.bumpScale = 1;
  this.normalMap = null;
  this.normalMapType = TangentSpaceNormalMap;
  this.normalScale = new Vector2(1, 1);
  this.displacementMap = null;
  this.displacementScale = 1;
  this.displacementBias = 0;
  this.specularMap = null;
  this.alphaMap = null;
  this.envMap = null;
  this.combine = MultiplyOperation;
  this.reflectivity = 1;
  this.refractionRatio = 0.98;
  this.wireframe = false;
  this.wireframeLinewidth = 1;
  this.wireframeLinecap = 'round';
  this.wireframeLinejoin = 'round';
  this.skinning = false;
  this.morphTargets = false;
  this.morphNormals = false;
  this.setValues(parameters);
}

MeshPhongMaterial.prototype = Object.create(Material.prototype);
MeshPhongMaterial.prototype.constructor = MeshPhongMaterial;
MeshPhongMaterial.prototype.isMeshPhongMaterial = true;

MeshPhongMaterial.prototype.copy = function (source) {
  Material.prototype.copy.call(this, source);
  this.color.copy(source.color);
  this.specular.copy(source.specular);
  this.shininess = source.shininess;
  this.map = source.map;
  this.lightMap = source.lightMap;
  this.lightMapIntensity = source.lightMapIntensity;
  this.aoMap = source.aoMap;
  this.aoMapIntensity = source.aoMapIntensity;
  this.emissive.copy(source.emissive);
  this.emissiveMap = source.emissiveMap;
  this.emissiveIntensity = source.emissiveIntensity;
  this.bumpMap = source.bumpMap;
  this.bumpScale = source.bumpScale;
  this.normalMap = source.normalMap;
  this.normalMapType = source.normalMapType;
  this.normalScale.copy(source.normalScale);
  this.displacementMap = source.displacementMap;
  this.displacementScale = source.displacementScale;
  this.displacementBias = source.displacementBias;
  this.specularMap = source.specularMap;
  this.alphaMap = source.alphaMap;
  this.envMap = source.envMap;
  this.combine = source.combine;
  this.reflectivity = source.reflectivity;
  this.refractionRatio = source.refractionRatio;
  this.wireframe = source.wireframe;
  this.wireframeLinewidth = source.wireframeLinewidth;
  this.wireframeLinecap = source.wireframeLinecap;
  this.wireframeLinejoin = source.wireframeLinejoin;
  this.skinning = source.skinning;
  this.morphTargets = source.morphTargets;
  this.morphNormals = source.morphNormals;
  return this;
};
/**
 * @author takahirox / http://github.com/takahirox
 *
 * parameters = {
 *  gradientMap: new THREE.Texture( <Image> )
 * }
 */


function MeshToonMaterial(parameters) {
  MeshPhongMaterial.call(this);
  this.defines = {
    'TOON': ''
  };
  this.type = 'MeshToonMaterial';
  this.gradientMap = null;
  this.setValues(parameters);
}

MeshToonMaterial.prototype = Object.create(MeshPhongMaterial.prototype);
MeshToonMaterial.prototype.constructor = MeshToonMaterial;
MeshToonMaterial.prototype.isMeshToonMaterial = true;

MeshToonMaterial.prototype.copy = function (source) {
  MeshPhongMaterial.prototype.copy.call(this, source);
  this.gradientMap = source.gradientMap;
  return this;
};
/**
 * @author mrdoob / http://mrdoob.com/
 * @author WestLangley / http://github.com/WestLangley
 *
 * parameters = {
 *  opacity: <float>,
 *
 *  bumpMap: new THREE.Texture( <Image> ),
 *  bumpScale: <float>,
 *
 *  normalMap: new THREE.Texture( <Image> ),
 *  normalMapType: THREE.TangentSpaceNormalMap,
 *  normalScale: <Vector2>,
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>
 *
 *  skinning: <bool>,
 *  morphTargets: <bool>,
 *  morphNormals: <bool>
 * }
 */


function MeshNormalMaterial(parameters) {
  Material.call(this);
  this.type = 'MeshNormalMaterial';
  this.bumpMap = null;
  this.bumpScale = 1;
  this.normalMap = null;
  this.normalMapType = TangentSpaceNormalMap;
  this.normalScale = new Vector2(1, 1);
  this.displacementMap = null;
  this.displacementScale = 1;
  this.displacementBias = 0;
  this.wireframe = false;
  this.wireframeLinewidth = 1;
  this.fog = false;
  this.lights = false;
  this.skinning = false;
  this.morphTargets = false;
  this.morphNormals = false;
  this.setValues(parameters);
}

MeshNormalMaterial.prototype = Object.create(Material.prototype);
MeshNormalMaterial.prototype.constructor = MeshNormalMaterial;
MeshNormalMaterial.prototype.isMeshNormalMaterial = true;

MeshNormalMaterial.prototype.copy = function (source) {
  Material.prototype.copy.call(this, source);
  this.bumpMap = source.bumpMap;
  this.bumpScale = source.bumpScale;
  this.normalMap = source.normalMap;
  this.normalMapType = source.normalMapType;
  this.normalScale.copy(source.normalScale);
  this.displacementMap = source.displacementMap;
  this.displacementScale = source.displacementScale;
  this.displacementBias = source.displacementBias;
  this.wireframe = source.wireframe;
  this.wireframeLinewidth = source.wireframeLinewidth;
  this.skinning = source.skinning;
  this.morphTargets = source.morphTargets;
  this.morphNormals = source.morphNormals;
  return this;
};
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  lightMap: new THREE.Texture( <Image> ),
 *  lightMapIntensity: <float>
 *
 *  aoMap: new THREE.Texture( <Image> ),
 *  aoMapIntensity: <float>
 *
 *  emissive: <hex>,
 *  emissiveIntensity: <float>
 *  emissiveMap: new THREE.Texture( <Image> ),
 *
 *  specularMap: new THREE.Texture( <Image> ),
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),
 *  combine: THREE.Multiply,
 *  reflectivity: <float>,
 *  refractionRatio: <float>,
 *
 *  wireframe: <boolean>,
 *  wireframeLinewidth: <float>,
 *
 *  skinning: <bool>,
 *  morphTargets: <bool>,
 *  morphNormals: <bool>
 * }
 */


function MeshLambertMaterial(parameters) {
  Material.call(this);
  this.type = 'MeshLambertMaterial';
  this.color = new Color(0xffffff); // diffuse

  this.map = null;
  this.lightMap = null;
  this.lightMapIntensity = 1.0;
  this.aoMap = null;
  this.aoMapIntensity = 1.0;
  this.emissive = new Color(0x000000);
  this.emissiveIntensity = 1.0;
  this.emissiveMap = null;
  this.specularMap = null;
  this.alphaMap = null;
  this.envMap = null;
  this.combine = MultiplyOperation;
  this.reflectivity = 1;
  this.refractionRatio = 0.98;
  this.wireframe = false;
  this.wireframeLinewidth = 1;
  this.wireframeLinecap = 'round';
  this.wireframeLinejoin = 'round';
  this.skinning = false;
  this.morphTargets = false;
  this.morphNormals = false;
  this.setValues(parameters);
}

MeshLambertMaterial.prototype = Object.create(Material.prototype);
MeshLambertMaterial.prototype.constructor = MeshLambertMaterial;
MeshLambertMaterial.prototype.isMeshLambertMaterial = true;

MeshLambertMaterial.prototype.copy = function (source) {
  Material.prototype.copy.call(this, source);
  this.color.copy(source.color);
  this.map = source.map;
  this.lightMap = source.lightMap;
  this.lightMapIntensity = source.lightMapIntensity;
  this.aoMap = source.aoMap;
  this.aoMapIntensity = source.aoMapIntensity;
  this.emissive.copy(source.emissive);
  this.emissiveMap = source.emissiveMap;
  this.emissiveIntensity = source.emissiveIntensity;
  this.specularMap = source.specularMap;
  this.alphaMap = source.alphaMap;
  this.envMap = source.envMap;
  this.combine = source.combine;
  this.reflectivity = source.reflectivity;
  this.refractionRatio = source.refractionRatio;
  this.wireframe = source.wireframe;
  this.wireframeLinewidth = source.wireframeLinewidth;
  this.wireframeLinecap = source.wireframeLinecap;
  this.wireframeLinejoin = source.wireframeLinejoin;
  this.skinning = source.skinning;
  this.morphTargets = source.morphTargets;
  this.morphNormals = source.morphNormals;
  return this;
};
/**
 * @author WestLangley / http://github.com/WestLangley
 *
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *
 *  matcap: new THREE.Texture( <Image> ),
 *
 *  map: new THREE.Texture( <Image> ),
 *
 *  bumpMap: new THREE.Texture( <Image> ),
 *  bumpScale: <float>,
 *
 *  normalMap: new THREE.Texture( <Image> ),
 *  normalMapType: THREE.TangentSpaceNormalMap,
 *  normalScale: <Vector2>,
 *
 *  displacementMap: new THREE.Texture( <Image> ),
 *  displacementScale: <float>,
 *  displacementBias: <float>,
 *
 *  alphaMap: new THREE.Texture( <Image> ),
 *
 *  skinning: <bool>,
 *  morphTargets: <bool>,
 *  morphNormals: <bool>
 * }
 */


function MeshMatcapMaterial(parameters) {
  Material.call(this);
  this.defines = {
    'MATCAP': ''
  };
  this.type = 'MeshMatcapMaterial';
  this.color = new Color(0xffffff); // diffuse

  this.matcap = null;
  this.map = null;
  this.bumpMap = null;
  this.bumpScale = 1;
  this.normalMap = null;
  this.normalMapType = TangentSpaceNormalMap;
  this.normalScale = new Vector2(1, 1);
  this.displacementMap = null;
  this.displacementScale = 1;
  this.displacementBias = 0;
  this.alphaMap = null;
  this.skinning = false;
  this.morphTargets = false;
  this.morphNormals = false;
  this.lights = false;
  this.setValues(parameters);
}

MeshMatcapMaterial.prototype = Object.create(Material.prototype);
MeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;
MeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;

MeshMatcapMaterial.prototype.copy = function (source) {
  Material.prototype.copy.call(this, source);
  this.defines = {
    'MATCAP': ''
  };
  this.color.copy(source.color);
  this.matcap = source.matcap;
  this.map = source.map;
  this.bumpMap = source.bumpMap;
  this.bumpScale = source.bumpScale;
  this.normalMap = source.normalMap;
  this.normalMapType = source.normalMapType;
  this.normalScale.copy(source.normalScale);
  this.displacementMap = source.displacementMap;
  this.displacementScale = source.displacementScale;
  this.displacementBias = source.displacementBias;
  this.alphaMap = source.alphaMap;
  this.skinning = source.skinning;
  this.morphTargets = source.morphTargets;
  this.morphNormals = source.morphNormals;
  return this;
};
/**
 * @author alteredq / http://alteredqualia.com/
 *
 * parameters = {
 *  color: <hex>,
 *  opacity: <float>,
 *
 *  linewidth: <float>,
 *
 *  scale: <float>,
 *  dashSize: <float>,
 *  gapSize: <float>
 * }
 */


function LineDashedMaterial(parameters) {
  LineBasicMaterial.call(this);
  this.type = 'LineDashedMaterial';
  this.scale = 1;
  this.dashSize = 3;
  this.gapSize = 1;
  this.setValues(parameters);
}

LineDashedMaterial.prototype = Object.create(LineBasicMaterial.prototype);
LineDashedMaterial.prototype.constructor = LineDashedMaterial;
LineDashedMaterial.prototype.isLineDashedMaterial = true;

LineDashedMaterial.prototype.copy = function (source) {
  LineBasicMaterial.prototype.copy.call(this, source);
  this.scale = source.scale;
  this.dashSize = source.dashSize;
  this.gapSize = source.gapSize;
  return this;
};

var Materials = /*#__PURE__*/Object.freeze({
  ShadowMaterial: ShadowMaterial,
  SpriteMaterial: SpriteMaterial,
  RawShaderMaterial: RawShaderMaterial,
  ShaderMaterial: ShaderMaterial,
  PointsMaterial: PointsMaterial,
  MeshPhysicalMaterial: MeshPhysicalMaterial,
  MeshStandardMaterial: MeshStandardMaterial,
  MeshPhongMaterial: MeshPhongMaterial,
  MeshToonMaterial: MeshToonMaterial,
  MeshNormalMaterial: MeshNormalMaterial,
  MeshLambertMaterial: MeshLambertMaterial,
  MeshDepthMaterial: MeshDepthMaterial,
  MeshDistanceMaterial: MeshDistanceMaterial,
  MeshBasicMaterial: MeshBasicMaterial,
  MeshMatcapMaterial: MeshMatcapMaterial,
  LineDashedMaterial: LineDashedMaterial,
  LineBasicMaterial: LineBasicMaterial,
  Material: Material
});
/**
 * @author tschw
 * @author Ben Houston / http://clara.io/
 * @author David Sarno / http://lighthaus.us/
 */

var AnimationUtils = {
  // same as Array.prototype.slice, but also works on typed arrays
  arraySlice: function (array, from, to) {
    if (AnimationUtils.isTypedArray(array)) {
      // in ios9 array.subarray(from, undefined) will return empty array
      // but array.subarray(from) or array.subarray(from, len) is correct
      return new array.constructor(array.subarray(from, to !== undefined ? to : array.length));
    }

    return array.slice(from, to);
  },
  // converts an array to a specific type
  convertArray: function (array, type, forceClone) {
    if (!array || // let 'undefined' and 'null' pass
    !forceClone && array.constructor === type) return array;

    if (typeof type.BYTES_PER_ELEMENT === 'number') {
      return new type(array); // create typed array
    }

    return Array.prototype.slice.call(array); // create Array
  },
  isTypedArray: function (object) {
    return ArrayBuffer.isView(object) && !(object instanceof DataView);
  },
  // returns an array by which times and values can be sorted
  getKeyframeOrder: function (times) {
    function compareTime(i, j) {
      return times[i] - times[j];
    }

    var n = times.length;
    var result = new Array(n);

    for (var i = 0; i !== n; ++i) result[i] = i;

    result.sort(compareTime);
    return result;
  },
  // uses the array previously returned by 'getKeyframeOrder' to sort data
  sortedArray: function (values, stride, order) {
    var nValues = values.length;
    var result = new values.constructor(nValues);

    for (var i = 0, dstOffset = 0; dstOffset !== nValues; ++i) {
      var srcOffset = order[i] * stride;

      for (var j = 0; j !== stride; ++j) {
        result[dstOffset++] = values[srcOffset + j];
      }
    }

    return result;
  },
  // function for parsing AOS keyframe formats
  flattenJSON: function (jsonKeys, times, values, valuePropertyName) {
    var i = 1,
        key = jsonKeys[0];

    while (key !== undefined && key[valuePropertyName] === undefined) {
      key = jsonKeys[i++];
    }

    if (key === undefined) return; // no data

    var value = key[valuePropertyName];
    if (value === undefined) return; // no data

    if (Array.isArray(value)) {
      do {
        value = key[valuePropertyName];

        if (value !== undefined) {
          times.push(key.time);
          values.push.apply(values, value); // push all elements
        }

        key = jsonKeys[i++];
      } while (key !== undefined);
    } else if (value.toArray !== undefined) {
      // ...assume THREE.Math-ish
      do {
        value = key[valuePropertyName];

        if (value !== undefined) {
          times.push(key.time);
          value.toArray(values, values.length);
        }

        key = jsonKeys[i++];
      } while (key !== undefined);
    } else {
      // otherwise push as-is
      do {
        value = key[valuePropertyName];

        if (value !== undefined) {
          times.push(key.time);
          values.push(value);
        }

        key = jsonKeys[i++];
      } while (key !== undefined);
    }
  }
};
/**
 * Abstract base class of interpolants over parametric samples.
 *
 * The parameter domain is one dimensional, typically the time or a path
 * along a curve defined by the data.
 *
 * The sample values can have any dimensionality and derived classes may
 * apply special interpretations to the data.
 *
 * This class provides the interval seek in a Template Method, deferring
 * the actual interpolation to derived classes.
 *
 * Time complexity is O(1) for linear access crossing at most two points
 * and O(log N) for random access, where N is the number of positions.
 *
 * References:
 *
 * 		http://www.oodesign.com/template-method-pattern.html
 *
 * @author tschw
 */

exports.AnimationUtils = AnimationUtils;

function Interpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {
  this.parameterPositions = parameterPositions;
  this._cachedIndex = 0;
  this.resultBuffer = resultBuffer !== undefined ? resultBuffer : new sampleValues.constructor(sampleSize);
  this.sampleValues = sampleValues;
  this.valueSize = sampleSize;
}

Object.assign(Interpolant.prototype, {
  evaluate: function (t) {
    var pp = this.parameterPositions,
        i1 = this._cachedIndex,
        t1 = pp[i1],
        t0 = pp[i1 - 1];

    validate_interval: {
      seek: {
        var right;

        linear_scan: {
          //- See http://jsperf.com/comparison-to-undefined/3
          //- slower code:
          //-
          //- 				if ( t >= t1 || t1 === undefined ) {
          forward_scan: if (!(t < t1)) {
            for (var giveUpAt = i1 + 2;;) {
              if (t1 === undefined) {
                if (t < t0) break forward_scan; // after end

                i1 = pp.length;
                this._cachedIndex = i1;
                return this.afterEnd_(i1 - 1, t, t0);
              }

              if (i1 === giveUpAt) break; // this loop

              t0 = t1;
              t1 = pp[++i1];

              if (t < t1) {
                // we have arrived at the sought interval
                break seek;
              }
            } // prepare binary search on the right side of the index


            right = pp.length;
            break linear_scan;
          } //- slower code:
          //-					if ( t < t0 || t0 === undefined ) {


          if (!(t >= t0)) {
            // looping?
            var t1global = pp[1];

            if (t < t1global) {
              i1 = 2; // + 1, using the scan for the details

              t0 = t1global;
            } // linear reverse scan


            for (var giveUpAt = i1 - 2;;) {
              if (t0 === undefined) {
                // before start
                this._cachedIndex = 0;
                return this.beforeStart_(0, t, t1);
              }

              if (i1 === giveUpAt) break; // this loop

              t1 = t0;
              t0 = pp[--i1 - 1];

              if (t >= t0) {
                // we have arrived at the sought interval
                break seek;
              }
            } // prepare binary search on the left side of the index


            right = i1;
            i1 = 0;
            break linear_scan;
          } // the interval is valid


          break validate_interval;
        } // linear scan
        // binary search


        while (i1 < right) {
          var mid = i1 + right >>> 1;

          if (t < pp[mid]) {
            right = mid;
          } else {
            i1 = mid + 1;
          }
        }

        t1 = pp[i1];
        t0 = pp[i1 - 1]; // check boundary cases, again

        if (t0 === undefined) {
          this._cachedIndex = 0;
          return this.beforeStart_(0, t, t1);
        }

        if (t1 === undefined) {
          i1 = pp.length;
          this._cachedIndex = i1;
          return this.afterEnd_(i1 - 1, t0, t);
        }
      } // seek


      this._cachedIndex = i1;
      this.intervalChanged_(i1, t0, t1);
    } // validate_interval


    return this.interpolate_(i1, t0, t, t1);
  },
  settings: null,
  // optional, subclass-specific settings structure
  // Note: The indirection allows central control of many interpolants.
  // --- Protected interface
  DefaultSettings_: {},
  getSettings_: function () {
    return this.settings || this.DefaultSettings_;
  },
  copySampleValue_: function (index) {
    // copies a sample value to the result buffer
    var result = this.resultBuffer,
        values = this.sampleValues,
        stride = this.valueSize,
        offset = index * stride;

    for (var i = 0; i !== stride; ++i) {
      result[i] = values[offset + i];
    }

    return result;
  },
  // Template methods for derived classes:
  interpolate_: function
    /* i1, t0, t, t1 */
  () {
    throw new Error('call to abstract method'); // implementations shall return this.resultBuffer
  },
  intervalChanged_: function
    /* i1, t0, t1 */
  () {// empty
  }
}); //!\ DECLARE ALIAS AFTER assign prototype !

Object.assign(Interpolant.prototype, {
  //( 0, t, t0 ), returns this.resultBuffer
  beforeStart_: Interpolant.prototype.copySampleValue_,
  //( N-1, tN-1, t ), returns this.resultBuffer
  afterEnd_: Interpolant.prototype.copySampleValue_
});
/**
 * Fast and simple cubic spline interpolant.
 *
 * It was derived from a Hermitian construction setting the first derivative
 * at each sample position to the linear slope between neighboring positions
 * over their parameter interval.
 *
 * @author tschw
 */

function CubicInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {
  Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);
  this._weightPrev = -0;
  this._offsetPrev = -0;
  this._weightNext = -0;
  this._offsetNext = -0;
}

CubicInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {
  constructor: CubicInterpolant,
  DefaultSettings_: {
    endingStart: ZeroCurvatureEnding,
    endingEnd: ZeroCurvatureEnding
  },
  intervalChanged_: function (i1, t0, t1) {
    var pp = this.parameterPositions,
        iPrev = i1 - 2,
        iNext = i1 + 1,
        tPrev = pp[iPrev],
        tNext = pp[iNext];

    if (tPrev === undefined) {
      switch (this.getSettings_().endingStart) {
        case ZeroSlopeEnding:
          // f'(t0) = 0
          iPrev = i1;
          tPrev = 2 * t0 - t1;
          break;

        case WrapAroundEnding:
          // use the other end of the curve
          iPrev = pp.length - 2;
          tPrev = t0 + pp[iPrev] - pp[iPrev + 1];
          break;

        default:
          // ZeroCurvatureEnding
          // f''(t0) = 0 a.k.a. Natural Spline
          iPrev = i1;
          tPrev = t1;
      }
    }

    if (tNext === undefined) {
      switch (this.getSettings_().endingEnd) {
        case ZeroSlopeEnding:
          // f'(tN) = 0
          iNext = i1;
          tNext = 2 * t1 - t0;
          break;

        case WrapAroundEnding:
          // use the other end of the curve
          iNext = 1;
          tNext = t1 + pp[1] - pp[0];
          break;

        default:
          // ZeroCurvatureEnding
          // f''(tN) = 0, a.k.a. Natural Spline
          iNext = i1 - 1;
          tNext = t0;
      }
    }

    var halfDt = (t1 - t0) * 0.5,
        stride = this.valueSize;
    this._weightPrev = halfDt / (t0 - tPrev);
    this._weightNext = halfDt / (tNext - t1);
    this._offsetPrev = iPrev * stride;
    this._offsetNext = iNext * stride;
  },
  interpolate_: function (i1, t0, t, t1) {
    var result = this.resultBuffer,
        values = this.sampleValues,
        stride = this.valueSize,
        o1 = i1 * stride,
        o0 = o1 - stride,
        oP = this._offsetPrev,
        oN = this._offsetNext,
        wP = this._weightPrev,
        wN = this._weightNext,
        p = (t - t0) / (t1 - t0),
        pp = p * p,
        ppp = pp * p; // evaluate polynomials

    var sP = -wP * ppp + 2 * wP * pp - wP * p;
    var s0 = (1 + wP) * ppp + (-1.5 - 2 * wP) * pp + (-0.5 + wP) * p + 1;
    var s1 = (-1 - wN) * ppp + (1.5 + wN) * pp + 0.5 * p;
    var sN = wN * ppp - wN * pp; // combine data linearly

    for (var i = 0; i !== stride; ++i) {
      result[i] = sP * values[oP + i] + s0 * values[o0 + i] + s1 * values[o1 + i] + sN * values[oN + i];
    }

    return result;
  }
});
/**
 * @author tschw
 */

function LinearInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {
  Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);
}

LinearInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {
  constructor: LinearInterpolant,
  interpolate_: function (i1, t0, t, t1) {
    var result = this.resultBuffer,
        values = this.sampleValues,
        stride = this.valueSize,
        offset1 = i1 * stride,
        offset0 = offset1 - stride,
        weight1 = (t - t0) / (t1 - t0),
        weight0 = 1 - weight1;

    for (var i = 0; i !== stride; ++i) {
      result[i] = values[offset0 + i] * weight0 + values[offset1 + i] * weight1;
    }

    return result;
  }
});
/**
 *
 * Interpolant that evaluates to the sample value at the position preceeding
 * the parameter.
 *
 * @author tschw
 */

function DiscreteInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {
  Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);
}

DiscreteInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {
  constructor: DiscreteInterpolant,
  interpolate_: function (i1
  /*, t0, t, t1 */
  ) {
    return this.copySampleValue_(i1 - 1);
  }
});
/**
 *
 * A timed sequence of keyframes for a specific property.
 *
 *
 * @author Ben Houston / http://clara.io/
 * @author David Sarno / http://lighthaus.us/
 * @author tschw
 */

function KeyframeTrack(name, times, values, interpolation) {
  if (name === undefined) throw new Error('THREE.KeyframeTrack: track name is undefined');
  if (times === undefined || times.length === 0) throw new Error('THREE.KeyframeTrack: no keyframes in track named ' + name);
  this.name = name;
  this.times = AnimationUtils.convertArray(times, this.TimeBufferType);
  this.values = AnimationUtils.convertArray(values, this.ValueBufferType);
  this.setInterpolation(interpolation || this.DefaultInterpolation);
} // Static methods


Object.assign(KeyframeTrack, {
  // Serialization (in static context, because of constructor invocation
  // and automatic invocation of .toJSON):
  toJSON: function (track) {
    var trackType = track.constructor;
    var json; // derived classes can define a static toJSON method

    if (trackType.toJSON !== undefined) {
      json = trackType.toJSON(track);
    } else {
      // by default, we assume the data can be serialized as-is
      json = {
        'name': track.name,
        'times': AnimationUtils.convertArray(track.times, Array),
        'values': AnimationUtils.convertArray(track.values, Array)
      };
      var interpolation = track.getInterpolation();

      if (interpolation !== track.DefaultInterpolation) {
        json.interpolation = interpolation;
      }
    }

    json.type = track.ValueTypeName; // mandatory

    return json;
  }
});
Object.assign(KeyframeTrack.prototype, {
  constructor: KeyframeTrack,
  TimeBufferType: Float32Array,
  ValueBufferType: Float32Array,
  DefaultInterpolation: InterpolateLinear,
  InterpolantFactoryMethodDiscrete: function (result) {
    return new DiscreteInterpolant(this.times, this.values, this.getValueSize(), result);
  },
  InterpolantFactoryMethodLinear: function (result) {
    return new LinearInterpolant(this.times, this.values, this.getValueSize(), result);
  },
  InterpolantFactoryMethodSmooth: function (result) {
    return new CubicInterpolant(this.times, this.values, this.getValueSize(), result);
  },
  setInterpolation: function (interpolation) {
    var factoryMethod;

    switch (interpolation) {
      case InterpolateDiscrete:
        factoryMethod = this.InterpolantFactoryMethodDiscrete;
        break;

      case InterpolateLinear:
        factoryMethod = this.InterpolantFactoryMethodLinear;
        break;

      case InterpolateSmooth:
        factoryMethod = this.InterpolantFactoryMethodSmooth;
        break;
    }

    if (factoryMethod === undefined) {
      var message = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;

      if (this.createInterpolant === undefined) {
        // fall back to default, unless the default itself is messed up
        if (interpolation !== this.DefaultInterpolation) {
          this.setInterpolation(this.DefaultInterpolation);
        } else {
          throw new Error(message); // fatal, in this case
        }
      }

      console.warn('THREE.KeyframeTrack:', message);
      return this;
    }

    this.createInterpolant = factoryMethod;
    return this;
  },
  getInterpolation: function () {
    switch (this.createInterpolant) {
      case this.InterpolantFactoryMethodDiscrete:
        return InterpolateDiscrete;

      case this.InterpolantFactoryMethodLinear:
        return InterpolateLinear;

      case this.InterpolantFactoryMethodSmooth:
        return InterpolateSmooth;
    }
  },
  getValueSize: function () {
    return this.values.length / this.times.length;
  },
  // move all keyframes either forwards or backwards in time
  shift: function (timeOffset) {
    if (timeOffset !== 0.0) {
      var times = this.times;

      for (var i = 0, n = times.length; i !== n; ++i) {
        times[i] += timeOffset;
      }
    }

    return this;
  },
  // scale all keyframe times by a factor (useful for frame <-> seconds conversions)
  scale: function (timeScale) {
    if (timeScale !== 1.0) {
      var times = this.times;

      for (var i = 0, n = times.length; i !== n; ++i) {
        times[i] *= timeScale;
      }
    }

    return this;
  },
  // removes keyframes before and after animation without changing any values within the range [startTime, endTime].
  // IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values
  trim: function (startTime, endTime) {
    var times = this.times,
        nKeys = times.length,
        from = 0,
        to = nKeys - 1;

    while (from !== nKeys && times[from] < startTime) {
      ++from;
    }

    while (to !== -1 && times[to] > endTime) {
      --to;
    }

    ++to; // inclusive -> exclusive bound

    if (from !== 0 || to !== nKeys) {
      // empty tracks are forbidden, so keep at least one keyframe
      if (from >= to) to = Math.max(to, 1), from = to - 1;
      var stride = this.getValueSize();
      this.times = AnimationUtils.arraySlice(times, from, to);
      this.values = AnimationUtils.arraySlice(this.values, from * stride, to * stride);
    }

    return this;
  },
  // ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable
  validate: function () {
    var valid = true;
    var valueSize = this.getValueSize();

    if (valueSize - Math.floor(valueSize) !== 0) {
      console.error('THREE.KeyframeTrack: Invalid value size in track.', this);
      valid = false;
    }

    var times = this.times,
        values = this.values,
        nKeys = times.length;

    if (nKeys === 0) {
      console.error('THREE.KeyframeTrack: Track is empty.', this);
      valid = false;
    }

    var prevTime = null;

    for (var i = 0; i !== nKeys; i++) {
      var currTime = times[i];

      if (typeof currTime === 'number' && isNaN(currTime)) {
        console.error('THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime);
        valid = false;
        break;
      }

      if (prevTime !== null && prevTime > currTime) {
        console.error('THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime);
        valid = false;
        break;
      }

      prevTime = currTime;
    }

    if (values !== undefined) {
      if (AnimationUtils.isTypedArray(values)) {
        for (var i = 0, n = values.length; i !== n; ++i) {
          var value = values[i];

          if (isNaN(value)) {
            console.error('THREE.KeyframeTrack: Value is not a valid number.', this, i, value);
            valid = false;
            break;
          }
        }
      }
    }

    return valid;
  },
  // removes equivalent sequential keys as common in morph target sequences
  // (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)
  optimize: function () {
    var times = this.times,
        values = this.values,
        stride = this.getValueSize(),
        smoothInterpolation = this.getInterpolation() === InterpolateSmooth,
        writeIndex = 1,
        lastIndex = times.length - 1;

    for (var i = 1; i < lastIndex; ++i) {
      var keep = false;
      var time = times[i];
      var timeNext = times[i + 1]; // remove adjacent keyframes scheduled at the same time

      if (time !== timeNext && (i !== 1 || time !== time[0])) {
        if (!smoothInterpolation) {
          // remove unnecessary keyframes same as their neighbors
          var offset = i * stride,
              offsetP = offset - stride,
              offsetN = offset + stride;

          for (var j = 0; j !== stride; ++j) {
            var value = values[offset + j];

            if (value !== values[offsetP + j] || value !== values[offsetN + j]) {
              keep = true;
              break;
            }
          }
        } else {
          keep = true;
        }
      } // in-place compaction


      if (keep) {
        if (i !== writeIndex) {
          times[writeIndex] = times[i];
          var readOffset = i * stride,
              writeOffset = writeIndex * stride;

          for (var j = 0; j !== stride; ++j) {
            values[writeOffset + j] = values[readOffset + j];
          }
        }

        ++writeIndex;
      }
    } // flush last keyframe (compaction looks ahead)


    if (lastIndex > 0) {
      times[writeIndex] = times[lastIndex];

      for (var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++j) {
        values[writeOffset + j] = values[readOffset + j];
      }

      ++writeIndex;
    }

    if (writeIndex !== times.length) {
      this.times = AnimationUtils.arraySlice(times, 0, writeIndex);
      this.values = AnimationUtils.arraySlice(values, 0, writeIndex * stride);
    }

    return this;
  },
  clone: function () {
    var times = AnimationUtils.arraySlice(this.times, 0);
    var values = AnimationUtils.arraySlice(this.values, 0);
    var TypedKeyframeTrack = this.constructor;
    var track = new TypedKeyframeTrack(this.name, times, values); // Interpolant argument to constructor is not saved, so copy the factory method directly.

    track.createInterpolant = this.createInterpolant;
    return track;
  }
});
/**
 *
 * A Track of Boolean keyframe values.
 *
 *
 * @author Ben Houston / http://clara.io/
 * @author David Sarno / http://lighthaus.us/
 * @author tschw
 */

function BooleanKeyframeTrack(name, times, values) {
  KeyframeTrack.call(this, name, times, values);
}

BooleanKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {
  constructor: BooleanKeyframeTrack,
  ValueTypeName: 'bool',
  ValueBufferType: Array,
  DefaultInterpolation: InterpolateDiscrete,
  InterpolantFactoryMethodLinear: undefined,
  InterpolantFactoryMethodSmooth: undefined // Note: Actually this track could have a optimized / compressed
  // representation of a single value and a custom interpolant that
  // computes "firstValue ^ isOdd( index )".

});
/**
 *
 * A Track of keyframe values that represent color.
 *
 *
 * @author Ben Houston / http://clara.io/
 * @author David Sarno / http://lighthaus.us/
 * @author tschw
 */

function ColorKeyframeTrack(name, times, values, interpolation) {
  KeyframeTrack.call(this, name, times, values, interpolation);
}

ColorKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {
  constructor: ColorKeyframeTrack,
  ValueTypeName: 'color' // ValueBufferType is inherited
  // DefaultInterpolation is inherited
  // Note: Very basic implementation and nothing special yet.
  // However, this is the place for color space parameterization.

});
/**
 *
 * A Track of numeric keyframe values.
 *
 * @author Ben Houston / http://clara.io/
 * @author David Sarno / http://lighthaus.us/
 * @author tschw
 */

function NumberKeyframeTrack(name, times, values, interpolation) {
  KeyframeTrack.call(this, name, times, values, interpolation);
}

NumberKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {
  constructor: NumberKeyframeTrack,
  ValueTypeName: 'number' // ValueBufferType is inherited
  // DefaultInterpolation is inherited

});
/**
 * Spherical linear unit quaternion interpolant.
 *
 * @author tschw
 */

function QuaternionLinearInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {
  Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);
}

QuaternionLinearInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {
  constructor: QuaternionLinearInterpolant,
  interpolate_: function (i1, t0, t, t1) {
    var result = this.resultBuffer,
        values = this.sampleValues,
        stride = this.valueSize,
        offset = i1 * stride,
        alpha = (t - t0) / (t1 - t0);

    for (var end = offset + stride; offset !== end; offset += 4) {
      Quaternion.slerpFlat(result, 0, values, offset - stride, values, offset, alpha);
    }

    return result;
  }
});
/**
 *
 * A Track of quaternion keyframe values.
 *
 * @author Ben Houston / http://clara.io/
 * @author David Sarno / http://lighthaus.us/
 * @author tschw
 */

function QuaternionKeyframeTrack(name, times, values, interpolation) {
  KeyframeTrack.call(this, name, times, values, interpolation);
}

QuaternionKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {
  constructor: QuaternionKeyframeTrack,
  ValueTypeName: 'quaternion',
  // ValueBufferType is inherited
  DefaultInterpolation: InterpolateLinear,
  InterpolantFactoryMethodLinear: function (result) {
    return new QuaternionLinearInterpolant(this.times, this.values, this.getValueSize(), result);
  },
  InterpolantFactoryMethodSmooth: undefined // not yet implemented

});
/**
 *
 * A Track that interpolates Strings
 *
 *
 * @author Ben Houston / http://clara.io/
 * @author David Sarno / http://lighthaus.us/
 * @author tschw
 */

function StringKeyframeTrack(name, times, values, interpolation) {
  KeyframeTrack.call(this, name, times, values, interpolation);
}

StringKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {
  constructor: StringKeyframeTrack,
  ValueTypeName: 'string',
  ValueBufferType: Array,
  DefaultInterpolation: InterpolateDiscrete,
  InterpolantFactoryMethodLinear: undefined,
  InterpolantFactoryMethodSmooth: undefined
});
/**
 *
 * A Track of vectored keyframe values.
 *
 *
 * @author Ben Houston / http://clara.io/
 * @author David Sarno / http://lighthaus.us/
 * @author tschw
 */

function VectorKeyframeTrack(name, times, values, interpolation) {
  KeyframeTrack.call(this, name, times, values, interpolation);
}

VectorKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {
  constructor: VectorKeyframeTrack,
  ValueTypeName: 'vector' // ValueBufferType is inherited
  // DefaultInterpolation is inherited

});
/**
 *
 * Reusable set of Tracks that represent an animation.
 *
 * @author Ben Houston / http://clara.io/
 * @author David Sarno / http://lighthaus.us/
 */

function AnimationClip(name, duration, tracks) {
  this.name = name;
  this.tracks = tracks;
  this.duration = duration !== undefined ? duration : -1;
  this.uuid = _Math.generateUUID(); // this means it should figure out its duration by scanning the tracks

  if (this.duration < 0) {
    this.resetDuration();
  }
}

function getTrackTypeForValueTypeName(typeName) {
  switch (typeName.toLowerCase()) {
    case 'scalar':
    case 'double':
    case 'float':
    case 'number':
    case 'integer':
      return NumberKeyframeTrack;

    case 'vector':
    case 'vector2':
    case 'vector3':
    case 'vector4':
      return VectorKeyframeTrack;

    case 'color':
      return ColorKeyframeTrack;

    case 'quaternion':
      return QuaternionKeyframeTrack;

    case 'bool':
    case 'boolean':
      return BooleanKeyframeTrack;

    case 'string':
      return StringKeyframeTrack;
  }

  throw new Error('THREE.KeyframeTrack: Unsupported typeName: ' + typeName);
}

function parseKeyframeTrack(json) {
  if (json.type === undefined) {
    throw new Error('THREE.KeyframeTrack: track type undefined, can not parse');
  }

  var trackType = getTrackTypeForValueTypeName(json.type);

  if (json.times === undefined) {
    var times = [],
        values = [];
    AnimationUtils.flattenJSON(json.keys, times, values, 'value');
    json.times = times;
    json.values = values;
  } // derived classes can define a static parse method


  if (trackType.parse !== undefined) {
    return trackType.parse(json);
  } else {
    // by default, we assume a constructor compatible with the base
    return new trackType(json.name, json.times, json.values, json.interpolation);
  }
}

Object.assign(AnimationClip, {
  parse: function (json) {
    var tracks = [],
        jsonTracks = json.tracks,
        frameTime = 1.0 / (json.fps || 1.0);

    for (var i = 0, n = jsonTracks.length; i !== n; ++i) {
      tracks.push(parseKeyframeTrack(jsonTracks[i]).scale(frameTime));
    }

    return new AnimationClip(json.name, json.duration, tracks);
  },
  toJSON: function (clip) {
    var tracks = [],
        clipTracks = clip.tracks;
    var json = {
      'name': clip.name,
      'duration': clip.duration,
      'tracks': tracks,
      'uuid': clip.uuid
    };

    for (var i = 0, n = clipTracks.length; i !== n; ++i) {
      tracks.push(KeyframeTrack.toJSON(clipTracks[i]));
    }

    return json;
  },
  CreateFromMorphTargetSequence: function (name, morphTargetSequence, fps, noLoop) {
    var numMorphTargets = morphTargetSequence.length;
    var tracks = [];

    for (var i = 0; i < numMorphTargets; i++) {
      var times = [];
      var values = [];
      times.push((i + numMorphTargets - 1) % numMorphTargets, i, (i + 1) % numMorphTargets);
      values.push(0, 1, 0);
      var order = AnimationUtils.getKeyframeOrder(times);
      times = AnimationUtils.sortedArray(times, 1, order);
      values = AnimationUtils.sortedArray(values, 1, order); // if there is a key at the first frame, duplicate it as the
      // last frame as well for perfect loop.

      if (!noLoop && times[0] === 0) {
        times.push(numMorphTargets);
        values.push(values[0]);
      }

      tracks.push(new NumberKeyframeTrack('.morphTargetInfluences[' + morphTargetSequence[i].name + ']', times, values).scale(1.0 / fps));
    }

    return new AnimationClip(name, -1, tracks);
  },
  findByName: function (objectOrClipArray, name) {
    var clipArray = objectOrClipArray;

    if (!Array.isArray(objectOrClipArray)) {
      var o = objectOrClipArray;
      clipArray = o.geometry && o.geometry.animations || o.animations;
    }

    for (var i = 0; i < clipArray.length; i++) {
      if (clipArray[i].name === name) {
        return clipArray[i];
      }
    }

    return null;
  },
  CreateClipsFromMorphTargetSequences: function (morphTargets, fps, noLoop) {
    var animationToMorphTargets = {}; // tested with https://regex101.com/ on trick sequences
    // such flamingo_flyA_003, flamingo_run1_003, crdeath0059

    var pattern = /^([\w-]*?)([\d]+)$/; // sort morph target names into animation groups based
    // patterns like Walk_001, Walk_002, Run_001, Run_002

    for (var i = 0, il = morphTargets.length; i < il; i++) {
      var morphTarget = morphTargets[i];
      var parts = morphTarget.name.match(pattern);

      if (parts && parts.length > 1) {
        var name = parts[1];
        var animationMorphTargets = animationToMorphTargets[name];

        if (!animationMorphTargets) {
          animationToMorphTargets[name] = animationMorphTargets = [];
        }

        animationMorphTargets.push(morphTarget);
      }
    }

    var clips = [];

    for (var name in animationToMorphTargets) {
      clips.push(AnimationClip.CreateFromMorphTargetSequence(name, animationToMorphTargets[name], fps, noLoop));
    }

    return clips;
  },
  // parse the animation.hierarchy format
  parseAnimation: function (animation, bones) {
    if (!animation) {
      console.error('THREE.AnimationClip: No animation in JSONLoader data.');
      return null;
    }

    var addNonemptyTrack = function (trackType, trackName, animationKeys, propertyName, destTracks) {
      // only return track if there are actually keys.
      if (animationKeys.length !== 0) {
        var times = [];
        var values = [];
        AnimationUtils.flattenJSON(animationKeys, times, values, propertyName); // empty keys are filtered out, so check again

        if (times.length !== 0) {
          destTracks.push(new trackType(trackName, times, values));
        }
      }
    };

    var tracks = [];
    var clipName = animation.name || 'default'; // automatic length determination in AnimationClip.

    var duration = animation.length || -1;
    var fps = animation.fps || 30;
    var hierarchyTracks = animation.hierarchy || [];

    for (var h = 0; h < hierarchyTracks.length; h++) {
      var animationKeys = hierarchyTracks[h].keys; // skip empty tracks

      if (!animationKeys || animationKeys.length === 0) continue; // process morph targets

      if (animationKeys[0].morphTargets) {
        // figure out all morph targets used in this track
        var morphTargetNames = {};

        for (var k = 0; k < animationKeys.length; k++) {
          if (animationKeys[k].morphTargets) {
            for (var m = 0; m < animationKeys[k].morphTargets.length; m++) {
              morphTargetNames[animationKeys[k].morphTargets[m]] = -1;
            }
          }
        } // create a track for each morph target with all zero
        // morphTargetInfluences except for the keys in which
        // the morphTarget is named.


        for (var morphTargetName in morphTargetNames) {
          var times = [];
          var values = [];

          for (var m = 0; m !== animationKeys[k].morphTargets.length; ++m) {
            var animationKey = animationKeys[k];
            times.push(animationKey.time);
            values.push(animationKey.morphTarget === morphTargetName ? 1 : 0);
          }

          tracks.push(new NumberKeyframeTrack('.morphTargetInfluence[' + morphTargetName + ']', times, values));
        }

        duration = morphTargetNames.length * (fps || 1.0);
      } else {
        // ...assume skeletal animation
        var boneName = '.bones[' + bones[h].name + ']';
        addNonemptyTrack(VectorKeyframeTrack, boneName + '.position', animationKeys, 'pos', tracks);
        addNonemptyTrack(QuaternionKeyframeTrack, boneName + '.quaternion', animationKeys, 'rot', tracks);
        addNonemptyTrack(VectorKeyframeTrack, boneName + '.scale', animationKeys, 'scl', tracks);
      }
    }

    if (tracks.length === 0) {
      return null;
    }

    var clip = new AnimationClip(clipName, duration, tracks);
    return clip;
  }
});
Object.assign(AnimationClip.prototype, {
  resetDuration: function () {
    var tracks = this.tracks,
        duration = 0;

    for (var i = 0, n = tracks.length; i !== n; ++i) {
      var track = this.tracks[i];
      duration = Math.max(duration, track.times[track.times.length - 1]);
    }

    this.duration = duration;
    return this;
  },
  trim: function () {
    for (var i = 0; i < this.tracks.length; i++) {
      this.tracks[i].trim(0, this.duration);
    }

    return this;
  },
  validate: function () {
    var valid = true;

    for (var i = 0; i < this.tracks.length; i++) {
      valid = valid && this.tracks[i].validate();
    }

    return valid;
  },
  optimize: function () {
    for (var i = 0; i < this.tracks.length; i++) {
      this.tracks[i].optimize();
    }

    return this;
  },
  clone: function () {
    var tracks = [];

    for (var i = 0; i < this.tracks.length; i++) {
      tracks.push(this.tracks[i].clone());
    }

    return new AnimationClip(this.name, this.duration, tracks);
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

var Cache = {
  enabled: false,
  files: {},
  add: function (key, file) {
    if (this.enabled === false) return; // console.log( 'THREE.Cache', 'Adding key:', key );

    this.files[key] = file;
  },
  get: function (key) {
    if (this.enabled === false) return; // console.log( 'THREE.Cache', 'Checking key:', key );

    return this.files[key];
  },
  remove: function (key) {
    delete this.files[key];
  },
  clear: function () {
    this.files = {};
  }
};
/**
 * @author mrdoob / http://mrdoob.com/
 */

exports.Cache = Cache;

function LoadingManager(onLoad, onProgress, onError) {
  var scope = this;
  var isLoading = false;
  var itemsLoaded = 0;
  var itemsTotal = 0;
  var urlModifier = undefined; // Refer to #5689 for the reason why we don't set .onStart
  // in the constructor

  this.onStart = undefined;
  this.onLoad = onLoad;
  this.onProgress = onProgress;
  this.onError = onError;

  this.itemStart = function (url) {
    itemsTotal++;

    if (isLoading === false) {
      if (scope.onStart !== undefined) {
        scope.onStart(url, itemsLoaded, itemsTotal);
      }
    }

    isLoading = true;
  };

  this.itemEnd = function (url) {
    itemsLoaded++;

    if (scope.onProgress !== undefined) {
      scope.onProgress(url, itemsLoaded, itemsTotal);
    }

    if (itemsLoaded === itemsTotal) {
      isLoading = false;

      if (scope.onLoad !== undefined) {
        scope.onLoad();
      }
    }
  };

  this.itemError = function (url) {
    if (scope.onError !== undefined) {
      scope.onError(url);
    }
  };

  this.resolveURL = function (url) {
    if (urlModifier) {
      return urlModifier(url);
    }

    return url;
  };

  this.setURLModifier = function (transform) {
    urlModifier = transform;
    return this;
  };
}

var DefaultLoadingManager = new LoadingManager();
/**
 * @author mrdoob / http://mrdoob.com/
 */

exports.DefaultLoadingManager = DefaultLoadingManager;
var loading = {};

function FileLoader(manager) {
  this.manager = manager !== undefined ? manager : DefaultLoadingManager;
}

Object.assign(FileLoader.prototype, {
  load: function (url, onLoad, onProgress, onError) {
    if (url === undefined) url = '';
    if (this.path !== undefined) url = this.path + url;
    url = this.manager.resolveURL(url);
    var scope = this;
    var cached = Cache.get(url);

    if (cached !== undefined) {
      scope.manager.itemStart(url);
      setTimeout(function () {
        if (onLoad) onLoad(cached);
        scope.manager.itemEnd(url);
      }, 0);
      return cached;
    } // Check if request is duplicate


    if (loading[url] !== undefined) {
      loading[url].push({
        onLoad: onLoad,
        onProgress: onProgress,
        onError: onError
      });
      return;
    } // Check for data: URI


    var dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;
    var dataUriRegexResult = url.match(dataUriRegex); // Safari can not handle Data URIs through XMLHttpRequest so process manually

    if (dataUriRegexResult) {
      var mimeType = dataUriRegexResult[1];
      var isBase64 = !!dataUriRegexResult[2];
      var data = dataUriRegexResult[3];
      data = decodeURIComponent(data);
      if (isBase64) data = atob(data);

      try {
        var response;
        var responseType = (this.responseType || '').toLowerCase();

        switch (responseType) {
          case 'arraybuffer':
          case 'blob':
            var view = new Uint8Array(data.length);

            for (var i = 0; i < data.length; i++) {
              view[i] = data.charCodeAt(i);
            }

            if (responseType === 'blob') {
              response = new Blob([view.buffer], {
                type: mimeType
              });
            } else {
              response = view.buffer;
            }

            break;

          case 'document':
            var parser = new DOMParser();
            response = parser.parseFromString(data, mimeType);
            break;

          case 'json':
            response = JSON.parse(data);
            break;

          default:
            // 'text' or other
            response = data;
            break;
        } // Wait for next browser tick like standard XMLHttpRequest event dispatching does


        setTimeout(function () {
          if (onLoad) onLoad(response);
          scope.manager.itemEnd(url);
        }, 0);
      } catch (error) {
        // Wait for next browser tick like standard XMLHttpRequest event dispatching does
        setTimeout(function () {
          if (onError) onError(error);
          scope.manager.itemError(url);
          scope.manager.itemEnd(url);
        }, 0);
      }
    } else {
      // Initialise array for duplicate requests
      loading[url] = [];
      loading[url].push({
        onLoad: onLoad,
        onProgress: onProgress,
        onError: onError
      });
      var request = new XMLHttpRequest();
      request.open('GET', url, true);
      request.addEventListener('load', function (event) {
        var response = this.response;
        Cache.add(url, response);
        var callbacks = loading[url];
        delete loading[url];

        if (this.status === 200 || this.status === 0) {
          // Some browsers return HTTP Status 0 when using non-http protocol
          // e.g. 'file://' or 'data://'. Handle as success.
          if (this.status === 0) console.warn('THREE.FileLoader: HTTP Status 0 received.');

          for (var i = 0, il = callbacks.length; i < il; i++) {
            var callback = callbacks[i];
            if (callback.onLoad) callback.onLoad(response);
          }

          scope.manager.itemEnd(url);
        } else {
          for (var i = 0, il = callbacks.length; i < il; i++) {
            var callback = callbacks[i];
            if (callback.onError) callback.onError(event);
          }

          scope.manager.itemError(url);
          scope.manager.itemEnd(url);
        }
      }, false);
      request.addEventListener('progress', function (event) {
        var callbacks = loading[url];

        for (var i = 0, il = callbacks.length; i < il; i++) {
          var callback = callbacks[i];
          if (callback.onProgress) callback.onProgress(event);
        }
      }, false);
      request.addEventListener('error', function (event) {
        var callbacks = loading[url];
        delete loading[url];

        for (var i = 0, il = callbacks.length; i < il; i++) {
          var callback = callbacks[i];
          if (callback.onError) callback.onError(event);
        }

        scope.manager.itemError(url);
        scope.manager.itemEnd(url);
      }, false);
      request.addEventListener('abort', function (event) {
        var callbacks = loading[url];
        delete loading[url];

        for (var i = 0, il = callbacks.length; i < il; i++) {
          var callback = callbacks[i];
          if (callback.onError) callback.onError(event);
        }

        scope.manager.itemError(url);
        scope.manager.itemEnd(url);
      }, false);
      if (this.responseType !== undefined) request.responseType = this.responseType;
      if (this.withCredentials !== undefined) request.withCredentials = this.withCredentials;
      if (request.overrideMimeType) request.overrideMimeType(this.mimeType !== undefined ? this.mimeType : 'text/plain');

      for (var header in this.requestHeader) {
        request.setRequestHeader(header, this.requestHeader[header]);
      }

      request.send(null);
    }

    scope.manager.itemStart(url);
    return request;
  },
  setPath: function (value) {
    this.path = value;
    return this;
  },
  setResponseType: function (value) {
    this.responseType = value;
    return this;
  },
  setWithCredentials: function (value) {
    this.withCredentials = value;
    return this;
  },
  setMimeType: function (value) {
    this.mimeType = value;
    return this;
  },
  setRequestHeader: function (value) {
    this.requestHeader = value;
    return this;
  }
});
/**
 * @author bhouston / http://clara.io/
 */

function AnimationLoader(manager) {
  this.manager = manager !== undefined ? manager : DefaultLoadingManager;
}

Object.assign(AnimationLoader.prototype, {
  load: function (url, onLoad, onProgress, onError) {
    var scope = this;
    var loader = new FileLoader(scope.manager);
    loader.setPath(scope.path);
    loader.load(url, function (text) {
      onLoad(scope.parse(JSON.parse(text)));
    }, onProgress, onError);
  },
  parse: function (json) {
    var animations = [];

    for (var i = 0; i < json.length; i++) {
      var clip = AnimationClip.parse(json[i]);
      animations.push(clip);
    }

    return animations;
  },
  setPath: function (value) {
    this.path = value;
    return this;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 *
 * Abstract Base class to block based textures loader (dds, pvr, ...)
 */

function CompressedTextureLoader(manager) {
  this.manager = manager !== undefined ? manager : DefaultLoadingManager; // override in sub classes

  this._parser = null;
}

Object.assign(CompressedTextureLoader.prototype, {
  load: function (url, onLoad, onProgress, onError) {
    var scope = this;
    var images = [];
    var texture = new CompressedTexture();
    texture.image = images;
    var loader = new FileLoader(this.manager);
    loader.setPath(this.path);
    loader.setResponseType('arraybuffer');

    function loadTexture(i) {
      loader.load(url[i], function (buffer) {
        var texDatas = scope._parser(buffer, true);

        images[i] = {
          width: texDatas.width,
          height: texDatas.height,
          format: texDatas.format,
          mipmaps: texDatas.mipmaps
        };
        loaded += 1;

        if (loaded === 6) {
          if (texDatas.mipmapCount === 1) texture.minFilter = LinearFilter;
          texture.format = texDatas.format;
          texture.needsUpdate = true;
          if (onLoad) onLoad(texture);
        }
      }, onProgress, onError);
    }

    if (Array.isArray(url)) {
      var loaded = 0;

      for (var i = 0, il = url.length; i < il; ++i) {
        loadTexture(i);
      }
    } else {
      // compressed cubemap texture stored in a single DDS file
      loader.load(url, function (buffer) {
        var texDatas = scope._parser(buffer, true);

        if (texDatas.isCubemap) {
          var faces = texDatas.mipmaps.length / texDatas.mipmapCount;

          for (var f = 0; f < faces; f++) {
            images[f] = {
              mipmaps: []
            };

            for (var i = 0; i < texDatas.mipmapCount; i++) {
              images[f].mipmaps.push(texDatas.mipmaps[f * texDatas.mipmapCount + i]);
              images[f].format = texDatas.format;
              images[f].width = texDatas.width;
              images[f].height = texDatas.height;
            }
          }
        } else {
          texture.image.width = texDatas.width;
          texture.image.height = texDatas.height;
          texture.mipmaps = texDatas.mipmaps;
        }

        if (texDatas.mipmapCount === 1) {
          texture.minFilter = LinearFilter;
        }

        texture.format = texDatas.format;
        texture.needsUpdate = true;
        if (onLoad) onLoad(texture);
      }, onProgress, onError);
    }

    return texture;
  },
  setPath: function (value) {
    this.path = value;
    return this;
  }
});
/**
 * @author Nikos M. / https://github.com/foo123/
 *
 * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)
 */

function DataTextureLoader(manager) {
  this.manager = manager !== undefined ? manager : DefaultLoadingManager; // override in sub classes

  this._parser = null;
}

Object.assign(DataTextureLoader.prototype, {
  load: function (url, onLoad, onProgress, onError) {
    var scope = this;
    var texture = new DataTexture();
    var loader = new FileLoader(this.manager);
    loader.setResponseType('arraybuffer');
    loader.setPath(this.path);
    loader.load(url, function (buffer) {
      var texData = scope._parser(buffer);

      if (!texData) return;

      if (texData.image !== undefined) {
        texture.image = texData.image;
      } else if (texData.data !== undefined) {
        texture.image.width = texData.width;
        texture.image.height = texData.height;
        texture.image.data = texData.data;
      }

      texture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;
      texture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;
      texture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;
      texture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearMipmapLinearFilter;
      texture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;

      if (texData.format !== undefined) {
        texture.format = texData.format;
      }

      if (texData.type !== undefined) {
        texture.type = texData.type;
      }

      if (texData.mipmaps !== undefined) {
        texture.mipmaps = texData.mipmaps;
      }

      if (texData.mipmapCount === 1) {
        texture.minFilter = LinearFilter;
      }

      texture.needsUpdate = true;
      if (onLoad) onLoad(texture, texData);
    }, onProgress, onError);
    return texture;
  },
  setPath: function (value) {
    this.path = value;
    return this;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function ImageLoader(manager) {
  this.manager = manager !== undefined ? manager : DefaultLoadingManager;
}

Object.assign(ImageLoader.prototype, {
  crossOrigin: 'anonymous',
  load: function (url, onLoad, onProgress, onError) {
    if (url === undefined) url = '';
    if (this.path !== undefined) url = this.path + url;
    url = this.manager.resolveURL(url);
    var scope = this;
    var cached = Cache.get(url);

    if (cached !== undefined) {
      scope.manager.itemStart(url);
      setTimeout(function () {
        if (onLoad) onLoad(cached);
        scope.manager.itemEnd(url);
      }, 0);
      return cached;
    }

    var image = document.createElementNS('http://www.w3.org/1999/xhtml', 'img');

    function onImageLoad() {
      image.removeEventListener('load', onImageLoad, false);
      image.removeEventListener('error', onImageError, false);
      Cache.add(url, this);
      if (onLoad) onLoad(this);
      scope.manager.itemEnd(url);
    }

    function onImageError(event) {
      image.removeEventListener('load', onImageLoad, false);
      image.removeEventListener('error', onImageError, false);
      if (onError) onError(event);
      scope.manager.itemError(url);
      scope.manager.itemEnd(url);
    }

    image.addEventListener('load', onImageLoad, false);
    image.addEventListener('error', onImageError, false);

    if (url.substr(0, 5) !== 'data:') {
      if (this.crossOrigin !== undefined) image.crossOrigin = this.crossOrigin;
    }

    scope.manager.itemStart(url);
    image.src = url;
    return image;
  },
  setCrossOrigin: function (value) {
    this.crossOrigin = value;
    return this;
  },
  setPath: function (value) {
    this.path = value;
    return this;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function CubeTextureLoader(manager) {
  this.manager = manager !== undefined ? manager : DefaultLoadingManager;
}

Object.assign(CubeTextureLoader.prototype, {
  crossOrigin: 'anonymous',
  load: function (urls, onLoad, onProgress, onError) {
    var texture = new CubeTexture();
    var loader = new ImageLoader(this.manager);
    loader.setCrossOrigin(this.crossOrigin);
    loader.setPath(this.path);
    var loaded = 0;

    function loadTexture(i) {
      loader.load(urls[i], function (image) {
        texture.images[i] = image;
        loaded++;

        if (loaded === 6) {
          texture.needsUpdate = true;
          if (onLoad) onLoad(texture);
        }
      }, undefined, onError);
    }

    for (var i = 0; i < urls.length; ++i) {
      loadTexture(i);
    }

    return texture;
  },
  setCrossOrigin: function (value) {
    this.crossOrigin = value;
    return this;
  },
  setPath: function (value) {
    this.path = value;
    return this;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function TextureLoader(manager) {
  this.manager = manager !== undefined ? manager : DefaultLoadingManager;
}

Object.assign(TextureLoader.prototype, {
  crossOrigin: 'anonymous',
  load: function (url, onLoad, onProgress, onError) {
    var texture = new Texture();
    var loader = new ImageLoader(this.manager);
    loader.setCrossOrigin(this.crossOrigin);
    loader.setPath(this.path);
    loader.load(url, function (image) {
      texture.image = image; // JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.

      var isJPEG = url.search(/\.jpe?g($|\?)/i) > 0 || url.search(/^data\:image\/jpeg/) === 0;
      texture.format = isJPEG ? RGBFormat : RGBAFormat;
      texture.needsUpdate = true;

      if (onLoad !== undefined) {
        onLoad(texture);
      }
    }, onProgress, onError);
    return texture;
  },
  setCrossOrigin: function (value) {
    this.crossOrigin = value;
    return this;
  },
  setPath: function (value) {
    this.path = value;
    return this;
  }
});
/**
 * @author zz85 / http://www.lab4games.net/zz85/blog
 * Extensible curve object
 *
 * Some common of curve methods:
 * .getPoint( t, optionalTarget ), .getTangent( t )
 * .getPointAt( u, optionalTarget ), .getTangentAt( u )
 * .getPoints(), .getSpacedPoints()
 * .getLength()
 * .updateArcLengths()
 *
 * This following curves inherit from THREE.Curve:
 *
 * -- 2D curves --
 * THREE.ArcCurve
 * THREE.CubicBezierCurve
 * THREE.EllipseCurve
 * THREE.LineCurve
 * THREE.QuadraticBezierCurve
 * THREE.SplineCurve
 *
 * -- 3D curves --
 * THREE.CatmullRomCurve3
 * THREE.CubicBezierCurve3
 * THREE.LineCurve3
 * THREE.QuadraticBezierCurve3
 *
 * A series of curves can be represented as a THREE.CurvePath.
 *
 **/

/**************************************************************
 *	Abstract Curve base class
 **************************************************************/

function Curve() {
  this.type = 'Curve';
  this.arcLengthDivisions = 200;
}

Object.assign(Curve.prototype, {
  // Virtual base class method to overwrite and implement in subclasses
  //	- t [0 .. 1]
  getPoint: function
    /* t, optionalTarget */
  () {
    console.warn('THREE.Curve: .getPoint() not implemented.');
    return null;
  },
  // Get point at relative position in curve according to arc length
  // - u [0 .. 1]
  getPointAt: function (u, optionalTarget) {
    var t = this.getUtoTmapping(u);
    return this.getPoint(t, optionalTarget);
  },
  // Get sequence of points using getPoint( t )
  getPoints: function (divisions) {
    if (divisions === undefined) divisions = 5;
    var points = [];

    for (var d = 0; d <= divisions; d++) {
      points.push(this.getPoint(d / divisions));
    }

    return points;
  },
  // Get sequence of points using getPointAt( u )
  getSpacedPoints: function (divisions) {
    if (divisions === undefined) divisions = 5;
    var points = [];

    for (var d = 0; d <= divisions; d++) {
      points.push(this.getPointAt(d / divisions));
    }

    return points;
  },
  // Get total curve arc length
  getLength: function () {
    var lengths = this.getLengths();
    return lengths[lengths.length - 1];
  },
  // Get list of cumulative segment lengths
  getLengths: function (divisions) {
    if (divisions === undefined) divisions = this.arcLengthDivisions;

    if (this.cacheArcLengths && this.cacheArcLengths.length === divisions + 1 && !this.needsUpdate) {
      return this.cacheArcLengths;
    }

    this.needsUpdate = false;
    var cache = [];
    var current,
        last = this.getPoint(0);
    var p,
        sum = 0;
    cache.push(0);

    for (p = 1; p <= divisions; p++) {
      current = this.getPoint(p / divisions);
      sum += current.distanceTo(last);
      cache.push(sum);
      last = current;
    }

    this.cacheArcLengths = cache;
    return cache; // { sums: cache, sum: sum }; Sum is in the last element.
  },
  updateArcLengths: function () {
    this.needsUpdate = true;
    this.getLengths();
  },
  // Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant
  getUtoTmapping: function (u, distance) {
    var arcLengths = this.getLengths();
    var i = 0,
        il = arcLengths.length;
    var targetArcLength; // The targeted u distance value to get

    if (distance) {
      targetArcLength = distance;
    } else {
      targetArcLength = u * arcLengths[il - 1];
    } // binary search for the index with largest value smaller than target u distance


    var low = 0,
        high = il - 1,
        comparison;

    while (low <= high) {
      i = Math.floor(low + (high - low) / 2); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats

      comparison = arcLengths[i] - targetArcLength;

      if (comparison < 0) {
        low = i + 1;
      } else if (comparison > 0) {
        high = i - 1;
      } else {
        high = i;
        break; // DONE
      }
    }

    i = high;

    if (arcLengths[i] === targetArcLength) {
      return i / (il - 1);
    } // we could get finer grain at lengths, or use simple interpolation between two points


    var lengthBefore = arcLengths[i];
    var lengthAfter = arcLengths[i + 1];
    var segmentLength = lengthAfter - lengthBefore; // determine where we are between the 'before' and 'after' points

    var segmentFraction = (targetArcLength - lengthBefore) / segmentLength; // add that fractional amount to t

    var t = (i + segmentFraction) / (il - 1);
    return t;
  },
  // Returns a unit vector tangent at t
  // In case any sub curve does not implement its tangent derivation,
  // 2 points a small delta apart will be used to find its gradient
  // which seems to give a reasonable approximation
  getTangent: function (t) {
    var delta = 0.0001;
    var t1 = t - delta;
    var t2 = t + delta; // Capping in case of danger

    if (t1 < 0) t1 = 0;
    if (t2 > 1) t2 = 1;
    var pt1 = this.getPoint(t1);
    var pt2 = this.getPoint(t2);
    var vec = pt2.clone().sub(pt1);
    return vec.normalize();
  },
  getTangentAt: function (u) {
    var t = this.getUtoTmapping(u);
    return this.getTangent(t);
  },
  computeFrenetFrames: function (segments, closed) {
    // see http://www.cs.indiana.edu/pub/techreports/TR425.pdf
    var normal = new Vector3();
    var tangents = [];
    var normals = [];
    var binormals = [];
    var vec = new Vector3();
    var mat = new Matrix4();
    var i, u, theta; // compute the tangent vectors for each segment on the curve

    for (i = 0; i <= segments; i++) {
      u = i / segments;
      tangents[i] = this.getTangentAt(u);
      tangents[i].normalize();
    } // select an initial normal vector perpendicular to the first tangent vector,
    // and in the direction of the minimum tangent xyz component


    normals[0] = new Vector3();
    binormals[0] = new Vector3();
    var min = Number.MAX_VALUE;
    var tx = Math.abs(tangents[0].x);
    var ty = Math.abs(tangents[0].y);
    var tz = Math.abs(tangents[0].z);

    if (tx <= min) {
      min = tx;
      normal.set(1, 0, 0);
    }

    if (ty <= min) {
      min = ty;
      normal.set(0, 1, 0);
    }

    if (tz <= min) {
      normal.set(0, 0, 1);
    }

    vec.crossVectors(tangents[0], normal).normalize();
    normals[0].crossVectors(tangents[0], vec);
    binormals[0].crossVectors(tangents[0], normals[0]); // compute the slowly-varying normal and binormal vectors for each segment on the curve

    for (i = 1; i <= segments; i++) {
      normals[i] = normals[i - 1].clone();
      binormals[i] = binormals[i - 1].clone();
      vec.crossVectors(tangents[i - 1], tangents[i]);

      if (vec.length() > Number.EPSILON) {
        vec.normalize();
        theta = Math.acos(_Math.clamp(tangents[i - 1].dot(tangents[i]), -1, 1)); // clamp for floating pt errors

        normals[i].applyMatrix4(mat.makeRotationAxis(vec, theta));
      }

      binormals[i].crossVectors(tangents[i], normals[i]);
    } // if the curve is closed, postprocess the vectors so the first and last normal vectors are the same


    if (closed === true) {
      theta = Math.acos(_Math.clamp(normals[0].dot(normals[segments]), -1, 1));
      theta /= segments;

      if (tangents[0].dot(vec.crossVectors(normals[0], normals[segments])) > 0) {
        theta = -theta;
      }

      for (i = 1; i <= segments; i++) {
        // twist a little...
        normals[i].applyMatrix4(mat.makeRotationAxis(tangents[i], theta * i));
        binormals[i].crossVectors(tangents[i], normals[i]);
      }
    }

    return {
      tangents: tangents,
      normals: normals,
      binormals: binormals
    };
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (source) {
    this.arcLengthDivisions = source.arcLengthDivisions;
    return this;
  },
  toJSON: function () {
    var data = {
      metadata: {
        version: 4.5,
        type: 'Curve',
        generator: 'Curve.toJSON'
      }
    };
    data.arcLengthDivisions = this.arcLengthDivisions;
    data.type = this.type;
    return data;
  },
  fromJSON: function (json) {
    this.arcLengthDivisions = json.arcLengthDivisions;
    return this;
  }
});

function EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {
  Curve.call(this);
  this.type = 'EllipseCurve';
  this.aX = aX || 0;
  this.aY = aY || 0;
  this.xRadius = xRadius || 1;
  this.yRadius = yRadius || 1;
  this.aStartAngle = aStartAngle || 0;
  this.aEndAngle = aEndAngle || 2 * Math.PI;
  this.aClockwise = aClockwise || false;
  this.aRotation = aRotation || 0;
}

EllipseCurve.prototype = Object.create(Curve.prototype);
EllipseCurve.prototype.constructor = EllipseCurve;
EllipseCurve.prototype.isEllipseCurve = true;

EllipseCurve.prototype.getPoint = function (t, optionalTarget) {
  var point = optionalTarget || new Vector2();
  var twoPi = Math.PI * 2;
  var deltaAngle = this.aEndAngle - this.aStartAngle;
  var samePoints = Math.abs(deltaAngle) < Number.EPSILON; // ensures that deltaAngle is 0 .. 2 PI

  while (deltaAngle < 0) deltaAngle += twoPi;

  while (deltaAngle > twoPi) deltaAngle -= twoPi;

  if (deltaAngle < Number.EPSILON) {
    if (samePoints) {
      deltaAngle = 0;
    } else {
      deltaAngle = twoPi;
    }
  }

  if (this.aClockwise === true && !samePoints) {
    if (deltaAngle === twoPi) {
      deltaAngle = -twoPi;
    } else {
      deltaAngle = deltaAngle - twoPi;
    }
  }

  var angle = this.aStartAngle + t * deltaAngle;
  var x = this.aX + this.xRadius * Math.cos(angle);
  var y = this.aY + this.yRadius * Math.sin(angle);

  if (this.aRotation !== 0) {
    var cos = Math.cos(this.aRotation);
    var sin = Math.sin(this.aRotation);
    var tx = x - this.aX;
    var ty = y - this.aY; // Rotate the point about the center of the ellipse.

    x = tx * cos - ty * sin + this.aX;
    y = tx * sin + ty * cos + this.aY;
  }

  return point.set(x, y);
};

EllipseCurve.prototype.copy = function (source) {
  Curve.prototype.copy.call(this, source);
  this.aX = source.aX;
  this.aY = source.aY;
  this.xRadius = source.xRadius;
  this.yRadius = source.yRadius;
  this.aStartAngle = source.aStartAngle;
  this.aEndAngle = source.aEndAngle;
  this.aClockwise = source.aClockwise;
  this.aRotation = source.aRotation;
  return this;
};

EllipseCurve.prototype.toJSON = function () {
  var data = Curve.prototype.toJSON.call(this);
  data.aX = this.aX;
  data.aY = this.aY;
  data.xRadius = this.xRadius;
  data.yRadius = this.yRadius;
  data.aStartAngle = this.aStartAngle;
  data.aEndAngle = this.aEndAngle;
  data.aClockwise = this.aClockwise;
  data.aRotation = this.aRotation;
  return data;
};

EllipseCurve.prototype.fromJSON = function (json) {
  Curve.prototype.fromJSON.call(this, json);
  this.aX = json.aX;
  this.aY = json.aY;
  this.xRadius = json.xRadius;
  this.yRadius = json.yRadius;
  this.aStartAngle = json.aStartAngle;
  this.aEndAngle = json.aEndAngle;
  this.aClockwise = json.aClockwise;
  this.aRotation = json.aRotation;
  return this;
};

function ArcCurve(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {
  EllipseCurve.call(this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);
  this.type = 'ArcCurve';
}

ArcCurve.prototype = Object.create(EllipseCurve.prototype);
ArcCurve.prototype.constructor = ArcCurve;
ArcCurve.prototype.isArcCurve = true;
/**
 * @author zz85 https://github.com/zz85
 *
 * Centripetal CatmullRom Curve - which is useful for avoiding
 * cusps and self-intersections in non-uniform catmull rom curves.
 * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf
 *
 * curve.type accepts centripetal(default), chordal and catmullrom
 * curve.tension is used for catmullrom which defaults to 0.5
 */

/*
Based on an optimized c++ solution in
 - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/
 - http://ideone.com/NoEbVM

This CubicPoly class could be used for reusing some variables and calculations,
but for three.js curve use, it could be possible inlined and flatten into a single function call
which can be placed in CurveUtils.
*/

function CubicPoly() {
  var c0 = 0,
      c1 = 0,
      c2 = 0,
      c3 = 0;
  /*
   * Compute coefficients for a cubic polynomial
   *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3
   * such that
   *   p(0) = x0, p(1) = x1
   *  and
   *   p'(0) = t0, p'(1) = t1.
   */

  function init(x0, x1, t0, t1) {
    c0 = x0;
    c1 = t0;
    c2 = -3 * x0 + 3 * x1 - 2 * t0 - t1;
    c3 = 2 * x0 - 2 * x1 + t0 + t1;
  }

  return {
    initCatmullRom: function (x0, x1, x2, x3, tension) {
      init(x1, x2, tension * (x2 - x0), tension * (x3 - x1));
    },
    initNonuniformCatmullRom: function (x0, x1, x2, x3, dt0, dt1, dt2) {
      // compute tangents when parameterized in [t1,t2]
      var t1 = (x1 - x0) / dt0 - (x2 - x0) / (dt0 + dt1) + (x2 - x1) / dt1;
      var t2 = (x2 - x1) / dt1 - (x3 - x1) / (dt1 + dt2) + (x3 - x2) / dt2; // rescale tangents for parametrization in [0,1]

      t1 *= dt1;
      t2 *= dt1;
      init(x1, x2, t1, t2);
    },
    calc: function (t) {
      var t2 = t * t;
      var t3 = t2 * t;
      return c0 + c1 * t + c2 * t2 + c3 * t3;
    }
  };
} //


var tmp = new Vector3();
var px = new CubicPoly(),
    py = new CubicPoly(),
    pz = new CubicPoly();

function CatmullRomCurve3(points, closed, curveType, tension) {
  Curve.call(this);
  this.type = 'CatmullRomCurve3';
  this.points = points || [];
  this.closed = closed || false;
  this.curveType = curveType || 'centripetal';
  this.tension = tension || 0.5;
}

CatmullRomCurve3.prototype = Object.create(Curve.prototype);
CatmullRomCurve3.prototype.constructor = CatmullRomCurve3;
CatmullRomCurve3.prototype.isCatmullRomCurve3 = true;

CatmullRomCurve3.prototype.getPoint = function (t, optionalTarget) {
  var point = optionalTarget || new Vector3();
  var points = this.points;
  var l = points.length;
  var p = (l - (this.closed ? 0 : 1)) * t;
  var intPoint = Math.floor(p);
  var weight = p - intPoint;

  if (this.closed) {
    intPoint += intPoint > 0 ? 0 : (Math.floor(Math.abs(intPoint) / l) + 1) * l;
  } else if (weight === 0 && intPoint === l - 1) {
    intPoint = l - 2;
    weight = 1;
  }

  var p0, p1, p2, p3; // 4 points

  if (this.closed || intPoint > 0) {
    p0 = points[(intPoint - 1) % l];
  } else {
    // extrapolate first point
    tmp.subVectors(points[0], points[1]).add(points[0]);
    p0 = tmp;
  }

  p1 = points[intPoint % l];
  p2 = points[(intPoint + 1) % l];

  if (this.closed || intPoint + 2 < l) {
    p3 = points[(intPoint + 2) % l];
  } else {
    // extrapolate last point
    tmp.subVectors(points[l - 1], points[l - 2]).add(points[l - 1]);
    p3 = tmp;
  }

  if (this.curveType === 'centripetal' || this.curveType === 'chordal') {
    // init Centripetal / Chordal Catmull-Rom
    var pow = this.curveType === 'chordal' ? 0.5 : 0.25;
    var dt0 = Math.pow(p0.distanceToSquared(p1), pow);
    var dt1 = Math.pow(p1.distanceToSquared(p2), pow);
    var dt2 = Math.pow(p2.distanceToSquared(p3), pow); // safety check for repeated points

    if (dt1 < 1e-4) dt1 = 1.0;
    if (dt0 < 1e-4) dt0 = dt1;
    if (dt2 < 1e-4) dt2 = dt1;
    px.initNonuniformCatmullRom(p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2);
    py.initNonuniformCatmullRom(p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2);
    pz.initNonuniformCatmullRom(p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2);
  } else if (this.curveType === 'catmullrom') {
    px.initCatmullRom(p0.x, p1.x, p2.x, p3.x, this.tension);
    py.initCatmullRom(p0.y, p1.y, p2.y, p3.y, this.tension);
    pz.initCatmullRom(p0.z, p1.z, p2.z, p3.z, this.tension);
  }

  point.set(px.calc(weight), py.calc(weight), pz.calc(weight));
  return point;
};

CatmullRomCurve3.prototype.copy = function (source) {
  Curve.prototype.copy.call(this, source);
  this.points = [];

  for (var i = 0, l = source.points.length; i < l; i++) {
    var point = source.points[i];
    this.points.push(point.clone());
  }

  this.closed = source.closed;
  this.curveType = source.curveType;
  this.tension = source.tension;
  return this;
};

CatmullRomCurve3.prototype.toJSON = function () {
  var data = Curve.prototype.toJSON.call(this);
  data.points = [];

  for (var i = 0, l = this.points.length; i < l; i++) {
    var point = this.points[i];
    data.points.push(point.toArray());
  }

  data.closed = this.closed;
  data.curveType = this.curveType;
  data.tension = this.tension;
  return data;
};

CatmullRomCurve3.prototype.fromJSON = function (json) {
  Curve.prototype.fromJSON.call(this, json);
  this.points = [];

  for (var i = 0, l = json.points.length; i < l; i++) {
    var point = json.points[i];
    this.points.push(new Vector3().fromArray(point));
  }

  this.closed = json.closed;
  this.curveType = json.curveType;
  this.tension = json.tension;
  return this;
};
/**
 * @author zz85 / http://www.lab4games.net/zz85/blog
 *
 * Bezier Curves formulas obtained from
 * http://en.wikipedia.org/wiki/Bézier_curve
 */


function CatmullRom(t, p0, p1, p2, p3) {
  var v0 = (p2 - p0) * 0.5;
  var v1 = (p3 - p1) * 0.5;
  var t2 = t * t;
  var t3 = t * t2;
  return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;
} //


function QuadraticBezierP0(t, p) {
  var k = 1 - t;
  return k * k * p;
}

function QuadraticBezierP1(t, p) {
  return 2 * (1 - t) * t * p;
}

function QuadraticBezierP2(t, p) {
  return t * t * p;
}

function QuadraticBezier(t, p0, p1, p2) {
  return QuadraticBezierP0(t, p0) + QuadraticBezierP1(t, p1) + QuadraticBezierP2(t, p2);
} //


function CubicBezierP0(t, p) {
  var k = 1 - t;
  return k * k * k * p;
}

function CubicBezierP1(t, p) {
  var k = 1 - t;
  return 3 * k * k * t * p;
}

function CubicBezierP2(t, p) {
  return 3 * (1 - t) * t * t * p;
}

function CubicBezierP3(t, p) {
  return t * t * t * p;
}

function CubicBezier(t, p0, p1, p2, p3) {
  return CubicBezierP0(t, p0) + CubicBezierP1(t, p1) + CubicBezierP2(t, p2) + CubicBezierP3(t, p3);
}

function CubicBezierCurve(v0, v1, v2, v3) {
  Curve.call(this);
  this.type = 'CubicBezierCurve';
  this.v0 = v0 || new Vector2();
  this.v1 = v1 || new Vector2();
  this.v2 = v2 || new Vector2();
  this.v3 = v3 || new Vector2();
}

CubicBezierCurve.prototype = Object.create(Curve.prototype);
CubicBezierCurve.prototype.constructor = CubicBezierCurve;
CubicBezierCurve.prototype.isCubicBezierCurve = true;

CubicBezierCurve.prototype.getPoint = function (t, optionalTarget) {
  var point = optionalTarget || new Vector2();
  var v0 = this.v0,
      v1 = this.v1,
      v2 = this.v2,
      v3 = this.v3;
  point.set(CubicBezier(t, v0.x, v1.x, v2.x, v3.x), CubicBezier(t, v0.y, v1.y, v2.y, v3.y));
  return point;
};

CubicBezierCurve.prototype.copy = function (source) {
  Curve.prototype.copy.call(this, source);
  this.v0.copy(source.v0);
  this.v1.copy(source.v1);
  this.v2.copy(source.v2);
  this.v3.copy(source.v3);
  return this;
};

CubicBezierCurve.prototype.toJSON = function () {
  var data = Curve.prototype.toJSON.call(this);
  data.v0 = this.v0.toArray();
  data.v1 = this.v1.toArray();
  data.v2 = this.v2.toArray();
  data.v3 = this.v3.toArray();
  return data;
};

CubicBezierCurve.prototype.fromJSON = function (json) {
  Curve.prototype.fromJSON.call(this, json);
  this.v0.fromArray(json.v0);
  this.v1.fromArray(json.v1);
  this.v2.fromArray(json.v2);
  this.v3.fromArray(json.v3);
  return this;
};

function CubicBezierCurve3(v0, v1, v2, v3) {
  Curve.call(this);
  this.type = 'CubicBezierCurve3';
  this.v0 = v0 || new Vector3();
  this.v1 = v1 || new Vector3();
  this.v2 = v2 || new Vector3();
  this.v3 = v3 || new Vector3();
}

CubicBezierCurve3.prototype = Object.create(Curve.prototype);
CubicBezierCurve3.prototype.constructor = CubicBezierCurve3;
CubicBezierCurve3.prototype.isCubicBezierCurve3 = true;

CubicBezierCurve3.prototype.getPoint = function (t, optionalTarget) {
  var point = optionalTarget || new Vector3();
  var v0 = this.v0,
      v1 = this.v1,
      v2 = this.v2,
      v3 = this.v3;
  point.set(CubicBezier(t, v0.x, v1.x, v2.x, v3.x), CubicBezier(t, v0.y, v1.y, v2.y, v3.y), CubicBezier(t, v0.z, v1.z, v2.z, v3.z));
  return point;
};

CubicBezierCurve3.prototype.copy = function (source) {
  Curve.prototype.copy.call(this, source);
  this.v0.copy(source.v0);
  this.v1.copy(source.v1);
  this.v2.copy(source.v2);
  this.v3.copy(source.v3);
  return this;
};

CubicBezierCurve3.prototype.toJSON = function () {
  var data = Curve.prototype.toJSON.call(this);
  data.v0 = this.v0.toArray();
  data.v1 = this.v1.toArray();
  data.v2 = this.v2.toArray();
  data.v3 = this.v3.toArray();
  return data;
};

CubicBezierCurve3.prototype.fromJSON = function (json) {
  Curve.prototype.fromJSON.call(this, json);
  this.v0.fromArray(json.v0);
  this.v1.fromArray(json.v1);
  this.v2.fromArray(json.v2);
  this.v3.fromArray(json.v3);
  return this;
};

function LineCurve(v1, v2) {
  Curve.call(this);
  this.type = 'LineCurve';
  this.v1 = v1 || new Vector2();
  this.v2 = v2 || new Vector2();
}

LineCurve.prototype = Object.create(Curve.prototype);
LineCurve.prototype.constructor = LineCurve;
LineCurve.prototype.isLineCurve = true;

LineCurve.prototype.getPoint = function (t, optionalTarget) {
  var point = optionalTarget || new Vector2();

  if (t === 1) {
    point.copy(this.v2);
  } else {
    point.copy(this.v2).sub(this.v1);
    point.multiplyScalar(t).add(this.v1);
  }

  return point;
}; // Line curve is linear, so we can overwrite default getPointAt


LineCurve.prototype.getPointAt = function (u, optionalTarget) {
  return this.getPoint(u, optionalTarget);
};

LineCurve.prototype.getTangent = function
  /* t */
() {
  var tangent = this.v2.clone().sub(this.v1);
  return tangent.normalize();
};

LineCurve.prototype.copy = function (source) {
  Curve.prototype.copy.call(this, source);
  this.v1.copy(source.v1);
  this.v2.copy(source.v2);
  return this;
};

LineCurve.prototype.toJSON = function () {
  var data = Curve.prototype.toJSON.call(this);
  data.v1 = this.v1.toArray();
  data.v2 = this.v2.toArray();
  return data;
};

LineCurve.prototype.fromJSON = function (json) {
  Curve.prototype.fromJSON.call(this, json);
  this.v1.fromArray(json.v1);
  this.v2.fromArray(json.v2);
  return this;
};

function LineCurve3(v1, v2) {
  Curve.call(this);
  this.type = 'LineCurve3';
  this.v1 = v1 || new Vector3();
  this.v2 = v2 || new Vector3();
}

LineCurve3.prototype = Object.create(Curve.prototype);
LineCurve3.prototype.constructor = LineCurve3;
LineCurve3.prototype.isLineCurve3 = true;

LineCurve3.prototype.getPoint = function (t, optionalTarget) {
  var point = optionalTarget || new Vector3();

  if (t === 1) {
    point.copy(this.v2);
  } else {
    point.copy(this.v2).sub(this.v1);
    point.multiplyScalar(t).add(this.v1);
  }

  return point;
}; // Line curve is linear, so we can overwrite default getPointAt


LineCurve3.prototype.getPointAt = function (u, optionalTarget) {
  return this.getPoint(u, optionalTarget);
};

LineCurve3.prototype.copy = function (source) {
  Curve.prototype.copy.call(this, source);
  this.v1.copy(source.v1);
  this.v2.copy(source.v2);
  return this;
};

LineCurve3.prototype.toJSON = function () {
  var data = Curve.prototype.toJSON.call(this);
  data.v1 = this.v1.toArray();
  data.v2 = this.v2.toArray();
  return data;
};

LineCurve3.prototype.fromJSON = function (json) {
  Curve.prototype.fromJSON.call(this, json);
  this.v1.fromArray(json.v1);
  this.v2.fromArray(json.v2);
  return this;
};

function QuadraticBezierCurve(v0, v1, v2) {
  Curve.call(this);
  this.type = 'QuadraticBezierCurve';
  this.v0 = v0 || new Vector2();
  this.v1 = v1 || new Vector2();
  this.v2 = v2 || new Vector2();
}

QuadraticBezierCurve.prototype = Object.create(Curve.prototype);
QuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;
QuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;

QuadraticBezierCurve.prototype.getPoint = function (t, optionalTarget) {
  var point = optionalTarget || new Vector2();
  var v0 = this.v0,
      v1 = this.v1,
      v2 = this.v2;
  point.set(QuadraticBezier(t, v0.x, v1.x, v2.x), QuadraticBezier(t, v0.y, v1.y, v2.y));
  return point;
};

QuadraticBezierCurve.prototype.copy = function (source) {
  Curve.prototype.copy.call(this, source);
  this.v0.copy(source.v0);
  this.v1.copy(source.v1);
  this.v2.copy(source.v2);
  return this;
};

QuadraticBezierCurve.prototype.toJSON = function () {
  var data = Curve.prototype.toJSON.call(this);
  data.v0 = this.v0.toArray();
  data.v1 = this.v1.toArray();
  data.v2 = this.v2.toArray();
  return data;
};

QuadraticBezierCurve.prototype.fromJSON = function (json) {
  Curve.prototype.fromJSON.call(this, json);
  this.v0.fromArray(json.v0);
  this.v1.fromArray(json.v1);
  this.v2.fromArray(json.v2);
  return this;
};

function QuadraticBezierCurve3(v0, v1, v2) {
  Curve.call(this);
  this.type = 'QuadraticBezierCurve3';
  this.v0 = v0 || new Vector3();
  this.v1 = v1 || new Vector3();
  this.v2 = v2 || new Vector3();
}

QuadraticBezierCurve3.prototype = Object.create(Curve.prototype);
QuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;
QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;

QuadraticBezierCurve3.prototype.getPoint = function (t, optionalTarget) {
  var point = optionalTarget || new Vector3();
  var v0 = this.v0,
      v1 = this.v1,
      v2 = this.v2;
  point.set(QuadraticBezier(t, v0.x, v1.x, v2.x), QuadraticBezier(t, v0.y, v1.y, v2.y), QuadraticBezier(t, v0.z, v1.z, v2.z));
  return point;
};

QuadraticBezierCurve3.prototype.copy = function (source) {
  Curve.prototype.copy.call(this, source);
  this.v0.copy(source.v0);
  this.v1.copy(source.v1);
  this.v2.copy(source.v2);
  return this;
};

QuadraticBezierCurve3.prototype.toJSON = function () {
  var data = Curve.prototype.toJSON.call(this);
  data.v0 = this.v0.toArray();
  data.v1 = this.v1.toArray();
  data.v2 = this.v2.toArray();
  return data;
};

QuadraticBezierCurve3.prototype.fromJSON = function (json) {
  Curve.prototype.fromJSON.call(this, json);
  this.v0.fromArray(json.v0);
  this.v1.fromArray(json.v1);
  this.v2.fromArray(json.v2);
  return this;
};

function SplineCurve(points
/* array of Vector2 */
) {
  Curve.call(this);
  this.type = 'SplineCurve';
  this.points = points || [];
}

SplineCurve.prototype = Object.create(Curve.prototype);
SplineCurve.prototype.constructor = SplineCurve;
SplineCurve.prototype.isSplineCurve = true;

SplineCurve.prototype.getPoint = function (t, optionalTarget) {
  var point = optionalTarget || new Vector2();
  var points = this.points;
  var p = (points.length - 1) * t;
  var intPoint = Math.floor(p);
  var weight = p - intPoint;
  var p0 = points[intPoint === 0 ? intPoint : intPoint - 1];
  var p1 = points[intPoint];
  var p2 = points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];
  var p3 = points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];
  point.set(CatmullRom(weight, p0.x, p1.x, p2.x, p3.x), CatmullRom(weight, p0.y, p1.y, p2.y, p3.y));
  return point;
};

SplineCurve.prototype.copy = function (source) {
  Curve.prototype.copy.call(this, source);
  this.points = [];

  for (var i = 0, l = source.points.length; i < l; i++) {
    var point = source.points[i];
    this.points.push(point.clone());
  }

  return this;
};

SplineCurve.prototype.toJSON = function () {
  var data = Curve.prototype.toJSON.call(this);
  data.points = [];

  for (var i = 0, l = this.points.length; i < l; i++) {
    var point = this.points[i];
    data.points.push(point.toArray());
  }

  return data;
};

SplineCurve.prototype.fromJSON = function (json) {
  Curve.prototype.fromJSON.call(this, json);
  this.points = [];

  for (var i = 0, l = json.points.length; i < l; i++) {
    var point = json.points[i];
    this.points.push(new Vector2().fromArray(point));
  }

  return this;
};

var Curves = /*#__PURE__*/Object.freeze({
  ArcCurve: ArcCurve,
  CatmullRomCurve3: CatmullRomCurve3,
  CubicBezierCurve: CubicBezierCurve,
  CubicBezierCurve3: CubicBezierCurve3,
  EllipseCurve: EllipseCurve,
  LineCurve: LineCurve,
  LineCurve3: LineCurve3,
  QuadraticBezierCurve: QuadraticBezierCurve,
  QuadraticBezierCurve3: QuadraticBezierCurve3,
  SplineCurve: SplineCurve
});
/**
 * @author zz85 / http://www.lab4games.net/zz85/blog
 *
 **/

/**************************************************************
 *	Curved Path - a curve path is simply a array of connected
 *  curves, but retains the api of a curve
 **************************************************************/

function CurvePath() {
  Curve.call(this);
  this.type = 'CurvePath';
  this.curves = [];
  this.autoClose = false; // Automatically closes the path
}

CurvePath.prototype = Object.assign(Object.create(Curve.prototype), {
  constructor: CurvePath,
  add: function (curve) {
    this.curves.push(curve);
  },
  closePath: function () {
    // Add a line curve if start and end of lines are not connected
    var startPoint = this.curves[0].getPoint(0);
    var endPoint = this.curves[this.curves.length - 1].getPoint(1);

    if (!startPoint.equals(endPoint)) {
      this.curves.push(new LineCurve(endPoint, startPoint));
    }
  },
  // To get accurate point with reference to
  // entire path distance at time t,
  // following has to be done:
  // 1. Length of each sub path have to be known
  // 2. Locate and identify type of curve
  // 3. Get t for the curve
  // 4. Return curve.getPointAt(t')
  getPoint: function (t) {
    var d = t * this.getLength();
    var curveLengths = this.getCurveLengths();
    var i = 0; // To think about boundaries points.

    while (i < curveLengths.length) {
      if (curveLengths[i] >= d) {
        var diff = curveLengths[i] - d;
        var curve = this.curves[i];
        var segmentLength = curve.getLength();
        var u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;
        return curve.getPointAt(u);
      }

      i++;
    }

    return null; // loop where sum != 0, sum > d , sum+1 <d
  },
  // We cannot use the default THREE.Curve getPoint() with getLength() because in
  // THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath
  // getPoint() depends on getLength
  getLength: function () {
    var lens = this.getCurveLengths();
    return lens[lens.length - 1];
  },
  // cacheLengths must be recalculated.
  updateArcLengths: function () {
    this.needsUpdate = true;
    this.cacheLengths = null;
    this.getCurveLengths();
  },
  // Compute lengths and cache them
  // We cannot overwrite getLengths() because UtoT mapping uses it.
  getCurveLengths: function () {
    // We use cache values if curves and cache array are same length
    if (this.cacheLengths && this.cacheLengths.length === this.curves.length) {
      return this.cacheLengths;
    } // Get length of sub-curve
    // Push sums into cached array


    var lengths = [],
        sums = 0;

    for (var i = 0, l = this.curves.length; i < l; i++) {
      sums += this.curves[i].getLength();
      lengths.push(sums);
    }

    this.cacheLengths = lengths;
    return lengths;
  },
  getSpacedPoints: function (divisions) {
    if (divisions === undefined) divisions = 40;
    var points = [];

    for (var i = 0; i <= divisions; i++) {
      points.push(this.getPoint(i / divisions));
    }

    if (this.autoClose) {
      points.push(points[0]);
    }

    return points;
  },
  getPoints: function (divisions) {
    divisions = divisions || 12;
    var points = [],
        last;

    for (var i = 0, curves = this.curves; i < curves.length; i++) {
      var curve = curves[i];
      var resolution = curve && curve.isEllipseCurve ? divisions * 2 : curve && (curve.isLineCurve || curve.isLineCurve3) ? 1 : curve && curve.isSplineCurve ? divisions * curve.points.length : divisions;
      var pts = curve.getPoints(resolution);

      for (var j = 0; j < pts.length; j++) {
        var point = pts[j];
        if (last && last.equals(point)) continue; // ensures no consecutive points are duplicates

        points.push(point);
        last = point;
      }
    }

    if (this.autoClose && points.length > 1 && !points[points.length - 1].equals(points[0])) {
      points.push(points[0]);
    }

    return points;
  },
  copy: function (source) {
    Curve.prototype.copy.call(this, source);
    this.curves = [];

    for (var i = 0, l = source.curves.length; i < l; i++) {
      var curve = source.curves[i];
      this.curves.push(curve.clone());
    }

    this.autoClose = source.autoClose;
    return this;
  },
  toJSON: function () {
    var data = Curve.prototype.toJSON.call(this);
    data.autoClose = this.autoClose;
    data.curves = [];

    for (var i = 0, l = this.curves.length; i < l; i++) {
      var curve = this.curves[i];
      data.curves.push(curve.toJSON());
    }

    return data;
  },
  fromJSON: function (json) {
    Curve.prototype.fromJSON.call(this, json);
    this.autoClose = json.autoClose;
    this.curves = [];

    for (var i = 0, l = json.curves.length; i < l; i++) {
      var curve = json.curves[i];
      this.curves.push(new Curves[curve.type]().fromJSON(curve));
    }

    return this;
  }
});
/**
 * @author zz85 / http://www.lab4games.net/zz85/blog
 * Creates free form 2d path using series of points, lines or curves.
 **/

function Path(points) {
  CurvePath.call(this);
  this.type = 'Path';
  this.currentPoint = new Vector2();

  if (points) {
    this.setFromPoints(points);
  }
}

Path.prototype = Object.assign(Object.create(CurvePath.prototype), {
  constructor: Path,
  setFromPoints: function (points) {
    this.moveTo(points[0].x, points[0].y);

    for (var i = 1, l = points.length; i < l; i++) {
      this.lineTo(points[i].x, points[i].y);
    }
  },
  moveTo: function (x, y) {
    this.currentPoint.set(x, y); // TODO consider referencing vectors instead of copying?
  },
  lineTo: function (x, y) {
    var curve = new LineCurve(this.currentPoint.clone(), new Vector2(x, y));
    this.curves.push(curve);
    this.currentPoint.set(x, y);
  },
  quadraticCurveTo: function (aCPx, aCPy, aX, aY) {
    var curve = new QuadraticBezierCurve(this.currentPoint.clone(), new Vector2(aCPx, aCPy), new Vector2(aX, aY));
    this.curves.push(curve);
    this.currentPoint.set(aX, aY);
  },
  bezierCurveTo: function (aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {
    var curve = new CubicBezierCurve(this.currentPoint.clone(), new Vector2(aCP1x, aCP1y), new Vector2(aCP2x, aCP2y), new Vector2(aX, aY));
    this.curves.push(curve);
    this.currentPoint.set(aX, aY);
  },
  splineThru: function (pts
  /*Array of Vector*/
  ) {
    var npts = [this.currentPoint.clone()].concat(pts);
    var curve = new SplineCurve(npts);
    this.curves.push(curve);
    this.currentPoint.copy(pts[pts.length - 1]);
  },
  arc: function (aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {
    var x0 = this.currentPoint.x;
    var y0 = this.currentPoint.y;
    this.absarc(aX + x0, aY + y0, aRadius, aStartAngle, aEndAngle, aClockwise);
  },
  absarc: function (aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {
    this.absellipse(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);
  },
  ellipse: function (aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {
    var x0 = this.currentPoint.x;
    var y0 = this.currentPoint.y;
    this.absellipse(aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);
  },
  absellipse: function (aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {
    var curve = new EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);

    if (this.curves.length > 0) {
      // if a previous curve is present, attempt to join
      var firstPoint = curve.getPoint(0);

      if (!firstPoint.equals(this.currentPoint)) {
        this.lineTo(firstPoint.x, firstPoint.y);
      }
    }

    this.curves.push(curve);
    var lastPoint = curve.getPoint(1);
    this.currentPoint.copy(lastPoint);
  },
  copy: function (source) {
    CurvePath.prototype.copy.call(this, source);
    this.currentPoint.copy(source.currentPoint);
    return this;
  },
  toJSON: function () {
    var data = CurvePath.prototype.toJSON.call(this);
    data.currentPoint = this.currentPoint.toArray();
    return data;
  },
  fromJSON: function (json) {
    CurvePath.prototype.fromJSON.call(this, json);
    this.currentPoint.fromArray(json.currentPoint);
    return this;
  }
});
/**
 * @author zz85 / http://www.lab4games.net/zz85/blog
 * Defines a 2d shape plane using paths.
 **/
// STEP 1 Create a path.
// STEP 2 Turn path into shape.
// STEP 3 ExtrudeGeometry takes in Shape/Shapes
// STEP 3a - Extract points from each shape, turn to vertices
// STEP 3b - Triangulate each shape, add faces.

function Shape(points) {
  Path.call(this, points);
  this.uuid = _Math.generateUUID();
  this.type = 'Shape';
  this.holes = [];
}

Shape.prototype = Object.assign(Object.create(Path.prototype), {
  constructor: Shape,
  getPointsHoles: function (divisions) {
    var holesPts = [];

    for (var i = 0, l = this.holes.length; i < l; i++) {
      holesPts[i] = this.holes[i].getPoints(divisions);
    }

    return holesPts;
  },
  // get points of shape and holes (keypoints based on segments parameter)
  extractPoints: function (divisions) {
    return {
      shape: this.getPoints(divisions),
      holes: this.getPointsHoles(divisions)
    };
  },
  copy: function (source) {
    Path.prototype.copy.call(this, source);
    this.holes = [];

    for (var i = 0, l = source.holes.length; i < l; i++) {
      var hole = source.holes[i];
      this.holes.push(hole.clone());
    }

    return this;
  },
  toJSON: function () {
    var data = Path.prototype.toJSON.call(this);
    data.uuid = this.uuid;
    data.holes = [];

    for (var i = 0, l = this.holes.length; i < l; i++) {
      var hole = this.holes[i];
      data.holes.push(hole.toJSON());
    }

    return data;
  },
  fromJSON: function (json) {
    Path.prototype.fromJSON.call(this, json);
    this.uuid = json.uuid;
    this.holes = [];

    for (var i = 0, l = json.holes.length; i < l; i++) {
      var hole = json.holes[i];
      this.holes.push(new Path().fromJSON(hole));
    }

    return this;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 */

function Light(color, intensity) {
  Object3D.call(this);
  this.type = 'Light';
  this.color = new Color(color);
  this.intensity = intensity !== undefined ? intensity : 1;
  this.receiveShadow = undefined;
}

Light.prototype = Object.assign(Object.create(Object3D.prototype), {
  constructor: Light,
  isLight: true,
  copy: function (source) {
    Object3D.prototype.copy.call(this, source);
    this.color.copy(source.color);
    this.intensity = source.intensity;
    return this;
  },
  toJSON: function (meta) {
    var data = Object3D.prototype.toJSON.call(this, meta);
    data.object.color = this.color.getHex();
    data.object.intensity = this.intensity;
    if (this.groundColor !== undefined) data.object.groundColor = this.groundColor.getHex();
    if (this.distance !== undefined) data.object.distance = this.distance;
    if (this.angle !== undefined) data.object.angle = this.angle;
    if (this.decay !== undefined) data.object.decay = this.decay;
    if (this.penumbra !== undefined) data.object.penumbra = this.penumbra;
    if (this.shadow !== undefined) data.object.shadow = this.shadow.toJSON();
    return data;
  }
});
/**
 * @author alteredq / http://alteredqualia.com/
 */

function HemisphereLight(skyColor, groundColor, intensity) {
  Light.call(this, skyColor, intensity);
  this.type = 'HemisphereLight';
  this.castShadow = undefined;
  this.position.copy(Object3D.DefaultUp);
  this.updateMatrix();
  this.groundColor = new Color(groundColor);
}

HemisphereLight.prototype = Object.assign(Object.create(Light.prototype), {
  constructor: HemisphereLight,
  isHemisphereLight: true,
  copy: function (source) {
    Light.prototype.copy.call(this, source);
    this.groundColor.copy(source.groundColor);
    return this;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function LightShadow(camera) {
  this.camera = camera;
  this.bias = 0;
  this.radius = 1;
  this.mapSize = new Vector2(512, 512);
  this.map = null;
  this.matrix = new Matrix4();
}

Object.assign(LightShadow.prototype, {
  copy: function (source) {
    this.camera = source.camera.clone();
    this.bias = source.bias;
    this.radius = source.radius;
    this.mapSize.copy(source.mapSize);
    return this;
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  toJSON: function () {
    var object = {};
    if (this.bias !== 0) object.bias = this.bias;
    if (this.radius !== 1) object.radius = this.radius;
    if (this.mapSize.x !== 512 || this.mapSize.y !== 512) object.mapSize = this.mapSize.toArray();
    object.camera = this.camera.toJSON(false).object;
    delete object.camera.matrix;
    return object;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function SpotLightShadow() {
  LightShadow.call(this, new PerspectiveCamera(50, 1, 0.5, 500));
}

SpotLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {
  constructor: SpotLightShadow,
  isSpotLightShadow: true,
  update: function (light) {
    var camera = this.camera;
    var fov = _Math.RAD2DEG * 2 * light.angle;
    var aspect = this.mapSize.width / this.mapSize.height;
    var far = light.distance || camera.far;

    if (fov !== camera.fov || aspect !== camera.aspect || far !== camera.far) {
      camera.fov = fov;
      camera.aspect = aspect;
      camera.far = far;
      camera.updateProjectionMatrix();
    }
  }
});
/**
 * @author alteredq / http://alteredqualia.com/
 */

function SpotLight(color, intensity, distance, angle, penumbra, decay) {
  Light.call(this, color, intensity);
  this.type = 'SpotLight';
  this.position.copy(Object3D.DefaultUp);
  this.updateMatrix();
  this.target = new Object3D();
  Object.defineProperty(this, 'power', {
    get: function () {
      // intensity = power per solid angle.
      // ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf
      return this.intensity * Math.PI;
    },
    set: function (power) {
      // intensity = power per solid angle.
      // ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf
      this.intensity = power / Math.PI;
    }
  });
  this.distance = distance !== undefined ? distance : 0;
  this.angle = angle !== undefined ? angle : Math.PI / 3;
  this.penumbra = penumbra !== undefined ? penumbra : 0;
  this.decay = decay !== undefined ? decay : 1; // for physically correct lights, should be 2.

  this.shadow = new SpotLightShadow();
}

SpotLight.prototype = Object.assign(Object.create(Light.prototype), {
  constructor: SpotLight,
  isSpotLight: true,
  copy: function (source) {
    Light.prototype.copy.call(this, source);
    this.distance = source.distance;
    this.angle = source.angle;
    this.penumbra = source.penumbra;
    this.decay = source.decay;
    this.target = source.target.clone();
    this.shadow = source.shadow.clone();
    return this;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function PointLight(color, intensity, distance, decay) {
  Light.call(this, color, intensity);
  this.type = 'PointLight';
  Object.defineProperty(this, 'power', {
    get: function () {
      // intensity = power per solid angle.
      // ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf
      return this.intensity * 4 * Math.PI;
    },
    set: function (power) {
      // intensity = power per solid angle.
      // ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf
      this.intensity = power / (4 * Math.PI);
    }
  });
  this.distance = distance !== undefined ? distance : 0;
  this.decay = decay !== undefined ? decay : 1; // for physically correct lights, should be 2.

  this.shadow = new LightShadow(new PerspectiveCamera(90, 1, 0.5, 500));
}

PointLight.prototype = Object.assign(Object.create(Light.prototype), {
  constructor: PointLight,
  isPointLight: true,
  copy: function (source) {
    Light.prototype.copy.call(this, source);
    this.distance = source.distance;
    this.decay = source.decay;
    this.shadow = source.shadow.clone();
    return this;
  }
});
/**
 * @author alteredq / http://alteredqualia.com/
 * @author arose / http://github.com/arose
 */

function OrthographicCamera(left, right, top, bottom, near, far) {
  Camera.call(this);
  this.type = 'OrthographicCamera';
  this.zoom = 1;
  this.view = null;
  this.left = left !== undefined ? left : -1;
  this.right = right !== undefined ? right : 1;
  this.top = top !== undefined ? top : 1;
  this.bottom = bottom !== undefined ? bottom : -1;
  this.near = near !== undefined ? near : 0.1;
  this.far = far !== undefined ? far : 2000;
  this.updateProjectionMatrix();
}

OrthographicCamera.prototype = Object.assign(Object.create(Camera.prototype), {
  constructor: OrthographicCamera,
  isOrthographicCamera: true,
  copy: function (source, recursive) {
    Camera.prototype.copy.call(this, source, recursive);
    this.left = source.left;
    this.right = source.right;
    this.top = source.top;
    this.bottom = source.bottom;
    this.near = source.near;
    this.far = source.far;
    this.zoom = source.zoom;
    this.view = source.view === null ? null : Object.assign({}, source.view);
    return this;
  },
  setViewOffset: function (fullWidth, fullHeight, x, y, width, height) {
    if (this.view === null) {
      this.view = {
        enabled: true,
        fullWidth: 1,
        fullHeight: 1,
        offsetX: 0,
        offsetY: 0,
        width: 1,
        height: 1
      };
    }

    this.view.enabled = true;
    this.view.fullWidth = fullWidth;
    this.view.fullHeight = fullHeight;
    this.view.offsetX = x;
    this.view.offsetY = y;
    this.view.width = width;
    this.view.height = height;
    this.updateProjectionMatrix();
  },
  clearViewOffset: function () {
    if (this.view !== null) {
      this.view.enabled = false;
    }

    this.updateProjectionMatrix();
  },
  updateProjectionMatrix: function () {
    var dx = (this.right - this.left) / (2 * this.zoom);
    var dy = (this.top - this.bottom) / (2 * this.zoom);
    var cx = (this.right + this.left) / 2;
    var cy = (this.top + this.bottom) / 2;
    var left = cx - dx;
    var right = cx + dx;
    var top = cy + dy;
    var bottom = cy - dy;

    if (this.view !== null && this.view.enabled) {
      var zoomW = this.zoom / (this.view.width / this.view.fullWidth);
      var zoomH = this.zoom / (this.view.height / this.view.fullHeight);
      var scaleW = (this.right - this.left) / this.view.width;
      var scaleH = (this.top - this.bottom) / this.view.height;
      left += scaleW * (this.view.offsetX / zoomW);
      right = left + scaleW * (this.view.width / zoomW);
      top -= scaleH * (this.view.offsetY / zoomH);
      bottom = top - scaleH * (this.view.height / zoomH);
    }

    this.projectionMatrix.makeOrthographic(left, right, top, bottom, this.near, this.far);
    this.projectionMatrixInverse.getInverse(this.projectionMatrix);
  },
  toJSON: function (meta) {
    var data = Object3D.prototype.toJSON.call(this, meta);
    data.object.zoom = this.zoom;
    data.object.left = this.left;
    data.object.right = this.right;
    data.object.top = this.top;
    data.object.bottom = this.bottom;
    data.object.near = this.near;
    data.object.far = this.far;
    if (this.view !== null) data.object.view = Object.assign({}, this.view);
    return data;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function DirectionalLightShadow() {
  LightShadow.call(this, new OrthographicCamera(-5, 5, 5, -5, 0.5, 500));
}

DirectionalLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {
  constructor: DirectionalLightShadow
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author alteredq / http://alteredqualia.com/
 */

function DirectionalLight(color, intensity) {
  Light.call(this, color, intensity);
  this.type = 'DirectionalLight';
  this.position.copy(Object3D.DefaultUp);
  this.updateMatrix();
  this.target = new Object3D();
  this.shadow = new DirectionalLightShadow();
}

DirectionalLight.prototype = Object.assign(Object.create(Light.prototype), {
  constructor: DirectionalLight,
  isDirectionalLight: true,
  copy: function (source) {
    Light.prototype.copy.call(this, source);
    this.target = source.target.clone();
    this.shadow = source.shadow.clone();
    return this;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function AmbientLight(color, intensity) {
  Light.call(this, color, intensity);
  this.type = 'AmbientLight';
  this.castShadow = undefined;
}

AmbientLight.prototype = Object.assign(Object.create(Light.prototype), {
  constructor: AmbientLight,
  isAmbientLight: true
});
/**
 * @author abelnation / http://github.com/abelnation
 */

function RectAreaLight(color, intensity, width, height) {
  Light.call(this, color, intensity);
  this.type = 'RectAreaLight';
  this.width = width !== undefined ? width : 10;
  this.height = height !== undefined ? height : 10;
}

RectAreaLight.prototype = Object.assign(Object.create(Light.prototype), {
  constructor: RectAreaLight,
  isRectAreaLight: true,
  copy: function (source) {
    Light.prototype.copy.call(this, source);
    this.width = source.width;
    this.height = source.height;
    return this;
  },
  toJSON: function (meta) {
    var data = Light.prototype.toJSON.call(this, meta);
    data.object.width = this.width;
    data.object.height = this.height;
    return data;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function MaterialLoader(manager) {
  this.manager = manager !== undefined ? manager : DefaultLoadingManager;
  this.textures = {};
}

Object.assign(MaterialLoader.prototype, {
  load: function (url, onLoad, onProgress, onError) {
    var scope = this;
    var loader = new FileLoader(scope.manager);
    loader.setPath(scope.path);
    loader.load(url, function (text) {
      onLoad(scope.parse(JSON.parse(text)));
    }, onProgress, onError);
  },
  parse: function (json) {
    var textures = this.textures;

    function getTexture(name) {
      if (textures[name] === undefined) {
        console.warn('THREE.MaterialLoader: Undefined texture', name);
      }

      return textures[name];
    }

    var material = new Materials[json.type]();
    if (json.uuid !== undefined) material.uuid = json.uuid;
    if (json.name !== undefined) material.name = json.name;
    if (json.color !== undefined) material.color.setHex(json.color);
    if (json.roughness !== undefined) material.roughness = json.roughness;
    if (json.metalness !== undefined) material.metalness = json.metalness;
    if (json.emissive !== undefined) material.emissive.setHex(json.emissive);
    if (json.specular !== undefined) material.specular.setHex(json.specular);
    if (json.shininess !== undefined) material.shininess = json.shininess;
    if (json.clearCoat !== undefined) material.clearCoat = json.clearCoat;
    if (json.clearCoatRoughness !== undefined) material.clearCoatRoughness = json.clearCoatRoughness;
    if (json.vertexColors !== undefined) material.vertexColors = json.vertexColors;
    if (json.fog !== undefined) material.fog = json.fog;
    if (json.flatShading !== undefined) material.flatShading = json.flatShading;
    if (json.blending !== undefined) material.blending = json.blending;
    if (json.combine !== undefined) material.combine = json.combine;
    if (json.side !== undefined) material.side = json.side;
    if (json.opacity !== undefined) material.opacity = json.opacity;
    if (json.transparent !== undefined) material.transparent = json.transparent;
    if (json.alphaTest !== undefined) material.alphaTest = json.alphaTest;
    if (json.depthTest !== undefined) material.depthTest = json.depthTest;
    if (json.depthWrite !== undefined) material.depthWrite = json.depthWrite;
    if (json.colorWrite !== undefined) material.colorWrite = json.colorWrite;
    if (json.wireframe !== undefined) material.wireframe = json.wireframe;
    if (json.wireframeLinewidth !== undefined) material.wireframeLinewidth = json.wireframeLinewidth;
    if (json.wireframeLinecap !== undefined) material.wireframeLinecap = json.wireframeLinecap;
    if (json.wireframeLinejoin !== undefined) material.wireframeLinejoin = json.wireframeLinejoin;
    if (json.rotation !== undefined) material.rotation = json.rotation;
    if (json.linewidth !== 1) material.linewidth = json.linewidth;
    if (json.dashSize !== undefined) material.dashSize = json.dashSize;
    if (json.gapSize !== undefined) material.gapSize = json.gapSize;
    if (json.scale !== undefined) material.scale = json.scale;
    if (json.polygonOffset !== undefined) material.polygonOffset = json.polygonOffset;
    if (json.polygonOffsetFactor !== undefined) material.polygonOffsetFactor = json.polygonOffsetFactor;
    if (json.polygonOffsetUnits !== undefined) material.polygonOffsetUnits = json.polygonOffsetUnits;
    if (json.skinning !== undefined) material.skinning = json.skinning;
    if (json.morphTargets !== undefined) material.morphTargets = json.morphTargets;
    if (json.morphNormals !== undefined) material.morphNormals = json.morphNormals;
    if (json.dithering !== undefined) material.dithering = json.dithering;
    if (json.visible !== undefined) material.visible = json.visible;
    if (json.userData !== undefined) material.userData = json.userData; // Shader Material

    if (json.uniforms !== undefined) {
      for (var name in json.uniforms) {
        var uniform = json.uniforms[name];
        material.uniforms[name] = {};

        switch (uniform.type) {
          case 't':
            material.uniforms[name].value = getTexture(uniform.value);
            break;

          case 'c':
            material.uniforms[name].value = new Color().setHex(uniform.value);
            break;

          case 'v2':
            material.uniforms[name].value = new Vector2().fromArray(uniform.value);
            break;

          case 'v3':
            material.uniforms[name].value = new Vector3().fromArray(uniform.value);
            break;

          case 'v4':
            material.uniforms[name].value = new Vector4().fromArray(uniform.value);
            break;

          case 'm3':
            material.uniforms[name].value = new Matrix3().fromArray(uniform.value);

          case 'm4':
            material.uniforms[name].value = new Matrix4().fromArray(uniform.value);
            break;

          default:
            material.uniforms[name].value = uniform.value;
        }
      }
    }

    if (json.defines !== undefined) material.defines = json.defines;
    if (json.vertexShader !== undefined) material.vertexShader = json.vertexShader;
    if (json.fragmentShader !== undefined) material.fragmentShader = json.fragmentShader;

    if (json.extensions !== undefined) {
      for (var key in json.extensions) {
        material.extensions[key] = json.extensions[key];
      }
    } // Deprecated


    if (json.shading !== undefined) material.flatShading = json.shading === 1; // THREE.FlatShading
    // for PointsMaterial

    if (json.size !== undefined) material.size = json.size;
    if (json.sizeAttenuation !== undefined) material.sizeAttenuation = json.sizeAttenuation; // maps

    if (json.map !== undefined) material.map = getTexture(json.map);
    if (json.matcap !== undefined) material.matcap = getTexture(json.matcap);

    if (json.alphaMap !== undefined) {
      material.alphaMap = getTexture(json.alphaMap);
      material.transparent = true;
    }

    if (json.bumpMap !== undefined) material.bumpMap = getTexture(json.bumpMap);
    if (json.bumpScale !== undefined) material.bumpScale = json.bumpScale;
    if (json.normalMap !== undefined) material.normalMap = getTexture(json.normalMap);
    if (json.normalMapType !== undefined) material.normalMapType = json.normalMapType;

    if (json.normalScale !== undefined) {
      var normalScale = json.normalScale;

      if (Array.isArray(normalScale) === false) {
        // Blender exporter used to export a scalar. See #7459
        normalScale = [normalScale, normalScale];
      }

      material.normalScale = new Vector2().fromArray(normalScale);
    }

    if (json.displacementMap !== undefined) material.displacementMap = getTexture(json.displacementMap);
    if (json.displacementScale !== undefined) material.displacementScale = json.displacementScale;
    if (json.displacementBias !== undefined) material.displacementBias = json.displacementBias;
    if (json.roughnessMap !== undefined) material.roughnessMap = getTexture(json.roughnessMap);
    if (json.metalnessMap !== undefined) material.metalnessMap = getTexture(json.metalnessMap);
    if (json.emissiveMap !== undefined) material.emissiveMap = getTexture(json.emissiveMap);
    if (json.emissiveIntensity !== undefined) material.emissiveIntensity = json.emissiveIntensity;
    if (json.specularMap !== undefined) material.specularMap = getTexture(json.specularMap);
    if (json.envMap !== undefined) material.envMap = getTexture(json.envMap);
    if (json.envMapIntensity !== undefined) material.envMapIntensity = json.envMapIntensity;
    if (json.reflectivity !== undefined) material.reflectivity = json.reflectivity;
    if (json.refractionRatio !== undefined) material.refractionRatio = json.refractionRatio;
    if (json.lightMap !== undefined) material.lightMap = getTexture(json.lightMap);
    if (json.lightMapIntensity !== undefined) material.lightMapIntensity = json.lightMapIntensity;
    if (json.aoMap !== undefined) material.aoMap = getTexture(json.aoMap);
    if (json.aoMapIntensity !== undefined) material.aoMapIntensity = json.aoMapIntensity;
    if (json.gradientMap !== undefined) material.gradientMap = getTexture(json.gradientMap);
    return material;
  },
  setPath: function (value) {
    this.path = value;
    return this;
  },
  setTextures: function (value) {
    this.textures = value;
    return this;
  }
});
/**
 * @author Don McCurdy / https://www.donmccurdy.com
 */

var LoaderUtils = {
  decodeText: function (array) {
    if (typeof TextDecoder !== 'undefined') {
      return new TextDecoder().decode(array);
    } // Avoid the String.fromCharCode.apply(null, array) shortcut, which
    // throws a "maximum call stack size exceeded" error for large arrays.


    var s = '';

    for (var i = 0, il = array.length; i < il; i++) {
      // Implicitly assumes little-endian.
      s += String.fromCharCode(array[i]);
    }

    try {
      // merges multi-byte utf-8 characters.
      return decodeURIComponent(escape(s));
    } catch (e) {
      // see #16358
      return s;
    }
  },
  extractUrlBase: function (url) {
    var index = url.lastIndexOf('/');
    if (index === -1) return './';
    return url.substr(0, index + 1);
  }
};
/**
 * @author benaadams / https://twitter.com/ben_a_adams
 */

exports.LoaderUtils = LoaderUtils;

function InstancedBufferGeometry() {
  BufferGeometry.call(this);
  this.type = 'InstancedBufferGeometry';
  this.maxInstancedCount = undefined;
}

InstancedBufferGeometry.prototype = Object.assign(Object.create(BufferGeometry.prototype), {
  constructor: InstancedBufferGeometry,
  isInstancedBufferGeometry: true,
  copy: function (source) {
    BufferGeometry.prototype.copy.call(this, source);
    this.maxInstancedCount = source.maxInstancedCount;
    return this;
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  toJSON: function () {
    var data = BufferGeometry.prototype.toJSON.call(this);
    data.maxInstancedCount = this.maxInstancedCount;
    data.isInstancedBufferGeometry = true;
    return data;
  }
});
/**
 * @author benaadams / https://twitter.com/ben_a_adams
 */

function InstancedBufferAttribute(array, itemSize, normalized, meshPerAttribute) {
  if (typeof normalized === 'number') {
    meshPerAttribute = normalized;
    normalized = false;
    console.error('THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.');
  }

  BufferAttribute.call(this, array, itemSize, normalized);
  this.meshPerAttribute = meshPerAttribute || 1;
}

InstancedBufferAttribute.prototype = Object.assign(Object.create(BufferAttribute.prototype), {
  constructor: InstancedBufferAttribute,
  isInstancedBufferAttribute: true,
  copy: function (source) {
    BufferAttribute.prototype.copy.call(this, source);
    this.meshPerAttribute = source.meshPerAttribute;
    return this;
  },
  toJSON: function () {
    var data = BufferAttribute.prototype.toJSON.call(this);
    data.meshPerAttribute = this.meshPerAttribute;
    data.isInstancedBufferAttribute = true;
    return data;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function BufferGeometryLoader(manager) {
  this.manager = manager !== undefined ? manager : DefaultLoadingManager;
}

Object.assign(BufferGeometryLoader.prototype, {
  load: function (url, onLoad, onProgress, onError) {
    var scope = this;
    var loader = new FileLoader(scope.manager);
    loader.setPath(scope.path);
    loader.load(url, function (text) {
      onLoad(scope.parse(JSON.parse(text)));
    }, onProgress, onError);
  },
  parse: function (json) {
    var geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();
    var index = json.data.index;

    if (index !== undefined) {
      var typedArray = new TYPED_ARRAYS[index.type](index.array);
      geometry.setIndex(new BufferAttribute(typedArray, 1));
    }

    var attributes = json.data.attributes;

    for (var key in attributes) {
      var attribute = attributes[key];
      var typedArray = new TYPED_ARRAYS[attribute.type](attribute.array);
      var bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;
      var bufferAttribute = new bufferAttributeConstr(typedArray, attribute.itemSize, attribute.normalized);
      if (attribute.name !== undefined) bufferAttribute.name = attribute.name;
      geometry.addAttribute(key, bufferAttribute);
    }

    var morphAttributes = json.data.morphAttributes;

    if (morphAttributes) {
      for (var key in morphAttributes) {
        var attributeArray = morphAttributes[key];
        var array = [];

        for (var i = 0, il = attributeArray.length; i < il; i++) {
          var attribute = attributeArray[i];
          var typedArray = new TYPED_ARRAYS[attribute.type](attribute.array);
          var bufferAttribute = new BufferAttribute(typedArray, attribute.itemSize, attribute.normalized);
          if (attribute.name !== undefined) bufferAttribute.name = attribute.name;
          array.push(bufferAttribute);
        }

        geometry.morphAttributes[key] = array;
      }
    }

    var groups = json.data.groups || json.data.drawcalls || json.data.offsets;

    if (groups !== undefined) {
      for (var i = 0, n = groups.length; i !== n; ++i) {
        var group = groups[i];
        geometry.addGroup(group.start, group.count, group.materialIndex);
      }
    }

    var boundingSphere = json.data.boundingSphere;

    if (boundingSphere !== undefined) {
      var center = new Vector3();

      if (boundingSphere.center !== undefined) {
        center.fromArray(boundingSphere.center);
      }

      geometry.boundingSphere = new Sphere(center, boundingSphere.radius);
    }

    if (json.name) geometry.name = json.name;
    if (json.userData) geometry.userData = json.userData;
    return geometry;
  },
  setPath: function (value) {
    this.path = value;
    return this;
  }
});
var TYPED_ARRAYS = {
  Int8Array: Int8Array,
  Uint8Array: Uint8Array,
  // Workaround for IE11 pre KB2929437. See #11440
  Uint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,
  Int16Array: Int16Array,
  Uint16Array: Uint16Array,
  Int32Array: Int32Array,
  Uint32Array: Uint32Array,
  Float32Array: Float32Array,
  Float64Array: Float64Array
};
/**
 * @author mrdoob / http://mrdoob.com/
 */

function ObjectLoader(manager) {
  this.manager = manager !== undefined ? manager : DefaultLoadingManager;
  this.resourcePath = '';
}

Object.assign(ObjectLoader.prototype, {
  crossOrigin: 'anonymous',
  load: function (url, onLoad, onProgress, onError) {
    var scope = this;
    var path = this.path === undefined ? LoaderUtils.extractUrlBase(url) : this.path;
    this.resourcePath = this.resourcePath || path;
    var loader = new FileLoader(scope.manager);
    loader.setPath(this.path);
    loader.load(url, function (text) {
      var json = null;

      try {
        json = JSON.parse(text);
      } catch (error) {
        if (onError !== undefined) onError(error);
        console.error('THREE:ObjectLoader: Can\'t parse ' + url + '.', error.message);
        return;
      }

      var metadata = json.metadata;

      if (metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry') {
        console.error('THREE.ObjectLoader: Can\'t load ' + url);
        return;
      }

      scope.parse(json, onLoad);
    }, onProgress, onError);
  },
  setPath: function (value) {
    this.path = value;
    return this;
  },
  setResourcePath: function (value) {
    this.resourcePath = value;
    return this;
  },
  setCrossOrigin: function (value) {
    this.crossOrigin = value;
    return this;
  },
  parse: function (json, onLoad) {
    var shapes = this.parseShape(json.shapes);
    var geometries = this.parseGeometries(json.geometries, shapes);
    var images = this.parseImages(json.images, function () {
      if (onLoad !== undefined) onLoad(object);
    });
    var textures = this.parseTextures(json.textures, images);
    var materials = this.parseMaterials(json.materials, textures);
    var object = this.parseObject(json.object, geometries, materials);

    if (json.animations) {
      object.animations = this.parseAnimations(json.animations);
    }

    if (json.images === undefined || json.images.length === 0) {
      if (onLoad !== undefined) onLoad(object);
    }

    return object;
  },
  parseShape: function (json) {
    var shapes = {};

    if (json !== undefined) {
      for (var i = 0, l = json.length; i < l; i++) {
        var shape = new Shape().fromJSON(json[i]);
        shapes[shape.uuid] = shape;
      }
    }

    return shapes;
  },
  parseGeometries: function (json, shapes) {
    var geometries = {};

    if (json !== undefined) {
      var bufferGeometryLoader = new BufferGeometryLoader();

      for (var i = 0, l = json.length; i < l; i++) {
        var geometry;
        var data = json[i];

        switch (data.type) {
          case 'PlaneGeometry':
          case 'PlaneBufferGeometry':
            geometry = new Geometries[data.type](data.width, data.height, data.widthSegments, data.heightSegments);
            break;

          case 'BoxGeometry':
          case 'BoxBufferGeometry':
          case 'CubeGeometry':
            // backwards compatible
            geometry = new Geometries[data.type](data.width, data.height, data.depth, data.widthSegments, data.heightSegments, data.depthSegments);
            break;

          case 'CircleGeometry':
          case 'CircleBufferGeometry':
            geometry = new Geometries[data.type](data.radius, data.segments, data.thetaStart, data.thetaLength);
            break;

          case 'CylinderGeometry':
          case 'CylinderBufferGeometry':
            geometry = new Geometries[data.type](data.radiusTop, data.radiusBottom, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);
            break;

          case 'ConeGeometry':
          case 'ConeBufferGeometry':
            geometry = new Geometries[data.type](data.radius, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);
            break;

          case 'SphereGeometry':
          case 'SphereBufferGeometry':
            geometry = new Geometries[data.type](data.radius, data.widthSegments, data.heightSegments, data.phiStart, data.phiLength, data.thetaStart, data.thetaLength);
            break;

          case 'DodecahedronGeometry':
          case 'DodecahedronBufferGeometry':
          case 'IcosahedronGeometry':
          case 'IcosahedronBufferGeometry':
          case 'OctahedronGeometry':
          case 'OctahedronBufferGeometry':
          case 'TetrahedronGeometry':
          case 'TetrahedronBufferGeometry':
            geometry = new Geometries[data.type](data.radius, data.detail);
            break;

          case 'RingGeometry':
          case 'RingBufferGeometry':
            geometry = new Geometries[data.type](data.innerRadius, data.outerRadius, data.thetaSegments, data.phiSegments, data.thetaStart, data.thetaLength);
            break;

          case 'TorusGeometry':
          case 'TorusBufferGeometry':
            geometry = new Geometries[data.type](data.radius, data.tube, data.radialSegments, data.tubularSegments, data.arc);
            break;

          case 'TorusKnotGeometry':
          case 'TorusKnotBufferGeometry':
            geometry = new Geometries[data.type](data.radius, data.tube, data.tubularSegments, data.radialSegments, data.p, data.q);
            break;

          case 'TubeGeometry':
          case 'TubeBufferGeometry':
            // This only works for built-in curves (e.g. CatmullRomCurve3).
            // User defined curves or instances of CurvePath will not be deserialized.
            geometry = new Geometries[data.type](new Curves[data.path.type]().fromJSON(data.path), data.tubularSegments, data.radius, data.radialSegments, data.closed);
            break;

          case 'LatheGeometry':
          case 'LatheBufferGeometry':
            geometry = new Geometries[data.type](data.points, data.segments, data.phiStart, data.phiLength);
            break;

          case 'PolyhedronGeometry':
          case 'PolyhedronBufferGeometry':
            geometry = new Geometries[data.type](data.vertices, data.indices, data.radius, data.details);
            break;

          case 'ShapeGeometry':
          case 'ShapeBufferGeometry':
            var geometryShapes = [];

            for (var j = 0, jl = data.shapes.length; j < jl; j++) {
              var shape = shapes[data.shapes[j]];
              geometryShapes.push(shape);
            }

            geometry = new Geometries[data.type](geometryShapes, data.curveSegments);
            break;

          case 'ExtrudeGeometry':
          case 'ExtrudeBufferGeometry':
            var geometryShapes = [];

            for (var j = 0, jl = data.shapes.length; j < jl; j++) {
              var shape = shapes[data.shapes[j]];
              geometryShapes.push(shape);
            }

            var extrudePath = data.options.extrudePath;

            if (extrudePath !== undefined) {
              data.options.extrudePath = new Curves[extrudePath.type]().fromJSON(extrudePath);
            }

            geometry = new Geometries[data.type](geometryShapes, data.options);
            break;

          case 'BufferGeometry':
          case 'InstancedBufferGeometry':
            geometry = bufferGeometryLoader.parse(data);
            break;

          case 'Geometry':
            if ('THREE' in window && 'LegacyJSONLoader' in THREE) {
              var geometryLoader = new THREE.LegacyJSONLoader();
              geometry = geometryLoader.parse(data, this.resourcePath).geometry;
            } else {
              console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');
            }

            break;

          default:
            console.warn('THREE.ObjectLoader: Unsupported geometry type "' + data.type + '"');
            continue;
        }

        geometry.uuid = data.uuid;
        if (data.name !== undefined) geometry.name = data.name;
        if (geometry.isBufferGeometry === true && data.userData !== undefined) geometry.userData = data.userData;
        geometries[data.uuid] = geometry;
      }
    }

    return geometries;
  },
  parseMaterials: function (json, textures) {
    var cache = {}; // MultiMaterial

    var materials = {};

    if (json !== undefined) {
      var loader = new MaterialLoader();
      loader.setTextures(textures);

      for (var i = 0, l = json.length; i < l; i++) {
        var data = json[i];

        if (data.type === 'MultiMaterial') {
          // Deprecated
          var array = [];

          for (var j = 0; j < data.materials.length; j++) {
            var material = data.materials[j];

            if (cache[material.uuid] === undefined) {
              cache[material.uuid] = loader.parse(material);
            }

            array.push(cache[material.uuid]);
          }

          materials[data.uuid] = array;
        } else {
          if (cache[data.uuid] === undefined) {
            cache[data.uuid] = loader.parse(data);
          }

          materials[data.uuid] = cache[data.uuid];
        }
      }
    }

    return materials;
  },
  parseAnimations: function (json) {
    var animations = [];

    for (var i = 0; i < json.length; i++) {
      var data = json[i];
      var clip = AnimationClip.parse(data);
      if (data.uuid !== undefined) clip.uuid = data.uuid;
      animations.push(clip);
    }

    return animations;
  },
  parseImages: function (json, onLoad) {
    var scope = this;
    var images = {};

    function loadImage(url) {
      scope.manager.itemStart(url);
      return loader.load(url, function () {
        scope.manager.itemEnd(url);
      }, undefined, function () {
        scope.manager.itemError(url);
        scope.manager.itemEnd(url);
      });
    }

    if (json !== undefined && json.length > 0) {
      var manager = new LoadingManager(onLoad);
      var loader = new ImageLoader(manager);
      loader.setCrossOrigin(this.crossOrigin);

      for (var i = 0, il = json.length; i < il; i++) {
        var image = json[i];
        var url = image.url;

        if (Array.isArray(url)) {
          // load array of images e.g CubeTexture
          images[image.uuid] = [];

          for (var j = 0, jl = url.length; j < jl; j++) {
            var currentUrl = url[j];
            var path = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(currentUrl) ? currentUrl : scope.resourcePath + currentUrl;
            images[image.uuid].push(loadImage(path));
          }
        } else {
          // load single image
          var path = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(image.url) ? image.url : scope.resourcePath + image.url;
          images[image.uuid] = loadImage(path);
        }
      }
    }

    return images;
  },
  parseTextures: function (json, images) {
    function parseConstant(value, type) {
      if (typeof value === 'number') return value;
      console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value);
      return type[value];
    }

    var textures = {};

    if (json !== undefined) {
      for (var i = 0, l = json.length; i < l; i++) {
        var data = json[i];

        if (data.image === undefined) {
          console.warn('THREE.ObjectLoader: No "image" specified for', data.uuid);
        }

        if (images[data.image] === undefined) {
          console.warn('THREE.ObjectLoader: Undefined image', data.image);
        }

        var texture;

        if (Array.isArray(images[data.image])) {
          texture = new CubeTexture(images[data.image]);
        } else {
          texture = new Texture(images[data.image]);
        }

        texture.needsUpdate = true;
        texture.uuid = data.uuid;
        if (data.name !== undefined) texture.name = data.name;
        if (data.mapping !== undefined) texture.mapping = parseConstant(data.mapping, TEXTURE_MAPPING);
        if (data.offset !== undefined) texture.offset.fromArray(data.offset);
        if (data.repeat !== undefined) texture.repeat.fromArray(data.repeat);
        if (data.center !== undefined) texture.center.fromArray(data.center);
        if (data.rotation !== undefined) texture.rotation = data.rotation;

        if (data.wrap !== undefined) {
          texture.wrapS = parseConstant(data.wrap[0], TEXTURE_WRAPPING);
          texture.wrapT = parseConstant(data.wrap[1], TEXTURE_WRAPPING);
        }

        if (data.format !== undefined) texture.format = data.format;
        if (data.type !== undefined) texture.type = data.type;
        if (data.encoding !== undefined) texture.encoding = data.encoding;
        if (data.minFilter !== undefined) texture.minFilter = parseConstant(data.minFilter, TEXTURE_FILTER);
        if (data.magFilter !== undefined) texture.magFilter = parseConstant(data.magFilter, TEXTURE_FILTER);
        if (data.anisotropy !== undefined) texture.anisotropy = data.anisotropy;
        if (data.flipY !== undefined) texture.flipY = data.flipY;
        if (data.premultiplyAlpha !== undefined) texture.premultiplyAlpha = data.premultiplyAlpha;
        if (data.unpackAlignment !== undefined) texture.unpackAlignment = data.unpackAlignment;
        textures[data.uuid] = texture;
      }
    }

    return textures;
  },
  parseObject: function (data, geometries, materials) {
    var object;

    function getGeometry(name) {
      if (geometries[name] === undefined) {
        console.warn('THREE.ObjectLoader: Undefined geometry', name);
      }

      return geometries[name];
    }

    function getMaterial(name) {
      if (name === undefined) return undefined;

      if (Array.isArray(name)) {
        var array = [];

        for (var i = 0, l = name.length; i < l; i++) {
          var uuid = name[i];

          if (materials[uuid] === undefined) {
            console.warn('THREE.ObjectLoader: Undefined material', uuid);
          }

          array.push(materials[uuid]);
        }

        return array;
      }

      if (materials[name] === undefined) {
        console.warn('THREE.ObjectLoader: Undefined material', name);
      }

      return materials[name];
    }

    switch (data.type) {
      case 'Scene':
        object = new Scene();

        if (data.background !== undefined) {
          if (Number.isInteger(data.background)) {
            object.background = new Color(data.background);
          }
        }

        if (data.fog !== undefined) {
          if (data.fog.type === 'Fog') {
            object.fog = new Fog(data.fog.color, data.fog.near, data.fog.far);
          } else if (data.fog.type === 'FogExp2') {
            object.fog = new FogExp2(data.fog.color, data.fog.density);
          }
        }

        break;

      case 'PerspectiveCamera':
        object = new PerspectiveCamera(data.fov, data.aspect, data.near, data.far);
        if (data.focus !== undefined) object.focus = data.focus;
        if (data.zoom !== undefined) object.zoom = data.zoom;
        if (data.filmGauge !== undefined) object.filmGauge = data.filmGauge;
        if (data.filmOffset !== undefined) object.filmOffset = data.filmOffset;
        if (data.view !== undefined) object.view = Object.assign({}, data.view);
        break;

      case 'OrthographicCamera':
        object = new OrthographicCamera(data.left, data.right, data.top, data.bottom, data.near, data.far);
        if (data.zoom !== undefined) object.zoom = data.zoom;
        if (data.view !== undefined) object.view = Object.assign({}, data.view);
        break;

      case 'AmbientLight':
        object = new AmbientLight(data.color, data.intensity);
        break;

      case 'DirectionalLight':
        object = new DirectionalLight(data.color, data.intensity);
        break;

      case 'PointLight':
        object = new PointLight(data.color, data.intensity, data.distance, data.decay);
        break;

      case 'RectAreaLight':
        object = new RectAreaLight(data.color, data.intensity, data.width, data.height);
        break;

      case 'SpotLight':
        object = new SpotLight(data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay);
        break;

      case 'HemisphereLight':
        object = new HemisphereLight(data.color, data.groundColor, data.intensity);
        break;

      case 'SkinnedMesh':
        console.warn('THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.');

      case 'Mesh':
        var geometry = getGeometry(data.geometry);
        var material = getMaterial(data.material);

        if (geometry.bones && geometry.bones.length > 0) {
          object = new SkinnedMesh(geometry, material);
        } else {
          object = new Mesh(geometry, material);
        }

        if (data.drawMode !== undefined) object.setDrawMode(data.drawMode);
        break;

      case 'LOD':
        object = new LOD();
        break;

      case 'Line':
        object = new Line(getGeometry(data.geometry), getMaterial(data.material), data.mode);
        break;

      case 'LineLoop':
        object = new LineLoop(getGeometry(data.geometry), getMaterial(data.material));
        break;

      case 'LineSegments':
        object = new LineSegments(getGeometry(data.geometry), getMaterial(data.material));
        break;

      case 'PointCloud':
      case 'Points':
        object = new Points(getGeometry(data.geometry), getMaterial(data.material));
        break;

      case 'Sprite':
        object = new Sprite(getMaterial(data.material));
        break;

      case 'Group':
        object = new Group();
        break;

      default:
        object = new Object3D();
    }

    object.uuid = data.uuid;
    if (data.name !== undefined) object.name = data.name;

    if (data.matrix !== undefined) {
      object.matrix.fromArray(data.matrix);
      if (data.matrixAutoUpdate !== undefined) object.matrixAutoUpdate = data.matrixAutoUpdate;
      if (object.matrixAutoUpdate) object.matrix.decompose(object.position, object.quaternion, object.scale);
    } else {
      if (data.position !== undefined) object.position.fromArray(data.position);
      if (data.rotation !== undefined) object.rotation.fromArray(data.rotation);
      if (data.quaternion !== undefined) object.quaternion.fromArray(data.quaternion);
      if (data.scale !== undefined) object.scale.fromArray(data.scale);
    }

    if (data.castShadow !== undefined) object.castShadow = data.castShadow;
    if (data.receiveShadow !== undefined) object.receiveShadow = data.receiveShadow;

    if (data.shadow) {
      if (data.shadow.bias !== undefined) object.shadow.bias = data.shadow.bias;
      if (data.shadow.radius !== undefined) object.shadow.radius = data.shadow.radius;
      if (data.shadow.mapSize !== undefined) object.shadow.mapSize.fromArray(data.shadow.mapSize);
      if (data.shadow.camera !== undefined) object.shadow.camera = this.parseObject(data.shadow.camera);
    }

    if (data.visible !== undefined) object.visible = data.visible;
    if (data.frustumCulled !== undefined) object.frustumCulled = data.frustumCulled;
    if (data.renderOrder !== undefined) object.renderOrder = data.renderOrder;
    if (data.userData !== undefined) object.userData = data.userData;
    if (data.layers !== undefined) object.layers.mask = data.layers;

    if (data.children !== undefined) {
      var children = data.children;

      for (var i = 0; i < children.length; i++) {
        object.add(this.parseObject(children[i], geometries, materials));
      }
    }

    if (data.type === 'LOD') {
      var levels = data.levels;

      for (var l = 0; l < levels.length; l++) {
        var level = levels[l];
        var child = object.getObjectByProperty('uuid', level.object);

        if (child !== undefined) {
          object.addLevel(child, level.distance);
        }
      }
    }

    return object;
  }
});
var TEXTURE_MAPPING = {
  UVMapping: UVMapping,
  CubeReflectionMapping: CubeReflectionMapping,
  CubeRefractionMapping: CubeRefractionMapping,
  EquirectangularReflectionMapping: EquirectangularReflectionMapping,
  EquirectangularRefractionMapping: EquirectangularRefractionMapping,
  SphericalReflectionMapping: SphericalReflectionMapping,
  CubeUVReflectionMapping: CubeUVReflectionMapping,
  CubeUVRefractionMapping: CubeUVRefractionMapping
};
var TEXTURE_WRAPPING = {
  RepeatWrapping: RepeatWrapping,
  ClampToEdgeWrapping: ClampToEdgeWrapping,
  MirroredRepeatWrapping: MirroredRepeatWrapping
};
var TEXTURE_FILTER = {
  NearestFilter: NearestFilter,
  NearestMipmapNearestFilter: NearestMipmapNearestFilter,
  NearestMipmapLinearFilter: NearestMipmapLinearFilter,
  LinearFilter: LinearFilter,
  LinearMipmapNearestFilter: LinearMipmapNearestFilter,
  LinearMipmapLinearFilter: LinearMipmapLinearFilter
};
/**
 * @author thespite / http://clicktorelease.com/
 */

function ImageBitmapLoader(manager) {
  if (typeof createImageBitmap === 'undefined') {
    console.warn('THREE.ImageBitmapLoader: createImageBitmap() not supported.');
  }

  if (typeof fetch === 'undefined') {
    console.warn('THREE.ImageBitmapLoader: fetch() not supported.');
  }

  this.manager = manager !== undefined ? manager : DefaultLoadingManager;
  this.options = undefined;
}

ImageBitmapLoader.prototype = {
  constructor: ImageBitmapLoader,
  setOptions: function setOptions(options) {
    this.options = options;
    return this;
  },
  load: function (url, onLoad, onProgress, onError) {
    if (url === undefined) url = '';
    if (this.path !== undefined) url = this.path + url;
    url = this.manager.resolveURL(url);
    var scope = this;
    var cached = Cache.get(url);

    if (cached !== undefined) {
      scope.manager.itemStart(url);
      setTimeout(function () {
        if (onLoad) onLoad(cached);
        scope.manager.itemEnd(url);
      }, 0);
      return cached;
    }

    fetch(url).then(function (res) {
      return res.blob();
    }).then(function (blob) {
      if (scope.options === undefined) {
        // Workaround for FireFox. It causes an error if you pass options.
        return createImageBitmap(blob);
      } else {
        return createImageBitmap(blob, scope.options);
      }
    }).then(function (imageBitmap) {
      Cache.add(url, imageBitmap);
      if (onLoad) onLoad(imageBitmap);
      scope.manager.itemEnd(url);
    }).catch(function (e) {
      if (onError) onError(e);
      scope.manager.itemError(url);
      scope.manager.itemEnd(url);
    });
    scope.manager.itemStart(url);
  },
  setCrossOrigin: function
    /* value */
  () {
    return this;
  },
  setPath: function (value) {
    this.path = value;
    return this;
  }
};
/**
 * @author zz85 / http://www.lab4games.net/zz85/blog
 * minimal class for proxing functions to Path. Replaces old "extractSubpaths()"
 **/

function ShapePath() {
  this.type = 'ShapePath';
  this.color = new Color();
  this.subPaths = [];
  this.currentPath = null;
}

Object.assign(ShapePath.prototype, {
  moveTo: function (x, y) {
    this.currentPath = new Path();
    this.subPaths.push(this.currentPath);
    this.currentPath.moveTo(x, y);
  },
  lineTo: function (x, y) {
    this.currentPath.lineTo(x, y);
  },
  quadraticCurveTo: function (aCPx, aCPy, aX, aY) {
    this.currentPath.quadraticCurveTo(aCPx, aCPy, aX, aY);
  },
  bezierCurveTo: function (aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {
    this.currentPath.bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY);
  },
  splineThru: function (pts) {
    this.currentPath.splineThru(pts);
  },
  toShapes: function (isCCW, noHoles) {
    function toShapesNoHoles(inSubpaths) {
      var shapes = [];

      for (var i = 0, l = inSubpaths.length; i < l; i++) {
        var tmpPath = inSubpaths[i];
        var tmpShape = new Shape();
        tmpShape.curves = tmpPath.curves;
        shapes.push(tmpShape);
      }

      return shapes;
    }

    function isPointInsidePolygon(inPt, inPolygon) {
      var polyLen = inPolygon.length; // inPt on polygon contour => immediate success    or
      // toggling of inside/outside at every single! intersection point of an edge
      //  with the horizontal line through inPt, left of inPt
      //  not counting lowerY endpoints of edges and whole edges on that line

      var inside = false;

      for (var p = polyLen - 1, q = 0; q < polyLen; p = q++) {
        var edgeLowPt = inPolygon[p];
        var edgeHighPt = inPolygon[q];
        var edgeDx = edgeHighPt.x - edgeLowPt.x;
        var edgeDy = edgeHighPt.y - edgeLowPt.y;

        if (Math.abs(edgeDy) > Number.EPSILON) {
          // not parallel
          if (edgeDy < 0) {
            edgeLowPt = inPolygon[q];
            edgeDx = -edgeDx;
            edgeHighPt = inPolygon[p];
            edgeDy = -edgeDy;
          }

          if (inPt.y < edgeLowPt.y || inPt.y > edgeHighPt.y) continue;

          if (inPt.y === edgeLowPt.y) {
            if (inPt.x === edgeLowPt.x) return true; // inPt is on contour ?
            // continue;				// no intersection or edgeLowPt => doesn't count !!!
          } else {
            var perpEdge = edgeDy * (inPt.x - edgeLowPt.x) - edgeDx * (inPt.y - edgeLowPt.y);
            if (perpEdge === 0) return true; // inPt is on contour ?

            if (perpEdge < 0) continue;
            inside = !inside; // true intersection left of inPt
          }
        } else {
          // parallel or collinear
          if (inPt.y !== edgeLowPt.y) continue; // parallel
          // edge lies on the same horizontal line as inPt

          if (edgeHighPt.x <= inPt.x && inPt.x <= edgeLowPt.x || edgeLowPt.x <= inPt.x && inPt.x <= edgeHighPt.x) return true; // inPt: Point on contour !
          // continue;
        }
      }

      return inside;
    }

    var isClockWise = ShapeUtils.isClockWise;
    var subPaths = this.subPaths;
    if (subPaths.length === 0) return [];
    if (noHoles === true) return toShapesNoHoles(subPaths);
    var solid,
        tmpPath,
        tmpShape,
        shapes = [];

    if (subPaths.length === 1) {
      tmpPath = subPaths[0];
      tmpShape = new Shape();
      tmpShape.curves = tmpPath.curves;
      shapes.push(tmpShape);
      return shapes;
    }

    var holesFirst = !isClockWise(subPaths[0].getPoints());
    holesFirst = isCCW ? !holesFirst : holesFirst; // console.log("Holes first", holesFirst);

    var betterShapeHoles = [];
    var newShapes = [];
    var newShapeHoles = [];
    var mainIdx = 0;
    var tmpPoints;
    newShapes[mainIdx] = undefined;
    newShapeHoles[mainIdx] = [];

    for (var i = 0, l = subPaths.length; i < l; i++) {
      tmpPath = subPaths[i];
      tmpPoints = tmpPath.getPoints();
      solid = isClockWise(tmpPoints);
      solid = isCCW ? !solid : solid;

      if (solid) {
        if (!holesFirst && newShapes[mainIdx]) mainIdx++;
        newShapes[mainIdx] = {
          s: new Shape(),
          p: tmpPoints
        };
        newShapes[mainIdx].s.curves = tmpPath.curves;
        if (holesFirst) mainIdx++;
        newShapeHoles[mainIdx] = []; //console.log('cw', i);
      } else {
        newShapeHoles[mainIdx].push({
          h: tmpPath,
          p: tmpPoints[0]
        }); //console.log('ccw', i);
      }
    } // only Holes? -> probably all Shapes with wrong orientation


    if (!newShapes[0]) return toShapesNoHoles(subPaths);

    if (newShapes.length > 1) {
      var ambiguous = false;
      var toChange = [];

      for (var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {
        betterShapeHoles[sIdx] = [];
      }

      for (var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {
        var sho = newShapeHoles[sIdx];

        for (var hIdx = 0; hIdx < sho.length; hIdx++) {
          var ho = sho[hIdx];
          var hole_unassigned = true;

          for (var s2Idx = 0; s2Idx < newShapes.length; s2Idx++) {
            if (isPointInsidePolygon(ho.p, newShapes[s2Idx].p)) {
              if (sIdx !== s2Idx) toChange.push({
                froms: sIdx,
                tos: s2Idx,
                hole: hIdx
              });

              if (hole_unassigned) {
                hole_unassigned = false;
                betterShapeHoles[s2Idx].push(ho);
              } else {
                ambiguous = true;
              }
            }
          }

          if (hole_unassigned) {
            betterShapeHoles[sIdx].push(ho);
          }
        }
      } // console.log("ambiguous: ", ambiguous);


      if (toChange.length > 0) {
        // console.log("to change: ", toChange);
        if (!ambiguous) newShapeHoles = betterShapeHoles;
      }
    }

    var tmpHoles;

    for (var i = 0, il = newShapes.length; i < il; i++) {
      tmpShape = newShapes[i].s;
      shapes.push(tmpShape);
      tmpHoles = newShapeHoles[i];

      for (var j = 0, jl = tmpHoles.length; j < jl; j++) {
        tmpShape.holes.push(tmpHoles[j].h);
      }
    } //console.log("shape", shapes);


    return shapes;
  }
});
/**
 * @author zz85 / http://www.lab4games.net/zz85/blog
 * @author mrdoob / http://mrdoob.com/
 */

function Font(data) {
  this.type = 'Font';
  this.data = data;
}

Object.assign(Font.prototype, {
  isFont: true,
  generateShapes: function (text, size) {
    if (size === undefined) size = 100;
    var shapes = [];
    var paths = createPaths(text, size, this.data);

    for (var p = 0, pl = paths.length; p < pl; p++) {
      Array.prototype.push.apply(shapes, paths[p].toShapes());
    }

    return shapes;
  }
});

function createPaths(text, size, data) {
  var chars = Array.from ? Array.from(text) : String(text).split(''); // see #13988

  var scale = size / data.resolution;
  var line_height = (data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness) * scale;
  var paths = [];
  var offsetX = 0,
      offsetY = 0;

  for (var i = 0; i < chars.length; i++) {
    var char = chars[i];

    if (char === '\n') {
      offsetX = 0;
      offsetY -= line_height;
    } else {
      var ret = createPath(char, scale, offsetX, offsetY, data);
      offsetX += ret.offsetX;
      paths.push(ret.path);
    }
  }

  return paths;
}

function createPath(char, scale, offsetX, offsetY, data) {
  var glyph = data.glyphs[char] || data.glyphs['?'];

  if (!glyph) {
    console.error('THREE.Font: character "' + char + '" does not exists in font family ' + data.familyName + '.');
    return;
  }

  var path = new ShapePath();
  var x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;

  if (glyph.o) {
    var outline = glyph._cachedOutline || (glyph._cachedOutline = glyph.o.split(' '));

    for (var i = 0, l = outline.length; i < l;) {
      var action = outline[i++];

      switch (action) {
        case 'm':
          // moveTo
          x = outline[i++] * scale + offsetX;
          y = outline[i++] * scale + offsetY;
          path.moveTo(x, y);
          break;

        case 'l':
          // lineTo
          x = outline[i++] * scale + offsetX;
          y = outline[i++] * scale + offsetY;
          path.lineTo(x, y);
          break;

        case 'q':
          // quadraticCurveTo
          cpx = outline[i++] * scale + offsetX;
          cpy = outline[i++] * scale + offsetY;
          cpx1 = outline[i++] * scale + offsetX;
          cpy1 = outline[i++] * scale + offsetY;
          path.quadraticCurveTo(cpx1, cpy1, cpx, cpy);
          break;

        case 'b':
          // bezierCurveTo
          cpx = outline[i++] * scale + offsetX;
          cpy = outline[i++] * scale + offsetY;
          cpx1 = outline[i++] * scale + offsetX;
          cpy1 = outline[i++] * scale + offsetY;
          cpx2 = outline[i++] * scale + offsetX;
          cpy2 = outline[i++] * scale + offsetY;
          path.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, cpx, cpy);
          break;
      }
    }
  }

  return {
    offsetX: glyph.ha * scale,
    path: path
  };
}
/**
 * @author mrdoob / http://mrdoob.com/
 */


function FontLoader(manager) {
  this.manager = manager !== undefined ? manager : DefaultLoadingManager;
}

Object.assign(FontLoader.prototype, {
  load: function (url, onLoad, onProgress, onError) {
    var scope = this;
    var loader = new FileLoader(this.manager);
    loader.setPath(this.path);
    loader.load(url, function (text) {
      var json;

      try {
        json = JSON.parse(text);
      } catch (e) {
        console.warn('THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.');
        json = JSON.parse(text.substring(65, text.length - 2));
      }

      var font = scope.parse(json);
      if (onLoad) onLoad(font);
    }, onProgress, onError);
  },
  parse: function (json) {
    return new Font(json);
  },
  setPath: function (value) {
    this.path = value;
    return this;
  }
});
/**
 * @author alteredq / http://alteredqualia.com/
 */

function Loader() {}

Loader.Handlers = {
  handlers: [],
  add: function (regex, loader) {
    this.handlers.push(regex, loader);
  },
  get: function (file) {
    var handlers = this.handlers;

    for (var i = 0, l = handlers.length; i < l; i += 2) {
      var regex = handlers[i];
      var loader = handlers[i + 1];

      if (regex.test(file)) {
        return loader;
      }
    }

    return null;
  }
};
Object.assign(Loader.prototype, {
  crossOrigin: 'anonymous',
  onLoadStart: function () {},
  onLoadProgress: function () {},
  onLoadComplete: function () {},
  initMaterials: function (materials, texturePath, crossOrigin) {
    var array = [];

    for (var i = 0; i < materials.length; ++i) {
      array[i] = this.createMaterial(materials[i], texturePath, crossOrigin);
    }

    return array;
  },
  createMaterial: function () {
    var BlendingMode = {
      NoBlending: NoBlending,
      NormalBlending: NormalBlending,
      AdditiveBlending: AdditiveBlending,
      SubtractiveBlending: SubtractiveBlending,
      MultiplyBlending: MultiplyBlending,
      CustomBlending: CustomBlending
    };
    var color = new Color();
    var textureLoader = new TextureLoader();
    var materialLoader = new MaterialLoader();
    return function createMaterial(m, texturePath, crossOrigin) {
      // convert from old material format
      var textures = {};

      function loadTexture(path, repeat, offset, wrap, anisotropy) {
        var fullPath = texturePath + path;
        var loader = Loader.Handlers.get(fullPath);
        var texture;

        if (loader !== null) {
          texture = loader.load(fullPath);
        } else {
          textureLoader.setCrossOrigin(crossOrigin);
          texture = textureLoader.load(fullPath);
        }

        if (repeat !== undefined) {
          texture.repeat.fromArray(repeat);
          if (repeat[0] !== 1) texture.wrapS = RepeatWrapping;
          if (repeat[1] !== 1) texture.wrapT = RepeatWrapping;
        }

        if (offset !== undefined) {
          texture.offset.fromArray(offset);
        }

        if (wrap !== undefined) {
          if (wrap[0] === 'repeat') texture.wrapS = RepeatWrapping;
          if (wrap[0] === 'mirror') texture.wrapS = MirroredRepeatWrapping;
          if (wrap[1] === 'repeat') texture.wrapT = RepeatWrapping;
          if (wrap[1] === 'mirror') texture.wrapT = MirroredRepeatWrapping;
        }

        if (anisotropy !== undefined) {
          texture.anisotropy = anisotropy;
        }

        var uuid = _Math.generateUUID();

        textures[uuid] = texture;
        return uuid;
      } //


      var json = {
        uuid: _Math.generateUUID(),
        type: 'MeshLambertMaterial'
      };

      for (var name in m) {
        var value = m[name];

        switch (name) {
          case 'DbgColor':
          case 'DbgIndex':
          case 'opticalDensity':
          case 'illumination':
            break;

          case 'DbgName':
            json.name = value;
            break;

          case 'blending':
            json.blending = BlendingMode[value];
            break;

          case 'colorAmbient':
          case 'mapAmbient':
            console.warn('THREE.Loader.createMaterial:', name, 'is no longer supported.');
            break;

          case 'colorDiffuse':
            json.color = color.fromArray(value).getHex();
            break;

          case 'colorSpecular':
            json.specular = color.fromArray(value).getHex();
            break;

          case 'colorEmissive':
            json.emissive = color.fromArray(value).getHex();
            break;

          case 'specularCoef':
            json.shininess = value;
            break;

          case 'shading':
            if (value.toLowerCase() === 'basic') json.type = 'MeshBasicMaterial';
            if (value.toLowerCase() === 'phong') json.type = 'MeshPhongMaterial';
            if (value.toLowerCase() === 'standard') json.type = 'MeshStandardMaterial';
            break;

          case 'mapDiffuse':
            json.map = loadTexture(value, m.mapDiffuseRepeat, m.mapDiffuseOffset, m.mapDiffuseWrap, m.mapDiffuseAnisotropy);
            break;

          case 'mapDiffuseRepeat':
          case 'mapDiffuseOffset':
          case 'mapDiffuseWrap':
          case 'mapDiffuseAnisotropy':
            break;

          case 'mapEmissive':
            json.emissiveMap = loadTexture(value, m.mapEmissiveRepeat, m.mapEmissiveOffset, m.mapEmissiveWrap, m.mapEmissiveAnisotropy);
            break;

          case 'mapEmissiveRepeat':
          case 'mapEmissiveOffset':
          case 'mapEmissiveWrap':
          case 'mapEmissiveAnisotropy':
            break;

          case 'mapLight':
            json.lightMap = loadTexture(value, m.mapLightRepeat, m.mapLightOffset, m.mapLightWrap, m.mapLightAnisotropy);
            break;

          case 'mapLightRepeat':
          case 'mapLightOffset':
          case 'mapLightWrap':
          case 'mapLightAnisotropy':
            break;

          case 'mapAO':
            json.aoMap = loadTexture(value, m.mapAORepeat, m.mapAOOffset, m.mapAOWrap, m.mapAOAnisotropy);
            break;

          case 'mapAORepeat':
          case 'mapAOOffset':
          case 'mapAOWrap':
          case 'mapAOAnisotropy':
            break;

          case 'mapBump':
            json.bumpMap = loadTexture(value, m.mapBumpRepeat, m.mapBumpOffset, m.mapBumpWrap, m.mapBumpAnisotropy);
            break;

          case 'mapBumpScale':
            json.bumpScale = value;
            break;

          case 'mapBumpRepeat':
          case 'mapBumpOffset':
          case 'mapBumpWrap':
          case 'mapBumpAnisotropy':
            break;

          case 'mapNormal':
            json.normalMap = loadTexture(value, m.mapNormalRepeat, m.mapNormalOffset, m.mapNormalWrap, m.mapNormalAnisotropy);
            break;

          case 'mapNormalFactor':
            json.normalScale = value;
            break;

          case 'mapNormalRepeat':
          case 'mapNormalOffset':
          case 'mapNormalWrap':
          case 'mapNormalAnisotropy':
            break;

          case 'mapSpecular':
            json.specularMap = loadTexture(value, m.mapSpecularRepeat, m.mapSpecularOffset, m.mapSpecularWrap, m.mapSpecularAnisotropy);
            break;

          case 'mapSpecularRepeat':
          case 'mapSpecularOffset':
          case 'mapSpecularWrap':
          case 'mapSpecularAnisotropy':
            break;

          case 'mapMetalness':
            json.metalnessMap = loadTexture(value, m.mapMetalnessRepeat, m.mapMetalnessOffset, m.mapMetalnessWrap, m.mapMetalnessAnisotropy);
            break;

          case 'mapMetalnessRepeat':
          case 'mapMetalnessOffset':
          case 'mapMetalnessWrap':
          case 'mapMetalnessAnisotropy':
            break;

          case 'mapRoughness':
            json.roughnessMap = loadTexture(value, m.mapRoughnessRepeat, m.mapRoughnessOffset, m.mapRoughnessWrap, m.mapRoughnessAnisotropy);
            break;

          case 'mapRoughnessRepeat':
          case 'mapRoughnessOffset':
          case 'mapRoughnessWrap':
          case 'mapRoughnessAnisotropy':
            break;

          case 'mapAlpha':
            json.alphaMap = loadTexture(value, m.mapAlphaRepeat, m.mapAlphaOffset, m.mapAlphaWrap, m.mapAlphaAnisotropy);
            break;

          case 'mapAlphaRepeat':
          case 'mapAlphaOffset':
          case 'mapAlphaWrap':
          case 'mapAlphaAnisotropy':
            break;

          case 'flipSided':
            json.side = BackSide;
            break;

          case 'doubleSided':
            json.side = DoubleSide;
            break;

          case 'transparency':
            console.warn('THREE.Loader.createMaterial: transparency has been renamed to opacity');
            json.opacity = value;
            break;

          case 'depthTest':
          case 'depthWrite':
          case 'colorWrite':
          case 'opacity':
          case 'reflectivity':
          case 'transparent':
          case 'visible':
          case 'wireframe':
            json[name] = value;
            break;

          case 'vertexColors':
            if (value === true) json.vertexColors = VertexColors;
            if (value === 'face') json.vertexColors = FaceColors;
            break;

          default:
            console.error('THREE.Loader.createMaterial: Unsupported', name, value);
            break;
        }
      }

      if (json.type === 'MeshBasicMaterial') delete json.emissive;
      if (json.type !== 'MeshPhongMaterial') delete json.specular;
      if (json.opacity < 1) json.transparent = true;
      materialLoader.setTextures(textures);
      return materialLoader.parse(json);
    };
  }()
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

var context;
var AudioContext = {
  getContext: function () {
    if (context === undefined) {
      context = new (window.AudioContext || window.webkitAudioContext)();
    }

    return context;
  },
  setContext: function (value) {
    context = value;
  }
};
/**
 * @author Reece Aaron Lecrivain / http://reecenotes.com/
 */

exports.AudioContext = AudioContext;

function AudioLoader(manager) {
  this.manager = manager !== undefined ? manager : DefaultLoadingManager;
}

Object.assign(AudioLoader.prototype, {
  load: function (url, onLoad, onProgress, onError) {
    var loader = new FileLoader(this.manager);
    loader.setResponseType('arraybuffer');
    loader.setPath(this.path);
    loader.load(url, function (buffer) {
      // Create a copy of the buffer. The `decodeAudioData` method
      // detaches the buffer when complete, preventing reuse.
      var bufferCopy = buffer.slice(0);
      var context = AudioContext.getContext();
      context.decodeAudioData(bufferCopy, function (audioBuffer) {
        onLoad(audioBuffer);
      });
    }, onProgress, onError);
  },
  setPath: function (value) {
    this.path = value;
    return this;
  }
});
/**
 * @author bhouston / http://clara.io
 * @author WestLangley / http://github.com/WestLangley
 *
 * Primary reference:
 *   https://graphics.stanford.edu/papers/envmap/envmap.pdf
 *
 * Secondary reference:
 *   https://www.ppsloan.org/publications/StupidSH36.pdf
 */
// 3-band SH defined by 9 coefficients

function SphericalHarmonics3() {
  this.coefficients = [];

  for (var i = 0; i < 9; i++) {
    this.coefficients.push(new Vector3());
  }
}

Object.assign(SphericalHarmonics3.prototype, {
  isSphericalHarmonics3: true,
  set: function (coefficients) {
    for (var i = 0; i < 9; i++) {
      this.coefficients[i].copy(coefficients[i]);
    }

    return this;
  },
  zero: function () {
    for (var i = 0; i < 9; i++) {
      this.coefficients[i].set(0, 0, 0);
    }

    return this;
  },
  // get the radiance in the direction of the normal
  // target is a Vector3
  getAt: function (normal, target) {
    // normal is assumed to be unit length
    var x = normal.x,
        y = normal.y,
        z = normal.z;
    var coeff = this.coefficients; // band 0

    target.copy(coeff[0]).multiplyScalar(0.282095); // band 1

    target.addScale(coeff[1], 0.488603 * y);
    target.addScale(coeff[2], 0.488603 * z);
    target.addScale(coeff[3], 0.488603 * x); // band 2

    target.addScale(coeff[4], 1.092548 * (x * y));
    target.addScale(coeff[5], 1.092548 * (y * z));
    target.addScale(coeff[6], 0.315392 * (3.0 * z * z - 1.0));
    target.addScale(coeff[7], 1.092548 * (x * z));
    target.addScale(coeff[8], 0.546274 * (x * x - y * y));
    return target;
  },
  // get the irradiance (radiance convolved with cosine lobe) in the direction of the normal
  // target is a Vector3
  // https://graphics.stanford.edu/papers/envmap/envmap.pdf
  getIrradianceAt: function (normal, target) {
    // normal is assumed to be unit length
    var x = normal.x,
        y = normal.y,
        z = normal.z;
    var coeff = this.coefficients; // band 0

    target.copy(coeff[0]).multiplyScalar(0.886227); // π * 0.282095
    // band 1

    target.addScale(coeff[1], 2.0 * 0.511664 * y); // ( 2 * π / 3 ) * 0.488603

    target.addScale(coeff[2], 2.0 * 0.511664 * z);
    target.addScale(coeff[3], 2.0 * 0.511664 * x); // band 2

    target.addScale(coeff[4], 2.0 * 0.429043 * x * y); // ( π / 4 ) * 1.092548

    target.addScale(coeff[5], 2.0 * 0.429043 * y * z);
    target.addScale(coeff[6], 0.743125 * z * z - 0.247708); // ( π / 4 ) * 0.315392 * 3

    target.addScale(coeff[7], 2.0 * 0.429043 * x * z);
    target.addScale(coeff[8], 0.429043 * (x * x - y * y)); // ( π / 4 ) * 0.546274

    return target;
  },
  add: function (sh) {
    for (var i = 0; i < 9; i++) {
      this.coefficients[i].add(sh.coefficients[i]);
    }

    return this;
  },
  scale: function (s) {
    for (var i = 0; i < 9; i++) {
      this.coefficients[i].multiplyScalar(s);
    }

    return this;
  },
  lerp: function (sh, alpha) {
    for (var i = 0; i < 9; i++) {
      this.coefficients[i].lerp(sh.coefficients[i], alpha);
    }

    return this;
  },
  equals: function (sh) {
    for (var i = 0; i < 9; i++) {
      if (!this.coefficients[i].equals(sh.coefficients[i])) {
        return false;
      }
    }

    return true;
  },
  copy: function (sh) {
    return this.set(sh.coefficients);
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  fromArray: function (array) {
    var coefficients = this.coefficients;

    for (var i = 0; i < 9; i++) {
      coefficients[i].fromArray(array, i * 3);
    }

    return this;
  },
  toArray: function () {
    var array = [];
    var coefficients = this.coefficients;

    for (var i = 0; i < 9; i++) {
      coefficients[i].toArray(array, i * 3);
    }

    return array;
  }
});
Object.assign(SphericalHarmonics3, {
  // evaluate the basis functions
  // shBasis is an Array[ 9 ]
  getBasisAt: function (normal, shBasis) {
    // normal is assumed to be unit length
    var x = normal.x,
        y = normal.y,
        z = normal.z; // band 0

    shBasis[0] = 0.282095; // band 1

    shBasis[1] = 0.488603 * y;
    shBasis[2] = 0.488603 * z;
    shBasis[3] = 0.488603 * x; // band 2

    shBasis[4] = 1.092548 * x * y;
    shBasis[5] = 1.092548 * y * z;
    shBasis[6] = 0.315392 * (3 * z * z - 1);
    shBasis[7] = 1.092548 * x * z;
    shBasis[8] = 0.546274 * (x * x - y * y);
  }
});
/**
 * @author WestLangley / http://github.com/WestLangley
 *
 * A LightProbe is a source of indirect-diffuse light
 */

function LightProbe(sh, intensity) {
  Light.call(this, undefined, intensity);
  this.sh = sh !== undefined ? sh : new SphericalHarmonics3();
}

LightProbe.prototype = Object.assign(Object.create(Light.prototype), {
  constructor: LightProbe,
  isLightProbe: true,
  copy: function (source) {
    Light.prototype.copy.call(this, source);
    this.sh.copy(source.sh);
    this.intensity = source.intensity;
    return this;
  },
  toJSON: function (meta) {
    var data = Light.prototype.toJSON.call(this, meta); // data.sh = this.sh.toArray(); // todo

    return data;
  }
});
/**
 * @author WestLangley / http://github.com/WestLangley
 */

function HemisphereLightProbe(skyColor, groundColor, intensity) {
  LightProbe.call(this, undefined, intensity);
  var color1 = new Color().set(skyColor);
  var color2 = new Color().set(groundColor);
  var sky = new Vector3(color1.r, color1.g, color1.b);
  var ground = new Vector3(color2.r, color2.g, color2.b); // without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );

  var c0 = Math.sqrt(Math.PI);
  var c1 = c0 * Math.sqrt(0.75);
  this.sh.coefficients[0].copy(sky).add(ground).multiplyScalar(c0);
  this.sh.coefficients[1].copy(sky).sub(ground).multiplyScalar(c1);
}

HemisphereLightProbe.prototype = Object.assign(Object.create(LightProbe.prototype), {
  constructor: HemisphereLightProbe,
  isHemisphereLightProbe: true,
  copy: function (source) {
    // modifying colors not currently supported
    LightProbe.prototype.copy.call(this, source);
    return this;
  },
  toJSON: function (meta) {
    var data = LightProbe.prototype.toJSON.call(this, meta); // data.sh = this.sh.toArray(); // todo

    return data;
  }
});
/**
 * @author WestLangley / http://github.com/WestLangley
 */

function AmbientLightProbe(color, intensity) {
  LightProbe.call(this, undefined, intensity);
  var color1 = new Color().set(color); // without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );

  this.sh.coefficients[0].set(color1.r, color1.g, color1.b).multiplyScalar(2 * Math.sqrt(Math.PI));
}

AmbientLightProbe.prototype = Object.assign(Object.create(LightProbe.prototype), {
  constructor: AmbientLightProbe,
  isAmbientLightProbe: true,
  copy: function (source) {
    // modifying color not currently supported
    LightProbe.prototype.copy.call(this, source);
    return this;
  },
  toJSON: function (meta) {
    var data = LightProbe.prototype.toJSON.call(this, meta); // data.sh = this.sh.toArray(); // todo

    return data;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function StereoCamera() {
  this.type = 'StereoCamera';
  this.aspect = 1;
  this.eyeSep = 0.064;
  this.cameraL = new PerspectiveCamera();
  this.cameraL.layers.enable(1);
  this.cameraL.matrixAutoUpdate = false;
  this.cameraR = new PerspectiveCamera();
  this.cameraR.layers.enable(2);
  this.cameraR.matrixAutoUpdate = false;
}

Object.assign(StereoCamera.prototype, {
  update: function () {
    var instance, focus, fov, aspect, near, far, zoom, eyeSep;
    var eyeRight = new Matrix4();
    var eyeLeft = new Matrix4();
    return function update(camera) {
      var needsUpdate = instance !== this || focus !== camera.focus || fov !== camera.fov || aspect !== camera.aspect * this.aspect || near !== camera.near || far !== camera.far || zoom !== camera.zoom || eyeSep !== this.eyeSep;

      if (needsUpdate) {
        instance = this;
        focus = camera.focus;
        fov = camera.fov;
        aspect = camera.aspect * this.aspect;
        near = camera.near;
        far = camera.far;
        zoom = camera.zoom; // Off-axis stereoscopic effect based on
        // http://paulbourke.net/stereographics/stereorender/

        var projectionMatrix = camera.projectionMatrix.clone();
        eyeSep = this.eyeSep / 2;
        var eyeSepOnProjection = eyeSep * near / focus;
        var ymax = near * Math.tan(_Math.DEG2RAD * fov * 0.5) / zoom;
        var xmin, xmax; // translate xOffset

        eyeLeft.elements[12] = -eyeSep;
        eyeRight.elements[12] = eyeSep; // for left eye

        xmin = -ymax * aspect + eyeSepOnProjection;
        xmax = ymax * aspect + eyeSepOnProjection;
        projectionMatrix.elements[0] = 2 * near / (xmax - xmin);
        projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);
        this.cameraL.projectionMatrix.copy(projectionMatrix); // for right eye

        xmin = -ymax * aspect - eyeSepOnProjection;
        xmax = ymax * aspect - eyeSepOnProjection;
        projectionMatrix.elements[0] = 2 * near / (xmax - xmin);
        projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);
        this.cameraR.projectionMatrix.copy(projectionMatrix);
      }

      this.cameraL.matrixWorld.copy(camera.matrixWorld).multiply(eyeLeft);
      this.cameraR.matrixWorld.copy(camera.matrixWorld).multiply(eyeRight);
    };
  }()
});
/**
 * @author alteredq / http://alteredqualia.com/
 */

function Clock(autoStart) {
  this.autoStart = autoStart !== undefined ? autoStart : true;
  this.startTime = 0;
  this.oldTime = 0;
  this.elapsedTime = 0;
  this.running = false;
}

Object.assign(Clock.prototype, {
  start: function () {
    this.startTime = (typeof performance === 'undefined' ? Date : performance).now(); // see #10732

    this.oldTime = this.startTime;
    this.elapsedTime = 0;
    this.running = true;
  },
  stop: function () {
    this.getElapsedTime();
    this.running = false;
    this.autoStart = false;
  },
  getElapsedTime: function () {
    this.getDelta();
    return this.elapsedTime;
  },
  getDelta: function () {
    var diff = 0;

    if (this.autoStart && !this.running) {
      this.start();
      return 0;
    }

    if (this.running) {
      var newTime = (typeof performance === 'undefined' ? Date : performance).now();
      diff = (newTime - this.oldTime) / 1000;
      this.oldTime = newTime;
      this.elapsedTime += diff;
    }

    return diff;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function AudioListener() {
  Object3D.call(this);
  this.type = 'AudioListener';
  this.context = AudioContext.getContext();
  this.gain = this.context.createGain();
  this.gain.connect(this.context.destination);
  this.filter = null;
  this.timeDelta = 0;
}

AudioListener.prototype = Object.assign(Object.create(Object3D.prototype), {
  constructor: AudioListener,
  getInput: function () {
    return this.gain;
  },
  removeFilter: function () {
    if (this.filter !== null) {
      this.gain.disconnect(this.filter);
      this.filter.disconnect(this.context.destination);
      this.gain.connect(this.context.destination);
      this.filter = null;
    }

    return this;
  },
  getFilter: function () {
    return this.filter;
  },
  setFilter: function (value) {
    if (this.filter !== null) {
      this.gain.disconnect(this.filter);
      this.filter.disconnect(this.context.destination);
    } else {
      this.gain.disconnect(this.context.destination);
    }

    this.filter = value;
    this.gain.connect(this.filter);
    this.filter.connect(this.context.destination);
    return this;
  },
  getMasterVolume: function () {
    return this.gain.gain.value;
  },
  setMasterVolume: function (value) {
    this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);
    return this;
  },
  updateMatrixWorld: function () {
    var position = new Vector3();
    var quaternion = new Quaternion();
    var scale = new Vector3();
    var orientation = new Vector3();
    var clock = new Clock();
    return function updateMatrixWorld(force) {
      Object3D.prototype.updateMatrixWorld.call(this, force);
      var listener = this.context.listener;
      var up = this.up;
      this.timeDelta = clock.getDelta();
      this.matrixWorld.decompose(position, quaternion, scale);
      orientation.set(0, 0, -1).applyQuaternion(quaternion);

      if (listener.positionX) {
        // code path for Chrome (see #14393)
        var endTime = this.context.currentTime + this.timeDelta;
        listener.positionX.linearRampToValueAtTime(position.x, endTime);
        listener.positionY.linearRampToValueAtTime(position.y, endTime);
        listener.positionZ.linearRampToValueAtTime(position.z, endTime);
        listener.forwardX.linearRampToValueAtTime(orientation.x, endTime);
        listener.forwardY.linearRampToValueAtTime(orientation.y, endTime);
        listener.forwardZ.linearRampToValueAtTime(orientation.z, endTime);
        listener.upX.linearRampToValueAtTime(up.x, endTime);
        listener.upY.linearRampToValueAtTime(up.y, endTime);
        listener.upZ.linearRampToValueAtTime(up.z, endTime);
      } else {
        listener.setPosition(position.x, position.y, position.z);
        listener.setOrientation(orientation.x, orientation.y, orientation.z, up.x, up.y, up.z);
      }
    };
  }()
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author Reece Aaron Lecrivain / http://reecenotes.com/
 */

function Audio(listener) {
  Object3D.call(this);
  this.type = 'Audio';
  this.listener = listener;
  this.context = listener.context;
  this.gain = this.context.createGain();
  this.gain.connect(listener.getInput());
  this.autoplay = false;
  this.buffer = null;
  this.detune = 0;
  this.loop = false;
  this.startTime = 0;
  this.offset = 0;
  this.playbackRate = 1;
  this.isPlaying = false;
  this.hasPlaybackControl = true;
  this.sourceType = 'empty';
  this.filters = [];
}

Audio.prototype = Object.assign(Object.create(Object3D.prototype), {
  constructor: Audio,
  getOutput: function () {
    return this.gain;
  },
  setNodeSource: function (audioNode) {
    this.hasPlaybackControl = false;
    this.sourceType = 'audioNode';
    this.source = audioNode;
    this.connect();
    return this;
  },
  setMediaElementSource: function (mediaElement) {
    this.hasPlaybackControl = false;
    this.sourceType = 'mediaNode';
    this.source = this.context.createMediaElementSource(mediaElement);
    this.connect();
    return this;
  },
  setBuffer: function (audioBuffer) {
    this.buffer = audioBuffer;
    this.sourceType = 'buffer';
    if (this.autoplay) this.play();
    return this;
  },
  play: function () {
    if (this.isPlaying === true) {
      console.warn('THREE.Audio: Audio is already playing.');
      return;
    }

    if (this.hasPlaybackControl === false) {
      console.warn('THREE.Audio: this Audio has no playback control.');
      return;
    }

    var source = this.context.createBufferSource();
    source.buffer = this.buffer;
    source.loop = this.loop;
    source.onended = this.onEnded.bind(this);
    this.startTime = this.context.currentTime;
    source.start(this.startTime, this.offset);
    this.isPlaying = true;
    this.source = source;
    this.setDetune(this.detune);
    this.setPlaybackRate(this.playbackRate);
    return this.connect();
  },
  pause: function () {
    if (this.hasPlaybackControl === false) {
      console.warn('THREE.Audio: this Audio has no playback control.');
      return;
    }

    if (this.isPlaying === true) {
      this.source.stop();
      this.source.onended = null;
      this.offset += (this.context.currentTime - this.startTime) * this.playbackRate;
      this.isPlaying = false;
    }

    return this;
  },
  stop: function () {
    if (this.hasPlaybackControl === false) {
      console.warn('THREE.Audio: this Audio has no playback control.');
      return;
    }

    this.source.stop();
    this.source.onended = null;
    this.offset = 0;
    this.isPlaying = false;
    return this;
  },
  connect: function () {
    if (this.filters.length > 0) {
      this.source.connect(this.filters[0]);

      for (var i = 1, l = this.filters.length; i < l; i++) {
        this.filters[i - 1].connect(this.filters[i]);
      }

      this.filters[this.filters.length - 1].connect(this.getOutput());
    } else {
      this.source.connect(this.getOutput());
    }

    return this;
  },
  disconnect: function () {
    if (this.filters.length > 0) {
      this.source.disconnect(this.filters[0]);

      for (var i = 1, l = this.filters.length; i < l; i++) {
        this.filters[i - 1].disconnect(this.filters[i]);
      }

      this.filters[this.filters.length - 1].disconnect(this.getOutput());
    } else {
      this.source.disconnect(this.getOutput());
    }

    return this;
  },
  getFilters: function () {
    return this.filters;
  },
  setFilters: function (value) {
    if (!value) value = [];

    if (this.isPlaying === true) {
      this.disconnect();
      this.filters = value;
      this.connect();
    } else {
      this.filters = value;
    }

    return this;
  },
  setDetune: function (value) {
    this.detune = value;
    if (this.source.detune === undefined) return; // only set detune when available

    if (this.isPlaying === true) {
      this.source.detune.setTargetAtTime(this.detune, this.context.currentTime, 0.01);
    }

    return this;
  },
  getDetune: function () {
    return this.detune;
  },
  getFilter: function () {
    return this.getFilters()[0];
  },
  setFilter: function (filter) {
    return this.setFilters(filter ? [filter] : []);
  },
  setPlaybackRate: function (value) {
    if (this.hasPlaybackControl === false) {
      console.warn('THREE.Audio: this Audio has no playback control.');
      return;
    }

    this.playbackRate = value;

    if (this.isPlaying === true) {
      this.source.playbackRate.setTargetAtTime(this.playbackRate, this.context.currentTime, 0.01);
    }

    return this;
  },
  getPlaybackRate: function () {
    return this.playbackRate;
  },
  onEnded: function () {
    this.isPlaying = false;
  },
  getLoop: function () {
    if (this.hasPlaybackControl === false) {
      console.warn('THREE.Audio: this Audio has no playback control.');
      return false;
    }

    return this.loop;
  },
  setLoop: function (value) {
    if (this.hasPlaybackControl === false) {
      console.warn('THREE.Audio: this Audio has no playback control.');
      return;
    }

    this.loop = value;

    if (this.isPlaying === true) {
      this.source.loop = this.loop;
    }

    return this;
  },
  getVolume: function () {
    return this.gain.gain.value;
  },
  setVolume: function (value) {
    this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);
    return this;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function PositionalAudio(listener) {
  Audio.call(this, listener);
  this.panner = this.context.createPanner();
  this.panner.panningModel = 'HRTF';
  this.panner.connect(this.gain);
}

PositionalAudio.prototype = Object.assign(Object.create(Audio.prototype), {
  constructor: PositionalAudio,
  getOutput: function () {
    return this.panner;
  },
  getRefDistance: function () {
    return this.panner.refDistance;
  },
  setRefDistance: function (value) {
    this.panner.refDistance = value;
    return this;
  },
  getRolloffFactor: function () {
    return this.panner.rolloffFactor;
  },
  setRolloffFactor: function (value) {
    this.panner.rolloffFactor = value;
    return this;
  },
  getDistanceModel: function () {
    return this.panner.distanceModel;
  },
  setDistanceModel: function (value) {
    this.panner.distanceModel = value;
    return this;
  },
  getMaxDistance: function () {
    return this.panner.maxDistance;
  },
  setMaxDistance: function (value) {
    this.panner.maxDistance = value;
    return this;
  },
  setDirectionalCone: function (coneInnerAngle, coneOuterAngle, coneOuterGain) {
    this.panner.coneInnerAngle = coneInnerAngle;
    this.panner.coneOuterAngle = coneOuterAngle;
    this.panner.coneOuterGain = coneOuterGain;
    return this;
  },
  updateMatrixWorld: function () {
    var position = new Vector3();
    var quaternion = new Quaternion();
    var scale = new Vector3();
    var orientation = new Vector3();
    return function updateMatrixWorld(force) {
      Object3D.prototype.updateMatrixWorld.call(this, force);
      if (this.hasPlaybackControl === true && this.isPlaying === false) return;
      this.matrixWorld.decompose(position, quaternion, scale);
      orientation.set(0, 0, 1).applyQuaternion(quaternion);
      var panner = this.panner;

      if (panner.positionX) {
        // code path for Chrome and Firefox (see #14393)
        var endTime = this.context.currentTime + this.listener.timeDelta;
        panner.positionX.linearRampToValueAtTime(position.x, endTime);
        panner.positionY.linearRampToValueAtTime(position.y, endTime);
        panner.positionZ.linearRampToValueAtTime(position.z, endTime);
        panner.orientationX.linearRampToValueAtTime(orientation.x, endTime);
        panner.orientationY.linearRampToValueAtTime(orientation.y, endTime);
        panner.orientationZ.linearRampToValueAtTime(orientation.z, endTime);
      } else {
        panner.setPosition(position.x, position.y, position.z);
        panner.setOrientation(orientation.x, orientation.y, orientation.z);
      }
    };
  }()
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function AudioAnalyser(audio, fftSize) {
  this.analyser = audio.context.createAnalyser();
  this.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;
  this.data = new Uint8Array(this.analyser.frequencyBinCount);
  audio.getOutput().connect(this.analyser);
}

Object.assign(AudioAnalyser.prototype, {
  getFrequencyData: function () {
    this.analyser.getByteFrequencyData(this.data);
    return this.data;
  },
  getAverageFrequency: function () {
    var value = 0,
        data = this.getFrequencyData();

    for (var i = 0; i < data.length; i++) {
      value += data[i];
    }

    return value / data.length;
  }
});
/**
 *
 * Buffered scene graph property that allows weighted accumulation.
 *
 *
 * @author Ben Houston / http://clara.io/
 * @author David Sarno / http://lighthaus.us/
 * @author tschw
 */

function PropertyMixer(binding, typeName, valueSize) {
  this.binding = binding;
  this.valueSize = valueSize;
  var bufferType = Float64Array,
      mixFunction;

  switch (typeName) {
    case 'quaternion':
      mixFunction = this._slerp;
      break;

    case 'string':
    case 'bool':
      bufferType = Array;
      mixFunction = this._select;
      break;

    default:
      mixFunction = this._lerp;
  }

  this.buffer = new bufferType(valueSize * 4); // layout: [ incoming | accu0 | accu1 | orig ]
  //
  // interpolators can use .buffer as their .result
  // the data then goes to 'incoming'
  //
  // 'accu0' and 'accu1' are used frame-interleaved for
  // the cumulative result and are compared to detect
  // changes
  //
  // 'orig' stores the original state of the property

  this._mixBufferRegion = mixFunction;
  this.cumulativeWeight = 0;
  this.useCount = 0;
  this.referenceCount = 0;
}

Object.assign(PropertyMixer.prototype, {
  // accumulate data in the 'incoming' region into 'accu<i>'
  accumulate: function (accuIndex, weight) {
    // note: happily accumulating nothing when weight = 0, the caller knows
    // the weight and shouldn't have made the call in the first place
    var buffer = this.buffer,
        stride = this.valueSize,
        offset = accuIndex * stride + stride,
        currentWeight = this.cumulativeWeight;

    if (currentWeight === 0) {
      // accuN := incoming * weight
      for (var i = 0; i !== stride; ++i) {
        buffer[offset + i] = buffer[i];
      }

      currentWeight = weight;
    } else {
      // accuN := accuN + incoming * weight
      currentWeight += weight;
      var mix = weight / currentWeight;

      this._mixBufferRegion(buffer, offset, 0, mix, stride);
    }

    this.cumulativeWeight = currentWeight;
  },
  // apply the state of 'accu<i>' to the binding when accus differ
  apply: function (accuIndex) {
    var stride = this.valueSize,
        buffer = this.buffer,
        offset = accuIndex * stride + stride,
        weight = this.cumulativeWeight,
        binding = this.binding;
    this.cumulativeWeight = 0;

    if (weight < 1) {
      // accuN := accuN + original * ( 1 - cumulativeWeight )
      var originalValueOffset = stride * 3;

      this._mixBufferRegion(buffer, offset, originalValueOffset, 1 - weight, stride);
    }

    for (var i = stride, e = stride + stride; i !== e; ++i) {
      if (buffer[i] !== buffer[i + stride]) {
        // value has changed -> update scene graph
        binding.setValue(buffer, offset);
        break;
      }
    }
  },
  // remember the state of the bound property and copy it to both accus
  saveOriginalState: function () {
    var binding = this.binding;
    var buffer = this.buffer,
        stride = this.valueSize,
        originalValueOffset = stride * 3;
    binding.getValue(buffer, originalValueOffset); // accu[0..1] := orig -- initially detect changes against the original

    for (var i = stride, e = originalValueOffset; i !== e; ++i) {
      buffer[i] = buffer[originalValueOffset + i % stride];
    }

    this.cumulativeWeight = 0;
  },
  // apply the state previously taken via 'saveOriginalState' to the binding
  restoreOriginalState: function () {
    var originalValueOffset = this.valueSize * 3;
    this.binding.setValue(this.buffer, originalValueOffset);
  },
  // mix functions
  _select: function (buffer, dstOffset, srcOffset, t, stride) {
    if (t >= 0.5) {
      for (var i = 0; i !== stride; ++i) {
        buffer[dstOffset + i] = buffer[srcOffset + i];
      }
    }
  },
  _slerp: function (buffer, dstOffset, srcOffset, t) {
    Quaternion.slerpFlat(buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t);
  },
  _lerp: function (buffer, dstOffset, srcOffset, t, stride) {
    var s = 1 - t;

    for (var i = 0; i !== stride; ++i) {
      var j = dstOffset + i;
      buffer[j] = buffer[j] * s + buffer[srcOffset + i] * t;
    }
  }
});
/**
 *
 * A reference to a real property in the scene graph.
 *
 *
 * @author Ben Houston / http://clara.io/
 * @author David Sarno / http://lighthaus.us/
 * @author tschw
 */
// Characters [].:/ are reserved for track binding syntax.

var RESERVED_CHARS_RE = '\\[\\]\\.:\\/';

function Composite(targetGroup, path, optionalParsedPath) {
  var parsedPath = optionalParsedPath || PropertyBinding.parseTrackName(path);
  this._targetGroup = targetGroup;
  this._bindings = targetGroup.subscribe_(path, parsedPath);
}

Object.assign(Composite.prototype, {
  getValue: function (array, offset) {
    this.bind(); // bind all binding

    var firstValidIndex = this._targetGroup.nCachedObjects_,
        binding = this._bindings[firstValidIndex]; // and only call .getValue on the first

    if (binding !== undefined) binding.getValue(array, offset);
  },
  setValue: function (array, offset) {
    var bindings = this._bindings;

    for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {
      bindings[i].setValue(array, offset);
    }
  },
  bind: function () {
    var bindings = this._bindings;

    for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {
      bindings[i].bind();
    }
  },
  unbind: function () {
    var bindings = this._bindings;

    for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {
      bindings[i].unbind();
    }
  }
});

function PropertyBinding(rootNode, path, parsedPath) {
  this.path = path;
  this.parsedPath = parsedPath || PropertyBinding.parseTrackName(path);
  this.node = PropertyBinding.findNode(rootNode, this.parsedPath.nodeName) || rootNode;
  this.rootNode = rootNode;
}

Object.assign(PropertyBinding, {
  Composite: Composite,
  create: function (root, path, parsedPath) {
    if (!(root && root.isAnimationObjectGroup)) {
      return new PropertyBinding(root, path, parsedPath);
    } else {
      return new PropertyBinding.Composite(root, path, parsedPath);
    }
  },

  /**
   * Replaces spaces with underscores and removes unsupported characters from
   * node names, to ensure compatibility with parseTrackName().
   *
   * @param {string} name Node name to be sanitized.
   * @return {string}
   */
  sanitizeNodeName: function () {
    var reservedRe = new RegExp('[' + RESERVED_CHARS_RE + ']', 'g');
    return function sanitizeNodeName(name) {
      return name.replace(/\s/g, '_').replace(reservedRe, '');
    };
  }(),
  parseTrackName: function () {
    // Attempts to allow node names from any language. ES5's `\w` regexp matches
    // only latin characters, and the unicode \p{L} is not yet supported. So
    // instead, we exclude reserved characters and match everything else.
    var wordChar = '[^' + RESERVED_CHARS_RE + ']';
    var wordCharOrDot = '[^' + RESERVED_CHARS_RE.replace('\\.', '') + ']'; // Parent directories, delimited by '/' or ':'. Currently unused, but must
    // be matched to parse the rest of the track name.

    var directoryRe = /((?:WC+[\/:])*)/.source.replace('WC', wordChar); // Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.

    var nodeRe = /(WCOD+)?/.source.replace('WCOD', wordCharOrDot); // Object on target node, and accessor. May not contain reserved
    // characters. Accessor may contain any character except closing bracket.

    var objectRe = /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace('WC', wordChar); // Property and accessor. May not contain reserved characters. Accessor may
    // contain any non-bracket characters.

    var propertyRe = /\.(WC+)(?:\[(.+)\])?/.source.replace('WC', wordChar);
    var trackRe = new RegExp('' + '^' + directoryRe + nodeRe + objectRe + propertyRe + '$');
    var supportedObjectNames = ['material', 'materials', 'bones'];
    return function parseTrackName(trackName) {
      var matches = trackRe.exec(trackName);

      if (!matches) {
        throw new Error('PropertyBinding: Cannot parse trackName: ' + trackName);
      }

      var results = {
        // directoryName: matches[ 1 ], // (tschw) currently unused
        nodeName: matches[2],
        objectName: matches[3],
        objectIndex: matches[4],
        propertyName: matches[5],
        // required
        propertyIndex: matches[6]
      };
      var lastDot = results.nodeName && results.nodeName.lastIndexOf('.');

      if (lastDot !== undefined && lastDot !== -1) {
        var objectName = results.nodeName.substring(lastDot + 1); // Object names must be checked against a whitelist. Otherwise, there
        // is no way to parse 'foo.bar.baz': 'baz' must be a property, but
        // 'bar' could be the objectName, or part of a nodeName (which can
        // include '.' characters).

        if (supportedObjectNames.indexOf(objectName) !== -1) {
          results.nodeName = results.nodeName.substring(0, lastDot);
          results.objectName = objectName;
        }
      }

      if (results.propertyName === null || results.propertyName.length === 0) {
        throw new Error('PropertyBinding: can not parse propertyName from trackName: ' + trackName);
      }

      return results;
    };
  }(),
  findNode: function (root, nodeName) {
    if (!nodeName || nodeName === "" || nodeName === "root" || nodeName === "." || nodeName === -1 || nodeName === root.name || nodeName === root.uuid) {
      return root;
    } // search into skeleton bones.


    if (root.skeleton) {
      var bone = root.skeleton.getBoneByName(nodeName);

      if (bone !== undefined) {
        return bone;
      }
    } // search into node subtree.


    if (root.children) {
      var searchNodeSubtree = function (children) {
        for (var i = 0; i < children.length; i++) {
          var childNode = children[i];

          if (childNode.name === nodeName || childNode.uuid === nodeName) {
            return childNode;
          }

          var result = searchNodeSubtree(childNode.children);
          if (result) return result;
        }

        return null;
      };

      var subTreeNode = searchNodeSubtree(root.children);

      if (subTreeNode) {
        return subTreeNode;
      }
    }

    return null;
  }
});
Object.assign(PropertyBinding.prototype, {
  // prototype, continued
  // these are used to "bind" a nonexistent property
  _getValue_unavailable: function () {},
  _setValue_unavailable: function () {},
  BindingType: {
    Direct: 0,
    EntireArray: 1,
    ArrayElement: 2,
    HasFromToArray: 3
  },
  Versioning: {
    None: 0,
    NeedsUpdate: 1,
    MatrixWorldNeedsUpdate: 2
  },
  GetterByBindingType: [function getValue_direct(buffer, offset) {
    buffer[offset] = this.node[this.propertyName];
  }, function getValue_array(buffer, offset) {
    var source = this.resolvedProperty;

    for (var i = 0, n = source.length; i !== n; ++i) {
      buffer[offset++] = source[i];
    }
  }, function getValue_arrayElement(buffer, offset) {
    buffer[offset] = this.resolvedProperty[this.propertyIndex];
  }, function getValue_toArray(buffer, offset) {
    this.resolvedProperty.toArray(buffer, offset);
  }],
  SetterByBindingTypeAndVersioning: [[// Direct
  function setValue_direct(buffer, offset) {
    this.targetObject[this.propertyName] = buffer[offset];
  }, function setValue_direct_setNeedsUpdate(buffer, offset) {
    this.targetObject[this.propertyName] = buffer[offset];
    this.targetObject.needsUpdate = true;
  }, function setValue_direct_setMatrixWorldNeedsUpdate(buffer, offset) {
    this.targetObject[this.propertyName] = buffer[offset];
    this.targetObject.matrixWorldNeedsUpdate = true;
  }], [// EntireArray
  function setValue_array(buffer, offset) {
    var dest = this.resolvedProperty;

    for (var i = 0, n = dest.length; i !== n; ++i) {
      dest[i] = buffer[offset++];
    }
  }, function setValue_array_setNeedsUpdate(buffer, offset) {
    var dest = this.resolvedProperty;

    for (var i = 0, n = dest.length; i !== n; ++i) {
      dest[i] = buffer[offset++];
    }

    this.targetObject.needsUpdate = true;
  }, function setValue_array_setMatrixWorldNeedsUpdate(buffer, offset) {
    var dest = this.resolvedProperty;

    for (var i = 0, n = dest.length; i !== n; ++i) {
      dest[i] = buffer[offset++];
    }

    this.targetObject.matrixWorldNeedsUpdate = true;
  }], [// ArrayElement
  function setValue_arrayElement(buffer, offset) {
    this.resolvedProperty[this.propertyIndex] = buffer[offset];
  }, function setValue_arrayElement_setNeedsUpdate(buffer, offset) {
    this.resolvedProperty[this.propertyIndex] = buffer[offset];
    this.targetObject.needsUpdate = true;
  }, function setValue_arrayElement_setMatrixWorldNeedsUpdate(buffer, offset) {
    this.resolvedProperty[this.propertyIndex] = buffer[offset];
    this.targetObject.matrixWorldNeedsUpdate = true;
  }], [// HasToFromArray
  function setValue_fromArray(buffer, offset) {
    this.resolvedProperty.fromArray(buffer, offset);
  }, function setValue_fromArray_setNeedsUpdate(buffer, offset) {
    this.resolvedProperty.fromArray(buffer, offset);
    this.targetObject.needsUpdate = true;
  }, function setValue_fromArray_setMatrixWorldNeedsUpdate(buffer, offset) {
    this.resolvedProperty.fromArray(buffer, offset);
    this.targetObject.matrixWorldNeedsUpdate = true;
  }]],
  getValue: function getValue_unbound(targetArray, offset) {
    this.bind();
    this.getValue(targetArray, offset); // Note: This class uses a State pattern on a per-method basis:
    // 'bind' sets 'this.getValue' / 'setValue' and shadows the
    // prototype version of these methods with one that represents
    // the bound state. When the property is not found, the methods
    // become no-ops.
  },
  setValue: function getValue_unbound(sourceArray, offset) {
    this.bind();
    this.setValue(sourceArray, offset);
  },
  // create getter / setter pair for a property in the scene graph
  bind: function () {
    var targetObject = this.node,
        parsedPath = this.parsedPath,
        objectName = parsedPath.objectName,
        propertyName = parsedPath.propertyName,
        propertyIndex = parsedPath.propertyIndex;

    if (!targetObject) {
      targetObject = PropertyBinding.findNode(this.rootNode, parsedPath.nodeName) || this.rootNode;
      this.node = targetObject;
    } // set fail state so we can just 'return' on error


    this.getValue = this._getValue_unavailable;
    this.setValue = this._setValue_unavailable; // ensure there is a value node

    if (!targetObject) {
      console.error('THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\'t found.');
      return;
    }

    if (objectName) {
      var objectIndex = parsedPath.objectIndex; // special cases were we need to reach deeper into the hierarchy to get the face materials....

      switch (objectName) {
        case 'materials':
          if (!targetObject.material) {
            console.error('THREE.PropertyBinding: Can not bind to material as node does not have a material.', this);
            return;
          }

          if (!targetObject.material.materials) {
            console.error('THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this);
            return;
          }

          targetObject = targetObject.material.materials;
          break;

        case 'bones':
          if (!targetObject.skeleton) {
            console.error('THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this);
            return;
          } // potential future optimization: skip this if propertyIndex is already an integer
          // and convert the integer string to a true integer.


          targetObject = targetObject.skeleton.bones; // support resolving morphTarget names into indices.

          for (var i = 0; i < targetObject.length; i++) {
            if (targetObject[i].name === objectIndex) {
              objectIndex = i;
              break;
            }
          }

          break;

        default:
          if (targetObject[objectName] === undefined) {
            console.error('THREE.PropertyBinding: Can not bind to objectName of node undefined.', this);
            return;
          }

          targetObject = targetObject[objectName];
      }

      if (objectIndex !== undefined) {
        if (targetObject[objectIndex] === undefined) {
          console.error('THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject);
          return;
        }

        targetObject = targetObject[objectIndex];
      }
    } // resolve property


    var nodeProperty = targetObject[propertyName];

    if (nodeProperty === undefined) {
      var nodeName = parsedPath.nodeName;
      console.error('THREE.PropertyBinding: Trying to update property for track: ' + nodeName + '.' + propertyName + ' but it wasn\'t found.', targetObject);
      return;
    } // determine versioning scheme


    var versioning = this.Versioning.None;
    this.targetObject = targetObject;

    if (targetObject.needsUpdate !== undefined) {
      // material
      versioning = this.Versioning.NeedsUpdate;
    } else if (targetObject.matrixWorldNeedsUpdate !== undefined) {
      // node transform
      versioning = this.Versioning.MatrixWorldNeedsUpdate;
    } // determine how the property gets bound


    var bindingType = this.BindingType.Direct;

    if (propertyIndex !== undefined) {
      // access a sub element of the property array (only primitives are supported right now)
      if (propertyName === "morphTargetInfluences") {
        // potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.
        // support resolving morphTarget names into indices.
        if (!targetObject.geometry) {
          console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this);
          return;
        }

        if (targetObject.geometry.isBufferGeometry) {
          if (!targetObject.geometry.morphAttributes) {
            console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this);
            return;
          }

          for (var i = 0; i < this.node.geometry.morphAttributes.position.length; i++) {
            if (targetObject.geometry.morphAttributes.position[i].name === propertyIndex) {
              propertyIndex = i;
              break;
            }
          }
        } else {
          if (!targetObject.geometry.morphTargets) {
            console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this);
            return;
          }

          for (var i = 0; i < this.node.geometry.morphTargets.length; i++) {
            if (targetObject.geometry.morphTargets[i].name === propertyIndex) {
              propertyIndex = i;
              break;
            }
          }
        }
      }

      bindingType = this.BindingType.ArrayElement;
      this.resolvedProperty = nodeProperty;
      this.propertyIndex = propertyIndex;
    } else if (nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined) {
      // must use copy for Object3D.Euler/Quaternion
      bindingType = this.BindingType.HasFromToArray;
      this.resolvedProperty = nodeProperty;
    } else if (Array.isArray(nodeProperty)) {
      bindingType = this.BindingType.EntireArray;
      this.resolvedProperty = nodeProperty;
    } else {
      this.propertyName = propertyName;
    } // select getter / setter


    this.getValue = this.GetterByBindingType[bindingType];
    this.setValue = this.SetterByBindingTypeAndVersioning[bindingType][versioning];
  },
  unbind: function () {
    this.node = null; // back to the prototype version of getValue / setValue
    // note: avoiding to mutate the shape of 'this' via 'delete'

    this.getValue = this._getValue_unbound;
    this.setValue = this._setValue_unbound;
  }
}); //!\ DECLARE ALIAS AFTER assign prototype !

Object.assign(PropertyBinding.prototype, {
  // initial state of these methods that calls 'bind'
  _getValue_unbound: PropertyBinding.prototype.getValue,
  _setValue_unbound: PropertyBinding.prototype.setValue
});
/**
 *
 * A group of objects that receives a shared animation state.
 *
 * Usage:
 *
 *  - Add objects you would otherwise pass as 'root' to the
 *    constructor or the .clipAction method of AnimationMixer.
 *
 *  - Instead pass this object as 'root'.
 *
 *  - You can also add and remove objects later when the mixer
 *    is running.
 *
 * Note:
 *
 *    Objects of this class appear as one object to the mixer,
 *    so cache control of the individual objects must be done
 *    on the group.
 *
 * Limitation:
 *
 *  - The animated properties must be compatible among the
 *    all objects in the group.
 *
 *  - A single property can either be controlled through a
 *    target group or directly, but not both.
 *
 * @author tschw
 */

function AnimationObjectGroup() {
  this.uuid = _Math.generateUUID(); // cached objects followed by the active ones

  this._objects = Array.prototype.slice.call(arguments);
  this.nCachedObjects_ = 0; // threshold
  // note: read by PropertyBinding.Composite

  var indices = {};
  this._indicesByUUID = indices; // for bookkeeping

  for (var i = 0, n = arguments.length; i !== n; ++i) {
    indices[arguments[i].uuid] = i;
  }

  this._paths = []; // inside: string

  this._parsedPaths = []; // inside: { we don't care, here }

  this._bindings = []; // inside: Array< PropertyBinding >

  this._bindingsIndicesByPath = {}; // inside: indices in these arrays

  var scope = this;
  this.stats = {
    objects: {
      get total() {
        return scope._objects.length;
      },

      get inUse() {
        return this.total - scope.nCachedObjects_;
      }

    },

    get bindingsPerObject() {
      return scope._bindings.length;
    }

  };
}

Object.assign(AnimationObjectGroup.prototype, {
  isAnimationObjectGroup: true,
  add: function () {
    var objects = this._objects,
        nObjects = objects.length,
        nCachedObjects = this.nCachedObjects_,
        indicesByUUID = this._indicesByUUID,
        paths = this._paths,
        parsedPaths = this._parsedPaths,
        bindings = this._bindings,
        nBindings = bindings.length,
        knownObject = undefined;

    for (var i = 0, n = arguments.length; i !== n; ++i) {
      var object = arguments[i],
          uuid = object.uuid,
          index = indicesByUUID[uuid];

      if (index === undefined) {
        // unknown object -> add it to the ACTIVE region
        index = nObjects++;
        indicesByUUID[uuid] = index;
        objects.push(object); // accounting is done, now do the same for all bindings

        for (var j = 0, m = nBindings; j !== m; ++j) {
          bindings[j].push(new PropertyBinding(object, paths[j], parsedPaths[j]));
        }
      } else if (index < nCachedObjects) {
        knownObject = objects[index]; // move existing object to the ACTIVE region

        var firstActiveIndex = --nCachedObjects,
            lastCachedObject = objects[firstActiveIndex];
        indicesByUUID[lastCachedObject.uuid] = index;
        objects[index] = lastCachedObject;
        indicesByUUID[uuid] = firstActiveIndex;
        objects[firstActiveIndex] = object; // accounting is done, now do the same for all bindings

        for (var j = 0, m = nBindings; j !== m; ++j) {
          var bindingsForPath = bindings[j],
              lastCached = bindingsForPath[firstActiveIndex],
              binding = bindingsForPath[index];
          bindingsForPath[index] = lastCached;

          if (binding === undefined) {
            // since we do not bother to create new bindings
            // for objects that are cached, the binding may
            // or may not exist
            binding = new PropertyBinding(object, paths[j], parsedPaths[j]);
          }

          bindingsForPath[firstActiveIndex] = binding;
        }
      } else if (objects[index] !== knownObject) {
        console.error('THREE.AnimationObjectGroup: Different objects with the same UUID ' + 'detected. Clean the caches or recreate your infrastructure when reloading scenes.');
      } // else the object is already where we want it to be

    } // for arguments


    this.nCachedObjects_ = nCachedObjects;
  },
  remove: function () {
    var objects = this._objects,
        nCachedObjects = this.nCachedObjects_,
        indicesByUUID = this._indicesByUUID,
        bindings = this._bindings,
        nBindings = bindings.length;

    for (var i = 0, n = arguments.length; i !== n; ++i) {
      var object = arguments[i],
          uuid = object.uuid,
          index = indicesByUUID[uuid];

      if (index !== undefined && index >= nCachedObjects) {
        // move existing object into the CACHED region
        var lastCachedIndex = nCachedObjects++,
            firstActiveObject = objects[lastCachedIndex];
        indicesByUUID[firstActiveObject.uuid] = index;
        objects[index] = firstActiveObject;
        indicesByUUID[uuid] = lastCachedIndex;
        objects[lastCachedIndex] = object; // accounting is done, now do the same for all bindings

        for (var j = 0, m = nBindings; j !== m; ++j) {
          var bindingsForPath = bindings[j],
              firstActive = bindingsForPath[lastCachedIndex],
              binding = bindingsForPath[index];
          bindingsForPath[index] = firstActive;
          bindingsForPath[lastCachedIndex] = binding;
        }
      }
    } // for arguments


    this.nCachedObjects_ = nCachedObjects;
  },
  // remove & forget
  uncache: function () {
    var objects = this._objects,
        nObjects = objects.length,
        nCachedObjects = this.nCachedObjects_,
        indicesByUUID = this._indicesByUUID,
        bindings = this._bindings,
        nBindings = bindings.length;

    for (var i = 0, n = arguments.length; i !== n; ++i) {
      var object = arguments[i],
          uuid = object.uuid,
          index = indicesByUUID[uuid];

      if (index !== undefined) {
        delete indicesByUUID[uuid];

        if (index < nCachedObjects) {
          // object is cached, shrink the CACHED region
          var firstActiveIndex = --nCachedObjects,
              lastCachedObject = objects[firstActiveIndex],
              lastIndex = --nObjects,
              lastObject = objects[lastIndex]; // last cached object takes this object's place

          indicesByUUID[lastCachedObject.uuid] = index;
          objects[index] = lastCachedObject; // last object goes to the activated slot and pop

          indicesByUUID[lastObject.uuid] = firstActiveIndex;
          objects[firstActiveIndex] = lastObject;
          objects.pop(); // accounting is done, now do the same for all bindings

          for (var j = 0, m = nBindings; j !== m; ++j) {
            var bindingsForPath = bindings[j],
                lastCached = bindingsForPath[firstActiveIndex],
                last = bindingsForPath[lastIndex];
            bindingsForPath[index] = lastCached;
            bindingsForPath[firstActiveIndex] = last;
            bindingsForPath.pop();
          }
        } else {
          // object is active, just swap with the last and pop
          var lastIndex = --nObjects,
              lastObject = objects[lastIndex];
          indicesByUUID[lastObject.uuid] = index;
          objects[index] = lastObject;
          objects.pop(); // accounting is done, now do the same for all bindings

          for (var j = 0, m = nBindings; j !== m; ++j) {
            var bindingsForPath = bindings[j];
            bindingsForPath[index] = bindingsForPath[lastIndex];
            bindingsForPath.pop();
          }
        } // cached or active

      } // if object is known

    } // for arguments


    this.nCachedObjects_ = nCachedObjects;
  },
  // Internal interface used by befriended PropertyBinding.Composite:
  subscribe_: function (path, parsedPath) {
    // returns an array of bindings for the given path that is changed
    // according to the contained objects in the group
    var indicesByPath = this._bindingsIndicesByPath,
        index = indicesByPath[path],
        bindings = this._bindings;
    if (index !== undefined) return bindings[index];
    var paths = this._paths,
        parsedPaths = this._parsedPaths,
        objects = this._objects,
        nObjects = objects.length,
        nCachedObjects = this.nCachedObjects_,
        bindingsForPath = new Array(nObjects);
    index = bindings.length;
    indicesByPath[path] = index;
    paths.push(path);
    parsedPaths.push(parsedPath);
    bindings.push(bindingsForPath);

    for (var i = nCachedObjects, n = objects.length; i !== n; ++i) {
      var object = objects[i];
      bindingsForPath[i] = new PropertyBinding(object, path, parsedPath);
    }

    return bindingsForPath;
  },
  unsubscribe_: function (path) {
    // tells the group to forget about a property path and no longer
    // update the array previously obtained with 'subscribe_'
    var indicesByPath = this._bindingsIndicesByPath,
        index = indicesByPath[path];

    if (index !== undefined) {
      var paths = this._paths,
          parsedPaths = this._parsedPaths,
          bindings = this._bindings,
          lastBindingsIndex = bindings.length - 1,
          lastBindings = bindings[lastBindingsIndex],
          lastBindingsPath = path[lastBindingsIndex];
      indicesByPath[lastBindingsPath] = index;
      bindings[index] = lastBindings;
      bindings.pop();
      parsedPaths[index] = parsedPaths[lastBindingsIndex];
      parsedPaths.pop();
      paths[index] = paths[lastBindingsIndex];
      paths.pop();
    }
  }
});
/**
 *
 * Action provided by AnimationMixer for scheduling clip playback on specific
 * objects.
 *
 * @author Ben Houston / http://clara.io/
 * @author David Sarno / http://lighthaus.us/
 * @author tschw
 *
 */

function AnimationAction(mixer, clip, localRoot) {
  this._mixer = mixer;
  this._clip = clip;
  this._localRoot = localRoot || null;
  var tracks = clip.tracks,
      nTracks = tracks.length,
      interpolants = new Array(nTracks);
  var interpolantSettings = {
    endingStart: ZeroCurvatureEnding,
    endingEnd: ZeroCurvatureEnding
  };

  for (var i = 0; i !== nTracks; ++i) {
    var interpolant = tracks[i].createInterpolant(null);
    interpolants[i] = interpolant;
    interpolant.settings = interpolantSettings;
  }

  this._interpolantSettings = interpolantSettings;
  this._interpolants = interpolants; // bound by the mixer
  // inside: PropertyMixer (managed by the mixer)

  this._propertyBindings = new Array(nTracks);
  this._cacheIndex = null; // for the memory manager

  this._byClipCacheIndex = null; // for the memory manager

  this._timeScaleInterpolant = null;
  this._weightInterpolant = null;
  this.loop = LoopRepeat;
  this._loopCount = -1; // global mixer time when the action is to be started
  // it's set back to 'null' upon start of the action

  this._startTime = null; // scaled local time of the action
  // gets clamped or wrapped to 0..clip.duration according to loop

  this.time = 0;
  this.timeScale = 1;
  this._effectiveTimeScale = 1;
  this.weight = 1;
  this._effectiveWeight = 1;
  this.repetitions = Infinity; // no. of repetitions when looping

  this.paused = false; // true -> zero effective time scale

  this.enabled = true; // false -> zero effective weight

  this.clampWhenFinished = false; // keep feeding the last frame?

  this.zeroSlopeAtStart = true; // for smooth interpolation w/o separate

  this.zeroSlopeAtEnd = true; // clips for start, loop and end
}

Object.assign(AnimationAction.prototype, {
  // State & Scheduling
  play: function () {
    this._mixer._activateAction(this);

    return this;
  },
  stop: function () {
    this._mixer._deactivateAction(this);

    return this.reset();
  },
  reset: function () {
    this.paused = false;
    this.enabled = true;
    this.time = 0; // restart clip

    this._loopCount = -1; // forget previous loops

    this._startTime = null; // forget scheduling

    return this.stopFading().stopWarping();
  },
  isRunning: function () {
    return this.enabled && !this.paused && this.timeScale !== 0 && this._startTime === null && this._mixer._isActiveAction(this);
  },
  // return true when play has been called
  isScheduled: function () {
    return this._mixer._isActiveAction(this);
  },
  startAt: function (time) {
    this._startTime = time;
    return this;
  },
  setLoop: function (mode, repetitions) {
    this.loop = mode;
    this.repetitions = repetitions;
    return this;
  },
  // Weight
  // set the weight stopping any scheduled fading
  // although .enabled = false yields an effective weight of zero, this
  // method does *not* change .enabled, because it would be confusing
  setEffectiveWeight: function (weight) {
    this.weight = weight; // note: same logic as when updated at runtime

    this._effectiveWeight = this.enabled ? weight : 0;
    return this.stopFading();
  },
  // return the weight considering fading and .enabled
  getEffectiveWeight: function () {
    return this._effectiveWeight;
  },
  fadeIn: function (duration) {
    return this._scheduleFading(duration, 0, 1);
  },
  fadeOut: function (duration) {
    return this._scheduleFading(duration, 1, 0);
  },
  crossFadeFrom: function (fadeOutAction, duration, warp) {
    fadeOutAction.fadeOut(duration);
    this.fadeIn(duration);

    if (warp) {
      var fadeInDuration = this._clip.duration,
          fadeOutDuration = fadeOutAction._clip.duration,
          startEndRatio = fadeOutDuration / fadeInDuration,
          endStartRatio = fadeInDuration / fadeOutDuration;
      fadeOutAction.warp(1.0, startEndRatio, duration);
      this.warp(endStartRatio, 1.0, duration);
    }

    return this;
  },
  crossFadeTo: function (fadeInAction, duration, warp) {
    return fadeInAction.crossFadeFrom(this, duration, warp);
  },
  stopFading: function () {
    var weightInterpolant = this._weightInterpolant;

    if (weightInterpolant !== null) {
      this._weightInterpolant = null;

      this._mixer._takeBackControlInterpolant(weightInterpolant);
    }

    return this;
  },
  // Time Scale Control
  // set the time scale stopping any scheduled warping
  // although .paused = true yields an effective time scale of zero, this
  // method does *not* change .paused, because it would be confusing
  setEffectiveTimeScale: function (timeScale) {
    this.timeScale = timeScale;
    this._effectiveTimeScale = this.paused ? 0 : timeScale;
    return this.stopWarping();
  },
  // return the time scale considering warping and .paused
  getEffectiveTimeScale: function () {
    return this._effectiveTimeScale;
  },
  setDuration: function (duration) {
    this.timeScale = this._clip.duration / duration;
    return this.stopWarping();
  },
  syncWith: function (action) {
    this.time = action.time;
    this.timeScale = action.timeScale;
    return this.stopWarping();
  },
  halt: function (duration) {
    return this.warp(this._effectiveTimeScale, 0, duration);
  },
  warp: function (startTimeScale, endTimeScale, duration) {
    var mixer = this._mixer,
        now = mixer.time,
        interpolant = this._timeScaleInterpolant,
        timeScale = this.timeScale;

    if (interpolant === null) {
      interpolant = mixer._lendControlInterpolant();
      this._timeScaleInterpolant = interpolant;
    }

    var times = interpolant.parameterPositions,
        values = interpolant.sampleValues;
    times[0] = now;
    times[1] = now + duration;
    values[0] = startTimeScale / timeScale;
    values[1] = endTimeScale / timeScale;
    return this;
  },
  stopWarping: function () {
    var timeScaleInterpolant = this._timeScaleInterpolant;

    if (timeScaleInterpolant !== null) {
      this._timeScaleInterpolant = null;

      this._mixer._takeBackControlInterpolant(timeScaleInterpolant);
    }

    return this;
  },
  // Object Accessors
  getMixer: function () {
    return this._mixer;
  },
  getClip: function () {
    return this._clip;
  },
  getRoot: function () {
    return this._localRoot || this._mixer._root;
  },
  // Interna
  _update: function (time, deltaTime, timeDirection, accuIndex) {
    // called by the mixer
    if (!this.enabled) {
      // call ._updateWeight() to update ._effectiveWeight
      this._updateWeight(time);

      return;
    }

    var startTime = this._startTime;

    if (startTime !== null) {
      // check for scheduled start of action
      var timeRunning = (time - startTime) * timeDirection;

      if (timeRunning < 0 || timeDirection === 0) {
        return; // yet to come / don't decide when delta = 0
      } // start


      this._startTime = null; // unschedule

      deltaTime = timeDirection * timeRunning;
    } // apply time scale and advance time


    deltaTime *= this._updateTimeScale(time);

    var clipTime = this._updateTime(deltaTime); // note: _updateTime may disable the action resulting in
    // an effective weight of 0


    var weight = this._updateWeight(time);

    if (weight > 0) {
      var interpolants = this._interpolants;
      var propertyMixers = this._propertyBindings;

      for (var j = 0, m = interpolants.length; j !== m; ++j) {
        interpolants[j].evaluate(clipTime);
        propertyMixers[j].accumulate(accuIndex, weight);
      }
    }
  },
  _updateWeight: function (time) {
    var weight = 0;

    if (this.enabled) {
      weight = this.weight;
      var interpolant = this._weightInterpolant;

      if (interpolant !== null) {
        var interpolantValue = interpolant.evaluate(time)[0];
        weight *= interpolantValue;

        if (time > interpolant.parameterPositions[1]) {
          this.stopFading();

          if (interpolantValue === 0) {
            // faded out, disable
            this.enabled = false;
          }
        }
      }
    }

    this._effectiveWeight = weight;
    return weight;
  },
  _updateTimeScale: function (time) {
    var timeScale = 0;

    if (!this.paused) {
      timeScale = this.timeScale;
      var interpolant = this._timeScaleInterpolant;

      if (interpolant !== null) {
        var interpolantValue = interpolant.evaluate(time)[0];
        timeScale *= interpolantValue;

        if (time > interpolant.parameterPositions[1]) {
          this.stopWarping();

          if (timeScale === 0) {
            // motion has halted, pause
            this.paused = true;
          } else {
            // warp done - apply final time scale
            this.timeScale = timeScale;
          }
        }
      }
    }

    this._effectiveTimeScale = timeScale;
    return timeScale;
  },
  _updateTime: function (deltaTime) {
    var time = this.time + deltaTime;
    var duration = this._clip.duration;
    var loop = this.loop;
    var loopCount = this._loopCount;
    var pingPong = loop === LoopPingPong;

    if (deltaTime === 0) {
      if (loopCount === -1) return time;
      return pingPong && (loopCount & 1) === 1 ? duration - time : time;
    }

    if (loop === LoopOnce) {
      if (loopCount === -1) {
        // just started
        this._loopCount = 0;

        this._setEndings(true, true, false);
      }

      handle_stop: {
        if (time >= duration) {
          time = duration;
        } else if (time < 0) {
          time = 0;
        } else {
          this.time = time;
          break handle_stop;
        }

        if (this.clampWhenFinished) this.paused = true;else this.enabled = false;
        this.time = time;

        this._mixer.dispatchEvent({
          type: 'finished',
          action: this,
          direction: deltaTime < 0 ? -1 : 1
        });
      }
    } else {
      // repetitive Repeat or PingPong
      if (loopCount === -1) {
        // just started
        if (deltaTime >= 0) {
          loopCount = 0;

          this._setEndings(true, this.repetitions === 0, pingPong);
        } else {
          // when looping in reverse direction, the initial
          // transition through zero counts as a repetition,
          // so leave loopCount at -1
          this._setEndings(this.repetitions === 0, true, pingPong);
        }
      }

      if (time >= duration || time < 0) {
        // wrap around
        var loopDelta = Math.floor(time / duration); // signed

        time -= duration * loopDelta;
        loopCount += Math.abs(loopDelta);
        var pending = this.repetitions - loopCount;

        if (pending <= 0) {
          // have to stop (switch state, clamp time, fire event)
          if (this.clampWhenFinished) this.paused = true;else this.enabled = false;
          time = deltaTime > 0 ? duration : 0;
          this.time = time;

          this._mixer.dispatchEvent({
            type: 'finished',
            action: this,
            direction: deltaTime > 0 ? 1 : -1
          });
        } else {
          // keep running
          if (pending === 1) {
            // entering the last round
            var atStart = deltaTime < 0;

            this._setEndings(atStart, !atStart, pingPong);
          } else {
            this._setEndings(false, false, pingPong);
          }

          this._loopCount = loopCount;
          this.time = time;

          this._mixer.dispatchEvent({
            type: 'loop',
            action: this,
            loopDelta: loopDelta
          });
        }
      } else {
        this.time = time;
      }

      if (pingPong && (loopCount & 1) === 1) {
        // invert time for the "pong round"
        return duration - time;
      }
    }

    return time;
  },
  _setEndings: function (atStart, atEnd, pingPong) {
    var settings = this._interpolantSettings;

    if (pingPong) {
      settings.endingStart = ZeroSlopeEnding;
      settings.endingEnd = ZeroSlopeEnding;
    } else {
      // assuming for LoopOnce atStart == atEnd == true
      if (atStart) {
        settings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;
      } else {
        settings.endingStart = WrapAroundEnding;
      }

      if (atEnd) {
        settings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;
      } else {
        settings.endingEnd = WrapAroundEnding;
      }
    }
  },
  _scheduleFading: function (duration, weightNow, weightThen) {
    var mixer = this._mixer,
        now = mixer.time,
        interpolant = this._weightInterpolant;

    if (interpolant === null) {
      interpolant = mixer._lendControlInterpolant();
      this._weightInterpolant = interpolant;
    }

    var times = interpolant.parameterPositions,
        values = interpolant.sampleValues;
    times[0] = now;
    values[0] = weightNow;
    times[1] = now + duration;
    values[1] = weightThen;
    return this;
  }
});
/**
 *
 * Player for AnimationClips.
 *
 *
 * @author Ben Houston / http://clara.io/
 * @author David Sarno / http://lighthaus.us/
 * @author tschw
 */

function AnimationMixer(root) {
  this._root = root;

  this._initMemoryManager();

  this._accuIndex = 0;
  this.time = 0;
  this.timeScale = 1.0;
}

AnimationMixer.prototype = Object.assign(Object.create(EventDispatcher.prototype), {
  constructor: AnimationMixer,
  _bindAction: function (action, prototypeAction) {
    var root = action._localRoot || this._root,
        tracks = action._clip.tracks,
        nTracks = tracks.length,
        bindings = action._propertyBindings,
        interpolants = action._interpolants,
        rootUuid = root.uuid,
        bindingsByRoot = this._bindingsByRootAndName,
        bindingsByName = bindingsByRoot[rootUuid];

    if (bindingsByName === undefined) {
      bindingsByName = {};
      bindingsByRoot[rootUuid] = bindingsByName;
    }

    for (var i = 0; i !== nTracks; ++i) {
      var track = tracks[i],
          trackName = track.name,
          binding = bindingsByName[trackName];

      if (binding !== undefined) {
        bindings[i] = binding;
      } else {
        binding = bindings[i];

        if (binding !== undefined) {
          // existing binding, make sure the cache knows
          if (binding._cacheIndex === null) {
            ++binding.referenceCount;

            this._addInactiveBinding(binding, rootUuid, trackName);
          }

          continue;
        }

        var path = prototypeAction && prototypeAction._propertyBindings[i].binding.parsedPath;
        binding = new PropertyMixer(PropertyBinding.create(root, trackName, path), track.ValueTypeName, track.getValueSize());
        ++binding.referenceCount;

        this._addInactiveBinding(binding, rootUuid, trackName);

        bindings[i] = binding;
      }

      interpolants[i].resultBuffer = binding.buffer;
    }
  },
  _activateAction: function (action) {
    if (!this._isActiveAction(action)) {
      if (action._cacheIndex === null) {
        // this action has been forgotten by the cache, but the user
        // appears to be still using it -> rebind
        var rootUuid = (action._localRoot || this._root).uuid,
            clipUuid = action._clip.uuid,
            actionsForClip = this._actionsByClip[clipUuid];

        this._bindAction(action, actionsForClip && actionsForClip.knownActions[0]);

        this._addInactiveAction(action, clipUuid, rootUuid);
      }

      var bindings = action._propertyBindings; // increment reference counts / sort out state

      for (var i = 0, n = bindings.length; i !== n; ++i) {
        var binding = bindings[i];

        if (binding.useCount++ === 0) {
          this._lendBinding(binding);

          binding.saveOriginalState();
        }
      }

      this._lendAction(action);
    }
  },
  _deactivateAction: function (action) {
    if (this._isActiveAction(action)) {
      var bindings = action._propertyBindings; // decrement reference counts / sort out state

      for (var i = 0, n = bindings.length; i !== n; ++i) {
        var binding = bindings[i];

        if (--binding.useCount === 0) {
          binding.restoreOriginalState();

          this._takeBackBinding(binding);
        }
      }

      this._takeBackAction(action);
    }
  },
  // Memory manager
  _initMemoryManager: function () {
    this._actions = []; // 'nActiveActions' followed by inactive ones

    this._nActiveActions = 0;
    this._actionsByClip = {}; // inside:
    // {
    // 	knownActions: Array< AnimationAction > - used as prototypes
    // 	actionByRoot: AnimationAction - lookup
    // }

    this._bindings = []; // 'nActiveBindings' followed by inactive ones

    this._nActiveBindings = 0;
    this._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >

    this._controlInterpolants = []; // same game as above

    this._nActiveControlInterpolants = 0;
    var scope = this;
    this.stats = {
      actions: {
        get total() {
          return scope._actions.length;
        },

        get inUse() {
          return scope._nActiveActions;
        }

      },
      bindings: {
        get total() {
          return scope._bindings.length;
        },

        get inUse() {
          return scope._nActiveBindings;
        }

      },
      controlInterpolants: {
        get total() {
          return scope._controlInterpolants.length;
        },

        get inUse() {
          return scope._nActiveControlInterpolants;
        }

      }
    };
  },
  // Memory management for AnimationAction objects
  _isActiveAction: function (action) {
    var index = action._cacheIndex;
    return index !== null && index < this._nActiveActions;
  },
  _addInactiveAction: function (action, clipUuid, rootUuid) {
    var actions = this._actions,
        actionsByClip = this._actionsByClip,
        actionsForClip = actionsByClip[clipUuid];

    if (actionsForClip === undefined) {
      actionsForClip = {
        knownActions: [action],
        actionByRoot: {}
      };
      action._byClipCacheIndex = 0;
      actionsByClip[clipUuid] = actionsForClip;
    } else {
      var knownActions = actionsForClip.knownActions;
      action._byClipCacheIndex = knownActions.length;
      knownActions.push(action);
    }

    action._cacheIndex = actions.length;
    actions.push(action);
    actionsForClip.actionByRoot[rootUuid] = action;
  },
  _removeInactiveAction: function (action) {
    var actions = this._actions,
        lastInactiveAction = actions[actions.length - 1],
        cacheIndex = action._cacheIndex;
    lastInactiveAction._cacheIndex = cacheIndex;
    actions[cacheIndex] = lastInactiveAction;
    actions.pop();
    action._cacheIndex = null;
    var clipUuid = action._clip.uuid,
        actionsByClip = this._actionsByClip,
        actionsForClip = actionsByClip[clipUuid],
        knownActionsForClip = actionsForClip.knownActions,
        lastKnownAction = knownActionsForClip[knownActionsForClip.length - 1],
        byClipCacheIndex = action._byClipCacheIndex;
    lastKnownAction._byClipCacheIndex = byClipCacheIndex;
    knownActionsForClip[byClipCacheIndex] = lastKnownAction;
    knownActionsForClip.pop();
    action._byClipCacheIndex = null;
    var actionByRoot = actionsForClip.actionByRoot,
        rootUuid = (action._localRoot || this._root).uuid;
    delete actionByRoot[rootUuid];

    if (knownActionsForClip.length === 0) {
      delete actionsByClip[clipUuid];
    }

    this._removeInactiveBindingsForAction(action);
  },
  _removeInactiveBindingsForAction: function (action) {
    var bindings = action._propertyBindings;

    for (var i = 0, n = bindings.length; i !== n; ++i) {
      var binding = bindings[i];

      if (--binding.referenceCount === 0) {
        this._removeInactiveBinding(binding);
      }
    }
  },
  _lendAction: function (action) {
    // [ active actions |  inactive actions  ]
    // [  active actions >| inactive actions ]
    //                 s        a
    //                  <-swap->
    //                 a        s
    var actions = this._actions,
        prevIndex = action._cacheIndex,
        lastActiveIndex = this._nActiveActions++,
        firstInactiveAction = actions[lastActiveIndex];
    action._cacheIndex = lastActiveIndex;
    actions[lastActiveIndex] = action;
    firstInactiveAction._cacheIndex = prevIndex;
    actions[prevIndex] = firstInactiveAction;
  },
  _takeBackAction: function (action) {
    // [  active actions  | inactive actions ]
    // [ active actions |< inactive actions  ]
    //        a        s
    //         <-swap->
    //        s        a
    var actions = this._actions,
        prevIndex = action._cacheIndex,
        firstInactiveIndex = --this._nActiveActions,
        lastActiveAction = actions[firstInactiveIndex];
    action._cacheIndex = firstInactiveIndex;
    actions[firstInactiveIndex] = action;
    lastActiveAction._cacheIndex = prevIndex;
    actions[prevIndex] = lastActiveAction;
  },
  // Memory management for PropertyMixer objects
  _addInactiveBinding: function (binding, rootUuid, trackName) {
    var bindingsByRoot = this._bindingsByRootAndName,
        bindingByName = bindingsByRoot[rootUuid],
        bindings = this._bindings;

    if (bindingByName === undefined) {
      bindingByName = {};
      bindingsByRoot[rootUuid] = bindingByName;
    }

    bindingByName[trackName] = binding;
    binding._cacheIndex = bindings.length;
    bindings.push(binding);
  },
  _removeInactiveBinding: function (binding) {
    var bindings = this._bindings,
        propBinding = binding.binding,
        rootUuid = propBinding.rootNode.uuid,
        trackName = propBinding.path,
        bindingsByRoot = this._bindingsByRootAndName,
        bindingByName = bindingsByRoot[rootUuid],
        lastInactiveBinding = bindings[bindings.length - 1],
        cacheIndex = binding._cacheIndex;
    lastInactiveBinding._cacheIndex = cacheIndex;
    bindings[cacheIndex] = lastInactiveBinding;
    bindings.pop();
    delete bindingByName[trackName];

    if (Object.keys(bindingByName).length === 0) {
      delete bindingsByRoot[rootUuid];
    }
  },
  _lendBinding: function (binding) {
    var bindings = this._bindings,
        prevIndex = binding._cacheIndex,
        lastActiveIndex = this._nActiveBindings++,
        firstInactiveBinding = bindings[lastActiveIndex];
    binding._cacheIndex = lastActiveIndex;
    bindings[lastActiveIndex] = binding;
    firstInactiveBinding._cacheIndex = prevIndex;
    bindings[prevIndex] = firstInactiveBinding;
  },
  _takeBackBinding: function (binding) {
    var bindings = this._bindings,
        prevIndex = binding._cacheIndex,
        firstInactiveIndex = --this._nActiveBindings,
        lastActiveBinding = bindings[firstInactiveIndex];
    binding._cacheIndex = firstInactiveIndex;
    bindings[firstInactiveIndex] = binding;
    lastActiveBinding._cacheIndex = prevIndex;
    bindings[prevIndex] = lastActiveBinding;
  },
  // Memory management of Interpolants for weight and time scale
  _lendControlInterpolant: function () {
    var interpolants = this._controlInterpolants,
        lastActiveIndex = this._nActiveControlInterpolants++,
        interpolant = interpolants[lastActiveIndex];

    if (interpolant === undefined) {
      interpolant = new LinearInterpolant(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer);
      interpolant.__cacheIndex = lastActiveIndex;
      interpolants[lastActiveIndex] = interpolant;
    }

    return interpolant;
  },
  _takeBackControlInterpolant: function (interpolant) {
    var interpolants = this._controlInterpolants,
        prevIndex = interpolant.__cacheIndex,
        firstInactiveIndex = --this._nActiveControlInterpolants,
        lastActiveInterpolant = interpolants[firstInactiveIndex];
    interpolant.__cacheIndex = firstInactiveIndex;
    interpolants[firstInactiveIndex] = interpolant;
    lastActiveInterpolant.__cacheIndex = prevIndex;
    interpolants[prevIndex] = lastActiveInterpolant;
  },
  _controlInterpolantsResultBuffer: new Float32Array(1),
  // return an action for a clip optionally using a custom root target
  // object (this method allocates a lot of dynamic memory in case a
  // previously unknown clip/root combination is specified)
  clipAction: function (clip, optionalRoot) {
    var root = optionalRoot || this._root,
        rootUuid = root.uuid,
        clipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip,
        clipUuid = clipObject !== null ? clipObject.uuid : clip,
        actionsForClip = this._actionsByClip[clipUuid],
        prototypeAction = null;

    if (actionsForClip !== undefined) {
      var existingAction = actionsForClip.actionByRoot[rootUuid];

      if (existingAction !== undefined) {
        return existingAction;
      } // we know the clip, so we don't have to parse all
      // the bindings again but can just copy


      prototypeAction = actionsForClip.knownActions[0]; // also, take the clip from the prototype action

      if (clipObject === null) clipObject = prototypeAction._clip;
    } // clip must be known when specified via string


    if (clipObject === null) return null; // allocate all resources required to run it

    var newAction = new AnimationAction(this, clipObject, optionalRoot);

    this._bindAction(newAction, prototypeAction); // and make the action known to the memory manager


    this._addInactiveAction(newAction, clipUuid, rootUuid);

    return newAction;
  },
  // get an existing action
  existingAction: function (clip, optionalRoot) {
    var root = optionalRoot || this._root,
        rootUuid = root.uuid,
        clipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip,
        clipUuid = clipObject ? clipObject.uuid : clip,
        actionsForClip = this._actionsByClip[clipUuid];

    if (actionsForClip !== undefined) {
      return actionsForClip.actionByRoot[rootUuid] || null;
    }

    return null;
  },
  // deactivates all previously scheduled actions
  stopAllAction: function () {
    var actions = this._actions,
        nActions = this._nActiveActions,
        bindings = this._bindings,
        nBindings = this._nActiveBindings;
    this._nActiveActions = 0;
    this._nActiveBindings = 0;

    for (var i = 0; i !== nActions; ++i) {
      actions[i].reset();
    }

    for (var i = 0; i !== nBindings; ++i) {
      bindings[i].useCount = 0;
    }

    return this;
  },
  // advance the time and update apply the animation
  update: function (deltaTime) {
    deltaTime *= this.timeScale;
    var actions = this._actions,
        nActions = this._nActiveActions,
        time = this.time += deltaTime,
        timeDirection = Math.sign(deltaTime),
        accuIndex = this._accuIndex ^= 1; // run active actions

    for (var i = 0; i !== nActions; ++i) {
      var action = actions[i];

      action._update(time, deltaTime, timeDirection, accuIndex);
    } // update scene graph


    var bindings = this._bindings,
        nBindings = this._nActiveBindings;

    for (var i = 0; i !== nBindings; ++i) {
      bindings[i].apply(accuIndex);
    }

    return this;
  },
  // return this mixer's root target object
  getRoot: function () {
    return this._root;
  },
  // free all resources specific to a particular clip
  uncacheClip: function (clip) {
    var actions = this._actions,
        clipUuid = clip.uuid,
        actionsByClip = this._actionsByClip,
        actionsForClip = actionsByClip[clipUuid];

    if (actionsForClip !== undefined) {
      // note: just calling _removeInactiveAction would mess up the
      // iteration state and also require updating the state we can
      // just throw away
      var actionsToRemove = actionsForClip.knownActions;

      for (var i = 0, n = actionsToRemove.length; i !== n; ++i) {
        var action = actionsToRemove[i];

        this._deactivateAction(action);

        var cacheIndex = action._cacheIndex,
            lastInactiveAction = actions[actions.length - 1];
        action._cacheIndex = null;
        action._byClipCacheIndex = null;
        lastInactiveAction._cacheIndex = cacheIndex;
        actions[cacheIndex] = lastInactiveAction;
        actions.pop();

        this._removeInactiveBindingsForAction(action);
      }

      delete actionsByClip[clipUuid];
    }
  },
  // free all resources specific to a particular root target object
  uncacheRoot: function (root) {
    var rootUuid = root.uuid,
        actionsByClip = this._actionsByClip;

    for (var clipUuid in actionsByClip) {
      var actionByRoot = actionsByClip[clipUuid].actionByRoot,
          action = actionByRoot[rootUuid];

      if (action !== undefined) {
        this._deactivateAction(action);

        this._removeInactiveAction(action);
      }
    }

    var bindingsByRoot = this._bindingsByRootAndName,
        bindingByName = bindingsByRoot[rootUuid];

    if (bindingByName !== undefined) {
      for (var trackName in bindingByName) {
        var binding = bindingByName[trackName];
        binding.restoreOriginalState();

        this._removeInactiveBinding(binding);
      }
    }
  },
  // remove a targeted clip from the cache
  uncacheAction: function (clip, optionalRoot) {
    var action = this.existingAction(clip, optionalRoot);

    if (action !== null) {
      this._deactivateAction(action);

      this._removeInactiveAction(action);
    }
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 */

function Uniform(value) {
  if (typeof value === 'string') {
    console.warn('THREE.Uniform: Type parameter is no longer needed.');
    value = arguments[1];
  }

  this.value = value;
}

Uniform.prototype.clone = function () {
  return new Uniform(this.value.clone === undefined ? this.value : this.value.clone());
};
/**
 * @author benaadams / https://twitter.com/ben_a_adams
 */


function InstancedInterleavedBuffer(array, stride, meshPerAttribute) {
  InterleavedBuffer.call(this, array, stride);
  this.meshPerAttribute = meshPerAttribute || 1;
}

InstancedInterleavedBuffer.prototype = Object.assign(Object.create(InterleavedBuffer.prototype), {
  constructor: InstancedInterleavedBuffer,
  isInstancedInterleavedBuffer: true,
  copy: function (source) {
    InterleavedBuffer.prototype.copy.call(this, source);
    this.meshPerAttribute = source.meshPerAttribute;
    return this;
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author bhouston / http://clara.io/
 * @author stephomi / http://stephaneginier.com/
 */

function Raycaster(origin, direction, near, far) {
  this.ray = new Ray(origin, direction); // direction is assumed to be normalized (for accurate distance calculations)

  this.near = near || 0;
  this.far = far || Infinity;
  this.params = {
    Mesh: {},
    Line: {},
    LOD: {},
    Points: {
      threshold: 1
    },
    Sprite: {}
  };
  Object.defineProperties(this.params, {
    PointCloud: {
      get: function () {
        console.warn('THREE.Raycaster: params.PointCloud has been renamed to params.Points.');
        return this.Points;
      }
    }
  });
}

function ascSort(a, b) {
  return a.distance - b.distance;
}

function intersectObject(object, raycaster, intersects, recursive) {
  if (object.visible === false) return;
  object.raycast(raycaster, intersects);

  if (recursive === true) {
    var children = object.children;

    for (var i = 0, l = children.length; i < l; i++) {
      intersectObject(children[i], raycaster, intersects, true);
    }
  }
}

Object.assign(Raycaster.prototype, {
  linePrecision: 1,
  set: function (origin, direction) {
    // direction is assumed to be normalized (for accurate distance calculations)
    this.ray.set(origin, direction);
  },
  setFromCamera: function (coords, camera) {
    if (camera && camera.isPerspectiveCamera) {
      this.ray.origin.setFromMatrixPosition(camera.matrixWorld);
      this.ray.direction.set(coords.x, coords.y, 0.5).unproject(camera).sub(this.ray.origin).normalize();
      this._camera = camera;
    } else if (camera && camera.isOrthographicCamera) {
      this.ray.origin.set(coords.x, coords.y, (camera.near + camera.far) / (camera.near - camera.far)).unproject(camera); // set origin in plane of camera

      this.ray.direction.set(0, 0, -1).transformDirection(camera.matrixWorld);
      this._camera = camera;
    } else {
      console.error('THREE.Raycaster: Unsupported camera type.');
    }
  },
  intersectObject: function (object, recursive, optionalTarget) {
    var intersects = optionalTarget || [];
    intersectObject(object, this, intersects, recursive);
    intersects.sort(ascSort);
    return intersects;
  },
  intersectObjects: function (objects, recursive, optionalTarget) {
    var intersects = optionalTarget || [];

    if (Array.isArray(objects) === false) {
      console.warn('THREE.Raycaster.intersectObjects: objects is not an Array.');
      return intersects;
    }

    for (var i = 0, l = objects.length; i < l; i++) {
      intersectObject(objects[i], this, intersects, recursive);
    }

    intersects.sort(ascSort);
    return intersects;
  }
});
/**
 * @author bhouston / http://clara.io
 * @author WestLangley / http://github.com/WestLangley
 *
 * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system
 *
 * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.
 * The azimuthal angle (theta) is measured from the positive z-axiz.
 */

function Spherical(radius, phi, theta) {
  this.radius = radius !== undefined ? radius : 1.0;
  this.phi = phi !== undefined ? phi : 0; // polar angle

  this.theta = theta !== undefined ? theta : 0; // azimuthal angle

  return this;
}

Object.assign(Spherical.prototype, {
  set: function (radius, phi, theta) {
    this.radius = radius;
    this.phi = phi;
    this.theta = theta;
    return this;
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (other) {
    this.radius = other.radius;
    this.phi = other.phi;
    this.theta = other.theta;
    return this;
  },
  // restrict phi to be betwee EPS and PI-EPS
  makeSafe: function () {
    var EPS = 0.000001;
    this.phi = Math.max(EPS, Math.min(Math.PI - EPS, this.phi));
    return this;
  },
  setFromVector3: function (v) {
    return this.setFromCartesianCoords(v.x, v.y, v.z);
  },
  setFromCartesianCoords: function (x, y, z) {
    this.radius = Math.sqrt(x * x + y * y + z * z);

    if (this.radius === 0) {
      this.theta = 0;
      this.phi = 0;
    } else {
      this.theta = Math.atan2(x, z);
      this.phi = Math.acos(_Math.clamp(y / this.radius, -1, 1));
    }

    return this;
  }
});
/**
 * @author Mugen87 / https://github.com/Mugen87
 *
 * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system
 *
 */

function Cylindrical(radius, theta, y) {
  this.radius = radius !== undefined ? radius : 1.0; // distance from the origin to a point in the x-z plane

  this.theta = theta !== undefined ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis

  this.y = y !== undefined ? y : 0; // height above the x-z plane

  return this;
}

Object.assign(Cylindrical.prototype, {
  set: function (radius, theta, y) {
    this.radius = radius;
    this.theta = theta;
    this.y = y;
    return this;
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (other) {
    this.radius = other.radius;
    this.theta = other.theta;
    this.y = other.y;
    return this;
  },
  setFromVector3: function (v) {
    return this.setFromCartesianCoords(v.x, v.y, v.z);
  },
  setFromCartesianCoords: function (x, y, z) {
    this.radius = Math.sqrt(x * x + z * z);
    this.theta = Math.atan2(x, z);
    this.y = y;
    return this;
  }
});
/**
 * @author bhouston / http://clara.io
 */

function Box2(min, max) {
  this.min = min !== undefined ? min : new Vector2(+Infinity, +Infinity);
  this.max = max !== undefined ? max : new Vector2(-Infinity, -Infinity);
}

Object.assign(Box2.prototype, {
  set: function (min, max) {
    this.min.copy(min);
    this.max.copy(max);
    return this;
  },
  setFromPoints: function (points) {
    this.makeEmpty();

    for (var i = 0, il = points.length; i < il; i++) {
      this.expandByPoint(points[i]);
    }

    return this;
  },
  setFromCenterAndSize: function () {
    var v1 = new Vector2();
    return function setFromCenterAndSize(center, size) {
      var halfSize = v1.copy(size).multiplyScalar(0.5);
      this.min.copy(center).sub(halfSize);
      this.max.copy(center).add(halfSize);
      return this;
    };
  }(),
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (box) {
    this.min.copy(box.min);
    this.max.copy(box.max);
    return this;
  },
  makeEmpty: function () {
    this.min.x = this.min.y = +Infinity;
    this.max.x = this.max.y = -Infinity;
    return this;
  },
  isEmpty: function () {
    // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes
    return this.max.x < this.min.x || this.max.y < this.min.y;
  },
  getCenter: function (target) {
    if (target === undefined) {
      console.warn('THREE.Box2: .getCenter() target is now required');
      target = new Vector2();
    }

    return this.isEmpty() ? target.set(0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);
  },
  getSize: function (target) {
    if (target === undefined) {
      console.warn('THREE.Box2: .getSize() target is now required');
      target = new Vector2();
    }

    return this.isEmpty() ? target.set(0, 0) : target.subVectors(this.max, this.min);
  },
  expandByPoint: function (point) {
    this.min.min(point);
    this.max.max(point);
    return this;
  },
  expandByVector: function (vector) {
    this.min.sub(vector);
    this.max.add(vector);
    return this;
  },
  expandByScalar: function (scalar) {
    this.min.addScalar(-scalar);
    this.max.addScalar(scalar);
    return this;
  },
  containsPoint: function (point) {
    return point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y ? false : true;
  },
  containsBox: function (box) {
    return this.min.x <= box.min.x && box.max.x <= this.max.x && this.min.y <= box.min.y && box.max.y <= this.max.y;
  },
  getParameter: function (point, target) {
    // This can potentially have a divide by zero if the box
    // has a size dimension of 0.
    if (target === undefined) {
      console.warn('THREE.Box2: .getParameter() target is now required');
      target = new Vector2();
    }

    return target.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y));
  },
  intersectsBox: function (box) {
    // using 4 splitting planes to rule out intersections
    return box.max.x < this.min.x || box.min.x > this.max.x || box.max.y < this.min.y || box.min.y > this.max.y ? false : true;
  },
  clampPoint: function (point, target) {
    if (target === undefined) {
      console.warn('THREE.Box2: .clampPoint() target is now required');
      target = new Vector2();
    }

    return target.copy(point).clamp(this.min, this.max);
  },
  distanceToPoint: function () {
    var v1 = new Vector2();
    return function distanceToPoint(point) {
      var clampedPoint = v1.copy(point).clamp(this.min, this.max);
      return clampedPoint.sub(point).length();
    };
  }(),
  intersect: function (box) {
    this.min.max(box.min);
    this.max.min(box.max);
    return this;
  },
  union: function (box) {
    this.min.min(box.min);
    this.max.max(box.max);
    return this;
  },
  translate: function (offset) {
    this.min.add(offset);
    this.max.add(offset);
    return this;
  },
  equals: function (box) {
    return box.min.equals(this.min) && box.max.equals(this.max);
  }
});
/**
 * @author bhouston / http://clara.io
 */

var _startP, _startEnd;

function Line3(start, end) {
  this.start = start !== undefined ? start : new Vector3();
  this.end = end !== undefined ? end : new Vector3();
}

Object.assign(Line3.prototype, {
  set: function (start, end) {
    this.start.copy(start);
    this.end.copy(end);
    return this;
  },
  clone: function () {
    return new this.constructor().copy(this);
  },
  copy: function (line) {
    this.start.copy(line.start);
    this.end.copy(line.end);
    return this;
  },
  getCenter: function (target) {
    if (target === undefined) {
      console.warn('THREE.Line3: .getCenter() target is now required');
      target = new Vector3();
    }

    return target.addVectors(this.start, this.end).multiplyScalar(0.5);
  },
  delta: function (target) {
    if (target === undefined) {
      console.warn('THREE.Line3: .delta() target is now required');
      target = new Vector3();
    }

    return target.subVectors(this.end, this.start);
  },
  distanceSq: function () {
    return this.start.distanceToSquared(this.end);
  },
  distance: function () {
    return this.start.distanceTo(this.end);
  },
  at: function (t, target) {
    if (target === undefined) {
      console.warn('THREE.Line3: .at() target is now required');
      target = new Vector3();
    }

    return this.delta(target).multiplyScalar(t).add(this.start);
  },
  closestPointToPointParameter: function (point, clampToLine) {
    if (_startP === undefined) {
      _startP = new Vector3();
      _startEnd = new Vector3();
    }

    _startP.subVectors(point, this.start);

    _startEnd.subVectors(this.end, this.start);

    var startEnd2 = _startEnd.dot(_startEnd);

    var startEnd_startP = _startEnd.dot(_startP);

    var t = startEnd_startP / startEnd2;

    if (clampToLine) {
      t = _Math.clamp(t, 0, 1);
    }

    return t;
  },
  closestPointToPoint: function (point, clampToLine, target) {
    var t = this.closestPointToPointParameter(point, clampToLine);

    if (target === undefined) {
      console.warn('THREE.Line3: .closestPointToPoint() target is now required');
      target = new Vector3();
    }

    return this.delta(target).multiplyScalar(t).add(this.start);
  },
  applyMatrix4: function (matrix) {
    this.start.applyMatrix4(matrix);
    this.end.applyMatrix4(matrix);
    return this;
  },
  equals: function (line) {
    return line.start.equals(this.start) && line.end.equals(this.end);
  }
});
/**
 * @author alteredq / http://alteredqualia.com/
 */

function ImmediateRenderObject(material) {
  Object3D.call(this);
  this.material = material;

  this.render = function
    /* renderCallback */
  () {};
}

ImmediateRenderObject.prototype = Object.create(Object3D.prototype);
ImmediateRenderObject.prototype.constructor = ImmediateRenderObject;
ImmediateRenderObject.prototype.isImmediateRenderObject = true;
/**
 * @author mrdoob / http://mrdoob.com/
 * @author WestLangley / http://github.com/WestLangley
 */

function VertexNormalsHelper(object, size, hex, linewidth) {
  this.object = object;
  this.size = size !== undefined ? size : 1;
  var color = hex !== undefined ? hex : 0xff0000;
  var width = linewidth !== undefined ? linewidth : 1; //

  var nNormals = 0;
  var objGeometry = this.object.geometry;

  if (objGeometry && objGeometry.isGeometry) {
    nNormals = objGeometry.faces.length * 3;
  } else if (objGeometry && objGeometry.isBufferGeometry) {
    nNormals = objGeometry.attributes.normal.count;
  } //


  var geometry = new BufferGeometry();
  var positions = new Float32BufferAttribute(nNormals * 2 * 3, 3);
  geometry.addAttribute('position', positions);
  LineSegments.call(this, geometry, new LineBasicMaterial({
    color: color,
    linewidth: width
  })); //

  this.matrixAutoUpdate = false;
  this.update();
}

VertexNormalsHelper.prototype = Object.create(LineSegments.prototype);
VertexNormalsHelper.prototype.constructor = VertexNormalsHelper;

VertexNormalsHelper.prototype.update = function () {
  var v1 = new Vector3();
  var v2 = new Vector3();
  var normalMatrix = new Matrix3();
  return function update() {
    var keys = ['a', 'b', 'c'];
    this.object.updateMatrixWorld(true);
    normalMatrix.getNormalMatrix(this.object.matrixWorld);
    var matrixWorld = this.object.matrixWorld;
    var position = this.geometry.attributes.position; //

    var objGeometry = this.object.geometry;

    if (objGeometry && objGeometry.isGeometry) {
      var vertices = objGeometry.vertices;
      var faces = objGeometry.faces;
      var idx = 0;

      for (var i = 0, l = faces.length; i < l; i++) {
        var face = faces[i];

        for (var j = 0, jl = face.vertexNormals.length; j < jl; j++) {
          var vertex = vertices[face[keys[j]]];
          var normal = face.vertexNormals[j];
          v1.copy(vertex).applyMatrix4(matrixWorld);
          v2.copy(normal).applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);
          position.setXYZ(idx, v1.x, v1.y, v1.z);
          idx = idx + 1;
          position.setXYZ(idx, v2.x, v2.y, v2.z);
          idx = idx + 1;
        }
      }
    } else if (objGeometry && objGeometry.isBufferGeometry) {
      var objPos = objGeometry.attributes.position;
      var objNorm = objGeometry.attributes.normal;
      var idx = 0; // for simplicity, ignore index and drawcalls, and render every normal

      for (var j = 0, jl = objPos.count; j < jl; j++) {
        v1.set(objPos.getX(j), objPos.getY(j), objPos.getZ(j)).applyMatrix4(matrixWorld);
        v2.set(objNorm.getX(j), objNorm.getY(j), objNorm.getZ(j));
        v2.applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);
        position.setXYZ(idx, v1.x, v1.y, v1.z);
        idx = idx + 1;
        position.setXYZ(idx, v2.x, v2.y, v2.z);
        idx = idx + 1;
      }
    }

    position.needsUpdate = true;
  };
}();
/**
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
 * @author WestLangley / http://github.com/WestLangley
 */


function SpotLightHelper(light, color) {
  Object3D.call(this);
  this.light = light;
  this.light.updateMatrixWorld();
  this.matrix = light.matrixWorld;
  this.matrixAutoUpdate = false;
  this.color = color;
  var geometry = new BufferGeometry();
  var positions = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1];

  for (var i = 0, j = 1, l = 32; i < l; i++, j++) {
    var p1 = i / l * Math.PI * 2;
    var p2 = j / l * Math.PI * 2;
    positions.push(Math.cos(p1), Math.sin(p1), 1, Math.cos(p2), Math.sin(p2), 1);
  }

  geometry.addAttribute('position', new Float32BufferAttribute(positions, 3));
  var material = new LineBasicMaterial({
    fog: false
  });
  this.cone = new LineSegments(geometry, material);
  this.add(this.cone);
  this.update();
}

SpotLightHelper.prototype = Object.create(Object3D.prototype);
SpotLightHelper.prototype.constructor = SpotLightHelper;

SpotLightHelper.prototype.dispose = function () {
  this.cone.geometry.dispose();
  this.cone.material.dispose();
};

SpotLightHelper.prototype.update = function () {
  var vector = new Vector3();
  return function update() {
    this.light.updateMatrixWorld();
    var coneLength = this.light.distance ? this.light.distance : 1000;
    var coneWidth = coneLength * Math.tan(this.light.angle);
    this.cone.scale.set(coneWidth, coneWidth, coneLength);
    vector.setFromMatrixPosition(this.light.target.matrixWorld);
    this.cone.lookAt(vector);

    if (this.color !== undefined) {
      this.cone.material.color.set(this.color);
    } else {
      this.cone.material.color.copy(this.light.color);
    }
  };
}();
/**
 * @author Sean Griffin / http://twitter.com/sgrif
 * @author Michael Guerrero / http://realitymeltdown.com
 * @author mrdoob / http://mrdoob.com/
 * @author ikerr / http://verold.com
 * @author Mugen87 / https://github.com/Mugen87
 */


function getBoneList(object) {
  var boneList = [];

  if (object && object.isBone) {
    boneList.push(object);
  }

  for (var i = 0; i < object.children.length; i++) {
    boneList.push.apply(boneList, getBoneList(object.children[i]));
  }

  return boneList;
}

function SkeletonHelper(object) {
  var bones = getBoneList(object);
  var geometry = new BufferGeometry();
  var vertices = [];
  var colors = [];
  var color1 = new Color(0, 0, 1);
  var color2 = new Color(0, 1, 0);

  for (var i = 0; i < bones.length; i++) {
    var bone = bones[i];

    if (bone.parent && bone.parent.isBone) {
      vertices.push(0, 0, 0);
      vertices.push(0, 0, 0);
      colors.push(color1.r, color1.g, color1.b);
      colors.push(color2.r, color2.g, color2.b);
    }
  }

  geometry.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  geometry.addAttribute('color', new Float32BufferAttribute(colors, 3));
  var material = new LineBasicMaterial({
    vertexColors: VertexColors,
    depthTest: false,
    depthWrite: false,
    transparent: true
  });
  LineSegments.call(this, geometry, material);
  this.root = object;
  this.bones = bones;
  this.matrix = object.matrixWorld;
  this.matrixAutoUpdate = false;
}

SkeletonHelper.prototype = Object.create(LineSegments.prototype);
SkeletonHelper.prototype.constructor = SkeletonHelper;

SkeletonHelper.prototype.updateMatrixWorld = function () {
  var vector = new Vector3();
  var boneMatrix = new Matrix4();
  var matrixWorldInv = new Matrix4();
  return function updateMatrixWorld(force) {
    var bones = this.bones;
    var geometry = this.geometry;
    var position = geometry.getAttribute('position');
    matrixWorldInv.getInverse(this.root.matrixWorld);

    for (var i = 0, j = 0; i < bones.length; i++) {
      var bone = bones[i];

      if (bone.parent && bone.parent.isBone) {
        boneMatrix.multiplyMatrices(matrixWorldInv, bone.matrixWorld);
        vector.setFromMatrixPosition(boneMatrix);
        position.setXYZ(j, vector.x, vector.y, vector.z);
        boneMatrix.multiplyMatrices(matrixWorldInv, bone.parent.matrixWorld);
        vector.setFromMatrixPosition(boneMatrix);
        position.setXYZ(j + 1, vector.x, vector.y, vector.z);
        j += 2;
      }
    }

    geometry.getAttribute('position').needsUpdate = true;
    Object3D.prototype.updateMatrixWorld.call(this, force);
  };
}();
/**
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
 */


function PointLightHelper(light, sphereSize, color) {
  this.light = light;
  this.light.updateMatrixWorld();
  this.color = color;
  var geometry = new SphereBufferGeometry(sphereSize, 4, 2);
  var material = new MeshBasicMaterial({
    wireframe: true,
    fog: false
  });
  Mesh.call(this, geometry, material);
  this.matrix = this.light.matrixWorld;
  this.matrixAutoUpdate = false;
  this.update();
  /*
  var distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );
  var distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );
  	this.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );
  this.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );
  	var d = light.distance;
  	if ( d === 0.0 ) {
  		this.lightDistance.visible = false;
  	} else {
  		this.lightDistance.scale.set( d, d, d );
  	}
  	this.add( this.lightDistance );
  */
}

PointLightHelper.prototype = Object.create(Mesh.prototype);
PointLightHelper.prototype.constructor = PointLightHelper;

PointLightHelper.prototype.dispose = function () {
  this.geometry.dispose();
  this.material.dispose();
};

PointLightHelper.prototype.update = function () {
  if (this.color !== undefined) {
    this.material.color.set(this.color);
  } else {
    this.material.color.copy(this.light.color);
  }
  /*
  var d = this.light.distance;
  	if ( d === 0.0 ) {
  		this.lightDistance.visible = false;
  	} else {
  		this.lightDistance.visible = true;
  	this.lightDistance.scale.set( d, d, d );
  	}
  */

};
/**
 * @author abelnation / http://github.com/abelnation
 * @author Mugen87 / http://github.com/Mugen87
 * @author WestLangley / http://github.com/WestLangley
 *
 *  This helper must be added as a child of the light
 */


function RectAreaLightHelper(light, color) {
  this.type = 'RectAreaLightHelper';
  this.light = light;
  this.color = color; // optional hardwired color for the helper

  var positions = [1, 1, 0, -1, 1, 0, -1, -1, 0, 1, -1, 0, 1, 1, 0];
  var geometry = new BufferGeometry();
  geometry.addAttribute('position', new Float32BufferAttribute(positions, 3));
  geometry.computeBoundingSphere();
  var material = new LineBasicMaterial({
    fog: false
  });
  Line.call(this, geometry, material); //

  var positions2 = [1, 1, 0, -1, 1, 0, -1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0];
  var geometry2 = new BufferGeometry();
  geometry2.addAttribute('position', new Float32BufferAttribute(positions2, 3));
  geometry2.computeBoundingSphere();
  this.add(new Mesh(geometry2, new MeshBasicMaterial({
    side: BackSide,
    fog: false
  })));
  this.update();
}

RectAreaLightHelper.prototype = Object.create(Line.prototype);
RectAreaLightHelper.prototype.constructor = RectAreaLightHelper;

RectAreaLightHelper.prototype.update = function () {
  this.scale.set(0.5 * this.light.width, 0.5 * this.light.height, 1);

  if (this.color !== undefined) {
    this.material.color.set(this.color);
    this.children[0].material.color.set(this.color);
  } else {
    this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity); // prevent hue shift

    var c = this.material.color;
    var max = Math.max(c.r, c.g, c.b);
    if (max > 1) c.multiplyScalar(1 / max);
    this.children[0].material.color.copy(this.material.color);
  }
};

RectAreaLightHelper.prototype.dispose = function () {
  this.geometry.dispose();
  this.material.dispose();
  this.children[0].geometry.dispose();
  this.children[0].material.dispose();
};
/**
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
 * @author Mugen87 / https://github.com/Mugen87
 */


function HemisphereLightHelper(light, size, color) {
  Object3D.call(this);
  this.light = light;
  this.light.updateMatrixWorld();
  this.matrix = light.matrixWorld;
  this.matrixAutoUpdate = false;
  this.color = color;
  var geometry = new OctahedronBufferGeometry(size);
  geometry.rotateY(Math.PI * 0.5);
  this.material = new MeshBasicMaterial({
    wireframe: true,
    fog: false
  });
  if (this.color === undefined) this.material.vertexColors = VertexColors;
  var position = geometry.getAttribute('position');
  var colors = new Float32Array(position.count * 3);
  geometry.addAttribute('color', new BufferAttribute(colors, 3));
  this.add(new Mesh(geometry, this.material));
  this.update();
}

HemisphereLightHelper.prototype = Object.create(Object3D.prototype);
HemisphereLightHelper.prototype.constructor = HemisphereLightHelper;

HemisphereLightHelper.prototype.dispose = function () {
  this.children[0].geometry.dispose();
  this.children[0].material.dispose();
};

HemisphereLightHelper.prototype.update = function () {
  var vector = new Vector3();
  var color1 = new Color();
  var color2 = new Color();
  return function update() {
    var mesh = this.children[0];

    if (this.color !== undefined) {
      this.material.color.set(this.color);
    } else {
      var colors = mesh.geometry.getAttribute('color');
      color1.copy(this.light.color);
      color2.copy(this.light.groundColor);

      for (var i = 0, l = colors.count; i < l; i++) {
        var color = i < l / 2 ? color1 : color2;
        colors.setXYZ(i, color.r, color.g, color.b);
      }

      colors.needsUpdate = true;
    }

    mesh.lookAt(vector.setFromMatrixPosition(this.light.matrixWorld).negate());
  };
}();
/**
 * @author WestLangley / http://github.com/WestLangley
 */


function LightProbeHelper(lightProbe, size) {
  this.lightProbe = lightProbe;
  this.size = size;
  var defines = {};
  defines['GAMMA_OUTPUT'] = ""; // material

  var material = new ShaderMaterial({
    defines: defines,
    uniforms: {
      sh: {
        value: this.lightProbe.sh.coefficients
      },
      // by reference
      intensity: {
        value: this.lightProbe.intensity
      }
    },
    vertexShader: ['varying vec3 vNormal;', 'void main() {', '	vNormal = normalize( normalMatrix * normal );', '	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\n'),
    fragmentShader: ['#define RECIPROCAL_PI 0.318309886', 'vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {', '	// matrix is assumed to be orthogonal', '	return normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );', '}', 'vec3 linearToOutput( in vec3 a ) {', '	#ifdef GAMMA_OUTPUT', '		return pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );', '	#else', '		return a;', '	#endif', '}', '// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf', 'vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {', '	// normal is assumed to have unit length', '	float x = normal.x, y = normal.y, z = normal.z;', '	// band 0', '	vec3 result = shCoefficients[ 0 ] * 0.886227;', '	// band 1', '	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;', '	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;', '	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;', '	// band 2', '	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;', '	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;', '	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );', '	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;', '	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );', '	return result;', '}', 'uniform vec3 sh[ 9 ]; // sh coefficients', 'uniform float intensity; // light probe intensity', 'varying vec3 vNormal;', 'void main() {', '	vec3 normal = normalize( vNormal );', '	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );', '	vec3 irradiance = shGetIrradianceAt( worldNormal, sh );', '	vec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;', '	outgoingLight = linearToOutput( outgoingLight );', '	gl_FragColor = vec4( outgoingLight, 1.0 );', '}'].join('\n')
  });
  var geometry = new SphereBufferGeometry(1, 32, 16);
  Mesh.call(this, geometry, material);
  this.onBeforeRender();
}

LightProbeHelper.prototype = Object.create(Mesh.prototype);
LightProbeHelper.prototype.constructor = LightProbeHelper;

LightProbeHelper.prototype.dispose = function () {
  this.geometry.dispose();
  this.material.dispose();
};

LightProbeHelper.prototype.onBeforeRender = function () {
  return function update() {
    this.position.copy(this.lightProbe.position);
    this.scale.set(1, 1, 1).multiplyScalar(this.size);
    this.material.uniforms.intensity.value = this.lightProbe.intensity;
  };
}();
/**
 * @author mrdoob / http://mrdoob.com/
 */


function GridHelper(size, divisions, color1, color2) {
  size = size || 10;
  divisions = divisions || 10;
  color1 = new Color(color1 !== undefined ? color1 : 0x444444);
  color2 = new Color(color2 !== undefined ? color2 : 0x888888);
  var center = divisions / 2;
  var step = size / divisions;
  var halfSize = size / 2;
  var vertices = [],
      colors = [];

  for (var i = 0, j = 0, k = -halfSize; i <= divisions; i++, k += step) {
    vertices.push(-halfSize, 0, k, halfSize, 0, k);
    vertices.push(k, 0, -halfSize, k, 0, halfSize);
    var color = i === center ? color1 : color2;
    color.toArray(colors, j);
    j += 3;
    color.toArray(colors, j);
    j += 3;
    color.toArray(colors, j);
    j += 3;
    color.toArray(colors, j);
    j += 3;
  }

  var geometry = new BufferGeometry();
  geometry.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  geometry.addAttribute('color', new Float32BufferAttribute(colors, 3));
  var material = new LineBasicMaterial({
    vertexColors: VertexColors
  });
  LineSegments.call(this, geometry, material);
}

GridHelper.prototype = Object.assign(Object.create(LineSegments.prototype), {
  constructor: GridHelper,
  copy: function (source) {
    LineSegments.prototype.copy.call(this, source);
    this.geometry.copy(source.geometry);
    this.material.copy(source.material);
    return this;
  },
  clone: function () {
    return new this.constructor().copy(this);
  }
});
/**
 * @author mrdoob / http://mrdoob.com/
 * @author Mugen87 / http://github.com/Mugen87
 * @author Hectate / http://www.github.com/Hectate
 */

function PolarGridHelper(radius, radials, circles, divisions, color1, color2) {
  radius = radius || 10;
  radials = radials || 16;
  circles = circles || 8;
  divisions = divisions || 64;
  color1 = new Color(color1 !== undefined ? color1 : 0x444444);
  color2 = new Color(color2 !== undefined ? color2 : 0x888888);
  var vertices = [];
  var colors = [];
  var x, z;
  var v, i, j, r, color; // create the radials

  for (i = 0; i <= radials; i++) {
    v = i / radials * (Math.PI * 2);
    x = Math.sin(v) * radius;
    z = Math.cos(v) * radius;
    vertices.push(0, 0, 0);
    vertices.push(x, 0, z);
    color = i & 1 ? color1 : color2;
    colors.push(color.r, color.g, color.b);
    colors.push(color.r, color.g, color.b);
  } // create the circles


  for (i = 0; i <= circles; i++) {
    color = i & 1 ? color1 : color2;
    r = radius - radius / circles * i;

    for (j = 0; j < divisions; j++) {
      // first vertex
      v = j / divisions * (Math.PI * 2);
      x = Math.sin(v) * r;
      z = Math.cos(v) * r;
      vertices.push(x, 0, z);
      colors.push(color.r, color.g, color.b); // second vertex

      v = (j + 1) / divisions * (Math.PI * 2);
      x = Math.sin(v) * r;
      z = Math.cos(v) * r;
      vertices.push(x, 0, z);
      colors.push(color.r, color.g, color.b);
    }
  }

  var geometry = new BufferGeometry();
  geometry.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  geometry.addAttribute('color', new Float32BufferAttribute(colors, 3));
  var material = new LineBasicMaterial({
    vertexColors: VertexColors
  });
  LineSegments.call(this, geometry, material);
}

PolarGridHelper.prototype = Object.create(LineSegments.prototype);
PolarGridHelper.prototype.constructor = PolarGridHelper;
/**
 * @author Mugen87 / http://github.com/Mugen87
 */

function PositionalAudioHelper(audio, range, divisionsInnerAngle, divisionsOuterAngle) {
  this.audio = audio;
  this.range = range || 1;
  this.divisionsInnerAngle = divisionsInnerAngle || 16;
  this.divisionsOuterAngle = divisionsOuterAngle || 2;
  var geometry = new BufferGeometry();
  var divisions = this.divisionsInnerAngle + this.divisionsOuterAngle * 2;
  var positions = new Float32Array((divisions * 3 + 3) * 3);
  geometry.addAttribute('position', new BufferAttribute(positions, 3));
  var materialInnerAngle = new LineBasicMaterial({
    color: 0x00ff00
  });
  var materialOuterAngle = new LineBasicMaterial({
    color: 0xffff00
  });
  Line.call(this, geometry, [materialOuterAngle, materialInnerAngle]);
  this.update();
}

PositionalAudioHelper.prototype = Object.create(Line.prototype);
PositionalAudioHelper.prototype.constructor = PositionalAudioHelper;

PositionalAudioHelper.prototype.update = function () {
  var audio = this.audio;
  var range = this.range;
  var divisionsInnerAngle = this.divisionsInnerAngle;
  var divisionsOuterAngle = this.divisionsOuterAngle;

  var coneInnerAngle = _Math.degToRad(audio.panner.coneInnerAngle);

  var coneOuterAngle = _Math.degToRad(audio.panner.coneOuterAngle);

  var halfConeInnerAngle = coneInnerAngle / 2;
  var halfConeOuterAngle = coneOuterAngle / 2;
  var start = 0;
  var count = 0;
  var i, stride;
  var geometry = this.geometry;
  var positionAttribute = geometry.attributes.position;
  geometry.clearGroups(); //

  function generateSegment(from, to, divisions, materialIndex) {
    var step = (to - from) / divisions;
    positionAttribute.setXYZ(start, 0, 0, 0);
    count++;

    for (i = from; i < to; i += step) {
      stride = start + count;
      positionAttribute.setXYZ(stride, Math.sin(i) * range, 0, Math.cos(i) * range);
      positionAttribute.setXYZ(stride + 1, Math.sin(Math.min(i + step, to)) * range, 0, Math.cos(Math.min(i + step, to)) * range);
      positionAttribute.setXYZ(stride + 2, 0, 0, 0);
      count += 3;
    }

    geometry.addGroup(start, count, materialIndex);
    start += count;
    count = 0;
  } //


  generateSegment(-halfConeOuterAngle, -halfConeInnerAngle, divisionsOuterAngle, 0);
  generateSegment(-halfConeInnerAngle, halfConeInnerAngle, divisionsInnerAngle, 1);
  generateSegment(halfConeInnerAngle, halfConeOuterAngle, divisionsOuterAngle, 0); //

  positionAttribute.needsUpdate = true;
  if (coneInnerAngle === coneOuterAngle) this.material[0].visible = false;
};

PositionalAudioHelper.prototype.dispose = function () {
  this.geometry.dispose();
  this.material[0].dispose();
  this.material[1].dispose();
};
/**
 * @author mrdoob / http://mrdoob.com/
 * @author WestLangley / http://github.com/WestLangley
 */


function FaceNormalsHelper(object, size, hex, linewidth) {
  // FaceNormalsHelper only supports THREE.Geometry
  this.object = object;
  this.size = size !== undefined ? size : 1;
  var color = hex !== undefined ? hex : 0xffff00;
  var width = linewidth !== undefined ? linewidth : 1; //

  var nNormals = 0;
  var objGeometry = this.object.geometry;

  if (objGeometry && objGeometry.isGeometry) {
    nNormals = objGeometry.faces.length;
  } else {
    console.warn('THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.');
  } //


  var geometry = new BufferGeometry();
  var positions = new Float32BufferAttribute(nNormals * 2 * 3, 3);
  geometry.addAttribute('position', positions);
  LineSegments.call(this, geometry, new LineBasicMaterial({
    color: color,
    linewidth: width
  })); //

  this.matrixAutoUpdate = false;
  this.update();
}

FaceNormalsHelper.prototype = Object.create(LineSegments.prototype);
FaceNormalsHelper.prototype.constructor = FaceNormalsHelper;

FaceNormalsHelper.prototype.update = function () {
  var v1 = new Vector3();
  var v2 = new Vector3();
  var normalMatrix = new Matrix3();
  return function update() {
    this.object.updateMatrixWorld(true);
    normalMatrix.getNormalMatrix(this.object.matrixWorld);
    var matrixWorld = this.object.matrixWorld;
    var position = this.geometry.attributes.position; //

    var objGeometry = this.object.geometry;
    var vertices = objGeometry.vertices;
    var faces = objGeometry.faces;
    var idx = 0;

    for (var i = 0, l = faces.length; i < l; i++) {
      var face = faces[i];
      var normal = face.normal;
      v1.copy(vertices[face.a]).add(vertices[face.b]).add(vertices[face.c]).divideScalar(3).applyMatrix4(matrixWorld);
      v2.copy(normal).applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);
      position.setXYZ(idx, v1.x, v1.y, v1.z);
      idx = idx + 1;
      position.setXYZ(idx, v2.x, v2.y, v2.z);
      idx = idx + 1;
    }

    position.needsUpdate = true;
  };
}();
/**
 * @author alteredq / http://alteredqualia.com/
 * @author mrdoob / http://mrdoob.com/
 * @author WestLangley / http://github.com/WestLangley
 */


function DirectionalLightHelper(light, size, color) {
  Object3D.call(this);
  this.light = light;
  this.light.updateMatrixWorld();
  this.matrix = light.matrixWorld;
  this.matrixAutoUpdate = false;
  this.color = color;
  if (size === undefined) size = 1;
  var geometry = new BufferGeometry();
  geometry.addAttribute('position', new Float32BufferAttribute([-size, size, 0, size, size, 0, size, -size, 0, -size, -size, 0, -size, size, 0], 3));
  var material = new LineBasicMaterial({
    fog: false
  });
  this.lightPlane = new Line(geometry, material);
  this.add(this.lightPlane);
  geometry = new BufferGeometry();
  geometry.addAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3));
  this.targetLine = new Line(geometry, material);
  this.add(this.targetLine);
  this.update();
}

DirectionalLightHelper.prototype = Object.create(Object3D.prototype);
DirectionalLightHelper.prototype.constructor = DirectionalLightHelper;

DirectionalLightHelper.prototype.dispose = function () {
  this.lightPlane.geometry.dispose();
  this.lightPlane.material.dispose();
  this.targetLine.geometry.dispose();
  this.targetLine.material.dispose();
};

DirectionalLightHelper.prototype.update = function () {
  var v1 = new Vector3();
  var v2 = new Vector3();
  var v3 = new Vector3();
  return function update() {
    v1.setFromMatrixPosition(this.light.matrixWorld);
    v2.setFromMatrixPosition(this.light.target.matrixWorld);
    v3.subVectors(v2, v1);
    this.lightPlane.lookAt(v2);

    if (this.color !== undefined) {
      this.lightPlane.material.color.set(this.color);
      this.targetLine.material.color.set(this.color);
    } else {
      this.lightPlane.material.color.copy(this.light.color);
      this.targetLine.material.color.copy(this.light.color);
    }

    this.targetLine.lookAt(v2);
    this.targetLine.scale.z = v3.length();
  };
}();
/**
 * @author alteredq / http://alteredqualia.com/
 * @author Mugen87 / https://github.com/Mugen87
 *
 *	- shows frustum, line of sight and up of the camera
 *	- suitable for fast updates
 * 	- based on frustum visualization in lightgl.js shadowmap example
 *		http://evanw.github.com/lightgl.js/tests/shadowmap.html
 */


function CameraHelper(camera) {
  var geometry = new BufferGeometry();
  var material = new LineBasicMaterial({
    color: 0xffffff,
    vertexColors: FaceColors
  });
  var vertices = [];
  var colors = [];
  var pointMap = {}; // colors

  var colorFrustum = new Color(0xffaa00);
  var colorCone = new Color(0xff0000);
  var colorUp = new Color(0x00aaff);
  var colorTarget = new Color(0xffffff);
  var colorCross = new Color(0x333333); // near

  addLine('n1', 'n2', colorFrustum);
  addLine('n2', 'n4', colorFrustum);
  addLine('n4', 'n3', colorFrustum);
  addLine('n3', 'n1', colorFrustum); // far

  addLine('f1', 'f2', colorFrustum);
  addLine('f2', 'f4', colorFrustum);
  addLine('f4', 'f3', colorFrustum);
  addLine('f3', 'f1', colorFrustum); // sides

  addLine('n1', 'f1', colorFrustum);
  addLine('n2', 'f2', colorFrustum);
  addLine('n3', 'f3', colorFrustum);
  addLine('n4', 'f4', colorFrustum); // cone

  addLine('p', 'n1', colorCone);
  addLine('p', 'n2', colorCone);
  addLine('p', 'n3', colorCone);
  addLine('p', 'n4', colorCone); // up

  addLine('u1', 'u2', colorUp);
  addLine('u2', 'u3', colorUp);
  addLine('u3', 'u1', colorUp); // target

  addLine('c', 't', colorTarget);
  addLine('p', 'c', colorCross); // cross

  addLine('cn1', 'cn2', colorCross);
  addLine('cn3', 'cn4', colorCross);
  addLine('cf1', 'cf2', colorCross);
  addLine('cf3', 'cf4', colorCross);

  function addLine(a, b, color) {
    addPoint(a, color);
    addPoint(b, color);
  }

  function addPoint(id, color) {
    vertices.push(0, 0, 0);
    colors.push(color.r, color.g, color.b);

    if (pointMap[id] === undefined) {
      pointMap[id] = [];
    }

    pointMap[id].push(vertices.length / 3 - 1);
  }

  geometry.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  geometry.addAttribute('color', new Float32BufferAttribute(colors, 3));
  LineSegments.call(this, geometry, material);
  this.camera = camera;
  if (this.camera.updateProjectionMatrix) this.camera.updateProjectionMatrix();
  this.matrix = camera.matrixWorld;
  this.matrixAutoUpdate = false;
  this.pointMap = pointMap;
  this.update();
}

CameraHelper.prototype = Object.create(LineSegments.prototype);
CameraHelper.prototype.constructor = CameraHelper;

CameraHelper.prototype.update = function () {
  var geometry, pointMap;
  var vector = new Vector3();
  var camera = new Camera();

  function setPoint(point, x, y, z) {
    vector.set(x, y, z).unproject(camera);
    var points = pointMap[point];

    if (points !== undefined) {
      var position = geometry.getAttribute('position');

      for (var i = 0, l = points.length; i < l; i++) {
        position.setXYZ(points[i], vector.x, vector.y, vector.z);
      }
    }
  }

  return function update() {
    geometry = this.geometry;
    pointMap = this.pointMap;
    var w = 1,
        h = 1; // we need just camera projection matrix inverse
    // world matrix must be identity

    camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse); // center / target

    setPoint('c', 0, 0, -1);
    setPoint('t', 0, 0, 1); // near

    setPoint('n1', -w, -h, -1);
    setPoint('n2', w, -h, -1);
    setPoint('n3', -w, h, -1);
    setPoint('n4', w, h, -1); // far

    setPoint('f1', -w, -h, 1);
    setPoint('f2', w, -h, 1);
    setPoint('f3', -w, h, 1);
    setPoint('f4', w, h, 1); // up

    setPoint('u1', w * 0.7, h * 1.1, -1);
    setPoint('u2', -w * 0.7, h * 1.1, -1);
    setPoint('u3', 0, h * 2, -1); // cross

    setPoint('cf1', -w, 0, 1);
    setPoint('cf2', w, 0, 1);
    setPoint('cf3', 0, -h, 1);
    setPoint('cf4', 0, h, 1);
    setPoint('cn1', -w, 0, -1);
    setPoint('cn2', w, 0, -1);
    setPoint('cn3', 0, -h, -1);
    setPoint('cn4', 0, h, -1);
    geometry.getAttribute('position').needsUpdate = true;
  };
}();
/**
 * @author mrdoob / http://mrdoob.com/
 * @author Mugen87 / http://github.com/Mugen87
 */


function BoxHelper(object, color) {
  this.object = object;
  if (color === undefined) color = 0xffff00;
  var indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);
  var positions = new Float32Array(8 * 3);
  var geometry = new BufferGeometry();
  geometry.setIndex(new BufferAttribute(indices, 1));
  geometry.addAttribute('position', new BufferAttribute(positions, 3));
  LineSegments.call(this, geometry, new LineBasicMaterial({
    color: color
  }));
  this.matrixAutoUpdate = false;
  this.update();
}

BoxHelper.prototype = Object.create(LineSegments.prototype);
BoxHelper.prototype.constructor = BoxHelper;

BoxHelper.prototype.update = function () {
  var box = new Box3();
  return function update(object) {
    if (object !== undefined) {
      console.warn('THREE.BoxHelper: .update() has no longer arguments.');
    }

    if (this.object !== undefined) {
      box.setFromObject(this.object);
    }

    if (box.isEmpty()) return;
    var min = box.min;
    var max = box.max;
    /*
      5____4
    1/___0/|
    | 6__|_7
    2/___3/
    	0: max.x, max.y, max.z
    1: min.x, max.y, max.z
    2: min.x, min.y, max.z
    3: max.x, min.y, max.z
    4: max.x, max.y, min.z
    5: min.x, max.y, min.z
    6: min.x, min.y, min.z
    7: max.x, min.y, min.z
    */

    var position = this.geometry.attributes.position;
    var array = position.array;
    array[0] = max.x;
    array[1] = max.y;
    array[2] = max.z;
    array[3] = min.x;
    array[4] = max.y;
    array[5] = max.z;
    array[6] = min.x;
    array[7] = min.y;
    array[8] = max.z;
    array[9] = max.x;
    array[10] = min.y;
    array[11] = max.z;
    array[12] = max.x;
    array[13] = max.y;
    array[14] = min.z;
    array[15] = min.x;
    array[16] = max.y;
    array[17] = min.z;
    array[18] = min.x;
    array[19] = min.y;
    array[20] = min.z;
    array[21] = max.x;
    array[22] = min.y;
    array[23] = min.z;
    position.needsUpdate = true;
    this.geometry.computeBoundingSphere();
  };
}();

BoxHelper.prototype.setFromObject = function (object) {
  this.object = object;
  this.update();
  return this;
};

BoxHelper.prototype.copy = function (source) {
  LineSegments.prototype.copy.call(this, source);
  this.object = source.object;
  return this;
};

BoxHelper.prototype.clone = function () {
  return new this.constructor().copy(this);
};
/**
 * @author WestLangley / http://github.com/WestLangley
 */


function Box3Helper(box, color) {
  this.type = 'Box3Helper';
  this.box = box;
  color = color || 0xffff00;
  var indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);
  var positions = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1];
  var geometry = new BufferGeometry();
  geometry.setIndex(new BufferAttribute(indices, 1));
  geometry.addAttribute('position', new Float32BufferAttribute(positions, 3));
  LineSegments.call(this, geometry, new LineBasicMaterial({
    color: color
  }));
  this.geometry.computeBoundingSphere();
}

Box3Helper.prototype = Object.create(LineSegments.prototype);
Box3Helper.prototype.constructor = Box3Helper;

Box3Helper.prototype.updateMatrixWorld = function (force) {
  var box = this.box;
  if (box.isEmpty()) return;
  box.getCenter(this.position);
  box.getSize(this.scale);
  this.scale.multiplyScalar(0.5);
  Object3D.prototype.updateMatrixWorld.call(this, force);
};
/**
 * @author WestLangley / http://github.com/WestLangley
 */


function PlaneHelper(plane, size, hex) {
  this.type = 'PlaneHelper';
  this.plane = plane;
  this.size = size === undefined ? 1 : size;
  var color = hex !== undefined ? hex : 0xffff00;
  var positions = [1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0];
  var geometry = new BufferGeometry();
  geometry.addAttribute('position', new Float32BufferAttribute(positions, 3));
  geometry.computeBoundingSphere();
  Line.call(this, geometry, new LineBasicMaterial({
    color: color
  })); //

  var positions2 = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1];
  var geometry2 = new BufferGeometry();
  geometry2.addAttribute('position', new Float32BufferAttribute(positions2, 3));
  geometry2.computeBoundingSphere();
  this.add(new Mesh(geometry2, new MeshBasicMaterial({
    color: color,
    opacity: 0.2,
    transparent: true,
    depthWrite: false
  })));
}

PlaneHelper.prototype = Object.create(Line.prototype);
PlaneHelper.prototype.constructor = PlaneHelper;

PlaneHelper.prototype.updateMatrixWorld = function (force) {
  var scale = -this.plane.constant;
  if (Math.abs(scale) < 1e-8) scale = 1e-8; // sign does not matter

  this.scale.set(0.5 * this.size, 0.5 * this.size, scale);
  this.children[0].material.side = scale < 0 ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here

  this.lookAt(this.plane.normal);
  Object3D.prototype.updateMatrixWorld.call(this, force);
};
/**
 * @author WestLangley / http://github.com/WestLangley
 * @author zz85 / http://github.com/zz85
 * @author bhouston / http://clara.io
 *
 * Creates an arrow for visualizing directions
 *
 * Parameters:
 *  dir - Vector3
 *  origin - Vector3
 *  length - Number
 *  color - color in hex value
 *  headLength - Number
 *  headWidth - Number
 */


var lineGeometry, coneGeometry;

function ArrowHelper(dir, origin, length, color, headLength, headWidth) {
  // dir is assumed to be normalized
  Object3D.call(this);
  if (dir === undefined) dir = new Vector3(0, 0, 1);
  if (origin === undefined) origin = new Vector3(0, 0, 0);
  if (length === undefined) length = 1;
  if (color === undefined) color = 0xffff00;
  if (headLength === undefined) headLength = 0.2 * length;
  if (headWidth === undefined) headWidth = 0.2 * headLength;

  if (lineGeometry === undefined) {
    lineGeometry = new BufferGeometry();
    lineGeometry.addAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));
    coneGeometry = new CylinderBufferGeometry(0, 0.5, 1, 5, 1);
    coneGeometry.translate(0, -0.5, 0);
  }

  this.position.copy(origin);
  this.line = new Line(lineGeometry, new LineBasicMaterial({
    color: color
  }));
  this.line.matrixAutoUpdate = false;
  this.add(this.line);
  this.cone = new Mesh(coneGeometry, new MeshBasicMaterial({
    color: color
  }));
  this.cone.matrixAutoUpdate = false;
  this.add(this.cone);
  this.setDirection(dir);
  this.setLength(length, headLength, headWidth);
}

ArrowHelper.prototype = Object.create(Object3D.prototype);
ArrowHelper.prototype.constructor = ArrowHelper;

ArrowHelper.prototype.setDirection = function () {
  var axis = new Vector3();
  var radians;
  return function setDirection(dir) {
    // dir is assumed to be normalized
    if (dir.y > 0.99999) {
      this.quaternion.set(0, 0, 0, 1);
    } else if (dir.y < -0.99999) {
      this.quaternion.set(1, 0, 0, 0);
    } else {
      axis.set(dir.z, 0, -dir.x).normalize();
      radians = Math.acos(dir.y);
      this.quaternion.setFromAxisAngle(axis, radians);
    }
  };
}();

ArrowHelper.prototype.setLength = function (length, headLength, headWidth) {
  if (headLength === undefined) headLength = 0.2 * length;
  if (headWidth === undefined) headWidth = 0.2 * headLength;
  this.line.scale.set(1, Math.max(0, length - headLength), 1);
  this.line.updateMatrix();
  this.cone.scale.set(headWidth, headLength, headWidth);
  this.cone.position.y = length;
  this.cone.updateMatrix();
};

ArrowHelper.prototype.setColor = function (color) {
  this.line.material.color.set(color);
  this.cone.material.color.set(color);
};

ArrowHelper.prototype.copy = function (source) {
  Object3D.prototype.copy.call(this, source, false);
  this.line.copy(source.line);
  this.cone.copy(source.cone);
  return this;
};

ArrowHelper.prototype.clone = function () {
  return new this.constructor().copy(this);
};
/**
 * @author sroucheray / http://sroucheray.org/
 * @author mrdoob / http://mrdoob.com/
 */


function AxesHelper(size) {
  size = size || 1;
  var vertices = [0, 0, 0, size, 0, 0, 0, 0, 0, 0, size, 0, 0, 0, 0, 0, 0, size];
  var colors = [1, 0, 0, 1, 0.6, 0, 0, 1, 0, 0.6, 1, 0, 0, 0, 1, 0, 0.6, 1];
  var geometry = new BufferGeometry();
  geometry.addAttribute('position', new Float32BufferAttribute(vertices, 3));
  geometry.addAttribute('color', new Float32BufferAttribute(colors, 3));
  var material = new LineBasicMaterial({
    vertexColors: VertexColors
  });
  LineSegments.call(this, geometry, material);
}

AxesHelper.prototype = Object.create(LineSegments.prototype);
AxesHelper.prototype.constructor = AxesHelper;
/**
 * @author mrdoob / http://mrdoob.com/
 */

function Face4(a, b, c, d, normal, color, materialIndex) {
  console.warn('THREE.Face4 has been removed. A THREE.Face3 will be created instead.');
  return new Face3(a, b, c, normal, color, materialIndex);
}

var LineStrip = 0;
exports.LineStrip = LineStrip;
var LinePieces = 1;
exports.LinePieces = LinePieces;

function MeshFaceMaterial(materials) {
  console.warn('THREE.MeshFaceMaterial has been removed. Use an Array instead.');
  return materials;
}

function MultiMaterial(materials) {
  if (materials === undefined) materials = [];
  console.warn('THREE.MultiMaterial has been removed. Use an Array instead.');
  materials.isMultiMaterial = true;
  materials.materials = materials;

  materials.clone = function () {
    return materials.slice();
  };

  return materials;
}

function PointCloud(geometry, material) {
  console.warn('THREE.PointCloud has been renamed to THREE.Points.');
  return new Points(geometry, material);
}

function Particle(material) {
  console.warn('THREE.Particle has been renamed to THREE.Sprite.');
  return new Sprite(material);
}

function ParticleSystem(geometry, material) {
  console.warn('THREE.ParticleSystem has been renamed to THREE.Points.');
  return new Points(geometry, material);
}

function PointCloudMaterial(parameters) {
  console.warn('THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.');
  return new PointsMaterial(parameters);
}

function ParticleBasicMaterial(parameters) {
  console.warn('THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.');
  return new PointsMaterial(parameters);
}

function ParticleSystemMaterial(parameters) {
  console.warn('THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.');
  return new PointsMaterial(parameters);
}

function Vertex(x, y, z) {
  console.warn('THREE.Vertex has been removed. Use THREE.Vector3 instead.');
  return new Vector3(x, y, z);
} //


function DynamicBufferAttribute(array, itemSize) {
  console.warn('THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.');
  return new BufferAttribute(array, itemSize).setDynamic(true);
}

function Int8Attribute(array, itemSize) {
  console.warn('THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.');
  return new Int8BufferAttribute(array, itemSize);
}

function Uint8Attribute(array, itemSize) {
  console.warn('THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.');
  return new Uint8BufferAttribute(array, itemSize);
}

function Uint8ClampedAttribute(array, itemSize) {
  console.warn('THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.');
  return new Uint8ClampedBufferAttribute(array, itemSize);
}

function Int16Attribute(array, itemSize) {
  console.warn('THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.');
  return new Int16BufferAttribute(array, itemSize);
}

function Uint16Attribute(array, itemSize) {
  console.warn('THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.');
  return new Uint16BufferAttribute(array, itemSize);
}

function Int32Attribute(array, itemSize) {
  console.warn('THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.');
  return new Int32BufferAttribute(array, itemSize);
}

function Uint32Attribute(array, itemSize) {
  console.warn('THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.');
  return new Uint32BufferAttribute(array, itemSize);
}

function Float32Attribute(array, itemSize) {
  console.warn('THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.');
  return new Float32BufferAttribute(array, itemSize);
}

function Float64Attribute(array, itemSize) {
  console.warn('THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.');
  return new Float64BufferAttribute(array, itemSize);
} //


Curve.create = function (construct, getPoint) {
  console.log('THREE.Curve.create() has been deprecated');
  construct.prototype = Object.create(Curve.prototype);
  construct.prototype.constructor = construct;
  construct.prototype.getPoint = getPoint;
  return construct;
}; //


Object.assign(CurvePath.prototype, {
  createPointsGeometry: function (divisions) {
    console.warn('THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.'); // generate geometry from path points (for Line or Points objects)

    var pts = this.getPoints(divisions);
    return this.createGeometry(pts);
  },
  createSpacedPointsGeometry: function (divisions) {
    console.warn('THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.'); // generate geometry from equidistant sampling along the path

    var pts = this.getSpacedPoints(divisions);
    return this.createGeometry(pts);
  },
  createGeometry: function (points) {
    console.warn('THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');
    var geometry = new Geometry();

    for (var i = 0, l = points.length; i < l; i++) {
      var point = points[i];
      geometry.vertices.push(new Vector3(point.x, point.y, point.z || 0));
    }

    return geometry;
  }
}); //

Object.assign(Path.prototype, {
  fromPoints: function (points) {
    console.warn('THREE.Path: .fromPoints() has been renamed to .setFromPoints().');
    this.setFromPoints(points);
  }
}); //

function ClosedSplineCurve3(points) {
  console.warn('THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.');
  CatmullRomCurve3.call(this, points);
  this.type = 'catmullrom';
  this.closed = true;
}

ClosedSplineCurve3.prototype = Object.create(CatmullRomCurve3.prototype); //

function SplineCurve3(points) {
  console.warn('THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.');
  CatmullRomCurve3.call(this, points);
  this.type = 'catmullrom';
}

SplineCurve3.prototype = Object.create(CatmullRomCurve3.prototype); //

function Spline(points) {
  console.warn('THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.');
  CatmullRomCurve3.call(this, points);
  this.type = 'catmullrom';
}

Spline.prototype = Object.create(CatmullRomCurve3.prototype);
Object.assign(Spline.prototype, {
  initFromArray: function
    /* a */
  () {
    console.error('THREE.Spline: .initFromArray() has been removed.');
  },
  getControlPointsArray: function
    /* optionalTarget */
  () {
    console.error('THREE.Spline: .getControlPointsArray() has been removed.');
  },
  reparametrizeByArcLength: function
    /* samplingCoef */
  () {
    console.error('THREE.Spline: .reparametrizeByArcLength() has been removed.');
  }
}); //

function AxisHelper(size) {
  console.warn('THREE.AxisHelper has been renamed to THREE.AxesHelper.');
  return new AxesHelper(size);
}

function BoundingBoxHelper(object, color) {
  console.warn('THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.');
  return new BoxHelper(object, color);
}

function EdgesHelper(object, hex) {
  console.warn('THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.');
  return new LineSegments(new EdgesGeometry(object.geometry), new LineBasicMaterial({
    color: hex !== undefined ? hex : 0xffffff
  }));
}

GridHelper.prototype.setColors = function () {
  console.error('THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.');
};

SkeletonHelper.prototype.update = function () {
  console.error('THREE.SkeletonHelper: update() no longer needs to be called.');
};

function WireframeHelper(object, hex) {
  console.warn('THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.');
  return new LineSegments(new WireframeGeometry(object.geometry), new LineBasicMaterial({
    color: hex !== undefined ? hex : 0xffffff
  }));
} //


Object.assign(Loader.prototype, {
  extractUrlBase: function (url) {
    console.warn('THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.');
    return LoaderUtils.extractUrlBase(url);
  }
});

function XHRLoader(manager) {
  console.warn('THREE.XHRLoader has been renamed to THREE.FileLoader.');
  return new FileLoader(manager);
}

function BinaryTextureLoader(manager) {
  console.warn('THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.');
  return new DataTextureLoader(manager);
}

Object.assign(ObjectLoader.prototype, {
  setTexturePath: function (value) {
    console.warn('THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().');
    return this.setResourcePath(value);
  }
}); //

Object.assign(Box2.prototype, {
  center: function (optionalTarget) {
    console.warn('THREE.Box2: .center() has been renamed to .getCenter().');
    return this.getCenter(optionalTarget);
  },
  empty: function () {
    console.warn('THREE.Box2: .empty() has been renamed to .isEmpty().');
    return this.isEmpty();
  },
  isIntersectionBox: function (box) {
    console.warn('THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().');
    return this.intersectsBox(box);
  },
  size: function (optionalTarget) {
    console.warn('THREE.Box2: .size() has been renamed to .getSize().');
    return this.getSize(optionalTarget);
  }
});
Object.assign(Box3.prototype, {
  center: function (optionalTarget) {
    console.warn('THREE.Box3: .center() has been renamed to .getCenter().');
    return this.getCenter(optionalTarget);
  },
  empty: function () {
    console.warn('THREE.Box3: .empty() has been renamed to .isEmpty().');
    return this.isEmpty();
  },
  isIntersectionBox: function (box) {
    console.warn('THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().');
    return this.intersectsBox(box);
  },
  isIntersectionSphere: function (sphere) {
    console.warn('THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().');
    return this.intersectsSphere(sphere);
  },
  size: function (optionalTarget) {
    console.warn('THREE.Box3: .size() has been renamed to .getSize().');
    return this.getSize(optionalTarget);
  }
});

Line3.prototype.center = function (optionalTarget) {
  console.warn('THREE.Line3: .center() has been renamed to .getCenter().');
  return this.getCenter(optionalTarget);
};

Object.assign(_Math, {
  random16: function () {
    console.warn('THREE.Math: .random16() has been deprecated. Use Math.random() instead.');
    return Math.random();
  },
  nearestPowerOfTwo: function (value) {
    console.warn('THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().');
    return _Math.floorPowerOfTwo(value);
  },
  nextPowerOfTwo: function (value) {
    console.warn('THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().');
    return _Math.ceilPowerOfTwo(value);
  }
});
Object.assign(Matrix3.prototype, {
  flattenToArrayOffset: function (array, offset) {
    console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");
    return this.toArray(array, offset);
  },
  multiplyVector3: function (vector) {
    console.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.');
    return vector.applyMatrix3(this);
  },
  multiplyVector3Array: function
    /* a */
  () {
    console.error('THREE.Matrix3: .multiplyVector3Array() has been removed.');
  },
  applyToBuffer: function (buffer
  /*, offset, length */
  ) {
    console.warn('THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.');
    return this.applyToBufferAttribute(buffer);
  },
  applyToVector3Array: function
    /* array, offset, length */
  () {
    console.error('THREE.Matrix3: .applyToVector3Array() has been removed.');
  }
});
Object.assign(Matrix4.prototype, {
  extractPosition: function (m) {
    console.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().');
    return this.copyPosition(m);
  },
  flattenToArrayOffset: function (array, offset) {
    console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");
    return this.toArray(array, offset);
  },
  getPosition: function () {
    var v1;
    return function getPosition() {
      if (v1 === undefined) v1 = new Vector3();
      console.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.');
      return v1.setFromMatrixColumn(this, 3);
    };
  }(),
  setRotationFromQuaternion: function (q) {
    console.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().');
    return this.makeRotationFromQuaternion(q);
  },
  multiplyToArray: function () {
    console.warn('THREE.Matrix4: .multiplyToArray() has been removed.');
  },
  multiplyVector3: function (vector) {
    console.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.');
    return vector.applyMatrix4(this);
  },
  multiplyVector4: function (vector) {
    console.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.');
    return vector.applyMatrix4(this);
  },
  multiplyVector3Array: function
    /* a */
  () {
    console.error('THREE.Matrix4: .multiplyVector3Array() has been removed.');
  },
  rotateAxis: function (v) {
    console.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.');
    v.transformDirection(this);
  },
  crossVector: function (vector) {
    console.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.');
    return vector.applyMatrix4(this);
  },
  translate: function () {
    console.error('THREE.Matrix4: .translate() has been removed.');
  },
  rotateX: function () {
    console.error('THREE.Matrix4: .rotateX() has been removed.');
  },
  rotateY: function () {
    console.error('THREE.Matrix4: .rotateY() has been removed.');
  },
  rotateZ: function () {
    console.error('THREE.Matrix4: .rotateZ() has been removed.');
  },
  rotateByAxis: function () {
    console.error('THREE.Matrix4: .rotateByAxis() has been removed.');
  },
  applyToBuffer: function (buffer
  /*, offset, length */
  ) {
    console.warn('THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.');
    return this.applyToBufferAttribute(buffer);
  },
  applyToVector3Array: function
    /* array, offset, length */
  () {
    console.error('THREE.Matrix4: .applyToVector3Array() has been removed.');
  },
  makeFrustum: function (left, right, bottom, top, near, far) {
    console.warn('THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.');
    return this.makePerspective(left, right, top, bottom, near, far);
  }
});

Plane.prototype.isIntersectionLine = function (line) {
  console.warn('THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().');
  return this.intersectsLine(line);
};

Quaternion.prototype.multiplyVector3 = function (vector) {
  console.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.');
  return vector.applyQuaternion(this);
};

Object.assign(Ray.prototype, {
  isIntersectionBox: function (box) {
    console.warn('THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().');
    return this.intersectsBox(box);
  },
  isIntersectionPlane: function (plane) {
    console.warn('THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().');
    return this.intersectsPlane(plane);
  },
  isIntersectionSphere: function (sphere) {
    console.warn('THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().');
    return this.intersectsSphere(sphere);
  }
});
Object.assign(Triangle.prototype, {
  area: function () {
    console.warn('THREE.Triangle: .area() has been renamed to .getArea().');
    return this.getArea();
  },
  barycoordFromPoint: function (point, target) {
    console.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');
    return this.getBarycoord(point, target);
  },
  midpoint: function (target) {
    console.warn('THREE.Triangle: .midpoint() has been renamed to .getMidpoint().');
    return this.getMidpoint(target);
  },
  normal: function (target) {
    console.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');
    return this.getNormal(target);
  },
  plane: function (target) {
    console.warn('THREE.Triangle: .plane() has been renamed to .getPlane().');
    return this.getPlane(target);
  }
});
Object.assign(Triangle, {
  barycoordFromPoint: function (point, a, b, c, target) {
    console.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');
    return Triangle.getBarycoord(point, a, b, c, target);
  },
  normal: function (a, b, c, target) {
    console.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');
    return Triangle.getNormal(a, b, c, target);
  }
});
Object.assign(Shape.prototype, {
  extractAllPoints: function (divisions) {
    console.warn('THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.');
    return this.extractPoints(divisions);
  },
  extrude: function (options) {
    console.warn('THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.');
    return new ExtrudeGeometry(this, options);
  },
  makeGeometry: function (options) {
    console.warn('THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.');
    return new ShapeGeometry(this, options);
  }
});
Object.assign(Vector2.prototype, {
  fromAttribute: function (attribute, index, offset) {
    console.warn('THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().');
    return this.fromBufferAttribute(attribute, index, offset);
  },
  distanceToManhattan: function (v) {
    console.warn('THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');
    return this.manhattanDistanceTo(v);
  },
  lengthManhattan: function () {
    console.warn('THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().');
    return this.manhattanLength();
  }
});
Object.assign(Vector3.prototype, {
  setEulerFromRotationMatrix: function () {
    console.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.');
  },
  setEulerFromQuaternion: function () {
    console.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.');
  },
  getPositionFromMatrix: function (m) {
    console.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().');
    return this.setFromMatrixPosition(m);
  },
  getScaleFromMatrix: function (m) {
    console.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().');
    return this.setFromMatrixScale(m);
  },
  getColumnFromMatrix: function (index, matrix) {
    console.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().');
    return this.setFromMatrixColumn(matrix, index);
  },
  applyProjection: function (m) {
    console.warn('THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.');
    return this.applyMatrix4(m);
  },
  fromAttribute: function (attribute, index, offset) {
    console.warn('THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().');
    return this.fromBufferAttribute(attribute, index, offset);
  },
  distanceToManhattan: function (v) {
    console.warn('THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');
    return this.manhattanDistanceTo(v);
  },
  lengthManhattan: function () {
    console.warn('THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().');
    return this.manhattanLength();
  }
});
Object.assign(Vector4.prototype, {
  fromAttribute: function (attribute, index, offset) {
    console.warn('THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().');
    return this.fromBufferAttribute(attribute, index, offset);
  },
  lengthManhattan: function () {
    console.warn('THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().');
    return this.manhattanLength();
  }
}); //

Object.assign(Geometry.prototype, {
  computeTangents: function () {
    console.error('THREE.Geometry: .computeTangents() has been removed.');
  },
  computeLineDistances: function () {
    console.error('THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.');
  }
});
Object.assign(Object3D.prototype, {
  getChildByName: function (name) {
    console.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().');
    return this.getObjectByName(name);
  },
  renderDepth: function () {
    console.warn('THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.');
  },
  translate: function (distance, axis) {
    console.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.');
    return this.translateOnAxis(axis, distance);
  },
  getWorldRotation: function () {
    console.error('THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.');
  }
});
Object.defineProperties(Object3D.prototype, {
  eulerOrder: {
    get: function () {
      console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');
      return this.rotation.order;
    },
    set: function (value) {
      console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');
      this.rotation.order = value;
    }
  },
  useQuaternion: {
    get: function () {
      console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');
    },
    set: function () {
      console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');
    }
  }
});
Object.defineProperties(LOD.prototype, {
  objects: {
    get: function () {
      console.warn('THREE.LOD: .objects has been renamed to .levels.');
      return this.levels;
    }
  }
});
Object.defineProperty(Skeleton.prototype, 'useVertexTexture', {
  get: function () {
    console.warn('THREE.Skeleton: useVertexTexture has been removed.');
  },
  set: function () {
    console.warn('THREE.Skeleton: useVertexTexture has been removed.');
  }
});

SkinnedMesh.prototype.initBones = function () {
  console.error('THREE.SkinnedMesh: initBones() has been removed.');
};

Object.defineProperty(Curve.prototype, '__arcLengthDivisions', {
  get: function () {
    console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.');
    return this.arcLengthDivisions;
  },
  set: function (value) {
    console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.');
    this.arcLengthDivisions = value;
  }
}); //

PerspectiveCamera.prototype.setLens = function (focalLength, filmGauge) {
  console.warn("THREE.PerspectiveCamera.setLens is deprecated. " + "Use .setFocalLength and .filmGauge for a photographic setup.");
  if (filmGauge !== undefined) this.filmGauge = filmGauge;
  this.setFocalLength(focalLength);
}; //


Object.defineProperties(Light.prototype, {
  onlyShadow: {
    set: function () {
      console.warn('THREE.Light: .onlyShadow has been removed.');
    }
  },
  shadowCameraFov: {
    set: function (value) {
      console.warn('THREE.Light: .shadowCameraFov is now .shadow.camera.fov.');
      this.shadow.camera.fov = value;
    }
  },
  shadowCameraLeft: {
    set: function (value) {
      console.warn('THREE.Light: .shadowCameraLeft is now .shadow.camera.left.');
      this.shadow.camera.left = value;
    }
  },
  shadowCameraRight: {
    set: function (value) {
      console.warn('THREE.Light: .shadowCameraRight is now .shadow.camera.right.');
      this.shadow.camera.right = value;
    }
  },
  shadowCameraTop: {
    set: function (value) {
      console.warn('THREE.Light: .shadowCameraTop is now .shadow.camera.top.');
      this.shadow.camera.top = value;
    }
  },
  shadowCameraBottom: {
    set: function (value) {
      console.warn('THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.');
      this.shadow.camera.bottom = value;
    }
  },
  shadowCameraNear: {
    set: function (value) {
      console.warn('THREE.Light: .shadowCameraNear is now .shadow.camera.near.');
      this.shadow.camera.near = value;
    }
  },
  shadowCameraFar: {
    set: function (value) {
      console.warn('THREE.Light: .shadowCameraFar is now .shadow.camera.far.');
      this.shadow.camera.far = value;
    }
  },
  shadowCameraVisible: {
    set: function () {
      console.warn('THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.');
    }
  },
  shadowBias: {
    set: function (value) {
      console.warn('THREE.Light: .shadowBias is now .shadow.bias.');
      this.shadow.bias = value;
    }
  },
  shadowDarkness: {
    set: function () {
      console.warn('THREE.Light: .shadowDarkness has been removed.');
    }
  },
  shadowMapWidth: {
    set: function (value) {
      console.warn('THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.');
      this.shadow.mapSize.width = value;
    }
  },
  shadowMapHeight: {
    set: function (value) {
      console.warn('THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.');
      this.shadow.mapSize.height = value;
    }
  }
}); //

Object.defineProperties(BufferAttribute.prototype, {
  length: {
    get: function () {
      console.warn('THREE.BufferAttribute: .length has been deprecated. Use .count instead.');
      return this.array.length;
    }
  },
  copyIndicesArray: function
    /* indices */
  () {
    console.error('THREE.BufferAttribute: .copyIndicesArray() has been removed.');
  }
});
Object.assign(BufferGeometry.prototype, {
  addIndex: function (index) {
    console.warn('THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().');
    this.setIndex(index);
  },
  addDrawCall: function (start, count, indexOffset) {
    if (indexOffset !== undefined) {
      console.warn('THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.');
    }

    console.warn('THREE.BufferGeometry: .addDrawCall() is now .addGroup().');
    this.addGroup(start, count);
  },
  clearDrawCalls: function () {
    console.warn('THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().');
    this.clearGroups();
  },
  computeTangents: function () {
    console.warn('THREE.BufferGeometry: .computeTangents() has been removed.');
  },
  computeOffsets: function () {
    console.warn('THREE.BufferGeometry: .computeOffsets() has been removed.');
  }
});
Object.defineProperties(BufferGeometry.prototype, {
  drawcalls: {
    get: function () {
      console.error('THREE.BufferGeometry: .drawcalls has been renamed to .groups.');
      return this.groups;
    }
  },
  offsets: {
    get: function () {
      console.warn('THREE.BufferGeometry: .offsets has been renamed to .groups.');
      return this.groups;
    }
  }
}); //

Object.assign(ExtrudeBufferGeometry.prototype, {
  getArrays: function () {
    console.error('THREE.ExtrudeBufferGeometry: .getArrays() has been removed.');
  },
  addShapeList: function () {
    console.error('THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.');
  },
  addShape: function () {
    console.error('THREE.ExtrudeBufferGeometry: .addShape() has been removed.');
  }
}); //

Object.defineProperties(Uniform.prototype, {
  dynamic: {
    set: function () {
      console.warn('THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.');
    }
  },
  onUpdate: {
    value: function () {
      console.warn('THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.');
      return this;
    }
  }
}); //

Object.defineProperties(Material.prototype, {
  wrapAround: {
    get: function () {
      console.warn('THREE.Material: .wrapAround has been removed.');
    },
    set: function () {
      console.warn('THREE.Material: .wrapAround has been removed.');
    }
  },
  overdraw: {
    get: function () {
      console.warn('THREE.Material: .overdraw has been removed.');
    },
    set: function () {
      console.warn('THREE.Material: .overdraw has been removed.');
    }
  },
  wrapRGB: {
    get: function () {
      console.warn('THREE.Material: .wrapRGB has been removed.');
      return new Color();
    }
  },
  shading: {
    get: function () {
      console.error('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');
    },
    set: function (value) {
      console.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');
      this.flatShading = value === FlatShading;
    }
  }
});
Object.defineProperties(MeshPhongMaterial.prototype, {
  metal: {
    get: function () {
      console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.');
      return false;
    },
    set: function () {
      console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead');
    }
  }
});
Object.defineProperties(ShaderMaterial.prototype, {
  derivatives: {
    get: function () {
      console.warn('THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');
      return this.extensions.derivatives;
    },
    set: function (value) {
      console.warn('THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');
      this.extensions.derivatives = value;
    }
  }
}); //

Object.assign(WebGLRenderer.prototype, {
  clearTarget: function (renderTarget, color, depth, stencil) {
    console.warn('THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.');
    this.setRenderTarget(renderTarget);
    this.clear(color, depth, stencil);
  },
  animate: function (callback) {
    console.warn('THREE.WebGLRenderer: .animate() is now .setAnimationLoop().');
    this.setAnimationLoop(callback);
  },
  getCurrentRenderTarget: function () {
    console.warn('THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().');
    return this.getRenderTarget();
  },
  getMaxAnisotropy: function () {
    console.warn('THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().');
    return this.capabilities.getMaxAnisotropy();
  },
  getPrecision: function () {
    console.warn('THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.');
    return this.capabilities.precision;
  },
  resetGLState: function () {
    console.warn('THREE.WebGLRenderer: .resetGLState() is now .state.reset().');
    return this.state.reset();
  },
  supportsFloatTextures: function () {
    console.warn('THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \'OES_texture_float\' ).');
    return this.extensions.get('OES_texture_float');
  },
  supportsHalfFloatTextures: function () {
    console.warn('THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \'OES_texture_half_float\' ).');
    return this.extensions.get('OES_texture_half_float');
  },
  supportsStandardDerivatives: function () {
    console.warn('THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \'OES_standard_derivatives\' ).');
    return this.extensions.get('OES_standard_derivatives');
  },
  supportsCompressedTextureS3TC: function () {
    console.warn('THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \'WEBGL_compressed_texture_s3tc\' ).');
    return this.extensions.get('WEBGL_compressed_texture_s3tc');
  },
  supportsCompressedTexturePVRTC: function () {
    console.warn('THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \'WEBGL_compressed_texture_pvrtc\' ).');
    return this.extensions.get('WEBGL_compressed_texture_pvrtc');
  },
  supportsBlendMinMax: function () {
    console.warn('THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \'EXT_blend_minmax\' ).');
    return this.extensions.get('EXT_blend_minmax');
  },
  supportsVertexTextures: function () {
    console.warn('THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.');
    return this.capabilities.vertexTextures;
  },
  supportsInstancedArrays: function () {
    console.warn('THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \'ANGLE_instanced_arrays\' ).');
    return this.extensions.get('ANGLE_instanced_arrays');
  },
  enableScissorTest: function (boolean) {
    console.warn('THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().');
    this.setScissorTest(boolean);
  },
  initMaterial: function () {
    console.warn('THREE.WebGLRenderer: .initMaterial() has been removed.');
  },
  addPrePlugin: function () {
    console.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.');
  },
  addPostPlugin: function () {
    console.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.');
  },
  updateShadowMap: function () {
    console.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.');
  },
  setFaceCulling: function () {
    console.warn('THREE.WebGLRenderer: .setFaceCulling() has been removed.');
  },
  allocTextureUnit: function () {
    console.warn('THREE.WebGLRenderer: .allocTextureUnit() has been removed.');
  },
  setTexture: function () {
    console.warn('THREE.WebGLRenderer: .setTexture() has been removed.');
  },
  setTexture2D: function () {
    console.warn('THREE.WebGLRenderer: .setTexture2D() has been removed.');
  },
  setTextureCube: function () {
    console.warn('THREE.WebGLRenderer: .setTextureCube() has been removed.');
  },
  getActiveMipMapLevel: function () {
    console.warn('THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().');
    return this.getActiveMipmapLevel();
  }
});
Object.defineProperties(WebGLRenderer.prototype, {
  shadowMapEnabled: {
    get: function () {
      return this.shadowMap.enabled;
    },
    set: function (value) {
      console.warn('THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.');
      this.shadowMap.enabled = value;
    }
  },
  shadowMapType: {
    get: function () {
      return this.shadowMap.type;
    },
    set: function (value) {
      console.warn('THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.');
      this.shadowMap.type = value;
    }
  },
  shadowMapCullFace: {
    get: function () {
      console.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');
      return undefined;
    },
    set: function
      /* value */
    () {
      console.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');
    }
  },
  context: {
    get: function () {
      console.warn('THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.');
      return this.getContext();
    }
  }
});
Object.defineProperties(WebGLShadowMap.prototype, {
  cullFace: {
    get: function () {
      console.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');
      return undefined;
    },
    set: function
      /* cullFace */
    () {
      console.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');
    }
  },
  renderReverseSided: {
    get: function () {
      console.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');
      return undefined;
    },
    set: function () {
      console.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');
    }
  },
  renderSingleSided: {
    get: function () {
      console.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');
      return undefined;
    },
    set: function () {
      console.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');
    }
  }
}); //

Object.defineProperties(WebGLRenderTargetCube.prototype, {
  activeCubeFace: {
    set: function
      /* value */
    () {
      console.warn('THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().');
    }
  },
  activeMipMapLevel: {
    set: function
      /* value */
    () {
      console.warn('THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().');
    }
  }
}); //

Object.defineProperties(WebGLRenderTarget.prototype, {
  wrapS: {
    get: function () {
      console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');
      return this.texture.wrapS;
    },
    set: function (value) {
      console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');
      this.texture.wrapS = value;
    }
  },
  wrapT: {
    get: function () {
      console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');
      return this.texture.wrapT;
    },
    set: function (value) {
      console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');
      this.texture.wrapT = value;
    }
  },
  magFilter: {
    get: function () {
      console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');
      return this.texture.magFilter;
    },
    set: function (value) {
      console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');
      this.texture.magFilter = value;
    }
  },
  minFilter: {
    get: function () {
      console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');
      return this.texture.minFilter;
    },
    set: function (value) {
      console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');
      this.texture.minFilter = value;
    }
  },
  anisotropy: {
    get: function () {
      console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');
      return this.texture.anisotropy;
    },
    set: function (value) {
      console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');
      this.texture.anisotropy = value;
    }
  },
  offset: {
    get: function () {
      console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');
      return this.texture.offset;
    },
    set: function (value) {
      console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');
      this.texture.offset = value;
    }
  },
  repeat: {
    get: function () {
      console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');
      return this.texture.repeat;
    },
    set: function (value) {
      console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');
      this.texture.repeat = value;
    }
  },
  format: {
    get: function () {
      console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');
      return this.texture.format;
    },
    set: function (value) {
      console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');
      this.texture.format = value;
    }
  },
  type: {
    get: function () {
      console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');
      return this.texture.type;
    },
    set: function (value) {
      console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');
      this.texture.type = value;
    }
  },
  generateMipmaps: {
    get: function () {
      console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');
      return this.texture.generateMipmaps;
    },
    set: function (value) {
      console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');
      this.texture.generateMipmaps = value;
    }
  }
}); //

Object.defineProperties(WebVRManager.prototype, {
  standing: {
    set: function
      /* value */
    () {
      console.warn('THREE.WebVRManager: .standing has been removed.');
    }
  },
  userHeight: {
    set: function
      /* value */
    () {
      console.warn('THREE.WebVRManager: .userHeight has been removed.');
    }
  }
}); //

Audio.prototype.load = function (file) {
  console.warn('THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.');
  var scope = this;
  var audioLoader = new AudioLoader();
  audioLoader.load(file, function (buffer) {
    scope.setBuffer(buffer);
  });
  return this;
};

AudioAnalyser.prototype.getData = function () {
  console.warn('THREE.AudioAnalyser: .getData() is now .getFrequencyData().');
  return this.getFrequencyData();
}; //


CubeCamera.prototype.updateCubeMap = function (renderer, scene) {
  console.warn('THREE.CubeCamera: .updateCubeMap() is now .update().');
  return this.update(renderer, scene);
}; //


var GeometryUtils = {
  merge: function (geometry1, geometry2, materialIndexOffset) {
    console.warn('THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.');
    var matrix;

    if (geometry2.isMesh) {
      geometry2.matrixAutoUpdate && geometry2.updateMatrix();
      matrix = geometry2.matrix;
      geometry2 = geometry2.geometry;
    }

    geometry1.merge(geometry2, matrix, materialIndexOffset);
  },
  center: function (geometry) {
    console.warn('THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.');
    return geometry.center();
  }
};
exports.GeometryUtils = GeometryUtils;
ImageUtils.crossOrigin = undefined;

ImageUtils.loadTexture = function (url, mapping, onLoad, onError) {
  console.warn('THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.');
  var loader = new TextureLoader();
  loader.setCrossOrigin(this.crossOrigin);
  var texture = loader.load(url, onLoad, undefined, onError);
  if (mapping) texture.mapping = mapping;
  return texture;
};

ImageUtils.loadTextureCube = function (urls, mapping, onLoad, onError) {
  console.warn('THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.');
  var loader = new CubeTextureLoader();
  loader.setCrossOrigin(this.crossOrigin);
  var texture = loader.load(urls, onLoad, undefined, onError);
  if (mapping) texture.mapping = mapping;
  return texture;
};

ImageUtils.loadCompressedTexture = function () {
  console.error('THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.');
};

ImageUtils.loadCompressedTextureCube = function () {
  console.error('THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.');
}; //


function CanvasRenderer() {
  console.error('THREE.CanvasRenderer has been removed');
} //


function JSONLoader() {
  console.error('THREE.JSONLoader has been removed.');
} //


var SceneUtils = {
  createMultiMaterialObject: function
    /* geometry, materials */
  () {
    console.error('THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js');
  },
  detach: function
    /* child, parent, scene */
  () {
    console.error('THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js');
  },
  attach: function
    /* child, scene, parent */
  () {
    console.error('THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js');
  }
}; //

exports.SceneUtils = SceneUtils;

function LensFlare() {
  console.error('THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js');
}
},{}],"js/ThreeScene.js":[function(require,module,exports) {
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.BasicThreeDemo = void 0;

require("./../styles.css");

var _three = require("three");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

var mouseX = 0,
    mouseY = 0;
var fov = 14;
var width = 0.3;
var windowWidth, windowHeight;

function scale(number, inMin, inMax, outMin, outMax) {
  return (number - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;
}

function spherical2cart(r, theta, phi) {
  var x = r * Math.sin(theta) * Math.cos(phi);
  var y = r * Math.sin(theta) * Math.sin(phi);
  var z = r * Math.cos(theta);
  var pos = [x, y, z];
  return pos;
}

function makeView(left, bottom, height, eye, up) {
  var view = {};
  view.left = left;
  view.bottom = bottom;
  view.width = width;
  view.height = height;
  view.eye = eye;
  view.up = up;
  view.fov = fov;

  view.updateCamera = function (camera, scene, mouseX, mouseY) {
    var pos = spherical2cart(110, scale(mouseX, -windowWidth / 2, windowWidth / 2, 0, Math.PI * 3), scale(mouseY, -windowHeight / 2, windowHeight / 2, 0, Math.PI * 3));
    camera.position.x = pos[0]; //mouseY * 0.05;

    camera.position.y = pos[1]; //

    camera.position.z = pos[2]; //

    camera.lookAt(scene.position);
  };

  return view;
} // mouseX is theta
// mouseY is phi


var views = [makeView(1 / 2 - width, 0, 1.0, [0, 15, 0], [1, 0, 0]), makeView(1 / 2, 0, 1.0, [0, 30, 0], [1, 0, 0])];

var BasicThreeDemo = /*#__PURE__*/function () {
  function BasicThreeDemo(container) {
    _classCallCheck(this, BasicThreeDemo);

    this.container = container;
    this.renderer = new _three.WebGLRenderer({
      antialias: true,
      stencil: false
    });
    this.renderer.setSize(container.offsetWidth, container.offsetHeight, false);
    this.renderer.setPixelRatio(Math.max(1.5, window.devicePixelRatio));
    container.append(this.renderer.domElement); // adding cameras for each view

    for (var ii = 0; ii < views.length; ++ii) {
      var view = views[ii];
      var camera = new _three.PerspectiveCamera(view.fov, window.innerWidth / window.innerHeight, 1, 10000);
      camera.position.fromArray(view.eye);
      camera.up.fromArray(view.up);
      view.camera = camera;
    }

    this.scene = new _three.Scene();
    this.clock = new _three.Clock();
    this.assets = {};
    this.disposed = false;
    this.tick = this.tick.bind(this);
    this.init = this.init.bind(this);
    this.setSize = this.setSize.bind(this);
  }

  _createClass(BasicThreeDemo, [{
    key: "onDocumentMouseMove",
    value: function onDocumentMouseMove(event) {
      if (!this.moveOn) {
        // FIXME fix the orientation of sphere
        // FIXME  arrow switches between views
        // FIXME bring in predicted data
        mouseX = event.clientX - windowWidth / 2;
        mouseY = event.clientY - windowHeight / 2;
      }
    }
  }, {
    key: "onClickEvent",
    value: function onClickEvent(e) {
      console.log("hellow");
    } // todo: when clicked rotate, when clicked again do not rotate

  }, {
    key: "init",
    value: function init() {
      // document.addEventListener("mousemove", this.onDocumentMouseMove); // TODO
      document.addEventListener("click", this.onClickEvent); // TODO

      this.tick();
    }
  }, {
    key: "setSize",
    value: function setSize(width, height, updateStyle) {
      this.renderer.setSize(width, height, false);
    }
  }, {
    key: "onResize",
    value: function onResize() {}
  }, {
    key: "dispose",
    value: function dispose() {
      this.disposed = true;
    }
  }, {
    key: "updateSize",
    value: function updateSize() {
      if (windowWidth != window.innerWidth || windowHeight != window.innerHeight) {
        windowWidth = window.innerWidth;
        windowHeight = window.innerHeight;
        this.renderer.setSize(windowWidth, windowHeight);
      }
    }
  }, {
    key: "render",
    value: function render() {
      this.updateSize(); // todo: render with all cameras

      for (var ii = 0; ii < views.length; ++ii) {
        var view = views[ii];
        var camera = view.camera;
        view.updateCamera(camera, this.scene, mouseX, mouseY);
        var left = Math.floor(windowWidth * view.left);
        var bottom = Math.floor(windowHeight * view.bottom);

        var _width = Math.floor(windowWidth * view.width);

        var height = Math.floor(windowHeight * view.height);
        this.renderer.setViewport(left, bottom, _width, height);
        this.renderer.setScissor(left, bottom, _width, height);
        this.renderer.setScissorTest(true); //   this.renderer.setClearColor(view.background);

        camera.aspect = _width / height;
        camera.updateProjectionMatrix();
        this.renderer.render(this.scene, camera);
      }
    }
  }, {
    key: "tick",
    value: function tick() {
      if (this.disposed) return; // this.stats.begin();
      // this.update();

      this.render();
      this.stats.end();
      requestAnimationFrame(this.tick);
    }
  }]);

  return BasicThreeDemo;
}(); // todo https://jsfiddle.net/n6u6asza/1205/


exports.BasicThreeDemo = BasicThreeDemo;
},{"./../styles.css":"styles.css","three":"node_modules/three/build/three.module.js"}],"node_modules/colormap/colorScale.js":[function(require,module,exports) {
module.exports={
	"jet":[{"index":0,"rgb":[0,0,131]},{"index":0.125,"rgb":[0,60,170]},{"index":0.375,"rgb":[5,255,255]},{"index":0.625,"rgb":[255,255,0]},{"index":0.875,"rgb":[250,0,0]},{"index":1,"rgb":[128,0,0]}],

	"hsv":[{"index":0,"rgb":[255,0,0]},{"index":0.169,"rgb":[253,255,2]},{"index":0.173,"rgb":[247,255,2]},{"index":0.337,"rgb":[0,252,4]},{"index":0.341,"rgb":[0,252,10]},{"index":0.506,"rgb":[1,249,255]},{"index":0.671,"rgb":[2,0,253]},{"index":0.675,"rgb":[8,0,253]},{"index":0.839,"rgb":[255,0,251]},{"index":0.843,"rgb":[255,0,245]},{"index":1,"rgb":[255,0,6]}],

	"hot":[{"index":0,"rgb":[0,0,0]},{"index":0.3,"rgb":[230,0,0]},{"index":0.6,"rgb":[255,210,0]},{"index":1,"rgb":[255,255,255]}],

	"spring":[{"index":0,"rgb":[255,0,255]},{"index":1,"rgb":[255,255,0]}],

	"summer":[{"index":0,"rgb":[0,128,102]},{"index":1,"rgb":[255,255,102]}],

	"autumn":[{"index":0,"rgb":[255,0,0]},{"index":1,"rgb":[255,255,0]}],

	"winter":[{"index":0,"rgb":[0,0,255]},{"index":1,"rgb":[0,255,128]}],

	"bone":[{"index":0,"rgb":[0,0,0]},{"index":0.376,"rgb":[84,84,116]},{"index":0.753,"rgb":[169,200,200]},{"index":1,"rgb":[255,255,255]}],

	"copper":[{"index":0,"rgb":[0,0,0]},{"index":0.804,"rgb":[255,160,102]},{"index":1,"rgb":[255,199,127]}],

	"greys":[{"index":0,"rgb":[0,0,0]},{"index":1,"rgb":[255,255,255]}],

	"yignbu":[{"index":0,"rgb":[8,29,88]},{"index":0.125,"rgb":[37,52,148]},{"index":0.25,"rgb":[34,94,168]},{"index":0.375,"rgb":[29,145,192]},{"index":0.5,"rgb":[65,182,196]},{"index":0.625,"rgb":[127,205,187]},{"index":0.75,"rgb":[199,233,180]},{"index":0.875,"rgb":[237,248,217]},{"index":1,"rgb":[255,255,217]}],

	"greens":[{"index":0,"rgb":[0,68,27]},{"index":0.125,"rgb":[0,109,44]},{"index":0.25,"rgb":[35,139,69]},{"index":0.375,"rgb":[65,171,93]},{"index":0.5,"rgb":[116,196,118]},{"index":0.625,"rgb":[161,217,155]},{"index":0.75,"rgb":[199,233,192]},{"index":0.875,"rgb":[229,245,224]},{"index":1,"rgb":[247,252,245]}],

	"yiorrd":[{"index":0,"rgb":[128,0,38]},{"index":0.125,"rgb":[189,0,38]},{"index":0.25,"rgb":[227,26,28]},{"index":0.375,"rgb":[252,78,42]},{"index":0.5,"rgb":[253,141,60]},{"index":0.625,"rgb":[254,178,76]},{"index":0.75,"rgb":[254,217,118]},{"index":0.875,"rgb":[255,237,160]},{"index":1,"rgb":[255,255,204]}],

	"bluered":[{"index":0,"rgb":[0,0,255]},{"index":1,"rgb":[255,0,0]}],

	"rdbu":[{"index":0,"rgb":[5,10,172]},{"index":0.35,"rgb":[106,137,247]},{"index":0.5,"rgb":[190,190,190]},{"index":0.6,"rgb":[220,170,132]},{"index":0.7,"rgb":[230,145,90]},{"index":1,"rgb":[178,10,28]}],

	"picnic":[{"index":0,"rgb":[0,0,255]},{"index":0.1,"rgb":[51,153,255]},{"index":0.2,"rgb":[102,204,255]},{"index":0.3,"rgb":[153,204,255]},{"index":0.4,"rgb":[204,204,255]},{"index":0.5,"rgb":[255,255,255]},{"index":0.6,"rgb":[255,204,255]},{"index":0.7,"rgb":[255,153,255]},{"index":0.8,"rgb":[255,102,204]},{"index":0.9,"rgb":[255,102,102]},{"index":1,"rgb":[255,0,0]}],

	"rainbow":[{"index":0,"rgb":[150,0,90]},{"index":0.125,"rgb":[0,0,200]},{"index":0.25,"rgb":[0,25,255]},{"index":0.375,"rgb":[0,152,255]},{"index":0.5,"rgb":[44,255,150]},{"index":0.625,"rgb":[151,255,0]},{"index":0.75,"rgb":[255,234,0]},{"index":0.875,"rgb":[255,111,0]},{"index":1,"rgb":[255,0,0]}],

	"portland":[{"index":0,"rgb":[12,51,131]},{"index":0.25,"rgb":[10,136,186]},{"index":0.5,"rgb":[242,211,56]},{"index":0.75,"rgb":[242,143,56]},{"index":1,"rgb":[217,30,30]}],

	"blackbody":[{"index":0,"rgb":[0,0,0]},{"index":0.2,"rgb":[230,0,0]},{"index":0.4,"rgb":[230,210,0]},{"index":0.7,"rgb":[255,255,255]},{"index":1,"rgb":[160,200,255]}],

	"earth":[{"index":0,"rgb":[0,0,130]},{"index":0.1,"rgb":[0,180,180]},{"index":0.2,"rgb":[40,210,40]},{"index":0.4,"rgb":[230,230,50]},{"index":0.6,"rgb":[120,70,20]},{"index":1,"rgb":[255,255,255]}],

	"electric":[{"index":0,"rgb":[0,0,0]},{"index":0.15,"rgb":[30,0,100]},{"index":0.4,"rgb":[120,0,100]},{"index":0.6,"rgb":[160,90,0]},{"index":0.8,"rgb":[230,200,0]},{"index":1,"rgb":[255,250,220]}],

	"alpha": [{"index":0, "rgb": [255,255,255,0]},{"index":1, "rgb": [255,255,255,1]}],

	"viridis": [{"index":0,"rgb":[68,1,84]},{"index":0.13,"rgb":[71,44,122]},{"index":0.25,"rgb":[59,81,139]},{"index":0.38,"rgb":[44,113,142]},{"index":0.5,"rgb":[33,144,141]},{"index":0.63,"rgb":[39,173,129]},{"index":0.75,"rgb":[92,200,99]},{"index":0.88,"rgb":[170,220,50]},{"index":1,"rgb":[253,231,37]}],

	"inferno": [{"index":0,"rgb":[0,0,4]},{"index":0.13,"rgb":[31,12,72]},{"index":0.25,"rgb":[85,15,109]},{"index":0.38,"rgb":[136,34,106]},{"index":0.5,"rgb":[186,54,85]},{"index":0.63,"rgb":[227,89,51]},{"index":0.75,"rgb":[249,140,10]},{"index":0.88,"rgb":[249,201,50]},{"index":1,"rgb":[252,255,164]}],

	"magma": [{"index":0,"rgb":[0,0,4]},{"index":0.13,"rgb":[28,16,68]},{"index":0.25,"rgb":[79,18,123]},{"index":0.38,"rgb":[129,37,129]},{"index":0.5,"rgb":[181,54,122]},{"index":0.63,"rgb":[229,80,100]},{"index":0.75,"rgb":[251,135,97]},{"index":0.88,"rgb":[254,194,135]},{"index":1,"rgb":[252,253,191]}],

	"plasma": [{"index":0,"rgb":[13,8,135]},{"index":0.13,"rgb":[75,3,161]},{"index":0.25,"rgb":[125,3,168]},{"index":0.38,"rgb":[168,34,150]},{"index":0.5,"rgb":[203,70,121]},{"index":0.63,"rgb":[229,107,93]},{"index":0.75,"rgb":[248,148,65]},{"index":0.88,"rgb":[253,195,40]},{"index":1,"rgb":[240,249,33]}],

	"warm": [{"index":0,"rgb":[125,0,179]},{"index":0.13,"rgb":[172,0,187]},{"index":0.25,"rgb":[219,0,170]},{"index":0.38,"rgb":[255,0,130]},{"index":0.5,"rgb":[255,63,74]},{"index":0.63,"rgb":[255,123,0]},{"index":0.75,"rgb":[234,176,0]},{"index":0.88,"rgb":[190,228,0]},{"index":1,"rgb":[147,255,0]}],

	"cool": [{"index":0,"rgb":[125,0,179]},{"index":0.13,"rgb":[116,0,218]},{"index":0.25,"rgb":[98,74,237]},{"index":0.38,"rgb":[68,146,231]},{"index":0.5,"rgb":[0,204,197]},{"index":0.63,"rgb":[0,247,146]},{"index":0.75,"rgb":[0,255,88]},{"index":0.88,"rgb":[40,255,8]},{"index":1,"rgb":[147,255,0]}],

	"rainbow-soft": [{"index":0,"rgb":[125,0,179]},{"index":0.1,"rgb":[199,0,180]},{"index":0.2,"rgb":[255,0,121]},{"index":0.3,"rgb":[255,108,0]},{"index":0.4,"rgb":[222,194,0]},{"index":0.5,"rgb":[150,255,0]},{"index":0.6,"rgb":[0,255,55]},{"index":0.7,"rgb":[0,246,150]},{"index":0.8,"rgb":[50,167,222]},{"index":0.9,"rgb":[103,51,235]},{"index":1,"rgb":[124,0,186]}],

	"bathymetry": [{"index":0,"rgb":[40,26,44]},{"index":0.13,"rgb":[59,49,90]},{"index":0.25,"rgb":[64,76,139]},{"index":0.38,"rgb":[63,110,151]},{"index":0.5,"rgb":[72,142,158]},{"index":0.63,"rgb":[85,174,163]},{"index":0.75,"rgb":[120,206,163]},{"index":0.88,"rgb":[187,230,172]},{"index":1,"rgb":[253,254,204]}],

	"cdom": [{"index":0,"rgb":[47,15,62]},{"index":0.13,"rgb":[87,23,86]},{"index":0.25,"rgb":[130,28,99]},{"index":0.38,"rgb":[171,41,96]},{"index":0.5,"rgb":[206,67,86]},{"index":0.63,"rgb":[230,106,84]},{"index":0.75,"rgb":[242,149,103]},{"index":0.88,"rgb":[249,193,135]},{"index":1,"rgb":[254,237,176]}],

	"chlorophyll": [{"index":0,"rgb":[18,36,20]},{"index":0.13,"rgb":[25,63,41]},{"index":0.25,"rgb":[24,91,59]},{"index":0.38,"rgb":[13,119,72]},{"index":0.5,"rgb":[18,148,80]},{"index":0.63,"rgb":[80,173,89]},{"index":0.75,"rgb":[132,196,122]},{"index":0.88,"rgb":[175,221,162]},{"index":1,"rgb":[215,249,208]}],

	"density": [{"index":0,"rgb":[54,14,36]},{"index":0.13,"rgb":[89,23,80]},{"index":0.25,"rgb":[110,45,132]},{"index":0.38,"rgb":[120,77,178]},{"index":0.5,"rgb":[120,113,213]},{"index":0.63,"rgb":[115,151,228]},{"index":0.75,"rgb":[134,185,227]},{"index":0.88,"rgb":[177,214,227]},{"index":1,"rgb":[230,241,241]}],

	"freesurface-blue": [{"index":0,"rgb":[30,4,110]},{"index":0.13,"rgb":[47,14,176]},{"index":0.25,"rgb":[41,45,236]},{"index":0.38,"rgb":[25,99,212]},{"index":0.5,"rgb":[68,131,200]},{"index":0.63,"rgb":[114,156,197]},{"index":0.75,"rgb":[157,181,203]},{"index":0.88,"rgb":[200,208,216]},{"index":1,"rgb":[241,237,236]}],

	"freesurface-red": [{"index":0,"rgb":[60,9,18]},{"index":0.13,"rgb":[100,17,27]},{"index":0.25,"rgb":[142,20,29]},{"index":0.38,"rgb":[177,43,27]},{"index":0.5,"rgb":[192,87,63]},{"index":0.63,"rgb":[205,125,105]},{"index":0.75,"rgb":[216,162,148]},{"index":0.88,"rgb":[227,199,193]},{"index":1,"rgb":[241,237,236]}],

	"oxygen": [{"index":0,"rgb":[64,5,5]},{"index":0.13,"rgb":[106,6,15]},{"index":0.25,"rgb":[144,26,7]},{"index":0.38,"rgb":[168,64,3]},{"index":0.5,"rgb":[188,100,4]},{"index":0.63,"rgb":[206,136,11]},{"index":0.75,"rgb":[220,174,25]},{"index":0.88,"rgb":[231,215,44]},{"index":1,"rgb":[248,254,105]}],

	"par": [{"index":0,"rgb":[51,20,24]},{"index":0.13,"rgb":[90,32,35]},{"index":0.25,"rgb":[129,44,34]},{"index":0.38,"rgb":[159,68,25]},{"index":0.5,"rgb":[182,99,19]},{"index":0.63,"rgb":[199,134,22]},{"index":0.75,"rgb":[212,171,35]},{"index":0.88,"rgb":[221,210,54]},{"index":1,"rgb":[225,253,75]}],

	"phase": [{"index":0,"rgb":[145,105,18]},{"index":0.13,"rgb":[184,71,38]},{"index":0.25,"rgb":[186,58,115]},{"index":0.38,"rgb":[160,71,185]},{"index":0.5,"rgb":[110,97,218]},{"index":0.63,"rgb":[50,123,164]},{"index":0.75,"rgb":[31,131,110]},{"index":0.88,"rgb":[77,129,34]},{"index":1,"rgb":[145,105,18]}],

	"salinity": [{"index":0,"rgb":[42,24,108]},{"index":0.13,"rgb":[33,50,162]},{"index":0.25,"rgb":[15,90,145]},{"index":0.38,"rgb":[40,118,137]},{"index":0.5,"rgb":[59,146,135]},{"index":0.63,"rgb":[79,175,126]},{"index":0.75,"rgb":[120,203,104]},{"index":0.88,"rgb":[193,221,100]},{"index":1,"rgb":[253,239,154]}],

	"temperature": [{"index":0,"rgb":[4,35,51]},{"index":0.13,"rgb":[23,51,122]},{"index":0.25,"rgb":[85,59,157]},{"index":0.38,"rgb":[129,79,143]},{"index":0.5,"rgb":[175,95,130]},{"index":0.63,"rgb":[222,112,101]},{"index":0.75,"rgb":[249,146,66]},{"index":0.88,"rgb":[249,196,65]},{"index":1,"rgb":[232,250,91]}],

	"turbidity": [{"index":0,"rgb":[34,31,27]},{"index":0.13,"rgb":[65,50,41]},{"index":0.25,"rgb":[98,69,52]},{"index":0.38,"rgb":[131,89,57]},{"index":0.5,"rgb":[161,112,59]},{"index":0.63,"rgb":[185,140,66]},{"index":0.75,"rgb":[202,174,88]},{"index":0.88,"rgb":[216,209,126]},{"index":1,"rgb":[233,246,171]}],

	"velocity-blue": [{"index":0,"rgb":[17,32,64]},{"index":0.13,"rgb":[35,52,116]},{"index":0.25,"rgb":[29,81,156]},{"index":0.38,"rgb":[31,113,162]},{"index":0.5,"rgb":[50,144,169]},{"index":0.63,"rgb":[87,173,176]},{"index":0.75,"rgb":[149,196,189]},{"index":0.88,"rgb":[203,221,211]},{"index":1,"rgb":[254,251,230]}],

	"velocity-green": [{"index":0,"rgb":[23,35,19]},{"index":0.13,"rgb":[24,64,38]},{"index":0.25,"rgb":[11,95,45]},{"index":0.38,"rgb":[39,123,35]},{"index":0.5,"rgb":[95,146,12]},{"index":0.63,"rgb":[152,165,18]},{"index":0.75,"rgb":[201,186,69]},{"index":0.88,"rgb":[233,216,137]},{"index":1,"rgb":[255,253,205]}],

	"cubehelix": [{"index":0,"rgb":[0,0,0]},{"index":0.07,"rgb":[22,5,59]},{"index":0.13,"rgb":[60,4,105]},{"index":0.2,"rgb":[109,1,135]},{"index":0.27,"rgb":[161,0,147]},{"index":0.33,"rgb":[210,2,142]},{"index":0.4,"rgb":[251,11,123]},{"index":0.47,"rgb":[255,29,97]},{"index":0.53,"rgb":[255,54,69]},{"index":0.6,"rgb":[255,85,46]},{"index":0.67,"rgb":[255,120,34]},{"index":0.73,"rgb":[255,157,37]},{"index":0.8,"rgb":[241,191,57]},{"index":0.87,"rgb":[224,220,93]},{"index":0.93,"rgb":[218,241,142]},{"index":1,"rgb":[227,253,198]}]
};

},{}],"node_modules/lerp/index.js":[function(require,module,exports) {
function lerp(v0, v1, t) {
    return v0*(1-t)+v1*t
}
module.exports = lerp
},{}],"node_modules/colormap/index.js":[function(require,module,exports) {
/*
 * Ben Postlethwaite
 * January 2013
 * License MIT
 */
'use strict';

var colorScale = require('./colorScale');
var lerp = require('lerp')

module.exports = createColormap;

function createColormap (spec) {
    /*
     * Default Options
     */
    var indicies, fromrgba, torgba,
        nsteps, cmap, colormap, format,
        nshades, colors, alpha, i;

    if ( !spec ) spec = {};

    nshades = (spec.nshades || 72) - 1;
    format = spec.format || 'hex';

    colormap = spec.colormap;
    if (!colormap) colormap = 'jet';

    if (typeof colormap === 'string') {
        colormap = colormap.toLowerCase();

        if (!colorScale[colormap]) {
            throw Error(colormap + ' not a supported colorscale');
        }

        cmap = colorScale[colormap];

    } else if (Array.isArray(colormap)) {
        cmap = colormap.slice();

    } else {
        throw Error('unsupported colormap option', colormap);
    }

    if (cmap.length > nshades + 1) {
        throw new Error(
            colormap+' map requires nshades to be at least size '+cmap.length
        );
    }

    if (!Array.isArray(spec.alpha)) {

        if (typeof spec.alpha === 'number') {
            alpha = [spec.alpha, spec.alpha];

        } else {
            alpha = [1, 1];
        }

    } else if (spec.alpha.length !== 2) {
        alpha = [1, 1];

    } else {
        alpha = spec.alpha.slice();
    }

    // map index points from 0..1 to 0..n-1
    indicies = cmap.map(function(c) {
        return Math.round(c.index * nshades);
    });

    // Add alpha channel to the map
    alpha[0] = Math.min(Math.max(alpha[0], 0), 1);
    alpha[1] = Math.min(Math.max(alpha[1], 0), 1);

    var steps = cmap.map(function(c, i) {
        var index = cmap[i].index

        var rgba = cmap[i].rgb.slice();

        // if user supplies their own map use it
        if (rgba.length === 4 && rgba[3] >= 0 && rgba[3] <= 1) {
            return rgba
        }
        rgba[3] = alpha[0] + (alpha[1] - alpha[0])*index;

        return rgba
    })


    /*
     * map increasing linear values between indicies to
     * linear steps in colorvalues
     */
    var colors = []
    for (i = 0; i < indicies.length-1; ++i) {
        nsteps = indicies[i+1] - indicies[i];
        fromrgba = steps[i];
        torgba = steps[i+1];

        for (var j = 0; j < nsteps; j++) {
            var amt = j / nsteps
            colors.push([
                Math.round(lerp(fromrgba[0], torgba[0], amt)),
                Math.round(lerp(fromrgba[1], torgba[1], amt)),
                Math.round(lerp(fromrgba[2], torgba[2], amt)),
                lerp(fromrgba[3], torgba[3], amt)
            ])
        }
    }

    //add 1 step as last value
    colors.push(cmap[cmap.length - 1].rgb.concat(alpha[1]))

    if (format === 'hex') colors = colors.map( rgb2hex );
    else if (format === 'rgbaString') colors = colors.map( rgbaStr );
    else if (format === 'float') colors = colors.map( rgb2float );

    return colors;
};

function rgb2float (rgba) {
    return [
        rgba[0] / 255,
        rgba[1] / 255,
        rgba[2] / 255,
        rgba[3]
    ]
}

function rgb2hex (rgba) {
    var dig, hex = '#';
    for (var i = 0; i < 3; ++i) {
        dig = rgba[i];
        dig = dig.toString(16);
        hex += ('00' + dig).substr( dig.length );
    }
    return hex;
}

function rgbaStr (rgba) {
    return 'rgba(' + rgba.join(',') + ')';
}

},{"./colorScale":"node_modules/colormap/colorScale.js","lerp":"node_modules/lerp/index.js"}],"node_modules/parcel-bundler/src/builtins/_empty.js":[function(require,module,exports) {

},{}],"js/spheres.js":[function(require,module,exports) {
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Spheres = void 0;

var _three = require("three");

var _colormap = _interopRequireDefault(require("colormap"));

var fs = _interopRequireWildcard(require("fs"));

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function spherical2cart(r, theta, phi) {
  var x = r * Math.sin(theta) * Math.cos(phi);
  var y = r * Math.sin(theta) * Math.sin(phi);
  var z = r * Math.cos(theta);
  var pos = [x, y, z];
  return pos;
}

var fragmentShader = "\nvarying vec3 vColor;\n\n  void main(){\n    vec3 color = vColor;\n    gl_FragColor = vec4(color, 1.);\n  }\n";
var vertexShader = "\n#define PI 3.14159265359\nuniform float uScale;\nattribute vec4 aCurve;\n\nattribute vec3 aColor;\nvarying vec3 vColor;\n  vec3 getCurvePosition(float progress, float radius, float offset){\n\n    vec3 pos = vec3(0.);\n\n    pos.x += progress; //cos(progress *PI *8.) * radius ;\n    pos.y += radius; //sin(progress *PI *8. ) * radius + sin(progress * PI *2.) * 30.;\n\n    pos.z += offset; //progress *200. - 200./2. + offset;\n    return pos;\n  }\n  void main(){\n    vec3 transformed = position.xyz;\n\n    // 2. Extract values from attribute\n    //float aSpeed = aCurve.w;\n    float aRadius = aCurve.x;\n    float aZOffset = aCurve.z;\n    float aProgress = aCurve.y;\n\n    // 3. Get position and add it to the final position\n    vec3 curvePosition = getCurvePosition(aProgress, aRadius, aZOffset);\n    //transformed *= aProgress; //1.- abs(aProgress - 0.5) *2.;\n    transformed *= 0.25;\n    transformed += curvePosition;\n\n    gl_Position = projectionMatrix* modelViewMatrix * vec4(transformed, 1.);\n\n    vColor = aColor;\n  }\n"; // path to files like true_logdust, predicted_logdust, predicted_A -> single column
// create a mapper that maps true, logdust to a certain array

var logdust = "-1.2996219541378906\n-1.0573689035056262\n-0.7574756495668638\n-0.5015856689758564\n-0.38220301927005806\n-0.4364255544038116\n-0.6307600049189794\n-0.8833875653345515\n-1.1048869648128345\n-1.2301123175195485\n-1.2282113321342933\n-1.0986413453266834\n-0.8673225234315893\n-0.5850656805376495\n-0.31861294276995267\n-0.1291993727350409\n-0.047941658659567565\n-0.06325947926433173\n-0.12709243174465357\n-0.17500445311526036\n-0.15091473049520232\n-1.3164936097295694\n-1.102066519098308\n-0.808986689330311\n-0.5404308071289279\n-0.3995423649674166\n-0.4352887238076235\n-0.6213616926441254\n-0.8774965133637025\n-1.1123162190920652\n-1.257603781670067\n-1.279985586317121\n-1.1778462128880278\n-0.9766228996562525\n-0.7241675765572282\n-0.4788746215949615\n-0.2894600490004713\n-0.1768273755745433\n-0.12906784316223607\n-0.11020159207825131\n-0.07557618591894766\n0.011912965622101979\n-1.2763757083213108\n-1.1108880051557435\n-0.8424751541047755\n-0.5742392505269365\n-0.4196018499123646\n-0.44062788487936544\n-0.6203406083827545\n-0.8817511258820439\n-1.1322408899478305\n-1.3010385984118358\n-1.3537411109864017\n-1.2897418478884575\n-1.1343022609619737\n-0.9284488466297205\n-0.7145109168136301\n-0.5209224414365927\n-0.35554406383450754\n-0.21098565732111751\n-0.07461838049052005\n0.06526288311490802\n0.21728490188744942\n-1.1664742277653346\n-1.0611733662875267\n-0.8297859890420085\n-0.5761296123561621\n-0.42330677813603756\n-0.445656786007973\n-0.6349894344369069\n-0.9168925150844451\n-1.1962774882993976\n-1.3985978286651317\n-1.488043704393693\n-1.4653194548479895\n-1.3553264834510692\n-1.190944905364347\n-0.9970644377487439\n-0.7824533254526429\n-0.5455685129087975\n-0.2891409940632421\n-0.029094034662648482\n0.2107856587568122\n0.4118443076663425\n-0.9987002836181773\n-0.9551227108998717\n-0.7661872159066867\n-0.5381658263678375\n-0.4027444517359626\n-0.444525124578675\n-0.6626880421351977\n-0.9842657110836761\n-1.3098027578880291\n-1.558021637803538\n-1.6884224540634065\n-1.7005063720458473\n-1.6182046765238844\n-1.4688014353179888\n-1.2662108613394842\n-1.0087635687047047\n-0.6939367957787681\n-0.3379072833078034\n0.018772788471594026\n0.3264721042712786\n0.5504533938261353\n-0.8006130606453041\n-0.8153663031519827\n-0.670419487360018\n-0.4747626014165718\n-0.3661238455027487\n-0.4369034453653917\n-0.6931740551517862\n-1.06418580360641\n-1.445791245629291\n-1.7469590102226213\n-1.9173570730166425\n-1.9505535912933034\n-1.8685199769941931\n-1.6982695526053817\n-1.4543034340404049\n-1.1383870376628238\n-0.7565310884277103\n-0.33778776526822796\n0.0642970813155408\n0.39214703960024266\n0.6112175743721231\n-0.6028002997234019\n-0.6720668123303248\n-0.5723383679664948\n-0.41253835356152635\n-0.33176796734371905\n-0.42726604055315676\n-0.7129053379791266\n-1.123805531463919\n-1.5541204763922494\n-1.9025574951053628\n-2.10485371283308\n-2.1438331570016054\n-2.0382234604697445\n-1.819991110567944\n-1.5153611040985417\n-1.1417882197266067\n-0.7202769505023703\n-0.2884194978419252\n0.10192847504972136\n0.4041403770127836\n0.5984132202024881\n-0.4341303431961734\n-0.5544534642823891\n-0.5013787277037416\n-0.3782914672798263\n-0.31920016872954804\n-0.42246643837284026\n-0.7110696449623823\n-1.1315341616282595\n-1.5827722074307253\n-1.9570863387169695\n-2.1761803263012425\n-2.20970981988442\n-2.071776481145559\n-1.8015461281255511\n-1.442521172712734\n-1.0332355681875143\n-0.6103104362422158\n-0.21312099779498972\n0.12078734769290378\n0.36887564012309504\n0.5335063213311901\n-0.32278581336560563\n-0.488806083359961\n-0.48155709615575404\n-0.392576299291445\n-0.3439472561060768\n-0.43085684314842254\n-0.6857899478328733\n-1.0720070945944862\n-1.5014758832346686\n-1.8681186843040045\n-2.0846038288325452\n-2.108656844469831\n-1.9484913824483812\n-1.648475987337715\n-1.2672572780657685\n-0.8613412376009943\n-0.47775695384803996\n-0.1504428459452054\n0.10461459417713037\n0.2931879170535634\n0.43865620499590463\n-0.2931118889372186\n-0.4955817595166927\n-0.5287558672421184\n-0.46709875452273764\n-0.4152810607630748\n-0.46128803615287595\n-0.6461154330901806\n-0.9530912733413359\n-1.3149179182290602\n-1.6370459036693639\n-1.8317013269572513\n-1.8489280690444225\n-1.6899987488193169\n-1.399047159534474\n-1.0417447461237028\n-0.6835057456123934\n-0.37355854410777134\n-0.1349736045898844\n0.03896989844756682\n0.17887297355789933\n0.3223167074032922\n-0.35445806861304163\n-0.5808449300022822\n-0.6447437134905663\n-0.6004107588710248\n-0.5320592242826621\n-0.5177442086099369\n-0.6051295965382302\n-0.7983630579064283\n-1.055866496375078\n-1.303236164445842\n-1.4611998714484074\n-1.4773300181173408\n-1.3451077056064538\n-1.101866487685303\n-0.8103658411308583\n-0.534846153564283\n-0.31967765939497816\n-0.17521336312953117\n-0.07562576619196903\n0.027411483200793896\n0.17838375022990505\n-0.4898745915452807\n-0.7266811665597146\n-0.8094729240619145\n-0.7713894246004322\n-0.6757313891538423\n-0.5897500757382836\n-0.5659489512671918\n-0.6278851004773323\n-0.7610280489634533\n-0.9159344496191828\n-1.028069773157247\n-1.046698662893185\n-0.9571006182627091\n-0.7847963423997335\n-0.5821859373294505\n-0.4056869424714673\n-0.29187516444387107\n-0.24039466800995335\n-0.21207670687408964\n-0.14724229681063505\n0.0018727092420185443\n-0.6560945092132613\n-0.890386374768017\n-0.9796293592347993\n-0.9371367891096405\n-0.8070390525187427\n-0.6464938799268651\n-0.5113120765221986\n-0.4414226749612915\n-0.44706140689326546\n-0.5039295308065519\n-0.5645368784814924\n-0.5823107478157095\n-0.5350784072889532\n-0.4350567543150934\n-0.3217320262399319\n-0.24216748871954685\n-0.22636620120645468\n-0.2673614236050721\n-0.3177386554072257\n-0.3096422990475478\n-0.19114686817895965\n-0.7984823792873748\n-1.017604365300187\n-1.1000540645303118\n-1.0430251746494221\n-0.8749763710501135\n-0.6444586265708381\n-0.408794626304271\n-0.21968725938355504\n-0.10684697235208418\n-0.067489374977443\n-0.07040586210240463\n-0.07488158909749743\n-0.05405020068843491\n-0.00944461481046055\n0.030200467742602655\n0.024953768051407366\n-0.05146202335038019\n-0.18870638450496102\n-0.33350739464414403\n-0.4098427200824073\n-0.3585501634520405\n-0.8736138281619148\n-1.0648343523412578\n-1.126285138069818\n-1.0452315862330472\n-0.8392999474170644\n-0.5499032003781856\n-0.2331046084531927\n0.05383499639407319\n0.2691600916215986\n0.3999494424910264\n0.46317406919215465\n0.49154226165942383\n0.5115731028787245\n0.5265704405100742\n0.5135954287933746\n0.43657939065074736\n0.2714328643838222\n0.031705355498010235\n-0.22268610573962633\n-0.40608344260667906\n-0.44998198327251515\n-0.8673917896209993\n-1.0200408882562364\n-1.0477789998496085\n-0.9357473649344428\n-0.6962753307853582\n-0.3647371231886325\n0.007737507577168401\n0.36551812927444516\n0.6631040118098905\n0.8783225106592312\n1.0160875103129836\n1.0983115757398263\n1.1448252270302728\n1.1565153456967856\n1.1106394096991163\n0.9726038891924187\n0.7214358199576658\n0.37680002079751773\n0.008031319326194719\n-0.2885093128013896\n-0.43555380963557866\n-0.8000981421340683\n-0.9103421645664049\n-0.8982075313816864\n-0.7542139917818496\n-0.49060525016379586\n-0.13762439327614118\n0.2619544834432972\n0.6606207337814602\n1.0166852259189234\n1.3048504705551398\n1.5203751358724507\n1.6721585901944582\n1.7676102846969446\n1.798524275682576\n1.7375062225163376\n1.5502012403717416\n1.2211031382016255\n0.7799530290126313\n0.30816233632408085\n-0.08767629283652312\n-0.32448635720548147\n-0.7167895147226631\n-0.7914150285362247\n-0.74368534052239\n-0.5746818320055063\n-0.3005453940445335\n0.052386995447427864\n0.45134401957992765\n0.8609233840431312\n1.2487002902057949\n1.591629338897743\n1.8786031444148588\n2.1053285796756906\n2.263428814296523\n2.330952982292928\n2.272362959116334\n2.0528588563292125\n1.6643576992836309\n1.1492782642619304\n0.6018108093470289\n0.13644316327011374\n-0.16203595498493328\n-0.6673548018944295\n-0.721737491375368\n-0.6510258869131889\n-0.4690115504119845\n-0.19843528197595361\n0.13618867027047088\n0.5112340959337907\n0.9043534336418126\n1.2954724837818237\n1.6683821549722335\n2.0099259436581676\n2.3048175406909124\n2.5284034607543795\n2.6429201189055433\n2.602918645478404\n2.3728316365342383\n1.9527069671307231\n1.3977336112972623\n0.8129020688648012\n0.31658778053393277\n-0.009073988837666747\n-0.6844464015917033\n-0.7336299493154002\n-0.651961198330266\n-0.4661628734962875\n-0.20790299857231886\n0.09692426422471812\n0.431116039948396\n0.784434555491961\n1.1507800635498935\n1.524631707984101\n1.8953364408428506\n2.2400809926554075\n2.519537911738672\n2.680522792684487\n2.668043789529566\n2.44645923596884\n2.0240071410627287\n1.4667869085323506\n0.8864795588936403\n0.4001630108369163\n0.08286871205167401\n-0.7688089640744451\n-0.8169847407925772\n-0.725652699711862\n-0.5344896481135706\n-0.2869557326135208\n-0.014328468295182972\n0.26937511848226947\n0.5648220216139297\n0.8810023273208287\n1.225951422367519\n1.5950888833428252\n1.9613482020526938\n2.273412485804551\n2.4652436007717355\n2.4751478771727164\n2.269883819683198\n1.8664428351956008\n1.3393431624120602\n0.8019660845959713\n0.3644713155008006\n0.09024807854934203\n-1.5607773202763369\n-1.3753962445415127\n-1.0965889023657382\n-0.8354682791859886\n-0.6998668848398069\n-0.7410938614530167\n-0.9339131273537582\n-1.1977290299531447\n-1.4391929790130007\n-1.586931118570984\n-1.603662649008509\n-1.4830952546971616\n-1.246009485200478\n-0.9385104974407241\n-0.6240099161403734\n-0.36452873254893703\n-0.19931082526546717\n-0.13287146124489269\n-0.13692372573157385\n-0.1623611296134584\n-0.15625974983946378\n-1.670780554760377\n-1.4970721162848406\n-1.2118675142882793\n-0.9283392661641656\n-0.7650761251043363\n-0.7856588880954476\n-0.9719747692648575\n-1.2429631241540626\n-1.4990694519407555\n-1.6612441158583842\n-1.6876308572545504\n-1.5729759121373803\n-1.3430266233760229\n-1.0471405056449221\n-0.7447946551923472\n-0.4868223349590153\n-0.3004954903272221\n-0.18571953866908686\n-0.12037914366105085\n-0.06919363490335684\n0.005369983618386698\n-1.7501376123414687\n-1.6044521719216362\n-1.3251037822097267\n-1.02597169520266\n-0.8360204290108015\n-0.832330827759062\n-1.0064714030549524\n-1.2796833494089945\n-1.5483162045467722\n-1.7272952698933786\n-1.7720743898249438\n-1.6802010491262038\n-1.481957131438147\n-1.2251362274997604\n-0.9563720370778128\n-0.7059622533348744\n-0.4844995736857136\n-0.2904651836515839\n-0.1184118069792035\n0.039482698675808336\n0.19431090170028398\n-1.7655159943409018\n-1.6577588822175287\n-1.395582645826618\n-1.094130797525306\n-0.8915989827871869\n-0.8770527963245591\n-1.050920071713481\n-1.3366690626312092\n-1.6268213096181903\n-1.8308129680519976\n-1.9022329797534887\n-1.8419150313329276\n-1.6837127112028583\n-1.4711184336296697\n-1.2347697261422717\n-0.9831633805596383\n-0.712259580365977\n-0.4240019823482051\n-0.1353881040222369\n0.1296216503643315\n0.3547174970532154\n-1.7017877002749842\n-1.6367754282442988\n-1.4013161487075436\n-1.112813311703114\n-0.9165858885419169\n-0.9105988258432376\n-1.1021146893666725\n-1.416218162598387\n-1.7414813992450462\n-1.9811880187548354\n-2.0854456790733735\n-2.0560679245515807\n-1.9285378481425361\n-1.7423443147948383\n-1.5162783117887777\n-1.2446240334682166\n-0.9166344138056282\n-0.541909877534831\n-0.1581303007411634\n0.1857936648771954\n0.4550448598503536\n-1.5626294421371654\n-1.5442050400731517\n-1.344685388358915\n-1.0830635411378502\n-0.908229915713413\n-0.9235865104379712\n-1.1422815871628558\n-1.4924766990217648\n-1.8603884006758165\n-2.142519412125111\n-2.2818903756443696\n-2.2762463061218874\n-2.1595778221036745\n-1.9697516300931497\n-1.722908094440026\n-1.4121845964106612\n-1.0306629723251817\n-0.5975259345349322\n-0.16276579659398394\n0.21457558644684838\n0.4956607131686468\n-1.3656830980181276\n-1.3985933498830967\n-1.2444446357602033\n-1.0204328593743135\n-0.8738258780468371\n-0.909985263999161\n-1.1486950728079073\n-1.525508517780498\n-1.9288311225066046\n-2.249601529667366\n-2.420430451148448\n-2.429239412102053\n-2.3047878011569622\n-2.0857889763653397\n-1.7952562546497646\n-1.4378247901019883\n-1.0191218424298185\n-0.5668828700811588\n-0.13201995960421264\n0.23283236872559954\n0.49866156384558913\n-1.140529303657317\n-1.2277199599628723\n-1.1259797804733616\n-0.9453982229630356\n-0.8253889229491485\n-0.8695963108920495\n-1.1057215043522923\n-1.482408358729316\n-1.8971182327824323\n-2.239414835286304\n-2.4311155675236478\n-2.4467129070382256\n-2.3066191169917687\n-2.0512589857272445\n-1.7159405590931485\n-1.3236253707658818\n-0.8956834426894318\n-0.464410706031785\n-0.07112725606968695\n0.2502010370861587\n0.4883358193851528\n-0.9276477854000902\n-1.0653988020665253\n-1.016410994472352\n-0.8783336247949585\n-0.7768126781944105\n-0.80994463117446\n-1.0135878648004315\n-1.3540616905719673\n-1.7450156945123467\n-2.081317055299259\n-2.277764463251682\n-2.2958369853762264\n-2.1462130934341896\n-1.8697734520276406\n-1.5135396928459866\n-1.1176514720663029\n-0.7157750943457195\n-0.3386143891013784\n-0.010742961962646902\n0.2575411714778628\n0.47299247438607495\n-0.7705653888073378\n-0.9462471053918442\n-0.9414929454364263\n-0.8377024886116935\n-0.742567715232056\n-0.7453190698354177\n-0.8886668795737904\n-1.1584016034044318\n-1.4895539920139207\n-1.78957601656764\n-1.9730683489113048\n-1.9925922670262022\n-1.849606544328278\n-1.58270450315033\n-1.245276899173927\n-0.8874223095684481\n-0.5472411362190446\n-0.24731225763611064\n0.0076414762292138505\n0.22956973758356725\n0.437901605513467\n-0.6994662179749902\n-0.8942840189149628\n-0.9185460957284945\n-0.8354426201258356\n-0.732921001413132\n-0.6895111463958976\n-0.7527805172559923\n-0.9271130836515873\n-1.1710515451341372\n-1.4102235855782617\n-1.5661307301688812\n-1.5879311310626694\n-1.469453205450085\n-1.2440092666644667\n-0.9645749752468102\n-0.6824910573585186\n-0.43230220438394795\n-0.22386709678338335\n-0.0423154715389078\n0.14207295332950665\n0.3551177721384011\n-0.7150950079574798\n-0.9095762867118751\n-0.9456207682460942\n-0.8676082106151419\n-0.7441315053803557\n-0.6431845394219735\n-0.6157891346703721\n-0.6826734595712338\n-0.8251709505497864\n-0.9894738336739675\n-1.1086560430114059\n-1.1328427250651902\n-1.049913359257351\n-0.8859544934347596\n-0.6886919721396918\n-0.5049052350773131\n-0.3611854289739931\n-0.2534840088720465\n-0.14952913678965452\n-0.005773049362849392\n0.20674490594266892\n-0.7848117820965719\n-0.962703882599957\n-0.9946975919233658\n-0.9068754210500032\n-0.750441053672052\n-0.584626078793832\n-0.46354058194551584\n-0.42171055628026366\n-0.4605039699550719\n-0.5457077240948678\n-0.6231657428769228\n-0.6461242359469157\n-0.5980311965855147\n-0.4978097412250726\n-0.38683300944429\n-0.3061929571820716\n-0.27461254819790426\n-0.2758571799117675\n-0.26274372487656983\n-0.17942660637002383\n0.006999221613043005\n-0.8551944140825967\n-1.0038938673885234\n-1.0179391545495733\n-0.9072529222486025\n-0.7087502045551304\n-0.475256473765306\n-0.263807023567054\n-0.11981990889081828\n-0.060519431562241266\n-0.06788223653364334\n-0.09918321018191989\n-0.11155210091520473\n-0.08604540544675032\n-0.036799480508051374\n-0.0011012507119989579\n-0.01662803303297089\n-0.09674333699857307\n-0.21549980342923192\n-0.3123175525352906\n-0.31856031378708316\n-0.19450443805960127\n-0.87497227894427\n-0.9848075057484955\n-0.9687908673073125\n-0.8250833101669848\n-0.5803388046887648\n-0.28289489390510525\n0.008488173148453626\n0.2415184706786775\n0.38845108959463737\n0.45570596623316106\n0.47670542995275333\n0.4894939225747965\n0.5120945772322241\n0.5308767312794469\n0.5086668509591803\n0.4081788325132383\n0.2194202306966524\n-0.02302060908677639\n-0.24533154816852587\n-0.36523658232247236\n-0.3342336184671435\n-0.8170877191210515\n-0.8831238075773484\n-0.8291522063581951\n-0.6478641448791151\n-0.3602356102608333\n-0.011175784067351202\n0.3414626073731455\n0.6437472200322638\n0.8634683599010735\n1.0002565332267093\n1.0800580751375861\n1.1343394217426592\n1.1757955728692355\n1.1861374467191244\n1.1242542591158777\n0.9513094390427828\n0.6606822778205768\n0.2964881539343658\n-0.053690378662320626\n-0.29426076312314997\n-0.3685155691069397\n-0.6909236913721379\n-0.7177124130932384\n-0.6271438044698776\n-0.4129037615001252\n-0.09465475729038175\n0.2856252480436794\n0.6740555562109378\n1.02030339453243\n1.2934410385866002\n1.4907820452090252\n1.6324237455185902\n1.7414772651694896\n1.8210364256897584\n1.8434223477001748\n1.7604052786734563\n1.530960950505019\n1.153208618479555\n0.682393056594627\n0.21987748182015743\n-0.1274981906176098\n-0.29754251313263325\n-0.5404360201497163\n-0.5452549160063178\n-0.43174384960691725\n-0.19916598814127795\n0.13073102672585435\n0.5182398981089342\n0.9153257418469529\n1.2787959917569722\n1.58326787398323\n1.827526251401551\n2.0277420221518554\n2.1979498815988947\n2.3288711425850828\n2.3803090601539587\n2.2951665013928118\n2.0304866194865347\n1.5904753529950924\n1.0421015483126883\n0.49886847920001287\n0.07523163023868484\n-0.16472501363705838\n-0.4274633572240383\n-0.4364089315865165\n-0.32162312448551944\n-0.08991480315367895\n0.23240740063504717\n0.6063645294137423\n0.9895868047097931\n1.3472475170726206\n1.6619648902078712\n1.9368973015619773\n2.1863574080369954\n2.4156737448557575\n2.6022687354937784\n2.6925785737514936\n2.6209929212132295\n2.34397791112983\n1.8727335801595277\n1.2847796276785868\n0.7020874510310584\n0.24187810357009454\n-0.033568162413038394\n-0.40398060913399547\n-0.4402480060351692\n-0.34217103291502937\n-0.12466061080056434\n0.17888764055840767\n0.5274832291217919\n0.8827510725100609\n1.2182384449396775\n1.5260517676436702\n1.8157190098197802\n2.101033032009319\n2.3789385113881902\n2.6137635751555077\n2.740059523024579\n2.6868327851007\n2.413346038477899\n1.9390645109439504\n1.349776476760585\n0.7707399783013962\n0.3161962175740083\n0.042669818327484066\n-0.4839427112538246\n-0.5551133122294729\n-0.47620670649510544\n-0.27124039879045014\n0.015832504141076953\n0.338402214033664\n0.6602446510093944\n0.9636229155725928\n1.2516310752287865\n1.5412700493061386\n1.845705478611352\n2.1528632180741045\n2.41465385714654\n2.5572518887925053\n2.5102210368978515\n2.241416446544992\n1.7810692795307137\n1.2210402134323193\n0.6842849210915887\n0.2759227377119\n0.04217407109766924\n-1.7275196646317994\n-1.5826635044421664\n-1.3166334712556846\n-1.0496534224611693\n-0.9013880917740629\n-0.9331322855481581\n-1.1258532416322637\n-1.4015322459938027\n-1.6665178437155745\n-1.846857786361781\n-1.9010592238818838\n-1.8176908454302705\n-1.6114643243598579\n-1.3206487494862245\n-0.9993292767629569\n-0.7022811347464675\n-0.46952331124381175\n-0.31809405878391317\n-0.24123975409280263\n-0.2115135344931538\n-0.18778236843163043\n-1.8985999226797574\n-1.7505238100615514\n-1.4681853573665542\n-1.17358517261221\n-0.9964152931663364\n-1.0101194169879584\n-1.202593147890731\n-1.4933433258892386\n-1.7781134539622983\n-1.9703013848071045\n-2.021356253985367\n-1.9227568800168413\n-1.6996221040833994\n-1.3998595247641532\n-1.078378477346405\n-0.7806537238236757\n-0.5337296007322614\n-0.3465747926393945\n-0.2133545670945196\n-0.11467836771766216\n-0.020673304251339175\n-2.0769313129463\n-1.9353183727225876\n-1.641394076446268\n-1.3178465164415414\n-1.1040735830424957\n-1.0870303314910288\n-1.2646281035065563\n-1.5577439756304479\n-1.854957384968042\n-2.0596892897119368\n-2.1185186767373487\n-2.0271718781273265\n-1.8199783938627263\n-1.5488944965142508\n-1.2599091430711375\n-0.9786170215569854\n-0.7125623537619177\n-0.4638360507953685\n-0.2366327226705529\n-0.0331651675911786\n0.15287941127274252\n-2.2116975916597568\n-2.0837977463655655\n-1.7871008651715883\n-1.4450751783044602\n-1.2049036317267614\n-1.1648203531778734\n-1.3318723150622773\n-1.6292852485918345\n-1.940754562058629\n-2.162419011525941\n-2.2381522560622322\n-2.168501119117842\n-1.995078679744406\n-1.769627915556864\n-1.5242850298750916\n-1.261525960370605\n-0.9694738716683986\n-0.6468473365222636\n-0.3135859302720654\n0.0006706105037714849\n0.27531005844477363\n-2.2576872052964525\n-2.1515454392089026\n-1.8655701484195681\n-1.5237677818790267\n-1.277517889093538\n-1.2319906049492815\n-1.4010178834646005\n-1.7107734593528612\n-2.0425555549848973\n-2.287525453745385\n-2.387189424703994\n-2.344722501807368\n-2.2055152215423988\n-2.0189156863604545\n-1.8048081826825602\n-1.5480826412651716\n-1.224227511247598\n-0.832952574884473\n-0.4098922732882926\n-0.008133595243988267\n0.3308090355577047\n-2.188893430890463\n-2.117137424182726\n-1.8602561955609858\n-1.540584797649501\n-1.3086528268109205\n-1.271930949095875\n-1.4498708113417749\n-1.7743363120352846\n-2.1284736484477307\n-2.4007649461577003\n-2.5284891261926\n-2.512076839531783\n-2.395358421481152\n-2.2246660025749634\n-2.014290286636264\n-1.7434084467126496\n-1.3858603206531352\n-0.9462391203489524\n-0.4705338149588183\n-0.023704049134607885\n0.34402836380650115\n-2.005639953768636\n-1.9845257099923472\n-1.7771098837507928\n-1.4996111763451765\n-1.295764058043975\n-1.2713610060867921\n-1.452225047695837\n-1.7811247142104278\n-2.149329961955921\n-2.4456735095437416\n-2.6006822969261307\n-2.6053946999761735\n-2.496078987435329\n-2.316017048812741\n-2.081985318964959\n-1.7804411199150731\n-1.3943688376138414\n-0.935334021821113\n-0.4515136440620431\n-0.005619181715079691\n0.35643972870457574\n-1.7370543848607944\n-1.779476374405963\n-1.6372720764406417\n-1.4152544617491642\n-1.2445751058827845\n-1.2259924168498522\n-1.3930104286246703\n-1.704911562873459\n-2.067934627093109\n-2.375381120347985\n-2.5501717209531662\n-2.5692594025253364\n-2.4568388873436344\n-2.253075319992705\n-1.982985162256913\n-1.6490064479420283\n-1.249399907237871\n-0.8017932798391083\n-0.34829051657310295\n0.062114785244618886\n0.39662562046757976\n-1.4365848301785675\n-1.5434556625647744\n-1.4703066007959755\n-1.306459577551614\n-1.166099434454285\n-1.142039586655919\n-1.2754809704878767\n-1.5454373393137573\n-1.8782421483546585\n-2.176362014221631\n-2.3573955383294187\n-2.3838792141957157\n-2.2666477501025426\n-2.0425547558782835\n-1.7462839639113916\n-1.3977495069046544\n-1.0097006929949295\n-0.6015701029855798\n-0.20282877369327146\n0.15709650905458794\n0.4606693587731385\n-1.1667383516219445\n-1.3233280241363552\n-1.3081801950247574\n-1.193392277433432\n-1.0741115407773911\n-1.0330610153900963\n-1.1172967369020697\n-1.3250422927628662\n-1.6045475811753604\n-1.871531125770904\n-2.0431856834202353\n-2.0716081199946004\n-1.9563088842010625\n-1.7306581885804793\n-1.4365288424151572\n-1.1065139944275515\n-0.7613996518119297\n-0.41601376615455443\n-0.08299974784896236\n0.22821734189559884\n0.5120098202969192\n-0.9757306898004465\n-1.1559386111918712\n-1.1764851127511626\n-1.092413044879624\n-0.9801364475978325\n-0.9116224965895263\n-0.9372471593352891\n-1.0711450495402275\n-1.282081879139481\n-1.5013380941141872\n-1.6510650998016096\n-1.678824109356981\n-1.5765696538536407\n-1.3741972130436526\n-1.116653173560902\n-0.8419429025892207\n-0.5707360450488643\n-0.3071046671757749\n-0.04487031718466561\n0.22412419518031612\n0.5009856264990269\n-0.8772321955152265\n-1.0526002675038058\n-1.0829853773839773\n-1.00715597706931\n-0.8846958106797054\n-0.7780472495872459\n-0.7394200213928208\n-0.795104861611744\n-0.9312016057208474\n-1.0945802201881492\n-1.2158277052370003\n-1.2428074547795767\n-1.1634430325801706\n-1.0045200945541044\n-0.8109058677331333\n-0.6204501625285594\n-0.44790529113466704\n-0.282864942208775\n-0.09989084463730791\n0.1244523683616503\n0.3947174568266263\n-0.8452980064526727\n-0.9926172749407165\n-1.010114879576875\n-0.92090159581576\n-0.7702925311481863\n-0.6138745264460752\n-0.5059980798080765\n-0.48259703766464135\n-0.5437032972610005\n-0.6499013706887578\n-0.7408159823498064\n-0.7668998904593298\n-0.7143662676823084\n-0.6079107705422402\n-0.49160354599090894\n-0.4012729024253723\n-0.3439344028164477\n-0.2939070699351358\n-0.20678121965972807\n-0.04444645963098992\n0.20111333588494062\n-0.8279182702940204\n-0.9320607359741118\n-0.9199014564515267\n-0.7998719778794872\n-0.6057480286697796\n-0.3892281611248407\n-0.20797933768596089\n-0.10618291277445913\n-0.09476884485899895\n-0.14509951858445724\n-0.20438338435231707\n-0.22605506014072496\n-0.19630543596214522\n-0.1397180045539539\n-0.10111746641321062\n-0.11536085897711068\n-0.18261830213408814\n-0.2627695442404647\n-0.29280440463168134\n-0.2191864856553476\n-0.02840974329357948\n-0.7716854649350395\n-0.8255656764459829\n-0.7735831481140814\n-0.6120059593675151\n-0.36599737132290144\n-0.08551061548213212\n0.16812204573249012\n0.34415202122943\n0.423854275415966\n0.428331302052225\n0.4047401646916704\n0.3964263996100179\n0.41502983431453444\n0.43303621577322104\n0.402166937415501\n0.2866854360103446\n0.09210315296596505\n-0.12779563198644617\n-0.2916570233171534\n-0.3299001119037044\n-0.22183041056332442\n-0.6456784028588807\n-0.6514482998735573\n-0.5580123972259265\n-0.353846120614584\n-0.05872862160861558\n0.27826269348674515\n0.5935245405405265\n0.8326885442968077\n0.9728494775984924\n1.0307581307107085\n1.0493874451232124\n1.0678183444881846\n1.0923836368065238\n1.0889032523962694\n1.002867230214175\n0.7964734778666127\n0.48079719165176193\n0.1232406060843676\n-0.17703878672482354\n-0.33515326091125\n-0.3232346377923516\n-0.45608526743292543\n-0.42848908509141026\n-0.3040586192710819\n-0.06853278840588928\n0.26051247857365567\n0.6348638166798768\n0.9911152546099782\n1.27490538349487\n1.462885131209287\n1.57032342074673\n1.6369965172429666\n1.6962626856565493\n1.7458596342776822\n1.7414219861248945\n1.6200542323127305\n1.341553558664808\n0.9231128139862861\n0.4456823945682391\n0.024659931256502787\n-0.24216780635627533\n-0.3212330419960976\n-0.24775025295843278\n-0.2152856820036888\n-0.08320348271907463\n0.16160511528175547\n0.501098156213839\n0.8878739114919192\n1.2606763941018535\n1.5679544829952956\n1.788756664882733\n1.9390612025270801\n2.0561983633805703\n2.1667248138551862\n2.257506927217923\n2.2719312444377717\n2.137968590916792\n1.8134764778656383\n1.3221263066782178\n0.7571588753055103\n0.24697057533650568\n-0.10160386789777576\n-0.25133467515351615\n-0.09000665970614818\n-0.08836898033734286\n0.02215742334713866\n0.2515398590786688\n0.5789848621089533\n0.9569375553874746\n1.3267176594648333\n1.6408396995940553\n1.882257688885451\n2.0687750487742917\n2.235378480777106\n2.400945273568901\n2.540595442635748\n2.585825509501076\n2.4573213374960954\n2.113068575334136\n1.5834893541017259\n0.9713709336467877\n0.4129893614685436\n0.01911050014902127\n-0.1717740957577245\n-0.046560434106726944\n-0.10440240224502517\n-0.03648413470754974\n0.16278526451566933\n0.4670108977340579\n0.8262012053356891\n1.18354876490951\n1.4962774968455737\n1.7521788931017728\n1.970887956914689\n2.1836590592341203\n2.3999148887936794\n2.582916594230433\n2.6552938416268645\n2.535864332125797\n2.1876816259699456\n1.649265139857902\n1.0295652190012365\n0.4662507247128085\n0.0676800765104586\n-0.12984755811967386\n-0.13855334443474376\n-0.2635529151897913\n-0.23860735176750225\n-0.06480813256327167\n0.22161567736510968\n0.5649479464764937\n0.9096076746817197\n1.2190351712837764\n1.4873405143382357\n1.7353031253476363\n1.987382261538471\n2.2403780585984308\n2.445788914590654\n2.522525790653207\n2.3961906904373134\n2.0428502918236084\n1.5122926104046295\n0.9167975629500171\n0.388668127347918\n0.02667899732606127\n-0.14013489964502757\n-1.8338793909996554\n-1.7236805596987423\n-1.470813899050242\n-1.2013618134225155\n-1.0421255725545677\n-1.0606686367640208\n-1.243625919163751\n-1.5186662289988\n-1.7969893783221487\n-2.006757231865734\n-2.104988651954148\n-2.075887897716715\n-1.9274510713673187\n-1.6879942341564629\n-1.3981733133456054\n-1.0994397572783257\n-0.8255913861528903\n-0.6000668859180074\n-0.4342619769328735\n-0.323243990412287\n-0.2434803920987747\n-2.025415090381287\n-1.9008444882323303\n-1.6272281398101534\n-1.3312644789773138\n-1.1479360288041818\n-1.1559378885782614\n-1.348421116999507\n-1.649177441259745\n-1.9553982387033493\n-2.17834857108188\n-2.2654836119030044\n-2.204995310952551\n-2.0195963571563738\n-1.7526825909093304\n-1.4500972086362047\n-1.1461303325800785\n-0.8614387294919048\n-0.6092576274542587\n-0.39818365542839373\n-0.22680330980287167\n-0.07886636569834593\n-2.256040190928289\n-2.118026225612983\n-1.8198449776394554\n-1.4878984965698514\n-1.2649237328829308\n-1.241995874230014\n-1.42207326629282\n-1.7295809417768524\n-2.0521499779508474\n-2.2877263769346143\n-2.376711434972446\n-2.3122486133649076\n-2.129822414866762\n-1.8816772176290009\n-1.6086498530776687\n-1.3266288866498854\n-1.035298906368169\n-0.7370422478676701\n-0.44517729227785807\n-0.17481985704207048\n0.0699459726270959\n-2.4645492919420704\n-2.316106986642499\n-1.9986358191119145\n-1.6376252115815717\n-1.3806272627305383\n-1.3280461843132159\n-1.4917110989071745\n-1.7987480697242262\n-2.1315757651757608\n-2.379702510874786\n-2.479975126998717\n-2.431068527187019\n-2.278309135226106\n-2.0771292618482953\n-1.856979143936968\n-1.6104939081564247\n-1.314601984713864\n-0.962656363618386\n-0.5777817547119071\n-0.1983860551999186\n0.14559131846021067\n-2.5808942345261343\n-2.4326312383607203\n-2.1127813282472268\n-1.7440400633173532\n-1.4734288909947857\n-1.4050744163311357\n-1.5572680074053693\n-1.8620208310571513\n-2.201881065884379\n-2.463210256062876\n-2.5814443661379585\n-2.5586082260462497\n-2.4448885896960384\n-2.294585949647008\n-2.1251991700724187\n-1.9097490507449901\n-1.6077556046907429\n-1.2073970020211107\n-0.7424242432576982\n-0.27282854448321103\n0.1488185244881297\n-2.5535679366532165\n-2.4273451416332854\n-2.1328760684485246\n-1.7859180377773214\n-1.5261904064209055\n-1.4558800112592003\n-1.5987680257054535\n-1.8962035367744363\n-2.2379064264527813\n-2.512121249006505\n-2.6524424390517645\n-2.658459544166174\n-2.5780512788086067\n-2.461445853543493\n-2.3189104177568254\n-2.114625121899536\n-1.8016379983948703\n-1.367902848481636\n-0.854549347521651\n-0.3342048691135755\n0.12789487213539807\n-2.3697890007013847\n-2.294939066250688\n-2.0581210079623347\n-1.762380808418584\n-1.5334884613154856\n-1.4675317720006475\n-1.5949859907105512\n-1.8729132292487911\n-2.20609139091577\n-2.4890261062132915\n-2.6512803393840763\n-2.682448049359518\n-2.62041233871879\n-2.509709327857397\n-2.3607527946388878\n-2.142408780471367\n-1.813696131992355\n-1.3667646542413383\n-0.8443658185032543\n-0.3194673339117138\n0.14237791574909764\n-2.061871743013011\n-2.0636573921416925\n-1.9102971931958805\n-1.6868359230468357\n-1.5001008345081743\n-1.43758624417665\n-1.5382070006581472\n-1.7803048151095417\n-2.0901886180036797\n-2.372124011779171\n-2.54989543430478\n-2.597324323481626\n-2.53685401340225\n-2.4070482948593916\n-2.2251638182631073\n-1.9755966529687718\n-1.6323470926961576\n-1.1936474343781285\n-0.6974848415950881\n-0.20612686187014617\n0.22444774228917197\n-1.697096505018468\n-1.7836438022835388\n-1.722283485269088\n-1.5774615517246318\n-1.4348205680111121\n-1.3718787580205607\n-1.4360594881107893\n-1.628713982439212\n-1.9004472903464862\n-2.1676554476224936\n-2.348977698453144\n-2.401372947245326\n-2.330722154319991\n-2.1705330534069276\n-1.9484171335127929\n-1.6686598360862384\n-1.3225204313903163\n-0.9124559128020966\n-0.46609100623203403\n-0.028367103091678558\n0.35859736763821104\n-1.353093415835552\n-1.5091973338634936\n-1.5265199830722125\n-1.4498013568542376\n-1.3442693216862978\n-1.276961288657695\n-1.3014413248452144\n-1.4389336195780373\n-1.6625620761086708\n-1.9018166887396948\n-2.073441650667249\n-2.121453269199037\n-2.038324588426118\n-1.8541376781257668\n-1.6065693590514503\n-1.3173468666991663\n-0.9906586794176082\n-0.6281134624496261\n-0.24284746132784107\n0.13919445627289484\n0.488411334417032\n-1.0875873997797463\n-1.279427151206324\n-1.3447089634620504\n-1.3116711452253824\n-1.2282276394944311\n-1.1515966224105476\n-1.1380107910534853\n-1.2223138690194197\n-1.3950429311242871\n-1.5982158824764312\n-1.7509835672509748\n-1.7909987960674947\n-1.7027125154010463\n-1.5144913828645183\n-1.2713007250610389\n-1.005925947222842\n-0.7277560358679445\n-0.4313062171718389\n-0.11259472241757074\n0.21998709619333567\n0.545053626306963\n-0.9164604726418055\n-1.1039202793007554\n-1.1797967832606986\n-1.1591242369284096\n-1.076542653019814\n-0.981557553588086\n-0.9307000732544743\n-0.9663307828249614\n-1.0904860496852091\n-1.2559006501018537\n-1.387368926237471\n-1.4221465311582122\n-1.3417504371050377\n-1.1742520551709141\n-0.9688201249713178\n-0.7628700449081443\n-0.5637948184989128\n-0.35380879934747433\n-0.11023738887669765\n0.17416665477296966\n0.4823543654315987\n-0.8115530896761491\n-0.9606923430622132\n-1.0141764583097874\n-0.9756585285966821\n-0.8700950776159537\n-0.7424261209243053\n-0.649476704721689\n-0.6376502788571354\n-0.7160049481571047\n-0.8456059874046069\n-0.9579232951132575\n-0.9932335599576518\n-0.9335389839640094\n-0.8078782084116121\n-0.6678543459504453\n-0.5514893519148973\n-0.459694514831666\n-0.3592165965396088\n-0.20762054012032927\n0.017302220065962715\n0.30128427523033885\n-0.7189865956591248\n-0.8092550702240402\n-0.8184672872940446\n-0.7394264131620822\n-0.5899000544672468\n-0.4134100321998506\n-0.26879181640390115\n-0.2057924157106168\n-0.23813912448995467\n-0.33294022102131393\n-0.4275914867844133\n-0.4665281736032867\n-0.43436621284522303\n-0.36269493810159226\n-0.30551853036204335\n-0.2999144075200011\n-0.33828313620629125\n-0.37036371727791106\n-0.33310540100469765\n-0.18879449672983828\n0.051576046540994014\n-0.5872270589183763\n-0.6135393061487058\n-0.5701352209122632\n-0.4396661637136887\n-0.23442011463906276\n0.0013937782705220059\n0.20533742184694148\n0.3239949205609154\n0.3401056745142643\n0.2824321038711677\n0.20897736176428694\n0.17074030760966785\n0.17844157713101794\n0.19557436426367047\n0.16449525799991704\n0.04932834067558822\n-0.13285979928362313\n-0.31402274712237066\n-0.41001952620945215\n-0.36697900021364394\n-0.1914860672159575\n-0.39091877060087654\n-0.3640441130103973\n-0.27410846854494153\n-0.09566907737492514\n0.16287472932028102\n0.45593732249752605\n0.7174065478767808\n0.8906269078810496\n0.9559517862899227\n0.9396656833019232\n0.8962225956659218\n0.8713009877344788\n0.8683309992729491\n0.8427943350455589\n0.7315205281904049\n0.49965241184463505\n0.17434083167091607\n-0.1583658125508851\n-0.39367338896699966\n-0.46184551407418706\n-0.36422984615269627\n-0.1429127147047886\n-0.0897439838906422\n0.025778518343777534\n0.23404251468440052\n0.5287663825654665\n0.8632646534999324\n1.169076881320695\n1.3877354368574757\n1.4986372037029696\n1.5269733603658207\n1.5242853473430742\n1.529911142407439\n1.5373654654850366\n1.4911564225355374\n1.3207375443543503\n0.9918313114773731\n0.5415948770752559\n0.07308835094097255\n-0.2902287180404084\n-0.46438300080909656\n-0.4449688181028204\n0.10632544824831669\n0.14554607962701738\n0.25379733570689567\n0.4634683252394396\n0.7685531503416279\n1.1215954137950366\n1.4532520407606402\n1.7046412333386485\n1.8551970841847147\n1.9296954084525204\n1.9768582819790286\n2.0288399358646068\n2.0677015450551917\n2.0256059044920196\n1.8240508204969963\n1.4291278375979086\n0.8868990100937424\n0.31456692277032516\n-0.14976890307376856\n-0.41092954557746086\n-0.4584307522038351\n0.2830618462746415\n0.2646405131418028\n0.3307960413820261\n0.5138869910804083\n0.8061188907688077\n1.1587596760831325\n1.5022193196942997\n1.7778824917686684\n1.9653204101891504\n2.0882859006320587\n2.1915555216010016\n2.2990304108303814\n2.381253980908273\n2.3595700658610514\n2.149984015788333\n1.7204910113512577\n1.1247770343442394\n0.48964954835614627\n-0.03828670192115169\n-0.35734285260058396\n-0.4515177250510227\n0.32074589229838324\n0.21352532835611626\n0.21605154531451376\n0.35865384236470277\n0.6286967567684734\n0.9744079690902279\n1.3259583910167265\n1.6257324771395005\n1.8533477835870364\n2.029680766345221\n2.192417447045125\n2.354809543333923\n2.476643369950976\n2.4731751502149946\n2.2616714879088518\n1.817043675726544\n1.2007924839095114\n0.5443329911682477\n-0.004924569079357788\n-0.3454584339186111\n-0.45856459029432894\n0.20009758589630877\n-0.0008394680664913778\n-0.058356845566041926\n0.0523335597173169\n0.30906477639349994\n0.6542298196774876\n1.0181177884049788\n1.346258139114802\n1.6193443492754405\n1.8531358328142264\n2.073364242343482\n2.2786301241915847\n2.4188260280528393\n2.4101519067484602\n2.181509464550328\n1.7232326895279364\n1.1071237205372704\n0.4650638125240647\n-0.06282945154922714\n-0.3834946603525724\n-0.4813117904068749\n-1.9312339271626797\n-1.8608347541504884\n-1.6304216758083818\n-1.366930183518086\n-1.198962796137799\n-1.1969827694577901\n-1.3535170155268013\n-1.6058141110486552\n-1.8757349218813815\n-2.0987766647241735\n-2.233428598430798\n-2.260205420286038\n-2.1798135099257188\n-2.009695112385959\n-1.775782819602309\n-1.5036790304315097\n-1.2162474731168231\n-0.9364503615285606\n-0.6865851098903164\n-0.4799634559908661\n-0.31261379454312177\n-2.0934760983648957\n-2.003966699776946\n-1.7557755839808706\n-1.4742835766128266\n-1.293150205391541\n-1.291838513860398\n-1.4687862014763624\n-1.7570995408654433\n-2.063320699428104\n-2.3036947951381705\n-2.4252089168378035\n-2.4123784578952545\n-2.282904430979169\n-2.0728294024882707\n-1.8166162905058734\n-1.5349121161792318\n-1.2382248195213954\n-0.9386906132561954\n-0.6538267051502089\n-0.39728422604147795\n-0.16861242466833204\n-2.30753677645588\n-2.1894277924817374\n-1.9112937450318448\n-1.5960341531983282\n-1.3814803254113386\n-1.3567343727708234\n-1.5289480898352217\n-1.8315293236790744\n-2.160621055198174\n-2.4175682966652197\n-2.540899522279833\n-2.519978372322086\n-2.3869279932129785\n-2.189576921346255\n-1.9605199586632658\n-1.7041129686380607\n-1.4101120920781014\n-1.0779745709195083\n-0.7266209960523184\n-0.38230163246048043\n-0.06126947033658503\n-2.513154838815602\n-2.363277327231451\n-2.0560119871013605\n-1.7103284689645157\n-1.4641735621936114\n-1.4123145179067969\n-1.5694053570956754\n-1.8719129783971482\n-2.211495564748077\n-2.481300230797654\n-2.6160893759039823\n-2.6107345073911468\n-2.508025465731496\n-2.3608158451014063\n-2.1924408692633204\n-1.9850312626545428\n-1.7043644019580935\n-1.337491021019929\n-0.9089169756322057\n-0.4646999287167475\n-0.04498088840843728\n-2.628000397853768\n-2.4575407260296416\n-2.1397763155341636\n-1.7862029918590316\n-1.5278614533396286\n-1.4585401970951004\n-1.5980955082567938\n-1.8896680009681894\n-2.228128111580631\n-2.506041002783821\n-2.65788100318688\n-2.681822011233436\n-2.625315394864442\n-2.5405263087431234\n-2.439556081252716\n-2.2844799184884668\n-2.02096253304914\n-1.626432767101015\n-1.131876558619057\n-0.6029665877443744\n-0.10297550536506783\n-2.587152304979604\n-2.4254713889524595\n-2.132326175643904\n-1.8057349943029415\n-1.5616047012990784\n-1.4864864000038729\n-1.6050518706091772\n-1.8732824008187698\n-2.1985464980257063\n-2.4796771114614806\n-2.6511362755411394\n-2.708157163016601\n-2.6946165121565517\n-2.657940967343439\n-2.602787295849902\n-2.4811862815748693\n-2.2290685596974296\n-1.8191848534061545\n-1.2866346369620523\n-0.7095209614787628\n-0.16631081346766408\n-2.374668664283792\n-2.2631392557695236\n-2.0368944882871567\n-1.7735691712455974\n-1.5669812853346308\n-1.4927103735718426\n-1.582426587422571\n-1.812583734502553\n-2.112014999732949\n-2.390601969326614\n-2.580144462894607\n-2.664420710157515\n-2.6751939404492244\n-2.653250893004003\n-2.603514072753322\n-2.48223130451829\n-2.229005765278913\n-1.817441103931385\n-1.2821913924195236\n-0.7025762053844815\n-0.16052662633638448\n-2.0316323097314104\n-2.0080629125056113\n-1.8833373187061646\n-1.7096671004577928\n-1.5551211249219428\n-1.4833555920418462\n-1.5358171861147056\n-1.7151849413638196\n-1.9775532942348537\n-2.2460660096666487\n-2.446617542939636\n-2.5445625384200863\n-2.5537199146349163\n-2.508580151834483\n-2.4225907692894726\n-2.2692349990119514\n-2.0031348816675454\n-1.6026095981141992\n-1.0966245864740056\n-0.554713614721047\n-0.051422804099686914\n-1.6383378498940928\n-1.7195414211373077\n-1.7092103440009971\n-1.6333108019478786\n-1.5346175734346588\n-1.4656783853467843\n-1.478391780017791\n-1.6022311691535034\n-1.8210358751591116\n-2.0711378510702154\n-2.2713218498422414\n-2.366550732495263\n-2.3516922685046833\n-2.256918493078267\n-2.1096571020445793\n-1.9076482280467424\n-1.6257168109887896\n-1.2474204037630052\n-0.7914906184438628\n-0.31044919690230444\n0.13473919661135447\n-1.2798786285960837\n-1.4521977527130616\n-1.5408827523172555\n-1.5495388910169012\n-1.4997756895439203\n-1.434604271273237\n-1.4137961749310577\n-1.4881357358487044\n-1.6642016374877748\n-1.8898027145345306\n-2.0785517223424996\n-2.1588695714107082\n-2.1104028555132537\n-1.9614881150861354\n-1.754462971501301\n-1.510726248561852\n-1.2233298746054668\n-0.8781439201655772\n-0.4805799985919972\n-0.06394396050922957\n0.32478381187039673\n-1.0109020841686274\n-1.2340312415223949\n-1.3825643821675833\n-1.444532786025487\n-1.4267340258673507\n-1.3647203532299859\n-1.3215475109637662\n-1.3600229950598237\n-1.5009891303151193\n-1.70107260542353\n-1.8727832730195182\n-1.9355454659922096\n-1.8601561228398111\n-1.6751123350661032\n-1.43470957908184\n-1.1776977507706725\n-0.9083929463143274\n-0.6099081325281546\n-0.27257772332375296\n0.08799497917533827\n0.43512373404311866\n-0.8356544892433\n-1.0573518246990368\n-1.2160028010613146\n-1.2907010839821353\n-1.279984010761524\n-1.2146462377701397\n-1.1570492424960825\n-1.1729462324657103\n-1.2887766160252632\n-1.4670695708316792\n-1.6233341543607587\n-1.675825607981512\n-1.5928900858604962\n-1.4044075922471002\n-1.1720032833923018\n-0.9434580228151415\n-0.7258504924207347\n-0.4939658231517363\n-0.22184048428496173\n0.09001343714640875\n0.41043288135060774\n-0.7127726195108615\n-0.8865367055947324\n-1.0106634053776702\n-1.0592357318440264\n-1.0274287535007804\n-0.9443863496878944\n-0.8703986950504525\n-0.8686762372603685\n-0.9652561776774444\n-1.126122714313297\n-1.2723544052475972\n-1.326664329890395\n-1.2598127283581437\n-1.1039191085943347\n-0.9238837403766098\n-0.769219287044157\n-0.6422644641998065\n-0.5044332607431921\n-0.3119841285199003\n-0.05194567276725248\n0.24656388061556989\n-0.5815852369401391\n-0.6796948115623564\n-0.7413912794328539\n-0.7364375981846116\n-0.6590209736022512\n-0.5394488373815918\n-0.4372224828547857\n-0.41196424634386375\n-0.487024807633091\n-0.6303483408910839\n-0.76939993681696\n-0.8343599859025979\n-0.801741141308101\n-0.7071246452277951\n-0.6164111590411858\n-0.5757801623957981\n-0.5771674555220718\n-0.564444070375151\n-0.47419970595710303\n-0.28002213828873224\n-0.010378314533779687\n-0.39475846037130324\n-0.4137522756434677\n-0.40676344077064286\n-0.3382043476912937\n-0.20165890155924338\n-0.030377155249643906\n0.11456513950134273\n0.17533417069937762\n0.1308459680534746\n0.011799808306985682\n-0.11541820207565934\n-0.1898219163200885\n-0.19636445694068705\n-0.17620971506535366\n-0.19596474611197756\n-0.295606702244843\n-0.45283012062028405\n-0.5909175007898035\n-0.6251040223927138\n-0.514724331205807\n-0.2872076143693256\n-0.14050109022473478\n-0.10071200446965278\n-0.03985769376674497\n0.08364967959825442\n0.27708843769554115\n0.5037331873735855\n0.6992064784560483\n0.8052157689792505\n0.8015796571160507\n0.7178063114065658\n0.6147606945189157\n0.5439083193624334\n0.5093407199992779\n0.46140206663232775\n0.33146968806614296\n0.0866218592220438\n-0.23479510281349292\n-0.534221868083379\n-0.7050594661519733\n-0.6917125221493521\n-0.5188285704359217\n0.15222973149058916\n0.21087751084275297\n0.2937493188302476\n0.44771192796339143\n0.6807292462151118\n0.9528808228181038\n1.1960266707369058\n1.3499597854415235\n1.394112507734599\n1.3567139789509\n1.2937223554619415\n1.2468760436533781\n1.207477212750664\n1.11472588053888\n0.8959642132375709\n0.5243945483716512\n0.05369624867736533\n-0.39711887044953187\n-0.7012357056062877\n-0.7882761892358063\n-0.6773342311237389\n0.4217388585373598\n0.4479066446661122\n0.5116269664938571\n0.6633762549731266\n0.9108641252822771\n1.2113305967638457\n1.4931389129127748\n1.6933311747448698\n1.7895666055195463\n1.8079921413237656\n1.7997013528335746\n1.796917578176675\n1.7779053908131965\n1.6700226828645555\n1.3955944205026203\n0.9323353045240728\n0.346308451138329\n-0.2273285092175943\n-0.6457343983055024\n-0.8253208287157552\n-0.776620788166916\n0.5916142807995328\n0.5360252441556668\n0.5426073113113539\n0.6634772186791444\n0.9043191100536543\n1.2193154700356068\n1.5336504615403506\n1.7810433946898367\n1.9356223967149795\n2.019284523252317\n2.076724223304341\n2.130501472140735\n2.1473810901734387\n2.0455764112275254\n1.7447317742636574\n1.2270765209337116\n0.5675406707164905\n-0.0889463439824647\n-0.590240015119333\n-0.8433274463759028\n-0.848697249255963\n0.6006611504760144\n0.43260360204272885\n0.36212899316264746\n0.4403573016914706\n0.6679940267805069\n0.9950383771618938\n1.3439683878264574\n1.6455044621029433\n1.868815589806072\n2.028134908413259\n2.1578708645532796\n2.269185996771977\n2.3197970963935672\n2.2250813426953364\n1.909090607594532\n1.3624062405145665\n0.66702565568536\n-0.029111578023613305\n-0.5731456868194718\n-0.8693033592718562\n-0.9101113468876427\n0.44074715457852065\n0.15989845028443384\n0.020048545317143507\n0.06706677325087362\n0.29219423316050985\n0.6393577841334164\n1.0296141040034854\n1.3930643364953568\n1.6942325645343832\n1.9362591591888734\n2.1376599017948994\n2.294629731289908\n2.358190663897414\n2.249469327136282\n1.9078560118345518\n1.3399981226204645\n0.6359134224218099\n-0.05906225464352843\n-0.6005458302405238\n-0.899145883026689\n-0.9458494381426021\n-2.0499896775960167\n-2.0315863380232244\n-1.8399299316757514\n-1.5972163775680457\n-1.4279979871131374\n-1.401757649021949\n-1.5164621259119428\n-1.722004890329874\n-1.9561023351851894\n-2.1667540728367207\n-2.3172755935802734\n-2.3856218586674665\n-2.365153637060402\n-2.262724670500404\n-2.0907631284604733\n-1.859911264698951\n-1.5802840936278706\n-1.2684294436825887\n-0.9489436658941521\n-0.646234612052556\n-0.3745697521715634\n-2.129468308569983\n-2.095387218296068\n-1.8973847467730032\n-1.652796508473731\n-1.4867613050177866\n-1.474446492021272\n-1.6188973598504361\n-1.8669873580492293\n-2.1425381540173305\n-2.3747100946630866\n-2.5146238366020306\n-2.5433119935806836\n-2.470935231913902\n-2.3239041104036104\n-2.1250429948113485\n-1.8822396131472985\n-1.595133396774166\n-1.2704101514590072\n-0.9273882101909656\n-0.5885025530533241\n-0.2675573455945113\n-2.251926710727563\n-2.1813667095249905\n-1.9573423324211134\n-1.6912254973057372\n-1.507142819574291\n-1.4855310119724123\n-1.6361292790623096\n-1.9063231189259504\n-2.2107781439467757\n-2.464753694024161\n-2.611024988974126\n-2.6348590416203983\n-2.5602699846290626\n-2.4258342978705514\n-2.2541927269818522\n-2.0393769070798697\n-1.7623265313842165\n-1.4177012193307128\n-1.0249985596295996\n-0.6161792647878883\n-0.21727332101755792\n-2.371786535038659\n-2.253133575369251\n-1.9979327497507597\n-1.7095294821172047\n-1.5061576260029845\n-1.4687785597852958\n-1.6120852835528865\n-1.8866922778497326\n-2.204624136854676\n-2.474998235291544\n-2.637874948442697\n-2.68369151015143\n-2.6461509029375687\n-2.568551633742201\n-2.465343910847139\n-2.3101156891607104\n-2.0609107373678235\n-1.6994376729676919\n-1.2487352574592698\n-0.7576542563627822\n-0.2727882255021701\n-2.410202530639502\n-2.251809273374576\n-1.982346112440645\n-1.692468701744918\n-1.4865148806642345\n-1.4388576834283704\n-1.5670321746431775\n-1.8292990440686516\n-2.1438960288382987\n-2.4225013547567436\n-2.6065618075246757\n-2.6895377961000904\n-2.7085327960053522\n-2.705456669469857\n-2.684025221518505\n-2.5985410459787683\n-2.3865044978426564\n-2.017984300666553\n-1.5198920039186739\n-0.9587126352814614\n-0.4029922976519238\n-2.3030689354249\n-2.1377403485201256\n-1.8919612906921017\n-1.6365494444183746\n-1.453079683657787\n-1.4032112834075505\n-1.507793188866323\n-1.7401112071523457\n-2.034934036749817\n-2.313744331509236\n-2.5194055053963034\n-2.6417517095988305\n-2.712976451083554\n-2.769870708630352\n-2.809421416022257\n-2.7762157262820004\n-2.5964812371521013\n-2.2324511033125134\n-1.7122723245031661\n-1.1139275378440558\n-0.5220078178148331\n-2.040868908190234\n-1.9182657077730312\n-1.7439573009594724\n-1.5615620590097734\n-1.423360799215903\n-1.375672042245892\n-1.4461921192443619\n-1.6319038084554158\n-1.8932481469957576\n-2.165465453464881\n-2.388829227784317\n-2.5400589467712873\n-2.6380201802969623\n-2.7136037564007864\n-2.766134810921436\n-2.7455551087112386\n-2.5802719102645355\n-2.2299057043446275\n-1.7192303849251793\n-1.127059312516833\n-0.5432859437921493\n-1.6763661303619166\n-1.6446069008144235\n-1.5819065508354733\n-1.5003626432320658\n-1.4211315956455763\n-1.3763325125840034\n-1.404805718697471\n-1.53333386053224\n-1.7528704934702173\n-2.0126729713933056\n-2.245070080563382\n-2.4054223098309\n-2.4935948070864775\n-2.5363856020647066\n-2.5457759540926332\n-2.491997134044798\n-2.3183676934276196\n-1.9865574253430935\n-1.5130284672144025\n-0.9663606619724376\n-0.4305781623702778\n-1.2987235129584072\n-1.3834837015236232\n-1.448384761172541\n-1.4751450227592038\n-1.457194060299667\n-1.4158338268050947\n-1.4028702799210162\n-1.474875520245531\n-1.6519032613452271\n-1.8947829273440018\n-2.1246953578648498\n-2.2726375183901784\n-2.3185490804068074\n-2.2881404285868925\n-2.213203773232884\n-2.093406595656795\n-1.8944004603994777\n-1.5822900427553233\n-1.1616148435817326\n-0.683228042116724\n-0.2178930852028227\n-0.9907982425567177\n-1.1823971178899697\n-1.3583998144550016\n-1.4769721582691453\n-1.5113285631125635\n-1.4757882031673137\n-1.4327647011394848\n-1.4615362396602496\n-1.6038565079318072\n-1.8284243258029669\n-2.0462184452112826\n-2.1675387592740076\n-2.1562146054938633\n-2.0394150962863975\n-1.8700202977215667\n-1.677707022203764\n-1.450602030633938\n-1.1587325275290379\n-0.7932454400897857\n-0.3851607032255231\n0.00967271287403193\n-0.7917958345866118\n-1.0469075219990849\n-1.2886786911543169\n-1.4620192851483509\n-1.5294318525355504\n-1.5016676046003177\n-1.4461961546160254\n-1.453189877606837\n-1.5751160462496454\n-1.7847207726862901\n-1.9872834112248903\n-2.081022302838017\n-2.020415319585176\n-1.8352684827474164\n-1.5952564304805747\n-1.3531821887642206\n-1.1136156797004313\n-0.8474469961201034\n-0.5325632867959902\n-0.18240907353378777\n0.15889664967734962\n-0.6826083972564909\n-0.9398303754994828\n-1.1877475424065373\n-1.3680396812118083\n-1.441441673760469\n-1.418109659561237\n-1.3646935051780407\n-1.3702142216090216\n-1.4868885384609225\n-1.6882947858611832\n-1.8797915460182981\n-1.9575786186899258\n-1.8741538781115192\n-1.6620293070093144\n-1.4004740576760124\n-1.1547061447203921\n-0.936309151912603\n-0.7121368426884613\n-0.44701959494124477\n-0.14065887685800504\n0.1691441961039235\n-0.6003098107778229\n-0.8022185218823417\n-1.0018999518010823\n-1.144028935784684\n-1.193672273266115\n-1.162998869366442\n-1.1144328195765354\n-1.12782873574276\n-1.2475655508869004\n-1.4460081254116712\n-1.63345022682965\n-1.71249745240865\n-1.640003043495648\n-1.451137565553502\n-1.2277706644749058\n-1.0367199818639072\n-0.8864604118996944\n-0.7337420022815451\n-0.5292538426653479\n-0.26174666268501756\n0.03231745210247805\n-0.4739706811829443\n-0.5861439353638396\n-0.7048843895694965\n-0.7789045866078848\n-0.7797539256061654\n-0.7236271205460039\n-0.668843886647096\n-0.6839997301633947\n-0.8030356607835714\n-0.9965477120265049\n-1.1827038236264933\n-1.2759624332602542\n-1.2423551431608288\n-1.120465899701152\n-0.990064046565311\n-0.9109870010744237\n-0.8796187229456782\n-0.8362783717984987\n-0.7149346967773074\n-0.4940194558526896\n-0.21154288841335145\n-0.2620122817830044\n-0.2824630867934843\n-0.3167090051308534\n-0.31475018103646235\n-0.2535585624986947\n-0.15450693974466745\n-0.0745014495663554\n-0.0736419700795885\n-0.1771068157698501\n-0.3544382979421652\n-0.532804284316013\n-0.641181955565111\n-0.6582966276749724\n-0.6281043496036629\n-0.6265386574345602\n-0.7011655255702332\n-0.8297718463106092\n-0.9310269559484876\n-0.9192182317401727\n-0.7613005765923706\n-0.4969567378357924\n0.028543210692411947\n0.0705936160021956\n0.09756102123765942\n0.16170485344545682\n0.2828484388601513\n0.4340807995774263\n0.5565393839149895\n0.5937081744605806\n0.5253140094127726\n0.38152262383158053\n0.22634304272202144\n0.11572319198814629\n0.05594519413147303\n-0.00501983401151751\n-0.1401645845090007\n-0.38316608763136717\n-0.6903602317111499\n-0.9563444083362249\n-1.074022219052246\n-0.9969918385687224\n-0.763939427235715\n0.34641839988939793\n0.3996459688641565\n0.4467381992969184\n0.5441263378982519\n0.7098543504693406\n0.911522654256764\n1.0856950917680557\n1.1747211158147497\n1.1589701495467661\n1.0667080151936013\n0.9539422901191061\n0.8625735414426057\n0.783279007548467\n0.6538287598980022\n0.40186643977528913\n0.00593190788997866\n-0.47029576479938306\n-0.8989226125971532\n-1.1523668552700546\n-1.169375415439517\n-0.9828119646418081\n0.6150022481302173\n0.6198404795377144\n0.6406122268069616\n0.7375901331227883\n0.9268779948973336\n1.170633427564475\n1.3994064994050106\n1.5508544147545749\n1.6019334764104745\n1.5767875868992682\n1.5238464375133738\n1.4728801625913244\n1.4005836666994416\n1.2347325081766884\n0.9021098692311664\n0.39020507159838047\n-0.22216694948327298\n-0.7901562417415198\n-1.1697601464177865\n-1.2849235029541903\n-1.1573739267188197\n0.7566351503962245\n0.6616792999316345\n0.6182885896025301\n0.6886172956712748\n0.8852543828164663\n1.1647206947746813\n1.4511787029963763\n1.675413539521097\n1.8072294978317949\n1.8631931218320137\n1.8828310382441709\n1.8852701975435062\n1.8368091782635663\n1.6591094385928766\n1.2799680995025433\n0.6939449140076004\n-0.010843205288114888\n-0.6805945107165989\n-1.161909946058354\n-1.366790455152346\n-1.302667643733245\n0.7215897265442983\n0.4991366942876141\n0.37501840098253325\n0.41012522232524695\n0.6108523699213215\n0.9276070359537698\n1.2789283701342828\n1.5884563326567882\n1.8161237757475064\n1.9663887876732584\n2.0659664433368823\n2.122898876497711\n2.0974007346727577\n1.9124990318326072\n1.503750031784394\n0.874915353589274\n0.119526513363021\n-0.6079093917413454\n-1.1537344440429607\n-1.4245237978329968\n-1.4149557258283583\n0.5194913177157723\n0.17412187462983653\n-0.020142455072026166\n-0.008076788579492344\n0.20688511656204156\n0.5684187507089948\n0.9916439690706973\n1.3955010939290151\n1.7296742304609332\n1.982294675991115\n2.1615628534110547\n2.261753871604723\n2.2406950892371578\n2.0321874848818116\n1.5900793516888454\n0.9336427110921024\n0.16117027574872544\n-0.5788671141737991\n-1.1423838431491609\n-1.440207084079196\n-1.461180965410632\n-2.1677841466821413\n-2.215394448896216\n-2.0835253463137633\n-1.883913621702586\n-1.7305819142799486\n-1.68713498878396\n-1.7549695035655226\n-1.8976373125376576\n-2.0720015906061278\n-2.2428007630767652\n-2.3818520720117426\n-2.4666778570314385\n-2.4841975906201768\n-2.431849594415329\n-2.3111200630276976\n-2.1207540469894184\n-1.8590135178375427\n-1.5326466023549408\n-1.1616274754611133\n-0.7745342709963943\n-0.4007104287215242\n-2.120995724638039\n-2.164829323037022\n-2.046293723221254\n-1.8677549091721808\n-1.7380456316844928\n-1.721987910033576\n-1.824950494650846\n-2.009913528366628\n-2.224117501268946\n-2.417025046381987\n-2.5493633729765435\n-2.600283559289924\n-2.5708992045680787\n-2.476342249578412\n-2.328616288582971\n-2.1258578809844018\n-1.8589693643847838\n-1.5274113684392177\n-1.146519141519354\n-0.7407909067162102\n-0.33443613925379445\n-2.0953174851143643\n-2.1031094618276214\n-1.9711835622139198\n-1.7913533821921064\n-1.6650998074595442\n-1.6569611830887396\n-1.7763212302165563\n-1.9875333738441228\n-2.232091372522355\n-2.449401938968226\n-2.5939402076944376\n-2.648414554639359\n-2.625183743146369\n-2.5491501930107194\n-2.4319201763821834\n-2.260164919234077\n-2.009823886103776\n-1.6713768210668078\n-1.260919360615997\n-0.8097230300189189\n-0.3484923611579198\n-2.071599888734763\n-2.0208837420541066\n-1.8617706051974423\n-1.6735647186828544\n-1.5455841062161397\n-1.5371870643024792\n-1.6594329416117652\n-1.879873736146731\n-2.140111527204919\n-2.3772364294214334\n-2.5456159873018613\n-2.6330119122179916\n-2.6590846630552782\n-2.650949575073529\n-2.6115113563497125\n-2.508910142545272\n-2.2991791394217493\n-1.9619922061712334\n-1.5169221090919418\n-1.009402136324237\n-0.4856939457312244\n-1.9875630178824686\n-1.87945221689683\n-1.7031591712824756\n-1.5208827859076592\n-1.402158535909674\n-1.3945780601255002\n-1.5090491933389494\n-1.7205598519176561\n-1.9791521691988834\n-2.2277582197924097\n-2.424496910682718\n-2.5602666916868486\n-2.6563855429725773\n-2.736821696770594\n-2.7935035578045078\n-2.7764975802682095\n-2.622614078910658\n-2.300110264085104\n-1.831304071150658\n-1.2770667777190212\n-0.7025754410223399\n-1.7899247100776137\n-1.6549992711856873\n-1.4959344241613408\n-1.3508187333793131\n-1.2612486818690805\n-1.2580023651355212\n-1.3532587381816406\n-1.5371043992339928\n-1.7776798768525293\n-2.0296722166488532\n-2.2537395429113793\n-2.436982995511803\n-2.5950996325786946\n-2.746942692225204\n-2.878766996531617\n-2.9319345202051696\n-2.8315721323297893\n-2.5361034629087094\n-2.066693391181598\n-1.4941274079467473\n-0.8988472022493639\n-1.4793704872847364\n-1.369918458160381\n-1.2754738619997603\n-1.2031960747791608\n-1.1615048854926506\n-1.1634085335385507\n-1.2272881264377773\n-1.3674068614986492\n-1.5781480074287213\n-1.8277778578952688\n-2.0733166177980316\n-2.287710659938293\n-2.473702440252069\n-2.6466523776441093\n-2.7984149291704927\n-2.877442837239361\n-2.809681181261883\n-2.547267033335949\n-2.1045310386722633\n-1.5518968336437542\n-0.9760392957170332\n-1.1175104970017138\n-1.0879780858311001\n-1.0999367458118527\n-1.126476381780126\n-1.143025789752052\n-1.1481484452373643\n-1.172287296352616\n-1.2602708902714674\n-1.4362788538789584\n-1.6799549597929122\n-1.9368075973222165\n-2.15614690989238\n-2.322796009069906\n-2.4525822720974126\n-2.5556143924217167\n-2.6037899343071267\n-2.5368553383488486\n-2.304903745931954\n-1.910145286990545\n-1.4117900498018159\n-0.8923491040368159\n-0.7951519654096302\n-0.8792239946717864\n-1.0159295099077\n-1.1472313227527877\n-1.221503009428421\n-1.2285464540889048\n-1.2140065012543335\n-1.2532236874562823\n-1.3974496506311773\n-1.6331959607069155\n-1.8892899634507465\n-2.0873102525298606\n-2.193342640843081\n-2.2276981363068664\n-2.2272671091915246\n-2.1979112304495967\n-2.1018692843857067\n-1.8906887689097527\n-1.551641461269588\n-1.1255554204704312\n-0.6832838785252049\n-0.5845240052867382\n-0.7792647144077804\n-1.025637365013111\n-1.2435817180959425\n-1.3645301720951046\n-1.3752082365994962\n-1.3346586187313871\n-1.3410389578799347\n-1.4640833207252921\n-1.6923602738291113\n-1.938281589484781\n-2.099051726298031\n-2.125520367326354\n-2.044555558234009\n-1.920793601391118\n-1.7951216589414578\n-1.6540191302669465\n-1.4522304200220786\n-1.1625126966416355\n-0.8058865321622397\n-0.43930682400679366\n-0.5024434066915937\n-0.7670289418264673\n-1.0766339011144588\n-1.3420189359967374\n-1.4894248210322427\n-1.5068449890429712\n-1.4606010404890135\n-1.458471012175261\n-1.5765438537762613\n-1.8015034705534987\n-2.034688844309237\n-2.1583956553176584\n-2.114781952118328\n-1.936903624377024\n-1.7109027052419918\n-1.504941461923475\n-1.3247531018445509\n-1.1276738022737955\n-0.8744603082705869\n-0.5696071592522074\n-0.2588157965749218\n-0.5021906741106008\n-0.7724819117141024\n-1.081858476509833\n-1.3443349202667285\n-1.4914572694550365\n-1.5153704453990162\n-1.4822216389429013\n-1.4953155882855018\n-1.624959674516571\n-1.8532920885860715\n-2.0783298458249035\n-2.179471995801002\n-2.0978902140782774\n-1.8711034066375154\n-1.596694497857519\n-1.3572831511619619\n-1.168282482702729\n-0.98629746042372\n-0.7622808255556262\n-0.48912824150634115\n-0.20657779202097704\n-0.49770625585397\n-0.7106760237738854\n-0.9610185907999842\n-1.1737815441981674\n-1.2924787739871615\n-1.3151801675086467\n-1.302535444912973\n-1.3433211775323262\n-1.4935194097142919\n-1.7295702758937992\n-1.9534182984582014\n-2.052453897909488\n-1.9740891407865613\n-1.758893011287304\n-1.5060645029033388\n-1.299147189849017\n-1.1517581920534417\n-1.013878196605682\n-0.8264787793203663\n-0.5744032405671229\n-0.2966976536259054\n-0.408115518428783\n-0.5254522845572005\n-0.6824875819060008\n-0.8163069298922743\n-0.8839587972303029\n-0.8903692134251706\n-0.889517144286355\n-0.9525239804047523\n-1.1182852381007908\n-1.3580821622953465\n-1.5828191782691619\n-1.6954345924388976\n-1.6553597817981611\n-1.5062128700532673\n-1.3419999921925552\n-1.2361514757932355\n-1.1896155344299748\n-1.1384328403948931\n-1.0107376012039655\n-0.7840091133049087\n-0.49977261545015494\n-0.19875025274841818\n-0.21972822432607586\n-0.2830562432520214\n-0.3333716816276784\n-0.3386650665716342\n-0.31106332773831724\n-0.30058857264082484\n-0.3641573329180545\n-0.5263389681971855\n-0.7552728531936097\n-0.9732575546861906\n-1.1024495418816391\n-1.1181770516828315\n-1.0686204912896269\n-1.039726584419971\n-1.0880402652707133\n-1.1938331386800467\n-1.2726879058317948\n-1.2358935054278115\n-1.0516772693037266\n-0.7639096819312838\n0.10341940138648553\n0.14363784294928195\n0.14457262994545594\n0.16019328533582922\n0.21557336609321354\n0.2912512619402836\n0.33643806269188303\n0.3012556351581033\n0.1693740207784682\n-0.02700034152399411\n-0.22180464918244436\n-0.35661409760101925\n-0.42431132723049725\n-0.47979194700400996\n-0.6015076768254204\n-0.827236012305355\n-1.113293834069525\n-1.3515973234490275\n-1.4337447994873012\n-1.315540063404403\n-1.039538411258416\n0.42428580095537427\n0.46776772672336975\n0.4869625037312577\n0.5385178938947632\n0.6432168889030834\n0.7739567832774163\n0.874605080760066\n0.8947141211760083\n0.8192522776521702\n0.6777525868346261\n0.5256817236256621\n0.40445713442401754\n0.3045964713125757\n0.16323498023653027\n-0.09298000000289441\n-0.48546452198479173\n-0.9487361377148389\n-1.3527334797943427\n-1.5695120382060512\n-1.5395909308541063\n-1.2979582431582148\n0.6729932332253874\n0.6571982822831934\n0.6479410297368382\n0.7050044437961791\n0.8449924108992537\n1.0326149358435366\n1.2033143834594568\n1.3001164245748633\n1.3029288042884364\n1.2352037927517197\n1.1427218911557642\n1.0535889659114952\n0.9453426934851139\n0.7484771470248894\n0.39300505632751914\n-0.13065920117182372\n-0.741554050975112\n-1.2939862442640937\n-1.644333234676738\n-1.7168848360574964\n-1.5324823760009179\n0.7728144026478034\n0.6482905835765234\n0.5768350166978173\n0.6189768445062835\n0.7852860691121784\n1.0317629174887983\n1.2843106939169715\n1.4759216322640185\n1.5762004520207231\n1.5982143580025392\n1.5771737637936685\n1.5309682111874388\n1.4296031567685077\n1.2018418525500554\n0.7826069578534787\n0.17087258426878993\n-0.5443620097778439\n-1.2107995342360125\n-1.676357758819119\n-1.8515557323707807\n-1.7393088799754737\n0.688427721594632\n0.4320099564965716\n0.28647783096943513\n0.30938663379998843\n0.5026353819948675\n0.8134196218888139\n1.1590362695994276\n1.461771253812044\n1.6774019649687881\n1.8035105032576206\n1.8611148526270505\n1.8585864464937618\n1.7640157571146782\n1.512505421848723\n1.0500852973442214\n0.38509516551123113\n-0.39066309090797713\n-1.1273718453376835\n-1.6739558472971114\n-1.9338227911492631\n-1.893586132050507\n0.4486270374045027\n0.06830068573999348\n-0.13973341273831252\n-0.12495386225735672\n0.10333627657556121\n0.48414117220115926\n0.929123063106891\n1.352377138538193\n1.695049811679744\n1.9346350458322608\n2.072359261287307\n2.104968427982331\n2.002882835209544\n1.7168698707895302\n1.2137517613859936\n0.5163417194451316\n-0.28234877748838727\n-1.0421731163633532\n-1.6231481009150985\n-1.931680937363836\n-1.945506892008607\n-2.2080024126967857\n-2.332448794002957\n-2.2825638043408283\n-2.1536567521904324\n-2.042556475174603\n-2.001871481226136\n-2.0334979212989346\n-2.1135390474053466\n-2.218447001426359\n-2.3316340848064883\n-2.436276072220174\n-2.512031256325468\n-2.541002223469558\n-2.512742246336046\n-2.4206374643759183\n-2.25570704960041\n-2.0078811343233127\n-1.6747219543530338\n-1.2688460472271217\n-0.8185960569454931\n-0.36436559524103806\n-2.017812479524437\n-2.1573797608069647\n-2.146842871857846\n-2.066617292258144\n-2.001494699898476\n-1.99988959178323\n-2.0662856265702807\n-2.179690449931087\n-2.313609594291293\n-2.4426684728928123\n-2.5420461729368355\n-2.5915677732401363\n-2.583018434913825\n-2.5191822113261964\n-2.4023248985714574\n-2.224867912574666\n-1.973683543972868\n-1.6430808838695867\n-1.2424697995399612\n-0.7938283364505292\n-0.32699389346763397\n-1.828499263996843\n-1.9399098850860277\n-1.934379374577535\n-1.8766464703088062\n-1.8374262438398823\n-1.8588682348868026\n-1.9466053276223008\n-2.082555973907372\n-2.239748914575614\n-2.389122101495847\n-2.503693482708094\n-2.566556364604782\n-2.5766804502863874\n-2.5418221937524255\n-2.4616759934367316\n-2.319148193600128\n-2.091015211868081\n-1.767419590383616\n-1.3602935648074936\n-0.8955296827843551\n-0.40259594086017536\n-1.6516597712448053\n-1.6994909041177948\n-1.672914948084987\n-1.6202987757501788\n-1.5949561029276822\n-1.628757588966998\n-1.7257281151760395\n-1.8708752624878962\n-2.040643913540322\n-2.208813773005808\n-2.3523870413077717\n-2.460080288396579\n-2.535121123278957\n-2.583289370024998\n-2.593406585591305\n-2.531221820347394\n-2.35752067486127\n-2.055467671657105\n-1.6415836204967782\n-1.1529627315622974\n-0.6281672488912484\n-1.4467849257838488\n-1.4204563909384298\n-1.3699893102985037\n-1.324453102652953\n-1.3143386551068268\n-1.3564372405712675\n-1.451738497286918\n-1.5913027614822433\n-1.7609681616010437\n-1.9432422644645584\n-2.1218442363700536\n-2.289638998241676\n-2.4501347230157418\n-2.6037012209787953\n-2.7270682857894304\n-2.768721145437576\n-2.6721022813931903\n-2.4103152961789505\n-2.0021726131945723\n-1.497457787686395\n-0.9490120431022291\n-1.1734797424426269\n-1.0953240582065433\n-1.0450994103153484\n-1.0272745401023116\n-1.0436584192315905\n-1.0929873040067726\n-1.1755092508171536\n-1.2950765614400428\n-1.4540654482778077\n-1.6465616044090492\n-1.8596262775294594\n-2.083246844398392\n-2.3160038186930727\n-2.553960499842015\n-2.7692528042444877\n-2.9024163987315355\n-2.884785050623309\n-2.6778558484429453\n-2.296822192075913\n-1.7989978617558862\n-1.2503702110821955\n-0.8390495167900518\n-0.7577506526977693\n-0.749066309953129\n-0.78763159512852\n-0.8434052078225491\n-0.8980832325383794\n-0.957168153011887\n-1.0458353528530857\n-1.18884299689452\n-1.3903729858997345\n-1.63189765147\n-1.889514406228722\n-2.1514600960937305\n-2.4144934068175523\n-2.660210620175718\n-2.8375488104803246\n-2.8764750798817342\n-2.727741459198599\n-2.395566061631545\n-1.935035864817472\n-1.4187465408400666\n-0.5060911749467962\n-0.47773709815631094\n-0.550935624549016\n-0.6687594095005274\n-0.7712591692533373\n-0.828120808447709\n-0.8570601851836592\n-0.9108479438501131\n-1.0385308725588018\n-1.24943850681316\n-1.508975511843266\n-1.7688456209131616\n-2.0031468240295887\n-2.215853028242785\n-2.412999761723377\n-2.569122304288493\n-2.6250754875776803\n-2.523822032635067\n-2.2527273474132095\n-1.8546056898879586\n-1.4002088851881425\n-0.25918829220057304\n-0.3240297924247457\n-0.5002845163780947\n-0.7035914423278307\n-0.8514393345410145\n-0.9085148842713178\n-0.9088531992866411\n-0.9330429897962489\n-1.0510177386920354\n-1.2712375852634032\n-1.5362075205566441\n-1.7681878464235368\n-1.9264607293480136\n-2.027116757143995\n-2.1100951353918536\n-2.186622445992681\n-2.2174905153583007\n-2.1418763247377015\n-1.9283321358659027\n-1.6013554929657108\n-1.223457461625995\n-0.1561502747320347\n-0.3207370677675492\n-0.5905794529512036\n-0.863945504005244\n-1.0468817772941215\n-1.1055539784120807\n-1.0890960145811022\n-1.0986384310106487\n-1.2166231887165004\n-1.445777378555734\n-1.7057080052425402\n-1.8921491323355948\n-1.9524043766163874\n-1.9158649245906263\n-1.8565475616728735\n-1.8233535784540402\n-1.7998367793573902\n-1.7251273901776178\n-1.5514565696689795\n-1.2848373670697297\n-0.9774670377120591\n-0.19308926683162397\n-0.42563261147571296\n-0.7486788813955023\n-1.0567368917299476\n-1.2567115474488748\n-1.3207118228110968\n-1.3068069683159198\n-1.323649439206351\n-1.454698664550051\n-1.694048097285151\n-1.9447691973566066\n-2.085861668834891\n-2.058273037856339\n-1.9022915654008647\n-1.7176748213485808\n-1.582482289099091\n-1.4992909411646336\n-1.409232850094126\n-1.2532649248835623\n-1.023269489712657\n-0.7631554736679442\n-0.30131992839177\n-0.5434268734438099\n-0.8608243035648613\n-1.1571997605506397\n-1.3508584377451083\n-1.4221984111751205\n-1.4300568486450427\n-1.4762275659014676\n-1.6336293940352196\n-1.8865335917475132\n-2.1309961210531156\n-2.242273311733519\n-2.161960383939654\n-1.937263139837678\n-1.6810900268230773\n-1.4866821057404573\n-1.3670338349011324\n-1.2643353655091012\n-1.112602673604961\n-0.8950712223011594\n-0.6515464922490848\n-0.3781525147920384\n-0.5688811926256605\n-0.8248235601528133\n-1.066612712078209\n-1.2300756561775135\n-1.3046805637659418\n-1.343667992321878\n-1.4313700751408334\n-1.6220183035382725\n-1.890320010576609\n-2.1344172297889754\n-2.2379203900712916\n-2.1499591946849765\n-1.9214291907376833\n-1.6664222165114486\n-1.478744335196235\n-1.370868802982148\n-1.281663915104736\n-1.1391909187496783\n-0.9214315219225684\n-0.6680388340877483\n-0.3370438425996696\n-0.43845414544785655\n-0.6012668781192136\n-0.7632104031215672\n-0.878082907738623\n-0.9442642806557711\n-1.0074441128559286\n-1.131128361092692\n-1.3486131281009026\n-1.6268044304139933\n-1.8724279375139767\n-1.9859041635788577\n-1.9294311239567978\n-1.756376092751034\n-1.5738576054620346\n-1.4645733572409858\n-1.4298695634059202\n-1.398560854313346\n-1.2899755969582811\n-1.0766934010653655\n-0.7999933309833152\n-0.15037483458609913\n-0.1624449036638076\n-0.23460729488769871\n-0.31557296429055803\n-0.37307589802311547\n-0.4139555434358648\n-0.47902763752415467\n-0.6150129729922504\n-0.8380387758339207\n-1.110376369581549\n-1.350640241855789\n-1.47993456598737\n-1.4768653805084595\n-1.3979037790243645\n-1.339701903722732\n-1.3670124568756492\n-1.4622890967560247\n-1.5377660390684333\n-1.4993505987580082\n-1.3110471994566177\n-1.0142878972172764\n0.13895455718310856\n0.18001345384995204\n0.16713588570939208\n0.1485247379305079\n0.14772044007745144\n0.1495180995440073\n0.11250399364220698\n-0.001826076639968477\n-0.20005074172608417\n-0.4437419955992601\n-0.6639789350352947\n-0.8021970531181646\n-0.8540172852061998\n-0.8802786586995159\n-0.9674829489165173\n-1.1608712613682002\n-1.4210808725635875\n-1.6403682839632951\n-1.7074727315975315\n-1.5733647690344799\n-1.2748865573355275\n0.44034120484424477\n0.477066436204165\n0.4788470274676708\n0.49577274007925354\n0.5456875842206763\n0.6043389966736203\n0.6240167604451887\n0.5652098413153546\n0.4223074305919754\n0.23039462660688592\n0.047004455609243045\n-0.08618448266077472\n-0.1794292749824713\n-0.29815718795377055\n-0.5208867519474953\n-0.8761564995730549\n-1.305343844601587\n-1.6823145306202782\n-1.8781217179333165\n-1.827016667281209\n-1.5545120714173986\n0.6546054720368115\n0.6279389807561166\n0.6032640862962264\n0.6326306525259859\n0.7276932825456015\n0.8538549295004394\n0.953103312281268\n0.9778182252734933\n0.9158345115038546\n0.79478468267643\n0.6619270047897512\n0.5468334056429676\n0.42963251071204756\n0.24265749131267356\n-0.08609356396320145\n-0.5732484356777707\n-1.1475709003413144\n-1.6708868535182164\n-2.000207537046139\n-2.0520240285391083\n-1.834241742864052\n0.7091149160182795\n0.5751331756740221\n0.49786371394193374\n0.527741624170023\n0.6673003912071405\n0.8703788330351756\n1.067131609338464\n1.197924783179408\n1.2383298422096214\n1.2039441910805762\n1.131117789187079\n1.0412135937060185\n0.9111502717390909\n0.6765537965380188\n0.27361114881218285\n-0.30584147502091286\n-0.9855238313247732\n-1.6242789817505368\n-2.0724199857393963\n-2.231674943340168\n-2.0894919682982596\n0.5820920048916154\n0.3220107847734308\n0.18539892882312792\n0.21654264316878624\n0.40567986471338635\n0.6947951521207969\n1.0031700353505286\n1.258534907295327\n1.4206392987448186\n1.487958420191906\n1.482530330440044\n1.4185795361863613\n1.2756830138742679\n1.000748629716357\n0.5440357887820904\n-0.09357784738928698\n-0.8359866715980337\n-1.5480253790188696\n-2.082994581963058\n-2.3352990905860076\n-2.274624116302583\n0.31651142005719457\n-0.061445809160446174\n-0.24693388881515865\n-0.20525517703730145\n0.039831612924981386\n0.4197083505428907\n0.846065956981505\n1.2365224648685782\n1.5341198128880356\n1.7155954971017122\n1.7831329675858774\n1.741612172940303\n1.5770154462384998\n1.2560019752789051\n0.7517395080535851\n0.07885885301265194\n-0.6881526368479842\n-1.4269950398307896\n-2.0040835662712433\n-2.317175105706921\n-2.326296014199502\n-2.07385499114104\n-2.277491136007697\n-2.3263533098279154\n-2.29329180151316\n-2.2523518590627134\n-2.2417633887997006\n-2.261962822683657\n-2.299401737770328\n-2.347410830338596\n-2.4061722280567714\n-2.4701490355065836\n-2.522364516612125\n-2.5414803084021145\n-2.5107205045822205\n-2.4183734736180167\n-2.2529773418777506\n-2.002547892778164\n-1.6607398403785947\n-1.2349760567648698\n-0.7516814174255675\n-0.2570207957560662\n-1.7587925561129438\n-1.9997715413332031\n-2.11613061412541\n-2.160016782180616\n-2.186243243422247\n-2.22298967012199\n-2.2716218981065914\n-2.325351476857435\n-2.382546729415708\n-2.443017492745561\n-2.4979857768211353\n-2.5296558583506368\n-2.520882752889852\n-2.461898997690991\n-2.3468416257834317\n-2.1673977810885283\n-1.9135680221999287\n-1.580724900879046\n-1.174926367572935\n-0.7137972778887498\n-0.22733820698488216\n-1.4398677863852996\n-1.6651008474442435\n-1.8057809457259104\n-1.8937383872310605\n-1.963647070632934\n-2.0318534763413183\n-2.098192400503166\n-2.1607310424694433\n-2.2236640998796844\n-2.291095265942367\n-2.3577605121513354\n-2.4096094970968096\n-2.4321648985612327\n-2.414423635970193\n-2.3442832218484533\n-2.2050863617045255\n-1.9817406473919448\n-1.6708157188254944\n-1.2829363552665907\n-0.836579252178888\n-0.3542537832312078\n-1.152948859243228\n-1.3131550100025358\n-1.4367304967503287\n-1.5369723752880802\n-1.6280380390582607\n-1.712387027274648\n-1.7854553596780427\n-1.848220497568196\n-1.91167944775672\n-1.9886125697474455\n-2.082995964520297\n-2.1880473378197873\n-2.2908436687102576\n-2.373593872951588\n-2.4099223032271357\n-2.366293522289613\n-2.2150688075453218\n-1.949683691956034\n-1.586427956246979\n-1.151608131591015\n-0.6698779698651691\n-0.8745817668735967\n-0.9443922001487408\n-1.0304799469283132\n-1.1278273523764923\n-1.2285031263548518\n-1.3191675972568007\n-1.3899288606561306\n-1.4454337513298068\n-1.5056303474183892\n-1.5942333285758359\n-1.7253911906413357\n-1.8987885380784988\n-2.1016379126005997\n-2.3088411633712624\n-2.4801626051099532\n-2.564484847936871\n-2.517764979096425\n-2.3241741230907884\n-2.0013393943943534\n-1.584789498319246\n-1.1081188239940847\n-0.5716908897780861\n-0.5604383382995977\n-0.617776321840573\n-0.7180922807798815\n-0.8291261321046015\n-0.9215767245031081\n-0.9831725764252308\n-1.026929629972285\n-1.0848198222042829\n-1.1899241107687057\n-1.3603899980494685\n-1.5954429596138429\n-1.8800615437427943\n-2.1868807365307177\n-2.472047851468453\n-2.676160280593841\n-2.7413407859903423\n-2.6373311469547556\n-2.3748149859728063\n-1.9935991737828829\n-1.5376353392317323\n-0.24995747153086256\n-0.19742579590687725\n-0.25715898092708045\n-0.380032841782338\n-0.5088264434209187\n-0.6012825223163585\n-0.6492670322452643\n-0.6811493053877751\n-0.7433345125135311\n-0.8726403977969444\n-1.0792332496995094\n-1.3504443905845704\n-1.666036152804704\n-2.005209143895282\n-2.3374883858592685\n-2.611914174679333\n-2.765376652689163\n-2.7510452688139377\n-2.5635763646737413\n-2.238100724276504\n-1.825331959890664\n0.03612364190201234\n0.07652228502541192\n-0.02279955369395026\n-0.18879096392451444\n-0.342362939594425\n-0.43423753901311635\n-0.467723229780022\n-0.49212186076324826\n-0.5681999954333428\n-0.7287485204816981\n-0.9630422651063952\n-1.2352930269834204\n-1.5176249195645592\n-1.8048628191264076\n-2.0968972900367024\n-2.3687361930830644\n-2.5630854320365097\n-2.618015203545987\n-2.505958988335509\n-2.2488292048378913\n-1.8984141907747842\n0.21358124365736586\n0.19678193896727691\n0.03248269472239329\n-0.18671307191697117\n-0.3671007601179035\n-0.45938809950637527\n-0.4827334262052254\n-0.5079530771858707\n-0.6066449089331218\n-0.8007033994621899\n-1.050505477333978\n-1.2913412889910951\n-1.4870885949122385\n-1.6536504862332722\n-1.831144656446523\n-2.03159400017232\n-2.2124057783296864\n-2.3009063970932555\n-2.24657232339716\n-2.0539820006643064\n-1.7716212444904915\n0.23699707087796895\n0.14500772903868864\n-0.08502661152851232\n-0.35030748002263934\n-0.5526598254158444\n-0.648658430154283\n-0.6724751593590899\n-0.7104527356206205\n-0.8381656366782124\n-1.0627536658595744\n-1.3158598641220092\n-1.506205500518945\n-1.5911995753738557\n-1.6077210668198951\n-1.6351674514265806\n-1.7231748788237722\n-1.847475867359904\n-1.930271247193426\n-1.9028269863210978\n-1.7539945261273377\n-1.5276679015831505\n0.12137796019109715\n-0.02878472545342703\n-0.2974952419608261\n-0.5839903947714333\n-0.7964050696550871\n-0.9007495107627879\n-0.940481316708933\n-1.0062564345958265\n-1.168596173736118\n-1.4191245078402712\n-1.6681603558291922\n-1.8072410045213774\n-1.791219588062626\n-1.6731765059481525\n-1.5615504895441816\n-1.5347333200617372\n-1.5846321025303673\n-1.6331216786924356\n-1.6007896603417802\n-1.4661093461626606\n-1.269745502061462\n-0.05626565985302889\n-0.2200353143231517\n-0.4816261738221428\n-0.7534894762942113\n-0.9588390774960587\n-1.07443426550096\n-1.1452262544728207\n-1.2536090510495068\n-1.456051304462175\n-1.729812177337278\n-1.9746319008074247\n-2.077469167239652\n-1.9956959054499999\n-1.792056747103592\n-1.5896527143026136\n-1.4818158219430329\n-1.4701858450754965\n-1.4783502672018143\n-1.4225582371136332\n-1.2762775446988055\n-1.0791507776220168\n-0.18910229367570963\n-0.31527904095616854\n-0.5242127207988325\n-0.7474701734445137\n-0.9276723096575967\n-1.0520733031902871\n-1.1609879593146886\n-1.3193696087940872\n-1.5635598953985976\n-1.8585903136512423\n-2.103642851434399\n-2.192637813549797\n-2.090506688940904\n-1.8642555884317389\n-1.6385872962651602\n-1.5080197691352426\n-1.4755024459891475\n-1.4646380417773095\n-1.389504972308612\n-1.2208230924294883\n-0.9983526151205604\n-0.19158406934437267\n-0.24681659682074297\n-0.37765312123117134\n-0.5332101998867245\n-0.6743766452958937\n-0.7978618629989107\n-0.9374804064732771\n-1.1383523267953173\n-1.4158481046728353\n-1.7258037908311863\n-1.9738086342989298\n-2.068480995040762\n-1.9861774572037394\n-1.795327148561733\n-1.613700849051213\n-1.5267149783995988\n-1.5304772616912334\n-1.5439417955417976\n-1.4765673705085551\n-1.2944258510166033\n-1.036231386769828\n-0.04161419427370738\n-0.02564216342348935\n-0.08254445569129842\n-0.17161462142343176\n-0.2668929607249062\n-0.3735113361071143\n-0.5214880121544354\n-0.7407078329631851\n-1.03022574639449\n-1.3406688404208573\n-1.5875623665146499\n-1.6973501026929574\n-1.6597101864742063\n-1.5439201616002034\n-1.4573001622355415\n-1.470672836494567\n-1.5674534376897689\n-1.6566282779419064\n-1.6380325695378484\n-1.4681586480466136\n-1.1809007360757748\n0.21077410830988974\n0.2661339286659512\n0.2549728759091803\n0.2160991657070639\n0.16781354118917235\n0.09680891505040279\n-0.02857773118346074\n-0.23175225213356043\n-0.5035700934687943\n-0.7939841960643195\n-1.029246385625087\n-1.1527270977182882\n-1.1668959779632555\n-1.142142157178605\n-1.1754909205092798\n-1.3223222933297931\n-1.5513281340445633\n-1.7584039742155864\n-1.829366712838047\n-1.7055135793129406\n-1.4101903552289654\n0.4705814539443445\n0.5155191483335599\n0.5131663612245561\n0.5046324825715196\n0.5028821112035775\n0.4854431529907739\n0.41344413209808906\n0.26097062653803516\n0.03671521453838711\n-0.21305651438984974\n-0.4245816174498742\n-0.5545310883030767\n-0.6150671859567503\n-0.6770629379125417\n-0.828867146440524\n-1.1129636143530486\n-1.4855855925001715\n-1.8305549897410884\n-2.018540265266546\n-1.9718128129503456\n-1.6970787023764604\n0.6403694765127401\n0.6248673693735913\n0.6004979326731252\n0.6090139239180896\n0.6560014866758408\n0.7078120455788675\n0.7145883588768402\n0.6414631442804772\n0.48956562662655045\n0.2971645467845505\n0.1187724734143325\n-0.01101182027349612\n-0.10883823423246408\n-0.24316735436946635\n-0.4943020434523264\n-0.8955361193179212\n-1.3960206551119487\n-1.8727616120372534\n-2.184581317524123\n-2.234584960422968\n-2.008591362594535\n0.6553025931241923\n0.5427508470879818\n0.4794365517864403\n0.5022828943835691\n0.6047906295427978\n0.7399618151920109\n0.8455581691477381\n0.8746558210568462\n0.8158831577209984\n0.6952009924519347\n0.5570005613076514\n0.4305582099827001\n0.30074097472109873\n0.10704684889095928\n-0.22042052888616803\n-0.707817674491579\n-1.3030822945307592\n-1.8842003312073334\n-2.3054621830216826\n-2.4553103213512\n-2.298421169024812\n0.5029582744357395\n0.2769482015895175\n0.1720403325595381\n0.21485141820486575\n0.3824755150911674\n0.6134184360270929\n0.8338349653379256\n0.9845680079126087\n1.0388813540854107\n1.005831650378214\n0.916262806793628\n0.7946096165661558\n0.6322067921127026\n0.38380020875578236\n-0.0041059520244211\n-0.5488586605842123\n-1.2008068272346306\n-1.846744762608696\n-2.3461900772516455\n-2.5817739101500172\n-2.501821678286672\n0.2302863339452692\n-0.10481183262468718\n-0.2439746272949037\n-0.17354051536166892\n0.06569547008459331\n0.3986796258712637\n0.7427168211973081\n1.0286592304982092\n1.2136414528688135\n1.285509462139789\n1.2560505537547417\n1.1420035697554693\n0.9436189393518175\n0.637998940412571\n0.19626384323396984\n-0.3849139378271538\n-1.0585454483655141\n-1.726111859682936\n-2.2623732042183713\n-2.5555439876306787\n-2.5465215330363757\n-1.700088330182254\n-1.971192517576366\n-2.1213254442094964\n-2.1958126249849954\n-2.2429555104984864\n-2.2866827235649616\n-2.326604862389125\n-2.3575017234448197\n-2.3841732502164525\n-2.417058913067965\n-2.4571589028275653\n-2.488910824932379\n-2.4877355211794274\n-2.432329872407605\n-2.3099081522765683\n-2.1134893063471907\n-1.8384181060699003\n-1.4834104222494027\n-1.0560482822338262\n-0.5799302941613593\n-0.09918414494638839\n-1.3102444051869178\n-1.638506179898652\n-1.8800014671581273\n-2.0546877847166165\n-2.1854564686704663\n-2.2807403618404436\n-2.339092190154119\n-2.3651862618399413\n-2.3763437979942488\n-2.3912264243061436\n-2.4131335462880017\n-2.4255362497150994\n-2.402853185832978\n-2.324234297828786\n-2.1791181511443476\n-1.9650518107305839\n-1.6843203520139998\n-1.3423096883774122\n-0.9470194219438319\n-0.5110044976999077\n-0.05748722426410069\n-0.9349225615378316\n-1.2598179525905486\n-1.5401165577535458\n-1.772725287262645\n-1.956261184307845\n-2.082918600831867\n-2.1472420716791376\n-2.1602916312676754\n-2.151138995810534\n-2.1508722004520884\n-2.172774208738021\n-2.205608082929693\n-2.2227284266560456\n-2.1959645183026044\n-2.104310753796838\n-1.9372240683292077\n-1.695857171760709\n-1.3911644981061837\n-1.0370630963795726\n-0.6439484463395235\n-0.22155990511885726\n-0.6180957126568032\n-0.8778892923168762\n-1.1396317113220178\n-1.382179778027563\n-1.5832619335188411\n-1.7193326452411597\n-1.7781822614523861\n-1.7731292428988894\n-1.7428180269615865\n-1.732753008034388\n-1.7714441594237798\n-1.8579330180603364\n-1.9658137242329836\n-2.056000536634855\n-2.0894270842013345\n-2.0376070703263576\n-1.8907801883709983\n-1.6588713802448822\n-1.361336756871708\n-1.0128240907335968\n-0.6192999453781365\n-0.34077854783756223\n-0.49509668738221535\n-0.6992435889670183\n-0.9180689087399045\n-1.1114361184488608\n-1.241475619832137\n-1.2887779022953438\n-1.2670960833495322\n-1.2224106631851797\n-1.2128120036295282\n-1.2810057248363087\n-1.4364041052800793\n-1.654444015016363\n-1.887950313520884\n-2.0819502495878943\n-2.188485476536826\n-2.180144412840205\n-2.056324925407317\n-1.8354671828228728\n-1.5375271676695892\n-1.172776973705929\n-0.06746911924015464\n-0.1107671880596186\n-0.2490557055179501\n-0.4344055048698543\n-0.6106818812413124\n-0.7285643838426541\n-0.7648263857592585\n-0.7357239472099639\n-0.6928966285489775\n-0.7005412725805336\n-0.8064420292032555\n-1.0236912804758997\n-1.3302478151281658\n-1.6798962631611332\n-2.014639281568847\n-2.276173099102083\n-2.419322003807629\n-2.4243484524881733\n-2.2982290635781144\n-2.0615141125984735\n-1.7324475503973424\n0.2061756837359212\n0.24598394625687803\n0.15400947751673755\n-0.008538712621447786\n-0.17141462939463636\n-0.27864211075419654\n-0.3097854216338103\n-0.2884446752512879\n-0.2703571907111222\n-0.3157908081287122\n-0.4626165812811891\n-0.7158902233144051\n-1.0554992505077454\n-1.4485432295801104\n-1.8534967006902932\n-2.218577312858404\n-2.4874527860157096\n-2.616615139129993\n-2.5913569084729113\n-2.425015491738143\n-2.1430894417111848\n0.44002366306096263\n0.515265807179123\n0.43603733651895027\n0.27636076231777906\n0.11703852383180546\n0.014558322386102773\n-0.02050023142616908\n-0.02356355675255628\n-0.05226053585134949\n-0.15248276567771946\n-0.3371447081369592\n-0.5914849169278735\n-0.8960902957062746\n-1.2424074297987788\n-1.6237549366415651\n-2.012356530832627\n-2.3506914435289286\n-2.572025770927623\n-2.634186428492808\n-2.536836140720669\n-2.310006077401268\n0.5739201024651877\n0.6366772124314863\n0.5394693837776643\n0.36549941409110076\n0.2002621790558159\n0.09483308805033808\n0.04576433589899942\n0.004872106912969798\n-0.08406192671700552\n-0.24532832457732923\n-0.4581015450015169\n-0.681357657083538\n-0.8955570562414215\n-1.121979063225126\n-1.3985172023741494\n-1.7321054575495252\n-2.0727952930070472\n-2.3356701844974044\n-2.4521124333638467\n-2.4064741677695825\n-2.2313011484559624\n0.5686103295993163\n0.5891927428743138\n0.4599720229363484\n0.2661401110620947\n0.09040316373381962\n-0.025732033334453064\n-0.09907220215202805\n-0.18643077740703795\n-0.3381674841298583\n-0.5548152486524547\n-0.7823714744343473\n-0.9551015510535823\n-1.0536645469618229\n-1.1274761906997641\n-1.2568566944950579\n-1.4837471056775327\n-1.7702828765437895\n-2.020917763180319\n-2.147712466259411\n-2.123314975496732\n-1.9825384939059356\n0.4370148910948721\n0.4146993879341565\n0.26233640471313713\n0.05808414066333256\n-0.12563935662833714\n-0.2586874034846627\n-0.36627156671883654\n-0.5056498281050175\n-0.7160832216035917\n-0.9764199757902858\n-1.2077309721793563\n-1.3278141348561352\n-1.3190487028908384\n-1.251774528422338\n-1.2371308214219923\n-1.343576496184574\n-1.545186524178364\n-1.7433393465391447\n-1.8405282358092032\n-1.803813423641306\n-1.6708680919382282\n0.24794652519886995\n0.20846461669283478\n0.05996549886246072\n-0.13399037339329567\n-0.31673647242991976\n-0.46931846129576904\n-0.6188066308176889\n-0.8138091859705714\n-1.0775808169456234\n-1.3713066875843172\n-1.6024352525500785\n-1.683182028746022\n-1.599816279115391\n-1.4345240504144092\n-1.3141135429637938\n-1.3212700285540517\n-1.4387273045176867\n-1.5700465642559687\n-1.6161397544092688\n-1.5431221069103493\n-1.3911619003638234\n0.09799121020525092\n0.07773587184774655\n-0.03640854686079287\n-0.19812337138719016\n-0.36804532792458744\n-0.537106006355641\n-0.7293884832204451\n-0.9787518601645679\n-1.289768947224002\n-1.6102347441449556\n-1.843917959555097\n-1.90685147155458\n-1.7911947999060196\n-1.5833917777592115\n-1.412938791170058\n-1.3656021824728324\n-1.4283281865396726\n-1.5085290065594457\n-1.508697802631536\n-1.3943664700573728\n-1.2055637871588156\n0.0645310631987801\n0.08957992768546497\n0.027134467031510567\n-0.09000503841996732\n-0.23687475993469853\n-0.412628217999476\n-0.6373270302125817\n-0.929608935256284\n-1.2766093296321763\n-1.6169370524191846\n-1.857169220623005\n-1.9228004066159725\n-1.813051418334961\n-1.6140877796144277\n-1.4501579144383276\n-1.402787928779302\n-1.458981818329581\n-1.5283216070388717\n-1.512873060540675\n-1.3733654751022137\n-1.1446583578008962\n0.16675014338024674\n0.23870779886337345\n0.2239528933752517\n0.14971070517062834\n0.032153318629362104\n-0.13477809330780488\n-0.36986013565108955\n-0.6814941697800867\n-1.0446572998153947\n-1.3931818487311602\n-1.639633305961329\n-1.7207141829362316\n-1.6427008428044365\n-1.4896632279218167\n-1.3775745554089922\n-1.380495473963824\n-1.4825349172355824\n-1.5920674254489668\n-1.6056914035086671\n-1.4725154327382004\n-1.215763235836178\n0.3585519248144351\n0.4542059020882565\n0.466429356084209\n0.42409708732582807\n0.33933892488225936\n0.19947271321892934\n-0.0176061568029926\n-0.317759873696315\n-0.6713006199159475\n-1.0118468356236123\n-1.2589602858732443\n-1.3594235069408693\n-1.3252335763850889\n-1.2378026849253376\n-1.2048418942348387\n-1.2927767430126393\n-1.4816988162420044\n-1.6760263072059436\n-1.7620822138653334\n-1.6709474617442166\n-1.4079349124465623\n0.5551339545162097\n0.6371555224881771\n0.6512772866423031\n0.6299788756913163\n0.5820102061667018\n0.4868894601365401\n0.31500290667016184\n0.056083038573714106\n-0.2627202056941247\n-0.5790994655639379\n-0.8196916507343035\n-0.9386666812809841\n-0.9509722258092768\n-0.9343278453743937\n-0.9888987915857004\n-1.1748780988301375\n-1.4693091471687412\n-1.7724511625991384\n-1.9586200452967502\n-1.9376180694168736\n-1.6925915799594442\n0.6724784797937886\n0.7026222212658659\n0.6998311780859172\n0.6959003472412881\n0.6920591074663935\n0.6575178058258242\n0.5527136159945956\n0.35881689799482164\n0.09514574468366632\n-0.18390793975842623\n-0.4123751976995438\n-0.5488975087030612\n-0.6073918102210056\n-0.6590589134014468\n-0.7958320414557134\n-1.0729206905730466\n-1.46681444100853\n-1.876615284999906\n-2.1673712747088234\n-2.229171812202404\n-2.0222833029304246\n0.6572975942312507\n0.60563385763772\n0.5770344343793461\n0.5950874275100873\n0.6467953688134092\n0.6879541004696144\n0.668264437931195\n0.5589489987098224\n0.3682518583427479\n0.13897785538917162\n-0.0719347567818387\n-0.22590625712474743\n-0.3315192231470059\n-0.4485213868829825\n-0.6571301312434579\n-1.0068785844425743\n-1.4762212026358745\n-1.9684093796289495\n-2.346166721754753\n-2.486483167923044\n-2.3303473882541694\n0.5010097486118124\n0.35027640933871496\n0.29474084958263624\n0.3436391742017957\n0.4640588686117084\n0.595903207235855\n0.6783881056335099\n0.6731089071463989\n0.5754426905369456\n0.41280791488443835\n0.22952308330262827\n0.0606122767348376\n-0.09396683134278616\n-0.27638213749068674\n-0.5487449499104127\n-0.9511869148203007\n-1.4649620445552047\n-2.00323439187302\n-2.4358901329762794\n-2.63730105551911\n-2.5366751269520655\n0.24269898183932526\n-0.010366920550538339\n-0.09034146714658142\n-0.0040202992562221596\n0.1939897076412933\n0.42731674965317445\n0.625944250771413\n0.743216155169022\n0.7609374910280398\n0.6874142382932282\n0.5491111866112428\n0.3739789223471841\n0.17140989147214336\n-0.07762853684524007\n-0.4094376214892623\n-0.848598428282282\n-1.3776566024765113\n-1.9241267595813563\n-2.374677292485345\n-2.612968292959528\n-2.5660371852792654\n-1.0926342528235864\n-1.4020116785350147\n-1.6351323514357539\n-1.8074262485952524\n-1.9419940517443166\n-2.0519979241830093\n-2.139363892967989\n-2.2059173589207006\n-2.260941717047448\n-2.314945110210907\n-2.3662144219013115\n-2.3951931549110963\n-2.373063727157829\n-2.276752010107348\n-2.098334688614086\n-1.8441471089787544\n-1.5275104014324885\n-1.162004419337764\n-0.7605047740340822\n-0.34108748501888897\n0.06503826661467116\n-0.6941285899429808\n-1.071966467607016\n-1.4091417362005032\n-1.6939507782539387\n-1.9206633636520678\n-2.0830023964708566\n-2.179490512059381\n-2.222980393959457\n-2.240164457346399\n-2.2564514338295503\n-2.2775252313745984\n-2.283643093890044\n-2.241337508886735\n-2.122695123922359\n-1.918881834892522\n-1.641769263451021\n-1.3156070189725924\n-0.9644934511733467\n-0.6029376000853812\n-0.23635364706468565\n0.12777854227569385\n-0.35090785804210967\n-0.733030175221316\n-1.1137621963079702\n-1.4589614446944843\n-1.7376324560696936\n-1.9246061780718513\n-2.011812445917787\n-2.01842407054567\n-1.9866811153222965\n-1.9609942995657104\n-1.9632610411373825\n-1.9817226281722355\n-1.9800257907628538\n-1.9185770466005838\n-1.7745943350806748\n-1.5514037009152837\n-1.2741944348772911\n-0.9747482153292388\n-0.6734142205420905\n-0.3708754204597895\n-0.057585058464599825\n-0.0946104616193928\n-0.41108686907670133\n-0.7655027970795452\n-1.1093433986349126\n-1.393197666053279\n-1.5757491237031864\n-1.6396892328617945\n-1.6045946367601438\n-1.523586966074724\n-1.4603270885623019\n-1.4581268726368588\n-1.5199290833688472\n-1.610418021599557\n-1.6767954845069237\n-1.6750276678925076\n-1.5883449271055738\n-1.4302003050593903\n-1.2306371332502568\n-1.0136082031268234\n-0.7807214224021664\n-0.515189195869926\n0.10468229696684972\n-0.0942556003783821\n-0.3684326293192548\n-0.662280257576068\n-0.9149410512055205\n-1.0731896402342347\n-1.1103851250954033\n-1.0424652770580725\n-0.9275341197896836\n-0.8433375255321316\n-0.8521438695148156\n-0.9727619039700706\n-1.1753672370557666\n-1.3996877071174367\n-1.5837729438853785\n-1.687968646690262\n-1.7042750952447587\n-1.6483759263255493\n-1.5393263811316054\n-1.3803870602069672\n-1.1565268083761548\n0.2944663228546851\n0.23153857137987544\n0.06000716246767013\n-0.16154766161434253\n-0.36612352263877135\n-0.4940396704291494\n-0.5130534194076475\n-0.4352057177778246\n-0.31776162707339317\n-0.24187004226083353\n-0.2772036705959202\n-0.4520377665423272\n-0.7452449665257532\n-1.1011747041033075\n-1.4545029416249378\n-1.7511688681890103\n-1.9592255283553621\n-2.068838414070191\n-2.0824433515601575\n-2.000734807675312\n-1.8158662239735106\n0.49419967354369376\n0.5510085828852169\n0.4726894698180537\n0.3196338226498874\n0.16116687764928095\n0.057143006431264354\n0.038743752951855726\n0.09492419510842431\n0.17437569203633174\n0.20644422660819828\n0.1316165645683114\n-0.07583475966574937\n-0.4045857008447271\n-0.8182825384198651\n-1.2690924919723443\n-1.7050868210294494\n-2.0755057574592692\n-2.339045832002631\n-2.4712982367859713\n-2.4641626538074135\n-2.3186707721615107\n0.6796116641973917\n0.8154608860843737\n0.8000813417833719\n0.6950324801463736\n0.5684977823496116\n0.47441367516926825\n0.43610318592573627\n0.44002568552993004\n0.4449408558568706\n0.4034684432666431\n0.28312133650818794\n0.07310557595248568\n-0.22438491591741272\n-0.6042645262978885\n-1.0550060409112731\n-1.543986643173235\n-2.0110412191788667\n-2.3840403605647946\n-2.6072950522405263\n-2.6598712555472126\n-2.5515527583956663\n0.8009310582883415\n0.9671374911665609\n0.9788879967039232\n0.8967460900451556\n0.7839184683413052\n0.6839049263079939\n0.6082803649499411\n0.5396455801991138\n0.4497542446583811\n0.3219166844434458\n0.1601336526859516\n-0.024214368600927294\n-0.23658152029563695\n-0.5080889571871161\n-0.8727469698351058\n-1.3276532204206335\n-1.8123133499719195\n-2.2300599637798113\n-2.497102244539766\n-2.5805754763370246\n-2.4990647460847493\n0.8179978770143173\n0.975229971393226\n0.9869252996419089\n0.9084528755985772\n0.7939988710509915\n0.6746086892578607\n0.5506154832861512\n0.4028124084736966\n0.21780260712814048\n0.010013026103329992\n-0.1808215480058868\n-0.3215645968241976\n-0.42387855488534765\n-0.551788862865557\n-0.7818402357680796\n-1.1413453479702218\n-1.5752449498602505\n-1.971887324306465\n-2.228685944290903\n-2.306177719659833\n-2.2322705313013635\n0.7302411236589066\n0.8611447666506233\n0.8629530888144394\n0.7808904493880302\n0.6567654928709636\n0.5095651172570044\n0.33242943912156164\n0.10906103802187772\n-0.15798557075675568\n-0.42801598851557987\n-0.6341609007278048\n-0.727979364190471\n-0.7262138417182413\n-0.7165482965640759\n-0.8060175518129915\n-1.0449714115772037\n-1.3860672399629568\n-1.7127426544531401\n-1.9150245995817379\n-1.9532251482310952\n-1.864108005543271\n0.584587967795196\n0.6959260017180409\n0.6949950123420763\n0.6136979965465059\n0.4800478056656132\n0.30291004666615073\n0.07323468699966185\n-0.21737922705860235\n-0.550096383761784\n-0.864745793108936\n-1.0784736392559733\n-1.135846580883408\n-1.0576106276727586\n-0.9440622864484931\n-0.9180464539037985\n-1.043387768551506\n-1.2808880253474162\n-1.5173440286876514\n-1.644420590995416\n-1.6255559551066\n-1.5030961900210675\n0.4551731369254153\n0.567773580158148\n0.5787640880087981\n0.5077054122004299\n0.3703899820541281\n0.16798956822923472\n-0.10750465769051587\n-0.4541592284005729\n-0.837993127560889\n-1.1856226456459344\n-1.407337653158585\n-1.4470961714295854\n-1.328266246574568\n-1.1545151338777755\n-1.05275568566138\n-1.0929047667365719\n-1.244067975117269\n-1.401426290820147\n-1.4620726934818125\n-1.3906511413439073\n-1.2283776220161253\n0.4047144116124741\n0.5371581742389395\n0.5698117016169437\n0.5154904051234883\n0.38221917857604204\n0.165632855828024\n-0.14118404642620241\n-0.5275937149297389\n-0.9478760601619634\n-1.3205717321611417\n-1.5545735684370925\n-1.5962245889426097\n-1.4698243441771064\n-1.2765806340694525\n-1.140915086436053\n-1.1352447520317237\n-1.2372745111079437\n-1.3520070039181178\n-1.380370551319988\n-1.2816328249941917\n-1.0869031336635788\n0.4513155913315128\n0.6075292725280104\n0.659916506321391\n0.6221668459370093\n0.49992955367173053\n0.2846900928962466\n-0.03190452698104451\n-0.43545692065628927\n-0.8739729969260139\n-1.2624195903399968\n-1.5109316929517513\n-1.5686118848276438\n-1.4590052246665244\n-1.2781294763365367\n-1.1456470842505322\n-1.1356276496400226\n-1.2343261374670949\n-1.3551812627901736\n-1.3980899802724691\n-1.308589828544838\n-1.0988583249652129\n0.5622116409860052\n0.7292614537580917\n0.7903683448703056\n0.7651650999413633\n0.6601164329334299\n0.4627663355528888\n0.16015291846418567\n-0.23522343528057466\n-0.6711262254582957\n-1.0631657792225724\n-1.3241616791921542\n-1.4052583025084493\n-1.3277901506491583\n-1.181558126996999\n-1.0811709164862386\n-1.1023109437035568\n-1.2389844086440482\n-1.4104259530288603\n-1.5105124810071513\n-1.464489566806396\n-1.2595652821454486\n0.6755602983624254\n0.8295939845952738\n0.8869390600573013\n0.8721615760492636\n0.7910578452311334\n0.6259963758096854\n0.35737709893061\n-0.007978256820915242\n-0.4223872096345396\n-0.8059102503119604\n-1.0754448689192335\n-1.1834591523311748\n-1.14767807999654\n-1.0506850717231613\n-1.001490484742102\n-1.0766729879885402\n-1.276614256651119\n-1.5242937320688688\n-1.7052747057928086\n-1.722523233438898\n-1.5368747392329833\n0.7311869541855938\n0.8448998161843946\n0.8899511067297468\n0.8889337449335528\n0.8408219065974443\n0.7200812752633716\n0.4999586522702124\n0.1805298516619782\n-0.1978428439655442\n-0.5629233357365662\n-0.8375595385810506\n-0.9753316488793646\n-0.9886622091022965\n-0.9506796206460626\n-0.9624741565028283\n-1.099331130878587\n-1.3664425717362114\n-1.6904138863877418\n-1.95044897402081\n-2.0309400002405926\n-1.870074560308003\n0.6910215898885887\n0.7385354856478603\n0.7668756915476589\n0.7877317291946095\n0.7850053468380906\n0.7214279171013702\n0.5630295110488373\n0.30365887848677264\n-0.024907410037059208\n-0.3610104652092705\n-0.6360773527466126\n-0.8054541487935043\n-0.874405064759773\n-0.9027462344172488\n-0.9789246927148358\n-1.172866553440441\n-1.492837359352195\n-1.8710740698703012\n-2.1865137889050956\n-2.313694346785233\n-2.176089285831229\n0.5462378346740451\n0.5062372245455045\n0.5148932642611079\n0.5669124061589024\n0.6244381908592906\n0.6345202344046248\n0.555243169270156\n0.37465633307695967\n0.11513364313369223\n-0.17507301953519772\n-0.43951255290675695\n-0.6373022964684885\n-0.7652810268767833\n-0.8652251441774697\n-1.0062901421207702\n-1.2471412454844866\n-1.5968120220499544\n-1.9963286896928545\n-2.33298997496765\n-2.483131819645915\n-2.3656204633906546\n0.31905814494908924\n0.1784372725462351\n0.16393305870719388\n0.2528260698604452\n0.38323009642635775\n0.4841768143110654\n0.5046880464306938\n0.4267973154862128\n0.2625579268634768\n0.04392757828653071\n-0.18911698793461662\n-0.4030152880082305\n-0.5864248766878366\n-0.7590516767592712\n-0.9638061605454138\n-1.2413532144358483\n-1.5984130073332987\n-1.9876513015208568\n-2.3134239920813333\n-2.465548164195113\n-2.368031018131594\n-0.3339524099399611\n-0.6378784939280848\n-0.9160134166089406\n-1.155576436998377\n-1.3580917246780508\n-1.5310871478749455\n-1.6826121550222162\n-1.8206121652676224\n-1.9518573535901282\n-2.075784355048338\n-2.176894537774322\n-2.2246254669456036\n-2.184791677254461\n-2.0366932086185052\n-1.7849093149650006\n-1.4583883131477275\n-1.0976500154969013\n-0.7380274540629852\n-0.399416665241521\n-0.08881308522210318\n0.18781498302116617\n0.01022491131225678\n-0.3614068511799573\n-0.7408009557859643\n-1.0903855930453652\n-1.3836100167680208\n-1.607160466950596\n-1.7631674886125168\n-1.868981927582027\n-1.9495988377072102\n-2.0224649650284032\n-2.082931346681063\n-2.1016756380289525\n-2.038398973085572\n-1.8646829753203136\n-1.5824601031707584\n-1.2270395849030074\n-0.8523623083124043\n-0.5063030618478273\n-0.21069789869032896\n0.0408968722658134\n0.2666617587253466\n0.24399537842644037\n-0.13221860658467222\n-0.5482413661643477\n-0.9487749613121466\n-1.284851312144884\n-1.52370224230458\n-1.657916205698232\n-1.708616464273316\n-1.716681503881663\n-1.722172647133121\n-1.741591349116458\n-1.7570992379299604\n-1.7260957379410176\n-1.6069054911504512\n-1.385773224518367\n-1.0888797125606153\n-0.7712266445967018\n-0.48783682278234153\n-0.26466232813859136\n-0.088623725775685\n0.07604631294528019\n0.36578511087352794\n0.05668286483537699\n-0.32069255746812075\n-0.7034017891961248\n-1.0289463275973247\n-1.2488955979892147\n-1.343397645123094\n-1.3303184635829766\n-1.2606161313086925\n-1.1968235074763989\n-1.1825985657680889\n-1.220244838372544\n-1.2711660855895452\n-1.280589918976549\n-1.2117687261428802\n-1.06831916957589\n-0.8906689850714216\n-0.7287482622600674\n-0.6085231172927053\n-0.5151608029892909\n-0.40521550680015217\n0.42909219579660984\n0.2439114841052863\n-0.034063404482516546\n-0.3431637759102344\n-0.6163469058035957\n-0.7951865163832821\n-0.8474206183886928\n-0.7824235562921782\n-0.6534861133056786\n-0.538939362287632\n-0.5068540937877906\n-0.5820508418046764\n-0.7364791248515203\n-0.9096441642953614\n-1.0451463847998799\n-1.1194236861259466\n-1.1459011980234397\n-1.1545099724061139\n-1.1616427625152648\n-1.151464082783919\n-1.0824818054224261\n0.49949456384460333\n0.46418948062439824\n0.3154483565009407\n0.10857433081871548\n-0.0918608722665546\n-0.22445307456108488\n-0.24869047479002582\n-0.1640447911405296\n-0.018007693364912924\n0.10834809907259135\n0.13537265244801056\n0.02180833470377408\n-0.21943415012034073\n-0.5354252895292522\n-0.8645586187034748\n-1.1630829085540588\n-1.4129887835787471\n-1.6118787207571001\n-1.7549857955662764\n-1.8223501902820587\n-1.7812103734219331\n0.6121693388437635\n0.7187516435722259\n0.6959655333989225\n0.5912451208843414\n0.46198901600255127\n0.36517548898473073\n0.3424362214795327\n0.4021887260754564\n0.5100025812814302\n0.5984469720873893\n0.5955644461119718\n0.4560683305446034\n0.17610452812308974\n-0.21407780428445644\n-0.6681465337073069\n-1.1375978142572158\n-1.577160411397152\n-1.9462423004658822\n-2.210059690612985\n-2.3403925441590214\n-2.3168023028624853\n0.7559423255385056\n0.9699929210559439\n1.045392413820288\n1.021736835516009\n0.9462176787170566\n0.8651295279313977\n0.8141097266549\n0.8062506579983406\n0.825475852527978\n0.8324656966677058\n0.7812978256820173\n0.6358643020979935\n0.37658445307552846\n-0.0005581093880637766\n-0.4826500810514238\n-1.0329440823857121\n-1.5882840159723024\n-2.0716085154302313\n-2.4158060320099466\n-2.582862037756432\n-2.566484009441683\n0.887161327178358\n1.1612979866666286\n1.2959301626437636\n1.3224593549768198\n1.2759327503134656\n1.1883593477186967\n1.0852625857031803\n0.9823252243183038\n0.8843609845590699\n0.7878957537245288\n0.6833925449848541\n0.5523166525306191\n0.3619950716066347\n0.07020327447743746\n-0.3521633340422783\n-0.8905205525798889\n-1.4737155285054495\n-1.9961216208987578\n-2.363610569841952\n-2.5313389332706944\n-2.508514132562338\n0.9598670262882365\n1.2493505289016138\n1.406555616167772\n1.4534318570411031\n1.4119817059957462\n1.2996253963181505\n1.1318593672040702\n0.9270612145872956\n0.7106834816589931\n0.5144767473347152\n0.36499508018508386\n0.2624382870727784\n0.1643235543278827\n-0.005267665782596076\n-0.3143768276597978\n-0.7720968024638193\n-1.3067296543754763\n-1.795456387384328\n-2.127946045656395\n-2.258749752500055\n-2.213131047774365\n0.9542799305868872\n1.2303416862958354\n1.3858366089092016\n1.432076969355336\n1.3785215301875766\n1.2304082767025708\n0.9964135468992552\n0.6992890632475035\n0.3828301894640296\n0.10728621781361092\n-0.07282899796297038\n-0.1428175336011872\n-0.15143308171948888\n-0.19795242353983244\n-0.37818165770279677\n-0.7200726699170392\n-1.1563796033425295\n-1.559170685868351\n-1.8140505597007528\n-1.8807536371796885\n-1.7985514167230852\n0.8886129792700963\n1.1439416950293566\n1.2889912721281434\n1.3250989528314996\n1.251526537372552\n1.0650676125096563\n0.7713995207363595\n0.39912124904182544\n0.006906022259693501\n-0.32523354360547163\n-0.5251303513869754\n-0.569078421600028\n-0.5082394337923697\n-0.4533705533981589\n-0.5151744728628489\n-0.7345204568338861\n-1.0528090361940836\n-1.3476404012350138\n-1.5098145593502048\n-1.5057998699895312\n-1.3825366823424012\n0.8074358381883808\n1.0510338389730673\n1.1878165459008923\n1.2129741386239274\n1.1198787089962199\n0.9005370610767933\n0.5597455993999292\n0.13143886725887377\n-0.3150706493564508\n-0.687655896389229\n-0.9044372812169401\n-0.9361316654256768\n-0.8321791923071746\n-0.7049727633964045\n-0.6705959117570011\n-0.7796465777906469\n-0.9866648591403702\n-1.1825301409748072\n-1.2671922608263952\n-1.2096288982931873\n-1.0539454581449634\n0.7536678507266039\n0.9988739352476266\n1.1321375678930554\n1.1490153023896816\n1.0424235977720446\n0.8022753273412473\n0.432104411268047\n-0.03182469472562044\n-0.514496484154261\n-0.9173629326893993\n-1.1532568705372457\n-1.1880812609669302\n-1.0657885822610238\n-0.8941165998783394\n-0.7897995563975355\n-0.8131243821796206\n-0.9358861906585285\n-1.06621738100562\n-1.111927644360743\n-1.0360158232726153\n-0.8674966875978458\n0.7435508990875288\n0.9972681349418817\n1.1286771459216247\n1.1400912118429147\n1.0285255843479781\n0.7832034852134466\n0.4045341768040016\n-0.07311183540251864\n-0.5741222835356465\n-0.9979313718717613\n-1.2544620130383528\n-1.3045208991411257\n-1.1840872823499158\n-0.9932092068945337\n-0.8477106198115791\n-0.8183991420451804\n-0.896274711015415\n-1.0067817202542528\n-1.0610614271472987\n-1.0069894412560179\n-0.8482181609916688\n0.7618581626034722\n1.0203631235206565\n1.1483500878620951\n1.1573277684174688\n1.0496243733797517\n0.8138466383659528\n0.4458408748983338\n-0.02506367496210249\n-0.5268159920656768\n-0.9606300482850756\n-1.235806594361569\n-1.3085762033048791\n-1.2062553233998488\n-1.0201259472337272\n-0.8641695790355994\n-0.8188670496848705\n-0.8929631903688162\n-1.026203960365711\n-1.1281398064333814\n-1.12561141008205\n-0.9919900045800774\n0.7769872295633018\n1.0271938325173764\n1.1494259526854371\n1.1606336688175496\n1.064917515138827\n0.8489793463142945\n0.5042822127917148\n0.0546380563786002\n-0.4336868527646427\n-0.8669992264748778\n-1.157022457569671\n-1.2573594313030125\n-1.1873487399015565\n-1.0288767806647159\n-0.891954209292984\n-0.8631201425286941\n-0.9643377727039799\n-1.145373646094339\n-1.3114924291133723\n-1.3682911646655254\n-1.2609049553049019\n0.7594787152715181\n0.9813446464192772\n1.09538292911669\n1.1153867725861808\n1.0396814031322084\n0.8502823487781734\n0.5354735918365998\n0.1153055749149825\n-0.3500925229601881\n-0.7747738608475947\n-1.0763827214414614\n-1.208668800089011\n-1.1840079294972528\n-1.0735083549568851\n-0.9792210781744592\n-0.9878196445244185\n-1.1284933823239063\n-1.3575241562218048\n-1.5769435055327694\n-1.6769531422061486\n-1.5827081774011573\n0.6899525561863484\n0.858226779970872\n0.9596715533375431\n0.9958248761354476\n0.9503781929415807\n0.7963363801832744\n0.5190676402339793\n0.1366889707331156\n-0.296438417573885\n-0.7041239781199495\n-1.013240576933248\n-1.1804239941411714\n-1.211637260044626\n-1.1646316219135735\n-1.127897744242169\n-1.1811359318560317\n-1.3549447339610925\n-1.6106822246677819\n-1.8519456936045395\n-1.9637890806425324\n-1.8632037052049133\n0.5585826172006314\n0.6459497738586766\n0.7270505260990507\n0.7861282467889978\n0.7853255043278988\n0.6833806460535872\n0.4605617618468614\n0.1328727941950607\n-0.2513609755236894\n-0.6273956046469875\n-0.9341717424185485\n-1.1336388274367653\n-1.2254960764971945\n-1.2508667665657458\n-1.2783754551367799\n-1.3735519305938049\n-1.5635867804456405\n-1.8154837461602662\n-2.0414996575355704\n-2.1333468845431955\n-2.0117987745383736\n0.3675152846986194\n0.3510987098771441\n0.4021557204414279\n0.4886699594066144\n0.5486561663410532\n0.5221812559683219\n0.38046483912604945\n0.1350009595281767\n-0.17336857973875475\n-0.49314089305324815\n-0.7779297238687368\n-0.9974455931795827\n-1.1456169654119486\n-1.244211875037478\n-1.3363946987507018\n-1.4672556054359152\n-1.6568385137282933\n-1.879230903912682\n-2.0624609029776506\n-2.115264974167557\n-1.9712449399857592\n0.4463383780383481\n0.19491486418831627\n-0.081191628515775\n-0.34660484795096735\n-0.5865486553051902\n-0.8071932649486797\n-1.0249239636179475\n-1.2526363948027672\n-1.4892972965870221\n-1.714797699892621\n-1.8910597851053286\n-1.9709820156334654\n-1.914955885950949\n-1.7096326929572516\n-1.3795519461803742\n-0.9833263308790539\n-0.5933599052577936\n-0.26802936196974336\n-0.03146701309955802\n0.12748850788928756\n0.23832402577154888\n0.6915186969934233\n0.3840043875725563\n0.02423976845287612\n-0.33396792310246326\n-0.6530063603167555\n-0.9199257730361694\n-1.143103176568296\n-1.340804570246636\n-1.5269152760842406\n-1.698410498466231\n-1.8291595098722002\n-1.874747011881416\n-1.7899335579286682\n-1.5533314448537148\n-1.1868207868630112\n-0.7562520711346341\n-0.3485056202892842\n-0.034659529227198504\n0.15986056279720806\n0.2597182509949132\n0.31690529051705596\n0.7688044534778626\n0.46279650141134354\n0.08281506508087944\n-0.30788109295445665\n-0.6556654357160028\n-0.929677575393363\n-1.1256220983924514\n-1.2605958334308927\n-1.3610559607105266\n-1.4467026687797837\n-1.515443500750143\n-1.5379481959705874\n-1.4692726508392013\n-1.2760250117022096\n-0.9648815223573415\n-0.5925210336841609\n-0.24578156086454683\n-0.00033390348651174406\n0.11730249140278559\n0.1397505482403858\n0.13473490510097008\n0.7164631576471301\n0.4786565045996056\n0.15036798330750756\n-0.20623334935976345\n-0.5303632045787161\n-0.7763820945095841\n-0.9235557132154746\n-0.9803405410189026\n-0.9803038686339232\n-0.9668481703629332\n-0.9696372217232145\n-0.9851061143904403\n-0.9767846714221342\n-0.9004830830330128\n-0.7400026328150773\n-0.5276728715606556\n-0.33223344309560154\n-0.21951934394675554\n-0.21161610104850404\n-0.2722218683632551\n-0.3279241537501232\n0.6177689535385689\n0.5021548244796072\n0.2832518647200004\n0.013842099362577187\n-0.24658790500479633\n-0.44289005301042117\n-0.5377218886577548\n-0.5257337540299805\n-0.44024513596654735\n-0.34242392107496755\n-0.29204407873774585\n-0.3149970936827806\n-0.3908614782856308\n-0.4720439270772463\n-0.5214371615096809\n-0.540071911774211\n-0.5639988505008464\n-0.6332707633810992\n-0.7560944903584117\n-0.8938619468719713\n-0.9776536166853003\n0.5576211101617545\n0.5904027736794397\n0.5096479646504655\n0.35480266520503356\n0.1775337485395756\n0.035229738908446606\n-0.022886917224909098\n0.023319701605281296\n0.1487771577556778\n0.28756325632395807\n0.3623851712621633\n0.3235727777172368\n0.17086079939466536\n-0.05705883170919179\n-0.31446831938540054\n-0.5755917690685912\n-0.8378109738394279\n-1.103292581539975\n-1.3564379338516162\n-1.5551407504951316\n-1.642955811952544\n0.5836989580240157\n0.759861593708564\n0.8149211672934591\n0.7748185359046964\n0.679077251792938\n0.5792300054287516\n0.5281704210011533\n0.5581848862157042\n0.6598340672452032\n0.7793824344009508\n0.8417995989531182\n0.7864460790995471\n0.5915114177149965\n0.27327964925011017\n-0.13208709685712527\n-0.5853330608304725\n-1.0485988810948887\n-1.4814574385711348\n-1.8381812855527055\n-2.071659703062516\n-2.1431200987992156\n0.69252111075836\n0.9817992562585474\n1.1464113226968156\n1.200273909952129\n1.16834196491377\n1.0894301883642186\n1.0118017137030417\n0.975866772384677\n0.9931800379122073\n1.0374122265805639\n1.0551135168451582\n0.9889243898118085\n0.7978031970331951\n0.46571151604136674\n0.0028592233424484803\n-0.5533972571078563\n-1.139484261347473\n-1.6756770693778895\n-2.0862468335104314\n-2.3198772334032727\n-2.358643901949118\n0.8420321673434117\n1.2001569917304966\n1.4353226559405492\n1.5507929161715435\n1.556243409829646\n1.4741499272455307\n1.342994804385377\n1.2080913819949366\n1.1040944063822309\n1.040318743155443\n0.9964633593934735\n0.9283876884631015\n0.7800195099570093\n0.5002782585128998\n0.06537178069391292\n-0.4999593702943459\n-1.1173916627509586\n-1.6773267078719876\n-2.0809037656241403\n-2.2767464479625525\n-2.2695322543363057\n0.9788914380420835\n1.3612355875115263\n1.6270093443305367\n1.769719824231096\n1.7849051964309162\n1.679139461904926\n1.4804015904145889\n1.2374135825003982\n1.0064679226841422\n0.831926446347472\n0.7276783122282948\n0.665995725296094\n0.5807694616633192\n0.390911774993973\n0.040773241045839015\n-0.46095253974437433\n-1.0306231511464072\n-1.5414562060786103\n-1.8827050451769605\n-2.0088220565836417\n-1.9467177149240054\n1.0651403138065145\n1.4394261559836163\n1.7048101433638454\n1.846352184207511\n1.8485919824312376\n1.7059546640954473\n1.438488595600358\n1.0979981508737326\n0.7582190480705613\n0.4914121669039284\n0.3389612048667203\n0.2877428377938216\n0.26695342397927746\n0.17569436266434213\n-0.06462649749265958\n-0.45984296067943653\n-0.9288049258866105\n-1.3409097537126935\n-1.5852752404416437\n-1.626382286627221\n-1.509123626464301\n1.0916339785637614\n1.444804017913638\n1.692850562532504\n1.8153502453695793\n1.7908233251819414\n1.606809262828211\n1.2788087695352148\n0.8611730732229379\n0.43951992752608415\n0.10467389147754069\n-0.08333027325672493\n-0.12595021328407796\n-0.09305061396782754\n-0.09401921388610557\n-0.22049077914020287\n-0.4909607010121384\n-0.834352570799568\n-1.128398410828384\n-1.2707501502528982\n-1.2352878506238034\n-1.0755168975344676\n1.0728167722182462\n1.4088407556578577\n1.6354943764568013\n1.731989426228541\n1.6768830550864404\n1.4557348578436748\n1.0815338921014783\n0.6093171080485469\n0.13078468527930553\n-0.2527556457933757\n-0.46932610299812705\n-0.5099994070819971\n-0.4381605566361695\n-0.36248837762818864\n-0.38098322160288367\n-0.5254974347252492\n-0.7428906951490535\n-0.9286921669673873\n-0.992770179221854\n-0.9121845789187466\n-0.7354783972302084\n1.0289201845675162\n1.3597435037515098\n1.5685891425815655\n1.6404748106889055\n1.5596586384046702\n1.3130625394618178\n0.9112800792476623\n0.40697320708722806\n-0.10740106129059335\n-0.5258489309607279\n-0.768250893729225\n-0.8150013137182706\n-0.7185980400899523\n-0.5812775742646545\n-0.504541306265486\n-0.536138845833698\n-0.6473840548182608\n-0.7570643016977412\n-0.786159508020208\n-0.7052958995057486\n-0.5436758858271542\n0.9706819202459158\n1.3064625163218597\n1.5036019629060675\n1.5574387912903642\n1.4612292349979565\n1.2047371915026686\n0.795467672940724\n0.28091839989439027\n-0.2498729908164945\n-0.6904352156662812\n-0.9552236197407695\n-1.0141945536255683\n-0.9069637917354076\n-0.7267099564985111\n-0.5772623456060733\n-0.5235396521869844\n-0.5637822115155866\n-0.640647172799178\n-0.6821350029073092\n-0.6434351121519826\n-0.5238223814809895\n0.8981437971891832\n1.2413902037789537\n1.4325876025416608\n1.4773605462887307\n1.3772226378959456\n1.1246372807237517\n0.724226984947566\n0.21765838830526985\n-0.3117303098354034\n-0.7604816721795915\n-1.0411872570477367\n-1.1159350794016873\n-1.0124245878018874\n-0.8140921081031305\n-0.625169769805419\n-0.5250844014483071\n-0.5358261945180374\n-0.6200417605949609\n-0.7081508917319952\n-0.7353365388196231\n-0.6678317504441218\n0.8100855193883962\n1.1535653700201784\n1.3423946499212818\n1.3869188801574364\n1.2917860884836774\n1.050678009900139\n0.6670988565406679\n0.1790115783703099\n-0.33603416881294024\n-0.7805242237728982\n-1.0699180380138058\n-1.163222677931746\n-1.0793151373102\n-0.8918463982465581\n-0.7016540398163591\n-0.595825834707786\n-0.6121415843109683\n-0.7267267256044789\n-0.8695767488227613\n-0.9576746643973035\n-0.9296612921113407\n0.7097894865458709\n1.0358529604871158\n1.2211370449965475\n1.271804164377011\n1.1875373932162185\n0.9603098714709066\n0.5945623424734938\n0.12804492857471583\n-0.36608184421139445\n-0.798304106021158\n-1.0916110046057956\n-1.2071741899259356\n-1.1585043382225817\n-1.0090334647331933\n-0.8509092100725897\n-0.7697476568830783\n-0.8092545721236659\n-0.9525587206110218\n-1.1294602666796598\n-1.2463730564265598\n-1.2263855372331829\n0.5991463619177395\n0.8802211433787956\n1.0538492920540161\n1.1140864101562258\n1.0471587250733458\n0.8386142187504078\n0.4936600155430195\n0.051907538087203164\n-0.41654031204554354\n-0.8311788090022132\n-1.1256621021013604\n-1.2670839676581211\n-1.2658264002639985\n-1.173807506226656\n-1.0687789615067467\n-1.0259914024988537\n-1.0863572271014041\n-1.2357291905451244\n-1.407004545198847\n-1.5068924694698642\n-1.4574980616148603\n0.4696945799269425\n0.6723136426563148\n0.8202136656421928\n0.8921729000547369\n0.8546256257433873\n0.6804325364744708\n0.3715678902442683\n-0.03200049186363607\n-0.46342263665990924\n-0.8515318947326729\n-1.141805520091883\n-1.308795825338117\n-1.3603233147175327\n-1.334851761454054\n-1.290706256586693\n-1.2858363204758445\n-1.352463230796895\n-1.477725662644808\n-1.6027056115349818\n-1.6452295195343065\n-1.539059905359675\n0.3059522051074719\n0.39961567201293136\n0.5065745350818514\n0.5928806055116329\n0.6026586278713548\n0.4899821959784765\n0.24689497277763284\n-0.0910577204662717\n-0.46244880588513837\n-0.8059218035067892\n-1.0788130405726077\n-1.2632378441666443\n-1.3640991303149104\n-1.404649807757318\n-1.4202391187921366\n-1.4471022588288027\n-1.505660135375687\n-1.5848497827033925\n-1.6389655455609382\n-1.604987350102043\n-1.4359238989094156\n1.115255545058094\n0.9512437811634271\n0.7176646513571399\n0.46468145339505185\n0.21814449412331882\n-0.028637898512783977\n-0.2998564291069812\n-0.6117641686301099\n-0.9533686312975895\n-1.282193571012444\n-1.5345974996550922\n-1.6453997964429838\n-1.5709821440954652\n-1.3094685356245126\n-0.9099167464738294\n-0.462868120710052\n-0.07121832929364125\n0.18810082753527269\n0.29266226631783354\n0.27761428954373635\n0.2125002793053561\n1.242849024452461\n1.0396953058237735\n0.7491960422776671\n0.43111965377315187\n0.1254761069709076\n-0.15998263559790615\n-0.44055230081640673\n-0.7327989538097626\n-1.0346472242063243\n-1.3166408412548325\n-1.5259367299939157\n-1.600937981827343\n-1.4939294782956516\n-1.1964138325175497\n-0.7560359699921424\n-0.2714901594872696\n0.1398504079405125\n0.3895153500959836\n0.4551102306775192\n0.3849610876527745\n0.2683569431502324\n1.154543572618337\n0.9612624537390744\n0.6708183390391582\n0.34243971726553823\n0.023534912306644173\n-0.26354115266716605\n-0.518739148627466\n-0.7513197856845171\n-0.9659419959266078\n-1.1530524157360542\n-1.284533352736167\n-1.3168283448445823\n-1.2061090061421709\n-0.9350565740239016\n-0.5383687914772786\n-0.1063369572978825\n0.2450886676989512\n0.4262186054853796\n0.4171192266478414\n0.27506643490939986\n0.10208878037330749\n0.9286029380364695\n0.8018348980843513\n0.572301509942104\n0.2892013664156501\n0.0005030728349062485\n-0.2576752263340598\n-0.464664495270366\n-0.614921497196006\n-0.7157751593106312\n-0.7807243007325262\n-0.8163512538413951\n-0.8097231170347996\n-0.7303766263134044\n-0.5538248259299028\n-0.2936308705042947\n-0.015258558263036903\n0.1862463499200917\n0.23551327408233647\n0.12126783439342503\n-0.0942069362228013\n-0.30625111952317496\n0.6769679647860194\n0.6615063361579558\n0.5389409266247256\n0.34268525248603154\n0.11562398860988488\n-0.09556464136564813\n-0.24884225339258847\n-0.31975514594869736\n-0.3131556637624584\n-0.26223090625787826\n-0.20881917168002673\n-0.1756263156769542\n-0.15320221063390882\n-0.11595848046632007\n-0.05588094140521438\n-0.004152856355116086\n-0.018914880372036258\n-0.14550344305985696\n-0.37841462137597937\n-0.653009589242874\n-0.8727723936720349\n0.5006744849598057\n0.6163768589760359\n0.6208971805517542\n0.5308951820359855\n0.38008942891904596\n0.2194682245821813\n0.10713743565463574\n0.0856864621264446\n0.15842623816805457\n0.2832356044630515\n0.3939339285230723\n0.4372905813699717\n0.39814206263078944\n0.29361576483915286\n0.14473741914950455\n-0.046616985743660244\n-0.2944205208869315\n-0.6031016908395932\n-0.9432559258166737\n-1.2493580860071587\n-1.4423353365513414\n0.45432488230904156\n0.6938072249780483\n0.8192010804329062\n0.8328444664515224\n0.7564693939521199\n0.6371023514801699\n0.5392406754528771\n0.5190127530949802\n0.5934576370157654\n0.7270523792413286\n0.8482715173342115\n0.8864149461420423\n0.8025611475927885\n0.5950400855098286\n0.283530215665337\n-0.10736909133804318\n-0.5500213097131583\n-1.004818841967614\n-1.4152165289174778\n-1.716251482363238\n-1.853062519237369\n0.5357020772953405\n0.8703217652475175\n1.090927606811027\n1.1889104070049061\n1.1722819152721442\n1.0763600604100265\n0.9618894766246981\n0.8927078639261765\n0.9038139103729659\n0.9811419907881858\n1.0674602912876336\n1.0898980812361065\n0.99000218282122\n0.7399361471584234\n0.3441378965401505\n-0.16388727102218237\n-0.7243531051746688\n-1.2582876406610817\n-1.6842779874509075\n-1.9406501311432818\n-2.0008702715195907\n0.7002793641864713\n1.0902763181369934\n1.370334978485337\n1.523567952426788\n1.54396570561984\n1.450633979378285\n1.2937455006005862\n1.140127875808357\n1.0442727109890209\n1.0223369271310556\n1.0443124004525792\n1.0469116638749973\n0.958121267103861\n0.7224657616851919\n0.32141498302780036\n-0.2138869294751542\n-0.8034789153533897\n-1.3394017020282685\n-1.7228322869151431\n-1.8996476181726631\n-1.873009486127224\n0.8884076895415607\n1.2946605674492897\n1.5977042244618733\n1.7742570833178846\n1.8060599109934916\n1.6961383933166374\n1.482243372912997\n1.2315341663055213\n1.016223852414912\n0.883096799258003\n0.83250032767228\n0.8162573210565016\n0.7552832484265046\n0.5713251254418257\n0.22318862508029813\n-0.26636535235106207\n-0.8086735091657338\n-1.2801113598742893\n-1.5749278758842542\n-1.650875710950333\n-1.5386688531277315\n1.0502421970101352\n1.4451692625012384\n1.7422236908778945\n1.9138395041025422\n1.9336611270025283\n1.7928321534580807\n1.5188454553389494\n1.1780684413834281\n0.8559837108455888\n0.623899275109487\n0.5080923784317832\n0.4761358533306339\n0.4483410054099144\n0.3326729505564656\n0.07093055499316092\n-0.32483210976307886\n-0.767745144402876\n-1.132454830012584\n-1.316673607041725\n-1.2918092067494356\n-1.1092349555011114\n1.157626739707144\n1.5313513703498352\n1.8060541049873837\n1.9532777732227196\n1.9446090902407764\n1.7655496306344158\n1.437023643603827\n1.0237689969166661\n0.6188281222073932\n0.3095163229366813\n0.14108262480004452\n0.09591475467714883\n0.09998716718852751\n0.05713614980690629\n-0.10151242741320043\n-0.3766983150330221\n-0.6936383220278297\n-0.9380660045401026\n-1.0186645141264377\n-0.9175967695728904\n-0.694797259410318\n1.2007687139516516\n1.5595901254924982\n1.808659005612661\n1.923367609237678\n1.8798079102813858\n1.6637729473105978\n1.2925528729968878\n0.8278300544471495\n0.3646205689423443\n-0.0012797236430879266\n-0.2112853360585314\n-0.2684687376520438\n-0.23571202486182719\n-0.20577442497529486\n-0.2543836073876222\n-0.3987046313695122\n-0.585897834579157\n-0.7229052260187485\n-0.7325305278786971\n-0.6000695449177362\n-0.37840665207484214\n1.177625833241203\n1.5361101367244387\n1.765827113260377\n1.8507638924621084\n1.7766654555688195\n1.5335986117065143\n1.1366487226782853\n0.6426539431931024\n0.14410869592523579\n-0.260132029671964\n-0.5019044385232427\n-0.5698274601822497\n-0.5121610419192875\n-0.41393545304750656\n-0.35633485910157514\n-0.37660396271107266\n-0.4509906647462971\n-0.5134047699185362\n-0.49977144941259843\n-0.38869496221813615\n-0.21084304034237844\n1.088558913586816\n1.46007572834848\n1.6812111639089125\n1.7469407059896902\n1.654530154486106\n1.3998707436753763\n0.9965995746640548\n0.4958590926301598\n-0.015139536764952055\n-0.43841830860539677\n-0.6999009830447833\n-0.7757309424911858\n-0.6993575134720946\n-0.5465366703456689\n-0.4026742868698461\n-0.32540363300060093\n-0.3214648070243893\n-0.3519305542346105\n-0.3622205723205365\n-0.3161984084671723\n-0.21243999505085354\n0.9415935658233927\n1.331422445579511\n1.5542996033995564\n1.6142581922896593\n1.5177013684813723\n1.2658670657699824\n0.8723705844277525\n0.38404826779425694\n-0.11778304811056284\n-0.5392826021015238\n-0.8055419380678521\n-0.8854044752235435\n-0.8008415577226704\n-0.6184859130945137\n-0.4248599738767971\n-0.2927969034206843\n-0.25382933090878024\n-0.29106226565560056\n-0.35527919751434156\n-0.39277437415972805\n-0.3689618984142693\n0.7596758994051722\n1.1613933260054612\n1.391261143896223\n1.4561396947602017\n1.3654659508893916\n1.1238827477406739\n0.7473506269491885\n0.28202412359461526\n-0.19528844786772037\n-0.5974645648543198\n-0.8548203608957339\n-0.9362272566447354\n-0.8576560263958792\n-0.6773822993526366\n-0.477870484530738\n-0.3373470075377081\n-0.30106771824145806\n-0.36579033608536116\n-0.48491754392696373\n-0.590852943148088\n-0.6240290478105908\n0.5758056305731074\n0.969866937580516\n1.2029861333924607\n1.2769097024468206\n1.1961619679568134\n0.9654373392727189\n0.6048130491554922\n0.16366815552667013\n-0.28333565486293155\n-0.6571188168353643\n-0.8981731230986241\n-0.9820590009148393\n-0.9239847350932564\n-0.774429554370504\n-0.6059664647465985\n-0.49109881803646394\n-0.4763651234093871\n-0.5636763700376872\n-0.7087096407642527\n-0.8387584458506484\n-0.8837809282197416\n0.4136194742831947\n0.7684078635478055\n0.990898610021544\n1.0719301591964374\n1.0036475567535508\n0.7856332194222535\n0.4407053206965488\n0.022737888887704116\n-0.39407055154330584\n-0.7384303572497921\n-0.9628869735953631\n-1.0530456482428616\n-1.0262494587179944\n-0.9250996495693193\n-0.8074891211164617\n-0.7312714056095183\n-0.7344400666577768\n-0.8180843333687454\n-0.9420504991317173\n-1.0391523509059293\n-1.0447236011091303\n0.26935337865358555\n0.5465386012148041\n0.7380128284681398\n0.8227783318186495\n0.7753816072217976\n0.5833603820395217\n0.26636665944193627\n-0.12045266121752096\n-0.5037875464130037\n-0.8188622784931847\n-1.0288232914146223\n-1.1286603336975363\n-1.1377607207547102\n-1.0900353055084737\n-1.0258469414549318\n-0.9834211121040799\n-0.9869286477894168\n-1.0341761168665649\n-1.092237692365826\n-1.1084844147077573\n-1.0359042550227522\n0.11536185617850592\n0.2800569560126114\n0.4211263657503306\n0.5095883511738322\n0.500272554860425\n0.36152655992393967\n0.10098798668404196\n-0.23180419227948867\n-0.5672848067361111\n-0.8462408377244479\n-1.0394096459598439\n-1.1480491179577608\n-1.1914757540053413\n-1.193711472489761\n-1.1765196438315841\n-1.1570634255570609\n-1.1444227965201288\n-1.1333720551357018\n-1.101108286392137\n-1.0148138756375324\n-0.8508987320459949\n1.5710011147007847\n1.5064759387248543\n1.3375885543161417\n1.1216140274717752\n0.89140679538772\n0.6404452492387911\n0.3398152160774366\n-0.028254888185642812\n-0.4441663617771656\n-0.8468085712571227\n-1.1510318672089799\n-1.2767539463876094\n-1.1786774117835037\n-0.8679466982767501\n-0.4179720683916539\n0.05201570560266866\n0.415166384115647\n0.5840405299740947\n0.5444272631424099\n0.3578570736978932\n0.13156267070930738\n1.5890055996971881\n1.5006523993608987\n1.3026167201239574\n1.0527797696297405\n0.7881066949016855\n0.5098526788801543\n0.19720712958742936\n-0.16350512374761905\n-0.5550402037754072\n-0.9239185727695016\n-1.1933504361521923\n-1.2871206587026887\n-1.1575479431819335\n-0.8110728913450789\n-0.32108944741199963\n0.184589658884585\n0.5655003338603102\n0.7245247270163961\n0.6490093489168025\n0.4131534710307907\n0.1409796746743357\n1.3609882079404727\n1.288076516174847\n1.1075573755975974\n0.8674997518956431\n0.6034073394926232\n0.32675197082220464\n0.033523513967695706\n-0.27702830393267064\n-0.5879374880314394\n-0.8612920781404547\n-1.044091027260027\n-1.080147605552245\n-0.929204128182608\n-0.5925588395552595\n-0.13343335693754454\n0.32772927695819476\n0.6531227472361003\n0.7475281773496061\n0.6039184127768387\n0.3061447966198543\n-0.011997780093761179\n0.99721796760495\n0.9841501862496536\n0.8664502797889924\n0.6749675969500473\n0.4402029838725401\n0.1862821292279584\n-0.0668423471816979\n-0.29964297804727913\n-0.493142921347113\n-0.6305572351389426\n-0.6947857704031399\n-0.6637077961172881\n-0.5146893719282915\n-0.24563012914438076\n0.09896474180366965\n0.4228988496961694\n0.6107041102615218\n0.5844774766204583\n0.3488563702437384\n-0.006531618844033638\n-0.3481386374290407\n0.6313253125228933\n0.7104430864184295\n0.6851593545557968\n0.5669256663710147\n0.37972854763822106\n0.16023389796310106\n-0.04601025342153697\n-0.19658424080714987\n-0.26843785410995125\n-0.2659440291304698\n-0.21104566033875471\n-0.1217970642529771\n-0.00024684115256157213\n0.15503896844862286\n0.32134629037311946\n0.4382666736846197\n0.42917361724504843\n0.2479316930333475\n-0.08315657653298025\n-0.47302010112628956\n-0.7997090118492629\n0.3742857729749254\n0.5552367469461217\n0.629413399151538\n0.5917436183848075\n0.45919143803515006\n0.27665009477595603\n0.10963328482382906\n0.020315643642422998\n0.0379824864250331\n0.14426593366896334\n0.28654601125622214\n0.4110408484679393\n0.48901742932822767\n0.5151860892268134\n0.48431975101209446\n0.3739007499384206\n0.1543798216034249\n-0.17941450392520686\n-0.5835970927815719\n-0.97004092636538\n-1.2391004879252963\n0.2812323048941394\n0.5507781642678822\n0.7113569157666557\n0.7468668893213852\n0.6666242667108282\n0.5159121562279338\n0.3691843586418262\n0.30119260729765074\n0.34994330339437774\n0.49577631228715546\n0.6725798239829235\n0.8038527279404848\n0.8370907898898938\n0.7537234459497686\n0.5559458872630669\n0.2520738953546626\n-0.14185277083448788\n-0.5882555866651984\n-1.0212706389189217\n-1.359955271542307\n-1.5352811387613228\n0.34512170124844843\n0.674428945676798\n0.8958636722988693\n0.9875096138333337\n0.9500260702469934\n0.8205785405699793\n0.6705316086262769\n0.579124511175177\n0.5953074501612523\n0.7116250891797486\n0.8677007865783661\n0.9804289560907131\n0.9798072066983226\n0.8293845283434358\n0.5275147119121701\n0.10125743327694892\n-0.39674892413269536\n-0.8915213637616013\n-1.2987940139546428\n-1.5487927148376395\n-1.6078639792562837\n0.5157047081635238\n0.8704144830173082\n1.1227286062674224\n1.2482435732421475\n1.2384302355206493\n1.1165664840860643\n0.9422962290972947\n0.793046204776946\n0.729490964801383\n0.765431728433601\n0.8603611142627834\n0.9380699270055368\n0.918755655373702\n0.7476564562668759\n0.41160626140008727\n-0.055539483450596894\n-0.5772127659699442\n-1.051529069973765\n-1.382773834652546\n-1.5157464428734242\n-1.4526480565919444\n0.7295208025434246\n1.0798439427782682\n1.3353469572840986\n1.4708519932545077\n1.4698409749612367\n1.340797304232634\n1.1286102836992793\n0.905510863311231\n0.7424320687981272\n0.6763631271704753\n0.6921725329180326\n0.7284242034434056\n0.7032279441153415\n0.5477573812292533\n0.23532841803346072\n-0.20224036209062524\n-0.6777453795489801\n-1.0756844112368498\n-1.2976764544742516\n-1.3050093008288162\n-1.1313796761126582\n0.9337137405151363\n1.2627489180689775\n1.5014722204633522\n1.6253550303757933\n1.6135431003688687\n1.463538328224507\n1.207403116205569\n0.9112206907204303\n0.6527257158440563\n0.48799843991537095\n0.4255028576277118\n0.4214512372065533\n0.3989322072727153\n0.2823343435439454\n0.03362591564477846\n-0.3234818335519356\n-0.7039452803307018\n-0.9926097294560758\n-1.0969434904162112\n-0.9937629581813128\n-0.7387166251497979\n1.0934488269717715\n1.4010805464509328\n1.6143337550462142\n1.7116108229331672\n1.6733301105274911\n1.4925032979451895\n1.1927801129378635\n0.8342817252164094\n0.49720019336849663\n0.24999794870833725\n0.11975345245877822\n0.08074795411267255\n0.0670931248005413\n0.003937781192462353\n-0.15510887302833964\n-0.3997107509904225\n-0.6591120469277878\n-0.8313718806419388\n-0.8360037536328353\n-0.6605149797001535\n-0.36835180541756585\n1.1851962586549192\n1.4854497675229386\n1.6762709650027219\n1.7421445925411927\n1.6706689347897434\n1.456831608936123\n1.120209308628489\n0.7152482394354971\n0.32060152398015607\n0.010863965560377942\n-0.1731363409049238\n-0.2394019238812639\n-0.23848226479616175\n-0.23899565008801904\n-0.2940709651204618\n-0.41192882852798496\n-0.5465000425088458\n-0.6189724442586177\n-0.5635392789243885\n-0.370171829555757\n-0.09365483846666178\n1.1886736424471351\n1.5015703802673475\n1.6817948209757958\n1.7226308503365608\n1.6229003869963448\n1.3839098984330223\n1.0242146747448917\n0.5929066782889736\n0.1643318966262619\n-0.18545878940682758\n-0.40611467515216626\n-0.4895512664809223\n-0.4695998564287298\n-0.40610679383805826\n-0.3582654352712564\n-0.35602730868616206\n-0.3841117012808706\n-0.39187604081180627\n-0.32729441763698297\n-0.17362544857576911\n0.037727095617779316\n1.0901269702282423\n1.432065828517377\n1.6170672852082042\n1.6476049109462245\n1.5341573227771264\n1.2858220496989468\n0.9222219607706679\n0.4882841484454259\n0.0529736049224967\n-0.3097501980269173\n-0.5449622001207457\n-0.6330327599969907\n-0.5935733257107185\n-0.47757940187081904\n-0.3485521354070096\n-0.256377034432826\n-0.21562133605764044\n-0.20280002803248798\n-0.17645131913040968\n-0.10653829258293768\n0.007363811886524796\n0.8965404908105032\n1.2730372802393521\n1.4755305854320149\n1.5125476833917197\n1.402601499206348\n1.1615954271822675\n0.8122455538111071\n0.39814547886908436\n-0.01634156480818527\n-0.36231226478141876\n-0.586753608867951\n-0.6663709750679803\n-0.6126003168366418\n-0.468926473413263\n-0.2989715102811943\n-0.16462522584276962\n-0.10176989138130144\n-0.10751152573521838\n-0.14727909765243763\n-0.17664485139423103\n-0.16414127050534\n0.6451116468842137\n1.0471764110130337\n1.2713166327590848\n1.3261177942929008\n1.2315707007686232\n1.0077023083066967\n0.6823506008192952\n0.30183304244113085\n-0.07179610796095703\n-0.3767712691658134\n-0.5687290805838008\n-0.6299101388674151\n-0.5711699337217051\n-0.4303066332321197\n-0.2651767278395343\n-0.13775620267592315\n-0.09186219027498566\n-0.13551380264507318\n-0.23851411320055604\n-0.34710654445541306\n-0.40862460480312657\n0.39145348568034244\n0.7951671689509627\n1.0327219111888635\n1.1065354920784731\n1.0306815422714557\n0.825251731571857\n0.5237779654952233\n0.17857822433866133\n-0.14784011653838558\n-0.40116955310344204\n-0.549971062191966\n-0.5889497364886158\n-0.534673375466598\n-0.42094003579403627\n-0.29447764701904666\n-0.20581141366699174\n-0.1932835608708403\n-0.2664241414028147\n-0.39876194790053876\n-0.5364355409170545\n-0.6210353606740666\n0.1783261104153091\n0.5476343812057856\n0.7785861622904111\n0.8641113454812706\n0.8061596691527608\n0.6191938689467635\n0.33940443099695994\n0.024991887851469663\n-0.2593744053303664\n-0.46504518381661164\n-0.5732167820253942\n-0.5928517123962578\n-0.5489563734629495\n-0.4724461889604006\n-0.3960342437733221\n-0.35152087883411376\n-0.36261765710775407\n-0.4339618974609907\n-0.543674959346369\n-0.6475920749888666\n-0.6973302946126883\n0.008464998662596201\n0.30200182135189557\n0.500609493388513\n0.5889409902595242\n0.5528754889490433\n0.3939644540635916\n0.143522660925532\n-0.1392190234818571\n-0.388073037731858\n-0.5570153764704888\n-0.635339740737142\n-0.6426598146164464\n-0.611006299152534\n-0.5685845081083614\n-0.534015904555807\n-0.5185681177004869\n-0.5280347705548856\n-0.5597042008893549\n-0.5977453962100463\n-0.6147404184276513\n-0.583553206822491\n-0.15270483564269455\n0.02887005540055476\n0.17295356879695412\n0.26068309101928566\n0.2603201317955488\n0.15303249619986126\n-0.04482688792198264\n-0.281265102693514\n-0.49185238412639976\n-0.6308741433351566\n-0.6897265252066802\n-0.6921819378211598\n-0.6730429436818328\n-0.6568233921447664\n-0.6494837764014213\n-0.6437468640457542\n-0.6287476295314987\n-0.5950573962675059\n-0.5340878781973586\n-0.43791589515428087\n-0.3047577595405564\n1.7591702749801605\n1.7852735986525907\n1.6840151296977162\n1.5136216283984396\n1.3113512796256082\n1.0734582340203076\n0.7712579556083838\n0.3877088144317291\n-0.05259089013238061\n-0.4783706779701191\n-0.7924570037427277\n-0.9066674564796404\n-0.7766390156742258\n-0.4252466168383684\n0.0542460677273322\n0.5211561901968533\n0.8337187344532175\n0.9025853240350301\n0.7266346621449902\n0.3922392216382402\n0.03620300362338469\n1.6967934947659238\n1.7076903294860273\n1.598900199696807\n1.4221286411594818\n1.2095974003052952\n0.9582379309779263\n0.6452320460044945\n0.2603423822819302\n-0.16889690260763146\n-0.5740641162338225\n-0.8640535432295167\n-0.9548301535834653\n-0.8012291612207445\n-0.42280883864822805\n0.08689915492559486\n0.5796625277101075\n0.9021430697937447\n0.9575765008140458\n0.7476448229503667\n0.37055720654887914\n-0.022872551224189408\n1.3797635076352996\n1.4052467656664973\n1.3234944953918806\n1.1698736465756028\n0.9679092608212798\n0.7201835108606431\n0.42053335342684584\n0.07534293579842455\n-0.2828921090190111\n-0.597160904341834\n-0.7986823198208874\n-0.8247296257614245\n-0.6403828637465026\n-0.2628660874076676\n0.22279808827786596\n0.6756936017511492\n0.9466175005185153\n0.943081211275727\n0.6743596230950271\n0.24832862163245828\n-0.176977822033761\n0.9373621391965798\n1.0100504383060347\n0.9844163459040338\n0.8745428323868332\n0.6953065575870472\n0.4606710425866041\n0.1899916595770641\n-0.08665514022650456\n-0.33115391436472663\n-0.5053353489657315\n-0.5761741225771964\n-0.5168483923790248\n-0.3129211002613843\n0.01910483689758813\n0.41121869053228366\n0.7461771554724228\n0.8975206358163756\n0.791156483133177\n0.4490806776209295\n-0.01519724982253745\n-0.44609649743561874\n0.5143900300733542\n0.6543606136634601\n0.6976983339075709\n0.6386112206895707\n0.48604558208100634\n0.2684275661835347\n0.0331931430056045\n-0.1647529969312007\n-0.28258294324366773\n-0.3041003612000104\n-0.23722802893953165\n-0.09762125573919533\n0.10265813391050038\n0.3457301228082166\n0.5856432905763356\n0.7413597687022904\n0.7250652104412012\n0.49351189919734306\n0.08503583032994921\n-0.3871407686196946\n-0.7815758085060409\n0.22407303036862203\n0.43047655816068797\n0.5363936714958086\n0.5226289525804191\n0.39538779400816715\n0.19557665442198058\n-0.006858136545352167\n-0.13750932665205795\n-0.1502881249837973\n-0.04753406281353101\n0.12767835918658932\n0.3211442688638977\n0.49397080905553103\n0.6240531297044951\n0.6866970529515823\n0.6415930252165358\n0.4481631510752102\n0.10148452641602645\n-0.34266677913776533\n-0.7781945954409695\n-1.0895987508572942\n0.11610393011890707\n0.3692675625343682\n0.5175026218291929\n0.5363774599441555\n0.4310687419638306\n0.24815615361057475\n0.06834817747738953\n-0.023966946690645585\n0.019724250916189234\n0.18788887119587372\n0.41721103322587627\n0.6276150703094814\n0.7580940893760735\n0.7790481317947311\n0.6805629116445076\n0.4586788883940267\n0.1195794470216196\n-0.30231198109348156\n-0.7352878814214714\n-1.0866093990083714\n-1.2762229668564053\n0.1740492276617367\n0.44456360826738717\n0.6098626205064974\n0.6467960611864285\n0.5592456600248301\n0.3907198433800083\n0.21940799834922586\n0.12960591666835697\n0.17220080990644604\n0.33799913381029345\n0.5616403457787635\n0.7536362888341506\n0.8387519272853909\n0.7775247724342842\n0.5656207456280473\n0.22479085228070517\n-0.20022824799340277\n-0.6407656567039952\n-1.0129251949340818\n-1.2416654619773158\n-1.287446955857959\n0.34021849565590223\n0.599459429629988\n0.7588450715668866\n0.799826924093523\n0.7239092720107543\n0.5646918944695614\n0.3878736630905024\n0.27010286197652533\n0.2646243428945221\n0.3735417743629581\n0.5442812452008203\n0.6926989543339017\n0.7382932845098313\n0.6319282603049379\n0.36691525100821876\n-0.021880289751062598\n-0.46403368988090987\n-0.8663993365445539\n-1.138384500202117\n-1.2245159393027247\n-1.1251802418991597\n0.5505869703652593\n0.7794021640200643\n0.9163687606530893\n0.9482733872554352\n0.8741689079927717\n0.7155792568194723\n0.5217584249813481\n0.35805771093333316\n0.279214376965192\n0.302048961636987\n0.3943163164182897\n0.48695488498958817\n0.5027183164907632\n0.3862217826006682\n0.12424862618677723\n-0.24646193466013377\n-0.6443399132093246\n-0.9644026144642828\n-1.1159681735281413\n-1.0624166704723987\n-0.83763252388747\n0.7582439478488947\n0.952508029387765\n1.0593399280316085\n1.0707184554106348\n0.9853996814459212\n0.815701838646266\n0.5962576086704088\n0.38094615493168416\n0.22413716822684915\n0.15549081261719522\n0.16365774716719006\n0.19921585895157623\n0.19541386743786315\n0.09628566172342579\n-0.11862852475933261\n-0.4196566267423161\n-0.7284475901102687\n-0.9417896963655368\n-0.9755486646189095\n-0.808584031689545\n-0.496668476741295\n0.9342641349750078\n1.1059707575579587\n1.1850049044289044\n1.168908259843045\n1.060262623274264\n0.8682283674679008\n0.6179894027780897\n0.35380967525930895\n0.12744984401908432\n-0.02320481610514946\n-0.0919690375526292\n-0.10756713789634453\n-0.12086517205888914\n-0.18269601243421807\n-0.3200684683600832\n-0.517532567362041\n-0.712889773197793\n-0.8172401683318549\n-0.7581484868279205\n-0.5239131672432762\n-0.17695834553392165\n1.0531784948339205\n1.2260001563984755\n1.2892324609261596\n1.2470045561078908\n1.1101529382046262\n0.8910254131307678\n0.6110276827155543\n0.307298069933462\n0.02721741498598451\n-0.1878587769114377\n-0.3187109561251642\n-0.37453524793551196\n-0.38763163284619306\n-0.39994311827233764\n-0.44443848665468444\n-0.525087879649714\n-0.6055627389209874\n-0.6204592304984216\n-0.5114195044533489\n-0.26820000504155606\n0.056296446829677604\n1.0829490561180073\n1.2833544723417045\n1.3495062033729823\n1.2927051834746006\n1.1345950742226414\n0.8949321867053266\n0.5957672710744326\n0.26967317817838765\n-0.041078953626278114\n-0.2954527755441858\n-0.4661593836371103\n-0.5465802393421395\n-0.5515213811832926\n-0.5130386769170026\n-0.46918797571859505\n-0.44477674321278937\n-0.433271738152919\n-0.3965169838942406\n-0.2895171272023086\n-0.09558575792421897\n0.15524475980639396\n0.9946874909134866\n1.2420699951536864\n1.3311305586878497\n1.2790341724424188\n1.1173219544402855\n0.8742683206461352\n0.5755178496016642\n0.2519752417429846\n-0.05863423552264502\n-0.31864167528329146\n-0.498861760241041\n-0.5840175526677345\n-0.5766959027526335\n-0.5003764100814516\n-0.39557004733925116\n-0.30346059919868673\n-0.24346099616731398\n-0.20207248501804176\n-0.1447869807481379\n-0.043530307881171626\n0.10123374062134549\n0.7869889514479613\n1.0863822989977745\n1.2127104223988674\n1.185188006500506\n1.0407684270202697\n0.814591822853493\n0.5378952080725563\n0.24350167868548933\n-0.03357170697241241\n-0.26154502755810993\n-0.4167312206775806\n-0.48528408574919\n-0.46606359130796093\n-0.3765739873233276\n-0.2548454593345346\n-0.14815953571721718\n-0.09080608896498643\n-0.08604203471653193\n-0.1065082574194044\n-0.11305416317796824\n-0.07876134477175789\n0.5011174271296568\n0.8401781606358281\n1.0061519394824376\n1.0150199756224456\n0.9025027799540286\n0.7070657831774074\n0.46659168459264677\n0.21954466094196512\n0.0010275989314156853\n-0.16440927717826748\n-0.2652409515801111\n-0.2992305204870944\n-0.27070099895639377\n-0.19423904369268485\n-0.09963644762739765\n-0.027418791840104206\n-0.012133026428084337\n-0.06343042443946645\n-0.1587828701973219\n-0.2537468265823381\n-0.30445426424026306\n0.20608178504159014\n0.5562593089735124\n0.749152408916089\n0.7931833143494753\n0.7161582121192192\n0.5549967292819185\n0.35319152859358827\n0.15697827403630527\n0.004453060647179097\n-0.08612708733022512\n-0.11825870241679581\n-0.10763534066239999\n-0.07086974682026703\n-0.022637193677599754\n0.019435024838717396\n0.03208910685253652\n-0.006506347936493628\n-0.10300578974340091\n-0.2389144177946273\n-0.37352201045896394\n-0.46112871151261664\n-0.041872171804625324\n0.27957595925580137\n0.47401310670125874\n0.5412857873727548\n0.4962798531245509\n0.3681764671059238\n0.20141614562323795\n0.04850078364348542\n-0.04772115411552447\n-0.07177156096788595\n-0.03934967658528832\n0.01613393065840607\n0.06349491354175596\n0.08548348295436947\n0.07692719968066541\n0.03637401373217142\n-0.03796722194687957\n-0.14382285725191013\n-0.2669615014445117\n-0.37909882006895956\n-0.4474435695688027\n-0.2345683982062372\n0.015304943220655787\n0.18136582813730584\n0.25782372743933113\n0.24384019808518076\n0.15353148308173203\n0.0237128442572363\n-0.092748787227102\n-0.14881000240310582\n-0.12698177128088206\n-0.0477095036000299\n0.04423444509073282\n0.105708427955856\n0.11565439262394672\n0.07847291021559577\n0.01282057109182777\n-0.06230159128807822\n-0.13387656347140106\n-0.19236186277092787\n-0.2272710358045345\n-0.2286234935474936\n-0.4105078886695992\n-0.2676006498438248\n-0.15389571070498498\n-0.07558763882691011\n-0.05021598986719056\n-0.08593649379421908\n-0.1638672013872533\n-0.23948593839990373\n-0.26474617158708735\n-0.21659124665207363\n-0.11183280010666374\n0.0025935988457830295\n0.07757542082450986\n0.08900962959682568\n0.047274807955645204\n-0.013951109758489455\n-0.05857160287186225\n-0.06416473533078443\n-0.026045882778104268\n0.047463228000243385\n0.14059600639472125\n1.676914382538989\n1.7778962818771866\n1.7377079029346731\n1.6107588332803608\n1.4372973841255572\n1.2202267202177808\n0.9374322014633307\n0.5759730247858705\n0.16208126294306524\n-0.23227632572182522\n-0.5092037762934947\n-0.5808110964806286\n-0.4065520152762314\n-0.018462038270035563\n0.47685426826395627\n0.9259415701267457\n1.1811310180964352\n1.1581603289220084\n0.8711476798261302\n0.42648470694539853\n-0.02084787835583235\n1.5745013682447784\n1.6608050395123257\n1.6245498977185129\n1.50942608924138\n1.3441552013595732\n1.1264522652978926\n0.8373003882482593\n0.47150428723797333\n0.06136170810179209\n-0.3211530338014281\n-0.5833612722314037\n-0.6426741747665297\n-0.4594260796923173\n-0.06277707323588722\n0.4420672802176533\n0.897468300188919\n1.147952652395917\n1.1045706031458948\n0.7849147911214462\n0.30569287295231184\n-0.16690427458970447\n1.2298571190755894\n1.322489438841746\n1.312678199915858\n1.2248861176715593\n1.0747110970458316\n0.861660051776477\n0.5818311373567422\n0.24786389045326196\n-0.10008788440491756\n-0.3987915503845745\n-0.5769941720413918\n-0.5744865413726501\n-0.3637161710600729\n0.027463281517587035\n0.5030772167540132\n0.9149298474443786\n1.1141322758833283\n1.017692452596835\n0.6510663164433854\n0.13932996661205532\n-0.3465813368007984\n0.776721866453773\n0.8983452815019888\n0.930150222879611\n0.8747529320803515\n0.7376218999652213\n0.5281384445276345\n0.26723073638405737\n-0.008198887914979025\n-0.2507758666516793\n-0.41436488306026753\n-0.4625673232905072\n-0.37139913042326\n-0.13474478817328084\n0.2196789264587249\n0.6131549120745268\n0.9217734286005772\n1.0195422336767885\n0.8412086892404691\n0.42369098298491004\n-0.10389016553763852\n-0.5748910164231216\n0.35921607196388194\n0.5202090610831398\n0.5931236448461554\n0.562962636400238\n0.43108876103211813\n0.2222500997586696\n-0.014691565151515817\n-0.2187517503190044\n-0.33852713045773974\n-0.35009692734762865\n-0.25790066540482925\n-0.08014714147175006\n0.16332819402129317\n0.4443870651440518\n0.7073539983788155\n0.8645361325488548\n0.8268391467442164\n0.5566417120902027\n0.10373626499804\n-0.4056618479934615\n-0.8206138413067396\n0.0846871004676295\n0.27638848866966015\n0.3737438458876614\n0.3531829949482308\n0.2181257774789156\n0.008828874531552344\n-0.20312513553283296\n-0.33957802212485966\n-0.34936985552500666\n-0.23023721248273077\n-0.023424792126429672\n0.2145600227604998\n0.4390937446570806\n0.6209447965081809\n0.728488429150814\n0.7154677314305271\n0.5376293471419924\n0.19080118739136598\n-0.263145969691033\n-0.7090386139426519\n-1.0236968604901442\n-0.0075395450016060295\n0.19089632447179739\n0.28733651048642095\n0.25949563368827455\n0.11656182793896619\n-0.09105465993587458\n-0.28067754425702773\n-0.3679632712148475\n-0.30552199621884135\n-0.10636545314760593\n0.16425714560393612\n0.42373149924463505\n0.6084791757768189\n0.6868897578503015\n0.6468653379784701\n0.48053715359515436\n0.1885543926327884\n-0.19895732950880518\n-0.6101915327594458\n-0.947918622726891\n-1.126581042946862\n0.05448938372678924\n0.23072684184534964\n0.30212423863939897\n0.2547322598490709\n0.1039371116245924\n-0.09796608597384981\n-0.270672840642332\n-0.33482591297137176\n-0.24869033300469834\n-0.03103691323861746\n0.24565846161424343\n0.48879430684554315\n0.6243695649397729\n0.6170899840909021\n0.46616308544327545\n0.1923150936911302\n-0.1661766384728618\n-0.5489009789646992\n-0.8768657027371471\n-1.0745180407039379\n-1.0988504933579217\n0.20631256477667748\n0.3372329076178815\n0.3674057291891657\n0.2940108822779699\n0.1369880818759146\n-0.05677148468336135\n-0.21972484704273754\n-0.28554035943208067\n-0.21871043073000873\n-0.035223491195610634\n0.1999702515739088\n0.39930026035588906\n0.4875783226237722\n0.4259043009919843\n0.21634875245304253\n-0.10471848878763224\n-0.4737521484057008\n-0.8082641632247132\n-1.0254480687712557\n-1.0714799760424385\n-0.94441898995988\n0.3874019435760534\n0.46316790240294914\n0.4459951664420796\n0.34363025333420616\n0.1790665429700926\n-0.009397518774759916\n-0.17127656521232826\n-0.25663421235610784\n-0.2363107377189113\n-0.11905647132921882\n0.04632372553423192\n0.18777773096506767\n0.23743504997611042\n0.15525409395984413\n-0.0595778127962876\n-0.36762214580267294\n-0.6947923165185879\n-0.9478515559563534\n-1.0445267929373712\n-0.9497989455519216\n-0.6950658484949024\n0.5642195676163748\n0.591541347093564\n0.5306037871584905\n0.3978403132173849\n0.2196025016064418\n0.02735089773472854\n-0.14360648476370397\n-0.258811757744847\n-0.295636120236221\n-0.2557109192352556\n-0.16973952100222522\n-0.08907807142914281\n-0.06738606460425167\n-0.1414152721678219\n-0.31721391011683675\n-0.5625414823660533\n-0.8074932666140282\n-0.9608913405489901\n-0.9460591879319289\n-0.7418514772135791\n-0.40042809750317154\n0.7233367549931824\n0.7243483847087404\n0.6322186330147765\n0.47047081580795336\n0.2709886690398484\n0.06352578787842589\n-0.1260414239106069\n-0.27514161761835254\n-0.3678083603345268\n-0.4014745625283318\n-0.39127997891214195\n-0.36696772605559724\n-0.36345442432299313\n-0.4095632060885337\n-0.5166998452362401\n-0.667231283566708\n-0.8080725732226335\n-0.8620194784312758\n-0.7625449119117964\n-0.4960376031196341\n-0.12020759697552919\n0.846802635181577\n0.8533496484918466\n0.7505065665952841\n0.5678450578688636\n0.3453509728316053\n0.1167127557337082\n-0.09506962029810584\n-0.2748148369290364\n-0.4129001555811378\n-0.5060901115352556\n-0.5585455352701869\n-0.5807128893237175\n-0.5875349797664504\n-0.596985954027049\n-0.6249463755299991\n-0.6723377210108881\n-0.7111411105550398\n-0.6864204746511149\n-0.5442646567514184\n-0.2715261818974082\n0.08357349546508885\n0.897473559873168\n0.9418406568657023\n0.8537710178269222\n0.6675291591010772\n0.43212280979904616\n0.18880213310200933\n-0.03710909921840866\n-0.2335066524186562\n-0.3960890933901835\n-0.5239963267551526\n-0.6160957975999244\n-0.6690657144570773\n-0.6808010812380441\n-0.6581563677528379\n-0.61958406980551\n-0.5836354543669127\n-0.5488639880753281\n-0.4850859686590072\n-0.35065030025105637\n-0.12652385861884818\n0.16012338576766627\n0.8331794098621366\n0.9380857820532853\n0.8896350267914848\n0.7240867620373477\n0.49737099660497996\n0.2587974286005368\n0.0392165105755895\n-0.14841959638557345\n-0.30338717768570733\n-0.42976257769392\n-0.5280232838366961\n-0.5900051223934488\n-0.6036864449546111\n-0.5668452003304469\n-0.496834593299869\n-0.4229710525711279\n-0.3640279321848874\n-0.31067812508695314\n-0.23101760334724475\n-0.09670210151817454\n0.09117864636710826\n0.640667285562941\n0.8118216614426768\n0.819651518382317\n0.6981983859936154\n0.5053213221576289\n0.2960546463497469\n0.10826819729269843\n-0.040612422780396784\n-0.15103690380576706\n-0.23400945995033107\n-0.29916964637315147\n-0.34462614821809856\n-0.3583282077828338\n-0.332442750195151\n-0.2779610954325529\n-0.22330058781582007\n-0.1948101679970009\n-0.19528680518331443\n-0.1995129641717323\n-0.17110039428508544\n-0.088135412716909\n0.3577388947926661\n0.5810626485658013\n0.6468555246070355\n0.5824819156890628\n0.4413072983240589\n0.2798378705129556\n0.14279490549967466\n0.054983087118608776\n0.017694876199513043\n0.01250764832632889\n0.014754962909169667\n0.009946993143115535\n0.00022207923565487064\n-0.005139044516060176\n-0.005871486638279633\n-0.016948727471531755\n-0.05759468492707698\n-0.13228769291378845\n-0.22029110834552598\n-0.2831005086082189\n-0.2860424060485983\n0.05779820949210546\n0.30173311397783564\n0.40963416750752124\n0.39959868535401455\n0.31462030157553755\n0.20717424238042792\n0.12627978372528226\n0.10504395360006491\n0.14946418715398568\n0.23595164205017305\n0.3236878821640281\n0.3765606615603174\n0.3797490114829589\n0.33951291451055177\n0.2692081785425916\n0.17584522691171633\n0.05899785699324689\n-0.07860588159558529\n-0.2197616045950759\n-0.3322289849601068\n-0.38260148595481736\n-0.1968587671363764\n0.025383265310917835\n0.1460164644612565\n0.17475818251777575\n0.14025368378836678\n0.08445223908900346\n0.05483226175009026\n0.09036007267428392\n0.203786980020634\n0.37155582771969975\n0.5417769225265416\n0.6585523521899197\n0.6878786111255104\n0.6288099242539972\n0.5052237501333994\n0.3477036803648431\n0.17989922361839894\n0.01699236295989541\n-0.12709795931814205\n-0.23394194330527907\n-0.2846817321406702\n-0.3962007755956698\n-0.23891636773134373\n-0.13858630227198798\n-0.08971845226465014\n-0.07993394440850299\n-0.08492026201510505\n-0.06760802060705196\n0.01074197682798017\n0.16970986144829947\n0.3922070494306129\n0.6248727338636668\n0.8000153067924827\n0.8672756176328404\n0.8157587439120053\n0.6742227387766804\n0.492169162706931\n0.31603899737958463\n0.1747115924929076\n0.0790574568326481\n0.029550380933390286\n0.02182948626728684\n-0.5819915622618463\n-0.5232102060342356\n-0.4683382817647752\n-0.410788848039628\n-0.35500843440934027\n-0.3009027930507635\n-0.23148236110835985\n-0.11632666869906716\n0.06856343023193379\n0.3172995035886301\n0.5849212786733615\n0.8024636460871568\n0.9097135773247167\n0.8858855989450557\n0.7592389253263108\n0.5909531431479083\n0.44494669699722894\n0.36198755195273474\n0.3502900413152555\n0.39228217117070263\n0.45809260202559016\n1.3724933518794415\n1.5421173683074265\n1.559551239074196\n1.471140278413106\n1.319473798280299\n1.1187038476754552\n0.8605238572814997\n0.5410535541309667\n0.18725843735876957\n-0.1349259176833506\n-0.33624388921963977\n-0.3369583912664016\n-0.10377194528892453\n0.32393528844117725\n0.8322603127420916\n1.2631471484784136\n1.470758550040177\n1.3805241845756129\n1.020919763227809\n0.510959764515432\n0.011317984810670367\n1.2684518776397589\n1.417633418083451\n1.4400173248235575\n1.369869786779912\n1.2351968044828396\n1.0415388076702108\n0.7815015817437647\n0.4587432549804831\n0.10732720894588788\n-0.20620662986339156\n-0.3988944319128649\n-0.39875983497191925\n-0.175466439866387\n0.23480149607820167\n0.723091925657668\n1.1328961678929907\n1.3161815465320714\n1.1969716797842\n0.8072925075476718\n0.2740710539560016\n-0.2339507873056501\n0.9527994404323934\n1.0940458837046165\n1.1329342181635802\n1.0849044956126157\n0.9634543591667857\n0.7733798412556432\n0.520064872964344\n0.22400380554288368\n-0.0725172268198051\n-0.3110030099283474\n-0.43003248794891036\n-0.3810696545944232\n-0.14671685784100852\n0.23912733945420506\n0.6800555324434114\n1.03352815884816\n1.1617389223939405\n0.9958438380536769\n0.5742940298811314\n0.029481719673558615\n-0.4679623162614357\n0.5507840122480907\n0.6985647326194666\n0.7588550694531087\n0.7275715354445325\n0.6084270319542178\n0.4143272082681779\n0.17267110175714073\n-0.07405817482688803\n-0.2770641347107645\n-0.39422297368446024\n-0.3976842307179336\n-0.27394008978238915\n-0.02574210959907397\n0.3151038352264468\n0.6720486670125361\n0.9289760322761307\n0.9712562046056235\n0.7457395634011164\n0.2988930886220462\n-0.23609013674557477\n-0.6948054130793331\n0.19453354461665384\n0.3527817826115367\n0.4257233672730152\n0.3957709177049189\n0.2646992529003036\n0.060032638588127796\n-0.16597068217374478\n-0.3503270424872795\n-0.4423994739436239\n-0.4221924871964404\n-0.3006639335395871\n-0.10342659311912428\n0.1441681646712505\n0.41299070629382584\n0.6515831615532353\n0.7799473596809312\n0.717421970877341\n0.4334093897122582\n-0.018025540422992314\n-0.510049607595457\n-0.8947964809829259\n-0.022418695334273764\n0.13390928167373772\n0.19765950373637153\n0.14807623361469702\n-0.007083780770079429\n-0.22410513967889045\n-0.4307491775350698\n-0.5513768572098954\n-0.5394786019318101\n-0.3981551554655134\n-0.1736703080677806\n0.07380063845568063\n0.298767271828547\n0.47506122481259094\n0.5772213358898295\n0.5653314441572022\n0.3987856639058913\n0.07368098411593227\n-0.3499981581120011\n-0.7597622966880566\n-1.0353599896935473\n-0.07501654004877523\n0.05478854677520317\n0.08256536967249062\n-0.005209879300201337\n-0.1897459345224899\n-0.41496904084528197\n-0.599439427439961\n-0.6662416162470102\n-0.5780534581038435\n-0.35665344560044954\n-0.07232152669661573\n0.1918390172021356\n0.37625946989355175\n0.4568363107647322\n0.4296426424656463\n0.2915595733893994\n0.04193273050544999\n-0.2954084563757853\n-0.6561353532892955\n-0.9482363742409143\n-1.0881668068729806\n-0.002820768965117182\n0.0739151224933643\n0.04402636132137694\n-0.0919587169840419\n-0.30324496241868815\n-0.528589802358514\n-0.6898787025257498\n-0.7199557571362778\n-0.5934638012457505\n-0.342907964251018\n-0.04742676284771541\n0.2018798646034945\n0.3391963155525355\n0.340749600085676\n0.2157090561778876\n-0.011767271055406425\n-0.3086025101380372\n-0.6255069013908345\n-0.8946762597029747\n-1.0469052793419564\n-1.0396958779264627\n0.12618274035673416\n0.13156805410319983\n0.033417973842109205\n-0.15172910159248865\n-0.3831267495944033\n-0.6013795249723959\n-0.7413863752930592\n-0.7532157097975691\n-0.6239902859615043\n-0.38896438265281574\n-0.1223801133287088\n0.09048769671686951\n0.18557344425925582\n0.13840798787141972\n-0.03781956886078053\n-0.3043299650287392\n-0.6051673894177672\n-0.8713857767352113\n-1.0326016090656642\n-1.0407943997127203\n-0.8926470043202581\n0.25985717761229665\n0.19023420040253924\n0.024934495932898315\n-0.20523470511351505\n-0.45228010928785345\n-0.6623336782134732\n-0.7871879071162278\n-0.7965291100800007\n-0.6891340893538533\n-0.49811552687377425\n-0.2844901392502921\n-0.11818998860456009\n-0.05437717611273296\n-0.11704271298557423\n-0.2954391900072606\n-0.5484420919544961\n-0.8105193409929252\n-1.0022152333120058\n-1.0527442382764702\n-0.9310295979154777\n-0.6651287317995371\n0.3831234533795165\n0.2514172715960399\n0.02982705308452438\n-0.23981806073403789\n-0.5036441811395598\n-0.7125029535377561\n-0.832884974936416\n-0.8518724980090173\n-0.7785728800861857\n-0.6431366822672357\n-0.4914244898293667\n-0.37372808324141316\n-0.3306403994550018\n-0.3821807478822441\n-0.5226020044606368\n-0.7180543205535819\n-0.9068581222064118\n-1.0103028964111442\n-0.9610095355293367\n-0.7394201659698929\n-0.3928408055331176\n0.5027589005987689\n0.3365479201282291\n0.07773645230150272\n-0.22393894599715836\n-0.5084058095427775\n-0.7271702443146699\n-0.8553211867158188\n-0.8922538790258319\n-0.8558837636110388\n-0.7754090517751413\n-0.6842812714084441\n-0.6132416864453378\n-0.5848179902888164\n-0.6107504176994838\n-0.6897611471186216\n-0.8013575031681526\n-0.8989124699014786\n-0.9153562457214386\n-0.7909616906158679\n-0.5118334953198451\n-0.13034922462168042\n0.6129553217421329\n0.448778367483893\n0.17909288917919675\n-0.14116762079887302\n-0.44496013170432125\n-0.6798067745757859\n-0.8224804768449809\n-0.8788146278945783\n-0.8737507812708305\n-0.8384300608809614\n-0.7989419061491394\n-0.7698788926189755\n-0.7552941151593271\n-0.7555396224620883\n-0.77158447718752\n-0.7982820057115152\n-0.8105981260167523\n-0.7606107170109042\n-0.5990300907164061\n-0.3117330200301147\n0.057365816024864014\n0.6761764917621846\n0.5506642692753836\n0.30120760265488755\n-0.015027925190880254\n-0.32460690802318304\n-0.5682766547282432\n-0.7191453893897837\n-0.7842628740258011\n-0.7935842420566606\n-0.7828456892746232\n-0.7768518599662442\n-0.7803799424440232\n-0.7824380545854766\n-0.771289114750741\n-0.7467636256735495\n-0.7161206250746743\n-0.6757337032023258\n-0.5986554334831848\n-0.4462403848152171\n-0.19919765440583348\n0.11698412388118229\n0.6407894852128049\n0.5806294092062192\n0.38133833466362965\n0.09844733103940406\n-0.19119701018930257\n-0.4216904064272846\n-0.5595423406637225\n-0.6089621614062297\n-0.6028136543617704\n-0.5836765797079821\n-0.5819102122818349\n-0.6015178912872163\n-0.6236202496171277\n-0.626050811064726\n-0.6028816786553619\n-0.5656139693009827\n-0.5245915994906782\n-0.46960448035930746\n-0.37070605421882863\n-0.20117867035556025\n0.03573418264411038\n0.48261936943359274\n0.4964567826802444\n0.3675429117555069\n0.14530123767164405\n-0.09508825536690235\n-0.28381912801835707\n-0.3800684465689317\n-0.3822621540988749\n-0.32396759334511716\n-0.25620238739192214\n-0.22168384881484826\n-0.23403890659265358\n-0.2759914794637792\n-0.3183445901476065\n-0.34422421971632033\n-0.3577370526471825\n-0.37054345807517575\n-0.38060603251526864\n-0.3640601382627388\n-0.2886051903313681\n-0.138715495346576\n0.23260953394694184\n0.307590101532103\n0.25185203750149476\n0.10504001785323425\n-0.0651374203952031\n-0.1894955328459078\n-0.22115711392716086\n-0.15104451040090972\n-0.010910019851411157\n0.13996857163192367\n0.24201470940702086\n0.26313600978429563\n0.209548842410614\n0.11276468560567787\n0.004224199351163693\n-0.1016524357616525\n-0.20421483822437103\n-0.29973909165896356\n-0.3684195666458101\n-0.3781391137276946\n-0.30429386351030485\n-0.038406725181483026\n0.06584779113627093\n0.06622513096872851\n-0.008521561645775222\n-0.10305523114854687\n-0.15448485438547888\n-0.1135165684913364\n0.03628706210497157\n0.2678355175089506\n0.5169223069985298\n0.707648006670101\n0.7854655629687215\n0.7385271712469663\n0.5948461945549214\n0.4000083526731004\n0.19319995936139442\n-0.002554908265102074\n-0.17358076392000488\n-0.3029707430634559\n-0.3663726457202125\n-0.3428735950975279\n-0.2695699894795087\n-0.1790033468232668\n-0.15423917713941382\n-0.17507696991398625\n-0.20161071314350743\n-0.1836964630966289\n-0.0760041849148001\n0.1425052197860217\n0.45200726445424033\n0.7899663564586659\n1.07076822864477\n1.2199473533407998\n1.2046528765725533\n1.0431848411874074\n0.790048337356773\n0.5084060933688779\n0.2475362431819992\n0.036053496313496455\n-0.11118908283265293\n-0.18408125706325398\n-0.17726437629852967\n-0.45361654051517775\n-0.4195345844356755\n-0.405392181663192\n-0.3946405184243096\n-0.3641413147060808\n-0.28322327977789286\n-0.11898038954058521\n0.14889429350219707\n0.5091597719072469\n0.9088599065426548\n1.2633137988511778\n1.4860973178939672\n1.5248774540115941\n1.38329421124114\n1.1167794482186042\n0.8060513750916871\n0.5245943888949742\n0.31741534956615375\n0.19831278428216095\n0.15992887317597443\n0.1843815016244434\n-0.635976232479603\n-0.6895881891400979\n-0.7117210128840172\n-0.6844111081391837\n-0.6017170792009656\n-0.4583138437084253\n-0.24212922264761927\n0.05990007329648206\n0.4443202516969236\n0.873755957480904\n1.2748643983054748\n1.5593686174626404\n1.6607105278023275\n1.5662957730758715\n1.3255847772176614\n1.0286159923312355\n0.7674826439439365\n0.602094656787283\n0.5462014481818328\n0.5754107290850413\n0.6466048872752688\n0.9389800159755062\n1.1870124128226642\n1.2677446152553244\n1.2153283730397888\n1.0744437470934187\n0.8750048006613014\n0.629465649637357\n0.3487582610870952\n0.06251225075405564\n-0.17173135790345562\n-0.2785971666729026\n-0.192179373754918\n0.11003768337227626\n0.5817581372928302\n1.1063801599142309\n1.5282645652007805\n1.7096576431333546\n1.5878522469101384\n1.2018317610263125\n0.673829130106423\n0.1582320728488078\n0.856992827036553\n1.0758586036788635\n1.1547931574229082\n1.1164203578791465\n0.9909092184751316\n0.7988925036020653\n0.552791139377879\n0.27043855232580327\n-0.011868322333254966\n-0.23704102388801473\n-0.33838291150098776\n-0.26102905865465154\n0.012171139896748784\n0.43867338886756\n0.9112067208692736\n1.2826101563754726\n1.4195686562407364\n1.2616008797720877\n0.8509327390896395\n0.3147031381311436\n-0.18807844809119523\n0.6081118769012335\n0.8015833024736949\n0.8807518009987092\n0.85190678586563\n0.7317343807736307\n0.5389948446630708\n0.29636470200124165\n0.03602587941088764\n-0.19906407989244634\n-0.3606610940444952\n-0.4042837273423263\n-0.2991283194572034\n-0.04065793086863323\n0.3333339053398401\n0.7329457373432415\n1.0306888782876307\n1.107575091052123\n0.9109292282954788\n0.4867773082945881\n-0.03630194057862912\n-0.5006157807690794\n0.3003081345301766\n0.4755562800340165\n0.5528934495227951\n0.5231001344496171\n0.3945311678280703\n0.1920234414880575\n-0.044145151671747485\n-0.2642857916472785\n-0.42153687965965503\n-0.4841451790967142\n-0.43939112282643755\n-0.2885929158088931\n-0.043774303975649076\n0.2635081943232809\n0.5673310899483388\n0.7693929554504431\n0.7738450996950714\n0.5405439676037158\n0.11861701427346816\n-0.366909271291763\n-0.7666113382259461\n0.04470254946635066\n0.20171608111789396\n0.26497408382955356\n0.21670749098047892\n0.0651182718290304\n-0.1528720097935441\n-0.37779295996696405\n-0.5454302234535167\n-0.6105859072723199\n-0.5633175770273127\n-0.42592528397706353\n-0.23301076584316238\n-0.012971294948102674\n0.21045532150177948\n0.3992062823081799\n0.4904661705321347\n0.4181409665068623\n0.15809675883584529\n-0.23934923459424162\n-0.659338018196828\n-0.969159965430876\n-0.08601746028153556\n0.04038660772515357\n0.06763632007563736\n-0.020009171534656645\n-0.20607710185675288\n-0.4395367698001049\n-0.646587824505044\n-0.7568494391763547\n-0.7334476280293281\n-0.5894744413112658\n-0.37816151190781166\n-0.1615774552804039\n0.019111328820518025\n0.14833667070086243\n0.21529549186324104\n0.19392273185451891\n0.0511500237542144\n-0.218791034653119\n-0.5661941670640216\n-0.8929805922784535\n-1.0920986079186443\n-0.08416436607544853\n-0.009914184922111602\n-0.04295449951093744\n-0.1869987989754609\n-0.4117172569727323\n-0.6545571222697006\n-0.8369363218480785\n-0.8931359108779304\n-0.7999681077990228\n-0.5899751816308756\n-0.33689411785070256\n-0.11929869798021642\n0.014294279816326139\n0.05462679274922699\n0.012330665367533022\n-0.10654765027921353\n-0.30288424397258673\n-0.5627057384843708\n-0.8371619660104663\n-1.0492201847301001\n-1.124813225806483\n0.0007647142042515043\n0.0006763277709858073\n-0.11044234376338657\n-0.31831068796614304\n-0.5775408512852653\n-0.8198778791595203\n-0.9726532115047881\n-0.9844830810127494\n-0.8483573855709778\n-0.6091970494055845\n-0.3478295260271631\n-0.14654278371627072\n-0.05553346682667204\n-0.0812958258928207\n-0.20126003647671453\n-0.38671211268710026\n-0.6112125060049998\n-0.8411223656195275\n-1.0269707346729953\n-1.1133214486647431\n-1.062595055076533\n0.10210018043267333\n0.013382067858794144\n-0.18232904423221363\n-0.4517838312571314\n-0.7369052870246335\n-0.9699048452380126\n-1.0919956896458114\n-1.0718268469389631\n-0.9181803516144722\n-0.6808803193958921\n-0.43601617122112124\n-0.25864689240592664\n-0.19564993760236415\n-0.2539540507015663\n-0.40870317511520904\n-0.619861209493727\n-0.8417625775057602\n-1.02366814029231\n-1.113820348955067\n-1.0756065218785706\n-0.9064340049652726\n0.18103043136214403\n0.0026065855876495903\n-0.2732594052770416\n-0.5969747774544558\n-0.90132045719084\n-1.122592241189981\n-1.2185558236671516\n-1.1785233549759875\n-1.0249462618329597\n-0.8077340299632993\n-0.5916605843832796\n-0.4379905550664125\n-0.3861624723379373\n-0.44421208835971493\n-0.5912974317912778\n-0.7861676532647688\n-0.9738884788315736\n-1.0924910251131807\n-1.0880543677710048\n-0.9382852711499687\n-0.6691426898599566\n0.24322719738180965\n-0.010934124409869739\n-0.35379585570557914\n-0.7234401898649967\n-1.046087420495354\n-1.2618924187283467\n-1.3423380731435817\n-1.2936660955077022\n-1.1493356512937822\n-0.9584049945520494\n-0.7738954160274165\n-0.6415416874066824\n-0.5900670349023072\n-0.6260978839146372\n-0.7343491649479308\n-0.8793673397031281\n-1.0071985483966313\n-1.053318149513037\n-0.9642723507621722\n-0.7271738087569655\n-0.3862486709256281\n0.31519012549588155\n0.013210617927152057\n-0.37567825819442646\n-0.7812115949848213\n-1.12412664915104\n-1.3453064297167456\n-1.4236419414414225\n-1.3761046354063593\n-1.244552835091338\n-1.0791101100369973\n-0.9249626615932187\n-0.8142185334049179\n-0.762723035017864\n-0.7712954226685889\n-0.8280217466324016\n-0.9067596635292556\n-0.9632550200562466\n-0.9397289480138991\n-0.7871149008454861\n-0.49699082068223466\n-0.11945533314467438\n0.4025393711397598\n0.09032842970683497\n-0.3156246496403927\n-0.7405298847753485\n-1.1002505734019499\n-1.3327284544247213\n-1.4174476682276147\n-1.375627032587321\n-1.2551176028774647\n-1.1099782209053428\n-0.9832243230288302\n-0.8974616287609622\n-0.8553245916800822\n-0.8477470637952365\n-0.8621513093808013\n-0.881718179201656\n-0.87697723700501\n-0.8038136159803768\n-0.6206238714338023\n-0.3185435798809966\n0.058613012898586225\n0.46917001825455884\n0.18620213674246422\n-0.20171804424311013\n-0.6194776562720286\n-0.9796869442231166\n-1.2153003162201994\n-1.3013998920854872\n-1.2582872984734976\n-1.1377891837169094\n-1.0005395103530312\n-0.8932807990242426\n-0.8348089369746927\n-0.8167875682450714\n-0.8180508230962864\n-0.8205775651658773\n-0.8130378126308736\n-0.7803269139390576\n-0.6941581941909695\n-0.5212879319166677\n-0.2483354598520574\n0.0962595106596677\n0.45848687534222776\n0.2360399367502346\n-0.09904805744105083\n-0.47611841356956663\n-0.807868299462891\n-1.0227029962828906\n-1.0889564010360688\n-1.022778769113608\n-0.8785295261781774\n-0.7256607454624895\n-0.6204426315025877\n-0.5849523741008908\n-0.6048338799210664\n-0.646837360882518\n-0.6822998729245601\n-0.6976571307425825\n-0.6857464594200653\n-0.630978634340879\n-0.5074524172810018\n-0.2956646423075226\n-0.0052484369598932434\n0.33964734347248005\n0.19148796980754668\n-0.066234349491884\n-0.3719120213302345\n-0.6429084813395578\n-0.8056775224032027\n-0.8218446286989449\n-0.7018790703336086\n-0.5016265968351337\n-0.30091153723050157\n-0.17070444612819768\n-0.14406358030939903\n-0.20751777704766683\n-0.3178327027317035\n-0.43091739481082914\n-0.5209579113608523\n-0.5780267588623298\n-0.5922233061628768\n-0.5432790803989025\n-0.4077468146376033\n-0.17981647157853167\n0.13723398743574933\n0.05468569344352758\n-0.12032970160151812\n-0.33816867400028805\n-0.5255027518419686\n-0.6109200069425782\n-0.551392190524008\n-0.35150600569304924\n-0.06722902557262644\n0.21161341382830612\n0.39657164676619483\n0.43726937456397286\n0.3388218839505919\n0.15016187269079218\n-0.06686131350862123\n-0.26532221925046556\n-0.42108971727420674\n-0.5215160600584046\n-0.5504870389513953\n-0.4862288117434978\n-0.3165577655012597\n-0.0845518528495166\n-0.13080520388604278\n-0.23959595928903088\n-0.37312255868682875\n-0.47098134794603475\n-0.46905296972787447\n-0.32378886247504735\n-0.034967587802976485\n0.3436747734389791\n0.7161364916267798\n0.9783394676802182\n1.0599467211977187\n0.9511964896831351\n0.7000681519674389\n0.38386564602071704\n0.07472848246676203\n-0.18052565101017673\n-0.35890482921927297\n-0.447152897890363\n-0.4321164205150287\n-0.30697484975151773\n-0.2721784877119706\n-0.3236283527092585\n-0.3984465458878912\n-0.46731034103138214\n-0.48490146186863115\n-0.4003776681681055\n-0.1758926395855145\n0.1910377783895698\n0.6521340140481735\n1.1126977199197547\n1.4602204073352676\n1.6066388519598802\n1.5229977768498957\n1.248039995144234\n0.8672480867659221\n0.47583268968974535\n0.14679892789235877\n-0.08109114949310191\n-0.19577207177028855\n-0.19824237510573925\n-0.09783662395787093\n-0.424881928880362\n-0.52270508663001\n-0.5989807272940704\n-0.6277007131321435\n-0.5796865553357655\n-0.42358985090000534\n-0.13475526031893859\n0.2877499681139515\n0.8041408113309774\n1.3301448879940274\n1.755386627071082\n1.9803697352595733\n1.9557165005227752\n1.7032090411768066\n1.3067007357255291\n0.8776300676685669\n0.5138939735015244\n0.2727771529765775\n0.1673978799160647\n0.1802811245739481\n0.2789702838184501\n-0.5914690200933208\n-0.7640618550343401\n-0.8668745948799099\n-0.872742924309625\n-0.7693026315699552\n-0.5499985331676003\n-0.2101722934759631\n0.24541254777821875\n0.7870536524328622\n1.3483275840271065\n1.8311064809778095\n2.1325230249333025\n2.1850695050166093\n1.989322106458026\n1.6191834495217303\n1.1941199093464245\n0.8323876110400772\n0.6097349085895885\n0.5425294518390201\n0.597922903992308\n0.7185700660665341\n0.49728867500421003\n0.8406344559417676\n0.9945204407870598\n0.9775425857260842\n0.8363061146741195\n0.6195516425524872\n0.36517092567155274\n0.1033229462433578\n-0.13075230534408355\n-0.286986255762967\n-0.30505874017207546\n-0.1354348248630295\n0.23146135537334267\n0.7427490695394301\n1.2829346064541092\n1.7047139296623701\n1.8830458172464013\n1.7669286271620113\n1.399676647791111\n0.8966103002759489\n0.3959891731029579\n0.43849378101610625\n0.7442882503296531\n0.8863864038978626\n0.8730329549451561\n0.7383122132004374\n0.523066100051544\n0.2653536503082563\n0.0015632877907503229\n-0.22749641660886333\n-0.37378259787073276\n-0.387998442892048\n-0.23455492673869038\n0.08852719471996373\n0.5323295640605554\n0.9943346819637444\n1.3419086352656553\n1.4605991544018053\n1.3050343437840048\n0.9213972646804116\n0.42695547195544314\n-0.03870987486334165\n0.26634781046005784\n0.5295165239512336\n0.6538083166105793\n0.6342151335147506\n0.49353512245521536\n0.2705362533663127\n0.011112814836771179\n-0.2371688998784176\n-0.42929213703898306\n-0.527216460787022\n-0.5039765527705491\n-0.3474528376783841\n-0.06680407294829394\n0.2967048490136577\n0.6623205408117059\n0.9218589906325168\n0.9783781514253453\n0.794345348835515\n0.4167980326477201\n-0.0395995665263742\n-0.43951817622547207\n0.06840487400929618\n0.2889812439351438\n0.3884876584255039\n0.35081924557070465\n0.19213915772339973\n-0.04505659767065673\n-0.30260617520063704\n-0.5211224825541549\n-0.6552195999974124\n-0.683553280190127\n-0.6080756416627207\n-0.4440205269211983\n-0.21165067667988247\n0.05914371030017218\n0.315493224134495\n0.48010496300218275\n0.4779331186001077\n0.27998828669569864\n-0.06883386176323203\n-0.4616749447649964\n-0.7730978383596883\n-0.07029195913412423\n0.10485565545668507\n0.16669416558473493\n0.09553344578031187\n-0.09157506555506068\n-0.3440485080135538\n-0.5919353684886275\n-0.7687432991410414\n-0.8349226539360579\n-0.7901945078245998\n-0.6661661460696369\n-0.5031944894248603\n-0.32948657102256096\n-0.16083358571374973\n-0.019804024646079554\n0.04979321938852799\n-0.003057282973377262\n-0.1987858186397169\n-0.49779559748921454\n-0.8066782123814589\n-1.016049826565986\n-0.10279232418059436\n0.016734027756001524\n0.022245113890910773\n-0.09924761841918617\n-0.32180448388985994\n-0.585153497198192\n-0.8128281307082315\n-0.9399280832716403\n-0.9394606596176445\n-0.8329348164605026\n-0.6763665080089476\n-0.5279635163170617\n-0.4192644387664908\n-0.3518874847900557\n-0.3206467832233084\n-0.3377528278185187\n-0.43007737942352886\n-0.608967419081865\n-0.8417221124264316\n-1.0530050214291506\n-1.15567056906381\n-0.040844120342502066\n0.0069844712549667065\n-0.06274778069325393\n-0.2473136784223584\n-0.5064978577786796\n-0.7721519364016256\n-0.9695381928059685\n-1.0449809755897892\n-0.9887567325562108\n-0.8405581219271001\n-0.6709099147933397\n-0.5458287505461481\n-0.49608514419590133\n-0.5126687590869059\n-0.5703358295529775\n-0.6559677280617819\n-0.7739569588524864\n-0.9248371872031873\n-1.081500989918776\n-1.188671004837\n-1.1865055453030977\n0.058213468087979336\n0.017839374314833734\n-0.13986598957401064\n-0.39178225767195585\n-0.6824179715995538\n-0.9402545057766858\n-1.1006117068698913\n-1.1283470416738064\n-1.032146302537324\n-0.8630799008255918\n-0.6946507700038733\n-0.5909388831975262\n-0.5796236739265161\n-0.6473101202524401\n-0.7594724071234813\n-0.886681404376684\n-1.0139181990183679\n-1.1285125813603107\n-1.2051428925270051\n-1.2074899721520063\n-1.10579371010704\n0.13372480832958722\n-0.005919592539571639\n-0.2552293117253388\n-0.5708255629155659\n-0.8847073887035517\n-1.127034461017896\n-1.2486716472763257\n-1.2358967154458664\n-1.1136549191160237\n-0.937255114029929\n-0.7740555408780212\n-0.6796256747550018\n-0.6780836928423088\n-0.7578253801683124\n-0.8849703285083343\n-1.0226884779044276\n-1.1406350926727753\n-1.211603919291266\n-1.207984762689581\n-1.1092256142516255\n-0.9153517955365631\n0.16370732539190236\n-0.076536812095231\n-0.412855604930515\n-0.7848859370834038\n-1.116260686081766\n-1.341968143799889\n-1.4292296462222316\n-1.3838748578312101\n-1.2432730267418748\n-1.0625375280169758\n-0.8992445687804489\n-0.7985607045527399\n-0.781483367138708\n-0.8413015318996258\n-0.950209677197984\n-1.0702735197773339\n-1.1606687378622924\n-1.1812380604458546\n-1.1002467690597895\n-0.9091331994164953\n-0.6339224937692656\n0.17373975456813184\n-0.15598231214047686\n-0.5678249267218511\n-0.9887084797191825\n-1.337221963101772\n-1.5531679956393498\n-1.6163696503692222\n-1.5467851040825131\n-1.3902905674626673\n-1.2013241203610576\n-1.0298600453126752\n-0.912874900468791\n-0.8684837859737353\n-0.8936208780648203\n-0.9663570912252144\n-1.0505389230318172\n-1.100308757815229\n-1.0675805295940184\n-0.917837850028282\n-0.6508201610157951\n-0.3112287064628383\n0.20523740230335719\n-0.18933709534699794\n-0.6574165251042938\n-1.1174154383982682\n-1.484758689908972\n-1.7015985887619731\n-1.7539669807077587\n-1.6690201369284718\n-1.497947860568118\n-1.296887576787408\n-1.1138824821641147\n-0.9819881701377358\n-0.9159578398117749\n-0.9119097126032929\n-0.9495814533535589\n-0.99488082537735\n-1.0023773159159797\n-0.923130649041745\n-0.7231255034228368\n-0.4064614841747791\n-0.026294487711620906\n0.2703240655828747\n-0.15293703643177103\n-0.6482500868886589\n-1.1298634525789755\n-1.5113889059838863\n-1.734395873019131\n-1.7847783503440624\n-1.6905792565988325\n-1.5060397484356853\n-1.2922119923646274\n-1.1013513244881823\n-0.9669080844950821\n-0.899434426245882\n-0.8888959476506386\n-0.9110402631567545\n-0.9323939376571102\n-0.9120810810787905\n-0.8067918401696874\n-0.586096213233612\n-0.25399296368586954\n0.13917065148914265\n0.33338862838069794\n-0.07728443208645963\n-0.5623263297640939\n-1.0367730083590194\n-1.4144240553608167\n-1.634639936049262\n-1.6789079665726225\n-1.571986297239178\n-1.3700395437097113\n-1.1419144302912367\n-0.9490619720527294\n-0.8289324084371303\n-0.7874895696495274\n-0.8041917162342942\n-0.8451937528854805\n-0.8744221243348396\n-0.8565589036816565\n-0.7574092758587173\n-0.5517062912190108\n-0.2393442815567799\n0.141385870281999\n0.33671966388788377\n-0.025277873892688874\n-0.4612407265705052\n-0.8923188906026445\n-1.2355015249923458\n-1.4281965578862108\n-1.4459075576790523\n-1.3085528649641347\n-1.0744137996070036\n-0.8226261903451837\n-0.6276624477919954\n-0.5342336589092964\n-0.5445032284919249\n-0.62483562210576\n-0.7266005043222197\n-0.805686035995426\n-0.8290905819184253\n-0.7712222737018931\n-0.6122486209870908\n-0.34640516946745986\n0.004161553613367286\n0.24828882554406384\n-0.044914697424715655\n-0.40316183223407265\n-0.7582264619754389\n-1.0336758896034155\n-1.1667277252045203\n-1.127588391127044\n-0.9318554090218716\n-0.6409919281260588\n-0.3463688974117365\n-0.1383379113825831\n-0.07214185337231238\n-0.14851166616983624\n-0.32033699506528834\n-0.5200303890460335\n-0.688487384818794\n-0.7881447635608958\n-0.7980486372312088\n-0.703638457693477\n-0.4958387308492435\n-0.18330501608281782\n0.08926617061007747\n-0.13765600520778243\n-0.4097763993820811\n-0.6716568493352799\n-0.8563472586035425\n-0.9037037759364086\n-0.7810318954357367\n-0.5012283576454375\n-0.12955281731765655\n0.23027264371289702\n0.4710850239948654\n0.5243187505415476\n0.386672244130713\n0.11604683913502978\n-0.19963220553615885\n-0.48018513879756436\n-0.6752376171983144\n-0.7624451355512364\n-0.7322217332177798\n-0.577907130721637\n-0.3030633067773389\n-0.08388309760898238\n-0.26888924958904603\n-0.4694467074794382\n-0.6418269812880757\n-0.7305317191933574\n-0.6819292096942817\n-0.4643894824729138\n-0.09006065924051931\n0.37327031098724195\n0.8130168120811048\n1.107851991236244\n1.1747198058756352\n1.0024069086187093\n0.6530523537282322\n0.2315376954964457\n-0.15846868823230084\n-0.44682442575830195\n-0.6030931707564313\n-0.6216099236917694\n-0.5047969911156371\n-0.26219476183165097\n-0.22784119246359502\n-0.4087022553596267\n-0.5685611276295015\n-0.6715118924535526\n-0.6747210484198227\n-0.5360352823950523\n-0.23029456816412486\n0.22913090041556394\n0.7755106893119961\n1.2949814939081783\n1.6589094630319388\n1.7710109493923851\n1.606363018633338\n1.221483094785798\n0.7298134063147346\n0.2560532928242387\n-0.10593949603480707\n-0.31133144013925146\n-0.35579500755339843\n-0.2556173621876961\n-0.03644215452202341\n-0.3493676860157535\n-0.5640972993495019\n-0.7171981946070689\n-0.775682273945228\n-0.7103984463580337\n-0.49622894696527275\n-0.12052055495735337\n0.40031662421761416\n1.0055016538444534\n1.5897835116320171\n2.0267538202862507\n2.2104578382917763\n2.0975458130553886\n1.7283452445653547\n1.2138637856788548\n0.6936164847069264\n0.2857275787845987\n0.05432736459361827\n0.006411035287037861\n0.11059050277253536\n0.31867353858826397\n-0.49823403056230475\n-0.7718363765489542\n-0.9413623256282859\n-0.9732331707460729\n-0.8532836797582544\n-0.5783536899944499\n-0.15334308753920523\n0.4010016232098468\n1.0343037225268783\n1.6588260051527475\n2.1596167199384064\n2.4260007387156035\n2.3944298567013966\n2.0814723208531065\n1.5859630474824895\n1.0546512478831709\n0.6273663838129374\n0.3898486056745404\n0.3559487049784761\n0.48148392993956496\n0.694288172602603\n0.16927765286252594\n0.6132619760749947\n0.8419312194382478\n0.8570489659121634\n0.7067200742262258\n0.45866629279587556\n0.17657819463668645\n-0.08945742691003566\n-0.29728377430410546\n-0.4026318046837041\n-0.3588457225645705\n-0.13197692041195097\n0.27538470032899376\n0.8057724263026742\n1.3486504276681046\n1.7696173157917876\n1.9588476696173291\n1.8749568673923953\n1.5588671321010672\n1.1106629239323453\n0.646697137301933\n0.1131639666039419\n0.5139892098856436\n0.7227182601565971\n0.7313616303867612\n0.5777360516416259\n0.32369466090219134\n0.03375582253294063\n-0.23638676550499582\n-0.44010256744631704\n-0.5361324038099688\n-0.48984828039145434\n-0.28263544449701605\n0.07381261850080278\n0.5255040541029796\n0.976560368573649\n1.3110367521165678\n1.433937120059598\n1.3119999358497\n0.9886994990391855\n0.5637068563793317\n0.15207248505019066\n-0.0008503088993769836\n0.3438572312143151\n0.5202954976544838\n0.5095614966740669\n0.3401027851543734\n0.07153853688154754\n-0.22612779789323056\n-0.4891937205345176\n-0.669053833683158\n-0.7347585467392062\n-0.6725551629545237\n-0.4850058654335996\n-0.19261485353657903\n0.16044263109225376\n0.5022556915190588\n0.7434131705013236\n0.8075574431735939\n0.6685645777924174\n0.36827488655196383\n0.0007537299629261085\n-0.3251356710707052\n-0.1032373209203925\n0.17848776795826993\n0.311547081825605\n0.26966974847272773\n0.07579201931547352\n-0.20950303423276218\n-0.5095516647001119\n-0.754616454420109\n-0.8990023492401455\n-0.9278080030818128\n-0.8519057701533921\n-0.6948687619574176\n-0.48201346690269453\n-0.24159973761027942\n-0.015724037073357344\n0.13634630840464368\n0.15716852836902362\n0.024804395286636804\n-0.22545552012665127\n-0.5103218886491918\n-0.7313945637598467\n-0.13508158070244392\n0.07799754353493782\n0.15467170643780115\n0.06947030261813048\n-0.15354148938137335\n-0.450513749275423\n-0.7409973453859351\n-0.9557667601157647\n-1.05886027080337\n-1.0548957238742585\n-0.9777813797737505\n-0.8667228352619469\n-0.7457885075548383\n-0.623245179743428\n-0.5099887903253961\n-0.43575755559401586\n-0.44099261127398215\n-0.5465459256753249\n-0.7278520075585284\n-0.9169644577818286\n-1.0298725749046866\n-0.07636295413819383\n0.06029175535246978\n0.06591035930788536\n-0.07419270714421167\n-0.3275742027322437\n-0.6263675658701597\n-0.8922751265882347\n-1.0655919085469758\n-1.1266575114398698\n-1.0996891827016366\n-1.0353383922630437\n-0.9799584972573534\n-0.9509085307836864\n-0.9365138723312381\n-0.9205159209582208\n-0.9076364162328074\n-0.9239832150430711\n-0.9904755441605273\n-1.0946550583154808\n-1.1865923407482253\n-1.2001684977338254\n0.04170076189772587\n0.0917955403523596\n0.013615547852278809\n-0.18887799066709476\n-0.47010553158156654\n-0.7596219658598962\n-0.9882852561696271\n-1.1140220401105356\n-1.1370457804517935\n-1.097232244955583\n-1.052633259149399\n-1.047994201495766\n-1.0915100570260385\n-1.1567879526093847\n-1.2095844004913792\n-1.2369662715309655\n-1.2528714601335125\n-1.2762097260127043\n-1.304008958939757\n-1.3043281343965272\n-1.2319270866407215\n0.1562418755093784\n0.10913825388526277\n-0.060251399379362525\n-0.32616201748685114\n-0.6294926723627903\n-0.9006349618025808\n-1.0853549942014808\n-1.1635535158631498\n-1.1544460712564293\n-1.1066979577701845\n-1.076333349480394\n-1.1003802797896514\n-1.1794701980208426\n-1.2815656477482102\n-1.3660712580368721\n-1.4103123389964862\n-1.4168344429978919\n-1.397675291288064\n-1.3536233163844948\n-1.2685099724422653\n-1.1204288625990566\n0.21581490304647488\n0.06300805264924136\n-0.199149563633938\n-0.5244816321413204\n-0.8437373628251219\n-1.0920716495463587\n-1.232753994183338\n-1.2670481160673104\n-1.228677401234151\n-1.1681821528436522\n-1.133644575455838\n-1.1530409748318577\n-1.2242667424459883\n-1.3190076041854035\n-1.400034499233266\n-1.4405047723514492\n-1.430870141437211\n-1.370850463566141\n-1.2589154289051487\n-1.0918054654733078\n-0.8725399240293892\n0.21601008512085684\n-0.0456129344268561\n-0.3975522287439137\n-0.7770654293631445\n-1.1094332955991462\n-1.3370573880618917\n-1.439286303365483\n-1.4339097332402853\n-1.3633036976669697\n-1.2759877546164562\n-1.212056260376655\n-1.1941629163450576\n-1.2232892284349375\n-1.2806370741798796\n-1.3364557909501844\n-1.3612345945840212\n-1.3320701938438315\n-1.2331461080723338\n-1.0570209719592056\n-0.8110059993791117\n-0.5227025661452644\n0.19827764132134718\n-0.16572883010220885\n-0.5996904762432322\n-1.0285145666565132\n-1.3757362715117285\n-1.59096136343432\n-1.6648029626704357\n-1.6244067462674527\n-1.515686012434542\n-1.385362521418732\n-1.2708372457287198\n-1.1962862629526576\n-1.1701652968124994\n-1.1835450885542693\n-1.212004483980675\n-1.2214404582864957\n-1.1753397697050185\n-1.0430731295390396\n-0.8112108244032972\n-0.49554552164288035\n-0.14447584272568958\n0.21122220686994098\n-0.23535060680642594\n-0.7354603771881756\n-1.2056272195102693\n-1.5698004513512052\n-1.7827587787871817\n-1.8400723390671692\n-1.7709670063349323\n-1.6214559446711174\n-1.4394558379138016\n-1.267162463565767\n-1.13702054922563\n-1.066425197793452\n-1.052138989598915\n-1.069090613513559\n-1.0755928039507185\n-1.0233883955022987\n-0.8714017476472093\n-0.6024861622231885\n-0.2378197215876965\n0.16139607047622162\n0.2661095226230099\n-0.229237669322071\n-0.7677578420258886\n-1.2618695833188749\n-1.6373911060308846\n-1.8518549759135263\n-1.9002688132768197\n-1.8084799382216703\n-1.6209827840458715\n-1.3904718365182283\n-1.1701251990359318\n-1.0046371195130472\n-0.9187681353115718\n-0.9086412653937366\n-0.9419299917682169\n-0.967225219740637\n-0.9281839812184125\n-0.779339369059967\n-0.5025124790820175\n-0.11964903380485592\n0.30617719050210535\n0.32474145071000393\n-0.17686146858878615\n-0.7150204634945769\n-1.203179204547041\n-1.570745610649416\n-1.7765170647071198\n-1.8117460332748765\n-1.6964745687510767\n-1.4740385239047167\n-1.204972548649895\n-0.9567885960797193\n-0.7869475869378486\n-0.7238539419965049\n-0.7565298533151164\n-0.8398045564013132\n-0.9112511336310183\n-0.9100652248926517\n-0.7918159879668208\n-0.5393769759392235\n-0.17075798493492655\n0.25948095537465177\n0.3302681707750281\n-0.13700422551421632\n-0.6330906569129002\n-1.0778722263373366\n-1.4063857236752106\n-1.5783840459364402\n-1.5807423464605153\n-1.4284581112760475\n-1.16615406641996\n-0.8650156498617116\n-0.6080553221414595\n-0.46377991367836446\n-0.45984190730790164\n-0.5726215755863755\n-0.7395234078940937\n-0.8852908100488379\n-0.9461110451834598\n-0.8817387577964262\n-0.6778809588541648\n-0.3465410164184465\n0.07197786266063919\n0.2539465494602098\n-0.15242772115680836\n-0.5745008510597209\n-0.9427838249303377\n-1.1996170795553311\n-1.306132298708076\n-1.2460540180945454\n-1.0323322979440324\n-0.7146835265210383\n-0.37761207946762587\n-0.11983268766040078\n-0.018781766129998934\n-0.09804578444418066\n-0.31775994737960445\n-0.5943797623940767\n-0.8367672501893915\n-0.9763330656322582\n-0.9772401603229566\n-0.8299809400844089\n-0.5429379911855496\n-0.14344749293875692\n0.11715111398192057\n-0.22381851240163542\n-0.5604023419129502\n-0.8352599463452162\n-0.9988048230262319\n-1.0144770766359734\n-0.8651800585092859\n-0.5654227138822638\n-0.17327097248376244\n0.2121800878439415\n0.47726829854697983\n0.5369319783910689\n0.3721643763433996\n0.039064990051120296\n-0.3568227077090116\n-0.7052631918221961\n-0.9285118497537526\n-0.9924210948839964\n-0.8938710825190616\n-0.6437228009076852\n-0.26394156610035413\n-0.02982570962263864\n-0.32309893390196187\n-0.585801695838005\n-0.7711393145779333\n-0.8376752898140145\n-0.7530208115299653\n-0.5024089000474059\n-0.10468441570164133\n0.3732763858142163\n0.8200027249441404\n1.1097101643551426\n1.1501239823640808\n0.9234986440815454\n0.4969113914353043\n-0.005498280154855928\n-0.45312635533673956\n-0.7537075859272301\n-0.8694826102466393\n-0.8034873228862127\n-0.575881992983534\n-0.21389638304136388\n-0.15282158318790806\n-0.4303476080780211\n-0.6468565802611508\n-0.762306551968484\n-0.7436073132204353\n-0.5658632226781934\n-0.22054092825987892\n0.2679560598391535\n0.8273574715375127\n1.3405506661198845\n1.675326991293091\n1.7323263399544866\n1.4883530849980342\n1.0110847138407097\n0.43482605231018784\n-0.09148697561815491\n-0.4564123054426678\n-0.6115095413788072\n-0.5627171496143107\n-0.3437587337572175\n0.003095199861918571\n-0.2633088224593685\n-0.5582982353867081\n-0.7592531509999629\n-0.82883638186222\n-0.7434025709985459\n-0.4901314316901937\n-0.07086510522979195\n0.48480780049036865\n1.1056835473210849\n1.678990193154306\n2.073950321869426\n2.1846838934105817\n1.974637644449661\n1.4993065863314399\n0.8916445960500662\n0.3138058276471577\n-0.10095774041606718\n-0.28631877956452834\n-0.24516710226322147\n-0.024766543690212126\n0.3115464816304209\n-0.40712347154408235\n-0.7407665245426109\n-0.9464398878976032\n-0.987309249826569\n-0.8513829433069846\n-0.5425707182361243\n-0.07630028465255867\n0.5143494998807898\n1.1665909078799217\n1.7822111901471167\n2.2399384606071964\n2.4289959038291906\n2.29355598006255\n1.8660540628303934\n1.2669390527268887\n0.664626852739325\n0.21369943157464033\n0.003392523046820993\n0.04061177432712422\n0.26860632388677\n0.602081631301304\n".split("\n");
logdust = logdust.map(function (x) {
  return parseFloat(x);
});
console.log("LOGDUST LOADED HERE", logdust.length, logdust[0]);
var pred_A = "1.1898458\n1.0973732\n1.0114374\n0.93234175\n0.8601341\n0.79474604\n0.7362201\n0.6849436\n0.64177835\n0.6080103\n0.58511347\n0.5744171\n0.57679015\n0.59244144\n0.62087935\n0.66101575\n0.7113723\n0.77030814\n0.8361948\n0.9075107\n0.98287374\n1.1719879\n1.0771546\n0.9875974\n0.904699\n0.829684\n0.76343066\n0.706411\n0.65880454\n0.62074053\n0.59254843\n0.574878\n0.56859624\n0.57452184\n0.5931056\n0.62421215\n0.6670626\n0.7203552\n0.7824791\n0.85173804\n0.9265011\n1.0052752\n1.154925\n1.0669305\n0.9828133\n0.9034894\n0.8302241\n0.76441073\n0.7073051\n0.65982175\n0.6225161\n0.59574884\n0.57991636\n0.5755763\n0.5833712\n0.6037795\n0.63684237\n0.681998\n0.7381017\n0.8035956\n0.87672555\n0.9557223\n1.0388935\n1.1372758\n1.0626812\n0.98999405\n0.9187984\n0.84961236\n0.78389686\n0.7237659\n0.6715209\n0.62919146\n0.5982797\n0.579768\n0.5742957\n0.58230704\n0.60404915\n0.6394286\n0.68785197\n0.7481728\n0.8187859\n0.8978031\n0.9832081\n1.0729489\n1.1158453\n1.0541534\n0.9922135\n0.9286145\n0.86314106\n0.79701257\n0.7327753\n0.67384154\n0.62379336\n0.5857107\n0.56177235\n0.5532275\n0.56060445\n0.5839414\n0.6228676\n0.6765562\n0.74365896\n0.8223315\n0.9103527\n1.0052484\n1.1043708\n1.0801125\n1.0268415\n0.9720415\n0.91397566\n0.85199934\n0.7868927\n0.7209731\n0.6578676\n0.60193175\n0.55745673\n0.5279436\n0.5157218\n0.5219732\n0.54697585\n0.5903316\n0.6510304\n0.72741145\n0.81715393\n0.9173711\n1.0247561\n1.1357033\n1.0253588\n0.977272\n0.927316\n0.8738348\n0.81606716\n0.75442564\n0.6906807\n0.62795806\n0.57046205\n0.5228826\n0.48964423\n0.47426412\n0.47905794\n0.50517756\n0.5527596\n0.6209742\n0.7079456\n0.8106963\n0.92526203\n1.0469692\n1.1707567\n0.96215576\n0.9179052\n0.8717665\n0.8223769\n0.76914686\n0.71241283\n0.65354675\n0.5950119\n0.5403109\n0.49373248\n0.45986795\n0.44300067\n0.44661155\n0.47312197\n0.5237831\n0.59849966\n0.6955343\n0.8112734\n0.94033855\n1.0761154\n1.211528\n0.90868556\n0.86719316\n0.82387733\n0.7777327\n0.7284837\n0.6766457\n0.6235148\n0.5711363\n0.522278\n0.48039305\n0.44948438\n0.4338121\n0.4374947\n0.46410823\n0.5162843\n0.59516937\n0.69970095\n0.82594836\n0.9670346\n1.113975\n1.2572231\n0.8805454\n0.8407611\n0.7993174\n0.75551605\n0.709394\n0.6617468\n0.61403954\n0.5682455\n0.52669907\n0.4920519\n0.46731445\n0.4559283\n0.46174073\n0.48880148\n0.54088825\n0.6206328\n0.72820616\n0.8599241\n1.0076685\n1.1599948\n1.3047743\n0.88831383\n0.84983706\n0.8098883\n0.76802915\n0.7245648\n0.68057275\n0.6377758\n0.5982938\n0.56436604\n0.53814846\n0.5217004\n0.517202\n0.52733314\n0.555582\n0.60612476\n0.6828715\n0.78753424\n0.91725767\n1.0632902\n1.212283\n1.3500869\n0.93817043\n0.9017008\n0.8638817\n0.8245051\n0.7841086\n0.744002\n0.7061314\n0.6728093\n0.6463464\n0.6287054\n0.6213068\n0.62513727\n0.64127463\n0.6716866\n0.71975464\n0.7896857\n0.8843322\n1.0020686\n1.1347328\n1.2687498\n1.3894118\n1.0310556\n0.99845994\n0.96461815\n0.9294913\n0.8937746\n0.8589149\n0.8269939\n0.8004535\n0.781713\n0.77273625\n0.7746617\n0.7876715\n0.8112977\n0.8452731\n0.89058\n0.9497913\n1.0257317\n1.1185496\n1.2229484\n1.3280252\n1.4206053\n1.1633985\n1.1369845\n1.109703\n1.0815767\n1.0533403\n1.0264727\n1.0031011\n0.98574823\n0.9769332\n0.9786588\n0.9918533\n1.0159141\n1.0486228\n1.0867413\n1.127434\n1.169956\n1.2162477\n1.2691808\n1.3289963\n1.3906025\n1.4444636\n1.3356253\n1.3172266\n1.2990716\n1.2811881\n1.2642895\n1.2498107\n1.2398235\n1.236762\n1.2429467\n1.259922\n1.2876877\n1.3240513\n1.3644218\n1.4024528\n1.4317896\n1.4486786\n1.4542134\n1.4542029\n1.4555407\n1.4609812\n1.4665699\n1.5607219\n1.5524936\n1.5464154\n1.5425481\n1.5415276\n1.5445768\n1.5533812\n1.5697471\n1.5950409\n1.6294338\n1.6711197\n1.7157959\n1.7567123\n1.7855477\n1.7941809\n1.7772961\n1.7352353\n1.675431\n1.6101605\n1.5503272\n1.4993017\n1.8530143\n1.8584478\n1.8680466\n1.8818135\n1.9001293\n1.9237195\n1.9534847\n1.9901328\n2.0336056\n2.0823796\n2.1328173\n2.1788576\n2.2123291\n2.2239993\n2.205276\n2.1504583\n2.059355\n1.9395045\n1.8058839\n1.6759076\n1.5611702\n2.2166278\n2.2394805\n2.2679029\n2.301688\n2.3408055\n2.3853467\n2.4353197\n2.4902773\n2.548768\n2.607697\n2.6618068\n2.7035694\n2.7237666\n2.7127845\n2.6623685\n2.5674963\n2.4282644\n2.2517855\n2.0531516\n1.8530264\n1.670199\n2.6590328\n2.7019494\n2.750977\n2.805612\n2.8653667\n2.929683\n2.9976876\n3.0678058\n3.1372104\n3.2012691\n3.253181\n3.2841666\n3.2844067\n3.2446043\n3.1577246\n3.020396\n2.8339067\n2.6052434\n2.348259\n2.0835166\n1.8338401\n3.191204\n3.2540088\n3.3225126\n3.3958907\n3.4731865\n3.553163\n3.6340365\n3.7130551\n3.7860072\n3.8468015\n3.8873906\n3.8983393\n3.8700998\n3.7946782\n3.6670706\n3.486031\n3.254278\n2.9788332\n2.672042\n2.3525968\n2.0439184\n3.804779\n3.8830762\n3.9658556\n4.0519743\n4.139988\n4.227954\n4.3131237\n4.3915744\n4.4578204\n4.504648\n4.523393\n4.5048656\n4.4408035\n4.3253484\n4.155934\n3.9333389\n3.6613238\n3.3465967\n2.9998384\n2.6373942\n2.281435\n1.2632818\n1.1713861\n1.0857756\n1.0060683\n0.93171203\n0.8622629\n0.7977201\n0.7387907\n0.68692726\n0.6440797\n0.61224556\n0.59300077\n0.58717513\n0.5947661\n0.61504596\n0.6468003\n0.68859226\n0.738964\n0.79653776\n0.8600356\n0.92826766\n1.2413232\n1.1462537\n1.0548047\n0.96804816\n0.8871481\n0.8131871\n0.7470843\n0.68962437\n0.6415815\n0.60382944\n0.5773377\n0.5630114\n0.56145275\n0.57275647\n0.59644157\n0.63152736\n0.6767196\n0.73060197\n0.79177564\n0.8589215\n0.9308148\n1.2140166\n1.1222144\n1.0322943\n0.9454457\n0.86338794\n0.7880958\n0.72143465\n0.6648523\n0.61927\n0.5852052\n0.56300133\n0.5529799\n0.5554093\n0.57033706\n0.59742546\n0.6358987\n0.68463355\n0.74231595\n0.8075784\n0.8790699\n0.9554657\n1.1746839\n1.093881\n1.0142772\n0.93579155\n0.85923785\n0.7863605\n0.7195563\n0.6613565\n0.6139008\n0.578636\n0.5563418\n0.5473453\n0.5517138\n0.5692982\n0.5996575\n0.6419982\n0.69520235\n0.75794554\n0.8287957\n0.9062511\n0.9887095\n1.129835\n1.0642742\n0.9988276\n0.9318961\n0.8630075\n0.7932113\n0.7250764\n0.6622155\n0.60846186\n0.56704783\n0.5401189\n0.52870977\n0.5330197\n0.5527015\n0.58701515\n0.63487583\n0.6948866\n0.76543057\n0.8447452\n0.93091816\n1.0218012\n1.0831716\n1.0303589\n0.9760551\n0.917945\n0.8548583\n0.78729355\n0.717654\n0.6500171\n0.58937675\n0.5405784\n0.50737673\n0.49200416\n0.49528396\n0.5170157\n0.556308\n0.6117366\n0.68142074\n0.7631124\n0.8543099\n0.9522727\n1.0539454\n1.0291015\n0.9836392\n0.9355993\n0.8826913\n0.82364416\n0.75865716\n0.68972075\n0.6206302\n0.55653524\n0.50302917\n0.4650667\n0.44618124\n0.44828665\n0.47191507\n0.5165293\n0.58067364\n0.6619999\n0.75736225\n0.86302423\n0.97485507\n1.088402\n0.96698976\n0.9254115\n0.88084644\n0.83132464\n0.77581245\n0.7145002\n0.64903533\n0.5826145\n0.5198106\n0.466019\n0.42659792\n0.40602487\n0.40742767\n0.43253797\n0.4817785\n0.5541882\n0.64723796\n0.7567982\n0.8774618\n1.0030752\n1.1272373\n0.90953064\n0.87013847\n0.82762176\n0.7804499\n0.72800875\n0.67074776\n0.6102573\n0.5492704\n0.49156526\n0.44171333\n0.4046236\n0.38497686\n0.3867486\n0.4129258\n0.46526325\n0.54383665\n0.6464228\n0.7681132\n0.9016015\n1.0381709\n1.1690156\n0.87380785\n0.83518416\n0.79348385\n0.74763423\n0.6974727\n0.64382887\n0.58847696\n0.53398126\n0.48350164\n0.44061702\n0.40919122\n0.39325204\n0.39682707\n0.4237034\n0.47695857\n0.55809927\n0.665821\n0.79491824\n0.9362304\n1.0781893\n1.2094448\n0.8728553\n0.83415616\n0.7925745\n0.74744475\n0.6990095\n0.64847296\n0.59788865\n0.54988\n0.5072847\n0.47287092\n0.44927666\n0.4392101\n0.4457912\n0.47275394\n0.52411884\n0.6030071\n0.70958614\n0.83890426\n0.9802698\n1.11951\n1.2432219\n0.9146667\n0.8764465\n0.8355167\n0.7915655\n0.74517643\n0.69786835\n0.6519489\n0.6101688\n0.5752419\n0.5494056\n0.5342325\n0.5308961\n0.5409164\n0.56704384\n0.6134811\n0.684613\n0.7821403\n0.9018394\n1.0324554\n1.1585486\n1.2659247\n1.0017446\n0.9661685\n0.9279823\n0.8871392\n0.8444612\n0.8016673\n0.7612101\n0.72591007\n0.6984266\n0.68070453\n0.6736141\n0.67705935\n0.69077027\n0.7156016\n0.75446653\n0.8116196\n0.88980347\n0.9865557\n1.0924324\n1.193305\n1.2757021\n1.1310058\n1.1009341\n1.0685742\n1.0339893\n0.99808085\n0.9626154\n0.93006665\n0.90326756\n0.88485634\n0.87662834\n0.87896556\n0.89061654\n0.90916026\n0.93234605\n0.9598628\n0.9942236\n1.0392966\n1.0966214\n1.1619645\n1.2253087\n1.2749423\n1.301759\n1.2794936\n1.2560366\n1.2314785\n1.2067107\n1.1834466\n1.1640807\n1.1513048\n1.1474744\n1.1537752\n1.1694095\n1.1911253\n1.2135521\n1.2307359\n1.2387855\n1.2384694\n1.2355653\n1.2374723\n1.2476367\n1.2621859\n1.271909\n1.5270678\n1.5153873\n1.5046202\n1.4949286\n1.4871458\n1.4827616\n1.4837179\n1.4919363\n1.5085621\n1.5330355\n1.5622867\n1.5904634\n1.609573\n1.6112769\n1.5897309\n1.544795\n1.4838008\n1.4194258\n1.3632414\n1.3189875\n1.2812839\n1.8262177\n1.8301086\n1.8373215\n1.8479784\n1.8626133\n1.8820834\n1.9072976\n1.9387037\n1.975539\n2.0150309\n2.0518441\n2.0781589\n2.0846272\n2.0621872\n2.004576\n1.9112144\n1.7896318\n1.655249\n1.526219\n1.414745\n1.3214797\n2.2109587\n2.2357316\n2.2654529\n2.2999408\n2.339146\n2.3830183\n2.4312098\n2.482564\n2.5344546\n2.5821624\n2.6185908\n2.6346698\n2.6205995\n2.567706\n2.4705038\n2.3287709\n2.1495614\n1.9482899\n1.7463366\n1.563325\n1.407914\n2.691189\n2.7393186\n2.7927318\n2.8507972\n2.9127953\n2.9777343\n3.0440216\n3.1089723\n3.1682415\n3.2154071\n3.242032\n3.2384677\n3.1953804\n3.105542\n2.9653323\n2.7758274\n2.5439029\n2.2835402\n2.0158052\n1.7643024\n1.5454463\n3.2690568\n3.3384566\n3.4122665\n3.489371\n3.5683377\n3.6471975\n3.7230911\n3.7918494\n3.8475926\n3.882643\n3.887993\n3.8544593\n3.7742665\n3.6424694\n3.4577415\n3.2226236\n2.9439588\n2.6341195\n2.3121715\n2.0021513\n1.7254983\n3.920802\n4.004997\n4.091904\n4.179876\n4.2667017\n4.3493786\n4.4238095\n4.484533\n4.524613\n4.5359025\n4.5098567\n4.438799\n4.317263\n4.1428294\n3.9162238\n3.6409786\n3.3235426\n2.9745448\n2.6107152\n2.254866\n1.9305959\n1.3533076\n1.2599506\n1.1738497\n1.0938504\n1.0185966\n0.9469632\n0.8785458\n0.81403357\n0.7552121\n0.7045537\n0.66453755\n0.63701165\n0.62283945\n0.62189984\n0.633344\n0.6559414\n0.688376\n0.7294088\n0.77790946\n0.8328189\n0.89311147\n1.3273271\n1.233013\n1.1417994\n1.0540085\n0.97027093\n0.8914\n0.8183547\n0.7522785\n0.6945422\n0.6466874\n0.610213\n0.5862695\n0.5753986\n0.57744974\n0.5916826\n0.6169948\n0.6521606\n0.6959889\n0.747378\n0.8053003\n0.8687745\n1.2970799\n1.2057068\n1.1140269\n1.0227863\n0.9337122\n0.84918845\n0.771784\n0.7037787\n0.6468696\n0.6021429\n0.5702121\n0.5513456\n0.54549557\n0.552257\n0.5708803\n0.6003661\n0.6396253\n0.6875999\n0.74330604\n0.8057967\n0.8741081\n1.2473925\n1.1634394\n1.0782179\n0.9917698\n0.9053732\n0.8214922\n0.74338084\n0.674383\n0.6172171\n0.573567\n0.5441122\n0.52882177\n0.52725047\n0.53869236\n0.56223613\n0.59683293\n0.64140475\n0.69494134\n0.7565031\n0.8251174\n0.8996475\n1.1793835\n1.1084269\n1.0365833\n0.96239346\n0.8855847\n0.8074945\n0.73110867\n0.6605282\n0.59999174\n0.55288666\n0.5212083\n0.5056041\n0.5057559\n0.52077633\n0.5494547\n0.59041584\n0.64225984\n0.7036791\n0.7734508\n0.8502688\n0.9325058\n1.1081249\n1.0525253\n0.9955418\n0.93443054\n0.8676188\n0.7953708\n0.720183\n0.6465769\n0.5801679\n0.5262985\n0.48887107\n0.46989095\n0.4697126\n0.48757017\n0.52202123\n0.57121086\n0.6330773\n0.70554215\n0.7865923\n0.8741324\n0.9656861\n1.0427319\n0.9983889\n0.95129544\n0.898359\n0.8376599\n0.7690506\n0.69464105\n0.6188716\n0.5478814\n0.4882027\n0.44529602\n0.42263767\n0.4216629\n0.4422246\n0.48305672\n0.54202026\n0.6162809\n0.70258754\n0.79756886\n0.89777786\n0.99946475\n0.9795804\n0.940296\n0.89734197\n0.84789807\n0.79031295\n0.72450894\n0.65234846\n0.5777971\n0.50661033\n0.44539142\n0.40027407\n0.37584212\n0.37475976\n0.39798293\n0.44501302\n0.51390475\n0.60123503\n0.70238453\n0.8121095\n0.9249884\n1.0355165\n0.9193691\n0.8814781\n0.8396116\n0.79142797\n0.73579603\n0.67299914\n0.6048969\n0.5349773\n0.46816412\n0.4102629\n0.36709967\n0.34365854\n0.34360406\n0.36918485\n0.42112368\n0.49821693\n0.59687996\n0.7112186\n0.8337892\n0.9566257\n1.0720814\n0.87520844\n0.83688205\n0.79451185\n0.74635404\n0.6919038\n0.6319771\n0.5686741\n0.50522697\n0.44572845\n0.39478382\n0.35712674\n0.33727083\n0.3392444\n0.36634722\n0.42068592\n0.5022932\n0.6080652\n0.73123556\n0.8620525\n0.98960406\n1.1040318\n0.86269206\n0.822797\n0.7789344\n0.7299882\n0.67608005\n0.6185724\n0.5599108\n0.5032776\n0.45214885\n0.4099357\n0.37987393\n0.365194\n0.3693827\n0.3961938\n0.44907242\n0.52977973\n0.63641185\n0.7618067\n0.89394337\n1.018999\n1.1254233\n0.8924417\n0.8512962\n0.8062878\n0.7568663\n0.70368934\n0.64858216\n0.5942982\n0.54404706\n0.50089264\n0.46726856\n0.44488513\n0.43522108\n0.4404286\n0.46404746\n0.5106723\n0.58401513\n0.6836941\n0.80248004\n0.926675\n1.0405589\n1.1320227\n0.96870184\n0.9286848\n0.8848314\n0.8370159\n0.7862728\n0.7347161\n0.68526006\n0.6410801\n0.6049314\n0.5785376\n0.5623916\n0.5563104\n0.56077087\n0.57835555\n0.6139262\n0.67244357\n0.7549452\n0.85513026\n0.95964664\n1.0529255\n1.1232984\n1.0895098\n1.0540656\n1.0150126\n0.9724238\n0.92747504\n0.88234156\n0.83990693\n0.8032288\n0.77481693\n0.75592625\n0.74616975\n0.7438411\n0.7472149\n0.75648195\n0.7749673\n0.8079559\n0.8588665\n0.92502797\n0.99653804\n1.0598735\n1.1039081\n1.2544682\n1.2265514\n1.1960955\n1.1632421\n1.1291549\n1.0959119\n1.0662229\n1.0428637\n1.0278572\n1.0215883\n1.0221561\n1.0254557\n1.0264717\n1.0218447\n1.012648\n1.0050409\n1.0070115\n1.022548\n1.0476681\n1.0719173\n1.0842946\n1.4786607\n1.4620795\n1.445243\n1.4284056\n1.4126475\n1.3997369\n1.3917589\n1.3904551\n1.396284\n1.4074531\n1.4193457\n1.424852\n1.4160128\n1.3869824\n1.3375834\n1.275363\n1.2134497\n1.163746\n1.1298066\n1.1053485\n1.0795953\n1.7885126\n1.7901256\n1.7941844\n1.8008827\n1.8108761\n1.8250568\n1.844108\n1.8678168\n1.8942126\n1.9188464\n1.9346234\n1.9325508\n1.9035374\n1.8410835\n1.7444892\n1.6215646\n1.4884235\n1.3638833\n1.260216\n1.1773957\n1.1061296\n2.2027793\n2.2290654\n2.259363\n2.29341\n2.3310223\n2.371817\n2.4147708\n2.457601\n2.4961233\n2.523858\n2.532273\n2.5118625\n2.4539506\n2.3528416\n2.208085\n2.0267856\n1.8249214\n1.6248074\n1.4466577\n1.2988101\n1.1758649\n2.727516\n2.77972\n2.8357444\n2.8946755\n2.9553602\n3.0161095\n3.0742722\n3.125736\n3.164535\n3.1828427\n3.1716454\n3.1220891\n3.0271556\n2.8831444\n2.6908615\n2.4569678\n2.1956406\n1.9287176\n1.6806535\n1.4678807\n1.2911973\n3.3503008\n3.4239545\n3.4998631\n3.5763652\n3.6512697\n3.721556\n3.7830439\n3.8301077\n3.8556192\n3.8513546\n3.8089764\n3.7213826\n3.5839698\n3.3953772\n3.1578298\n2.8778272\n2.5677183\n2.247116\n1.9408764\n1.6705581\n1.4435358\n4.033143\n4.1200128\n4.206705\n4.290697\n4.3686852\n4.4363723\n4.488353\n4.5181026\n4.5182595\n4.48129\n4.4005027\n4.27112\n4.090991\n3.8607264\n3.5835006\n3.2653768\n2.9169095\n2.555331\n2.2042668\n1.8874725\n1.6174724\n1.4585203\n1.36144\n1.2725478\n1.1908226\n1.1144086\n1.0413849\n0.97062564\n0.9024301\n0.8385978\n0.78188777\n0.7351138\n0.70033395\n0.6784636\n0.66935724\n0.67217916\n0.6858178\n0.7091681\n0.7412351\n0.7811042\n0.8278746\n0.8806189\n1.4290535\n1.3331709\n1.2411183\n1.1526501\n1.067704\n0.98644704\n0.9093935\n0.8375572\n0.77253234\n0.7163219\n0.67090255\n0.6377206\n0.6173746\n0.6096165\n0.61361015\n0.6282802\n0.6525684\n0.68554366\n0.726378\n0.77427715\n0.82844913\n1.3961905\n1.3058641\n1.2148956\n1.122827\n1.0306168\n0.9403907\n0.85492134\n0.77704424\n0.70919853\n0.65320176\n0.6101978\n0.5806612\n0.5644238\n0.56077594\n0.5686715\n0.58698785\n0.6147359\n0.65113086\n0.6955387\n0.7473637\n0.80596524\n1.3448547\n1.2615372\n1.1751763\n1.0846252\n0.9907808\n0.89647835\n0.8059147\n0.7236354\n0.65345746\n0.597794\n0.5575821\n0.53262544\n0.5220205\n0.5244841\n0.5386097\n0.56309265\n0.59691155\n0.63938\n0.69002783\n0.7483863\n0.8137805\n1.2664577\n1.1919689\n1.1148034\n1.0328482\n0.94586396\n0.8557803\n0.7665735\n0.68347555\n0.6116518\n0.55494314\n0.5152683\n0.49280754\n0.4865771\n0.49499673\n0.51628125\n0.5487348\n0.5909849\n0.64208174\n0.701368\n0.7681437\n0.84130174\n1.170265\n1.1084594\n1.0452803\n0.97732\n0.902704\n0.8217285\n0.7372771\n0.6545567\n0.5799233\n0.51918155\n0.47622496\n0.4526409\n0.44815016\n0.46130246\n0.4900308\n0.53203785\n0.5851356\n0.6475009\n0.7176763\n0.79422283\n0.8752299\n1.0791179\n1.0307758\n0.9809796\n0.9253915\n0.86116433\n0.78761363\n0.7068344\n0.6238253\n0.54565406\n0.47971353\n0.4318558\n0.4053887\n0.4011932\n0.41839424\n0.4549385\n0.50795096\n0.5741135\n0.65015364\n0.7331794\n0.8205114\n0.9091507\n1.0047556\n0.9641513\n0.9210664\n0.8711386\n0.8115901\n0.74170387\n0.66332203\n0.58107036\n0.5018783\n0.4335822\n0.3830798\n0.35501805\n0.3515604\n0.37283406\n0.41730377\n0.48187256\n0.56211346\n0.6529799\n0.74962324\n0.8476125\n0.94253325\n0.94202495\n0.9023856\n0.859725\n0.8101923\n0.75161254\n0.6837401\n0.6084879\n0.53001904\n0.4544363\n0.3888609\n0.34006405\n0.31329846\n0.31184575\n0.33710435\n0.38855582\n0.46340206\n0.5564591\n0.66091996\n0.76963365\n0.87590927\n0.97363436\n0.89118546\n0.8492439\n0.80415803\n0.7528161\n0.6938664\n0.62778\n0.5567939\n0.48472834\n0.4166252\n0.35817933\n0.31504244\n0.2921895\n0.29353806\n0.3217016\n0.37748075\n0.45897007\n0.56090736\n0.67508876\n0.79186314\n0.9018445\n0.99724483\n0.8655561\n0.82032007\n0.7717943\n0.71777475\n0.6578431\n0.59328693\n0.5268049\n0.4620412\n0.40305182\n0.35388735\n0.31844315\n0.30053657\n0.30396602\n0.33223692\n0.38770923\n0.47012514\n0.5750145\n0.6931623\n0.81220275\n0.9199325\n1.00746\n0.8792338\n0.8311449\n0.77954566\n0.72313637\n0.6623688\n0.59925246\n0.5368997\n0.47884735\n0.42834032\n0.38790026\n0.3594534\n0.34504592\n0.34767187\n0.37148067\n0.42074922\n0.49749008\n0.5984163\n0.7133362\n0.8273371\n0.92616504\n1.0008645\n0.9390481\n0.8906685\n0.83851534\n0.7819832\n0.7221358\n0.6614355\n0.60318565\n0.55074126\n0.50668013\n0.47229362\n0.44779482\n0.43345872\n0.43126753\n0.4458163\n0.4831211\n0.5471373\n0.63552576\n0.7376745\n0.837642\n0.92072165\n0.9786062\n1.0446794\n1.0000005\n0.951545\n0.899061\n0.8438519\n0.78845793\n0.7360714\n0.68972844\n0.65145075\n0.62166417\n0.59933525\n0.5831712\n0.57367885\n0.5747793\n0.59304315\n0.6339618\n0.6971186\n0.77375245\n0.849293\n0.90977204\n0.9472789\n1.1978288\n1.1606643\n1.120665\n1.0777014\n1.0330535\n0.9890626\n0.94856006\n0.91404617\n0.8867605\n0.8659468\n0.8487818\n0.831478\n0.8117134\n0.7914104\n0.77747834\n0.7785742\n0.79915154\n0.83513623\n0.8749485\n0.905484\n0.91838104\n1.4187931\n1.3944219\n1.3695067\n1.3440481\n1.3191574\n1.2966616\n1.2784741\n1.2656882\n1.2575657\n1.2507887\n1.2395254\n1.2168255\n1.1775438\n1.1220572\n1.0584961\n1.000426\n0.9596777\n0.93908143\n0.9311017\n0.92337084\n0.90622824\n1.7433568\n1.740654\n1.740038\n1.7413808\n1.74516\n1.7519727\n1.7618678\n1.7734878\n1.7832671\n1.7850692\n1.7707249\n1.731673\n1.6617048\n1.5604526\n1.43641\n1.3066311\n1.1904092\n1.0993896\n1.0320739\n0.97756773\n0.92444986\n2.1939874\n2.2197442\n2.2485633\n2.2796755\n2.3123953\n2.3456318\n2.3773038\n2.4037101\n2.4191082\n2.4158154\n2.3851032\n2.3188\n2.21138\n2.062404\n1.879275\n1.6789064\n1.4847586\n1.3171978\n1.1832374\n1.0756162\n0.9816858\n2.7651248\n2.8182604\n2.8732567\n2.9284534\n2.981864\n3.03075\n3.0712006\n3.0977829\n3.103536\n3.0804868\n3.0207584\n2.9179657\n2.768559\n2.5730975\n2.3380263\n2.0779362\n1.8158262\n1.5770074\n1.3771039\n1.2148879\n1.0781901\n3.42702\n3.5004954\n3.5731456\n3.6422632\n3.704512\n3.7556577\n3.7903962\n3.8023558\n3.7844357\n3.7295487\n3.6316617\n3.486783\n3.2936099\n3.0539951\n2.7740006\n2.4660218\n2.1505303\n1.8534216\n1.5959073\n1.3832844\n1.2056746\n4.13147\n4.2155867\n4.295238\n4.36658\n4.42503\n4.4652557\n4.481301\n4.466853\n4.415714\n4.322477\n4.1832876\n3.9963949\n3.7623098\n3.483793\n3.1664839\n2.8209329\n2.4650793\n2.123553\n1.8199902\n1.5647991\n1.3511952\n1.5550119\n1.4587184\n1.3699163\n1.2878535\n1.2110587\n1.1376128\n1.06604\n0.9962383\n0.92978287\n0.8694149\n0.81802213\n0.77771956\n0.7494555\n0.733162\n0.7281868\n0.73370725\n0.74894863\n0.7732055\n0.8057607\n0.8458102\n0.89244294\n1.5342096\n1.4382558\n1.3454093\n1.2558584\n1.1698189\n1.08732\n1.0084308\n0.9337008\n0.86448926\n0.80284667\n0.7509468\n0.7104056\n0.6818931\n0.66519684\n0.6595814\n0.66417885\n0.6782164\n0.70104665\n0.7320667\n0.7706298\n0.81602305\n1.5068792\n1.4155024\n1.324075\n1.2315198\n1.1381534\n1.0455406\n0.956083\n0.87249297\n0.7973589\n0.7328591\n0.6805416\n0.6411451\n0.61455566\n0.5999897\n0.5963525\n0.6026107\n0.6180035\n0.6420428\n0.6743845\n0.71468645\n0.7625393\n1.4609796\n1.375751\n1.2890037\n1.1975473\n1.1007124\n1.0005739\n0.9014051\n0.80844474\n0.726458\n0.65871173\n0.6066807\n0.57030976\n0.5484934\n0.53957826\n0.5418321\n0.5538432\n0.57473767\n0.60415995\n0.64205194\n0.68837667\n0.7429033\n1.3867106\n1.3070893\n1.2262459\n1.139465\n1.0448903\n0.9440373\n0.8415653\n0.74406314\n0.65811896\n0.58853704\n0.53753024\n0.50500786\n0.48938385\n0.4883737\n0.49961126\n0.5211185\n0.55160964\n0.5905262\n0.63776433\n0.69321257\n0.7563116\n1.2822897\n1.2091848\n1.136863\n1.0597117\n0.97457045\n0.8814319\n0.78374326\n0.68783015\n0.6012134\n0.530397\n0.4792945\n0.4489756\n0.4383777\n0.44522163\n0.4667207\n0.5001275\n0.54320365\n0.5944725\n0.65307\n0.7181989\n0.7885002\n1.1654848\n1.102199\n1.041676\n0.9774757\n0.90515167\n0.8230795\n0.73315287\n0.64085513\n0.5541205\n0.48107982\n0.4278092\n0.39728937\n0.38972852\n0.40340704\n0.43537083\n0.48195106\n0.5393883\n0.60450554\n0.6749842\n0.7489316\n0.8241129\n1.065525\n1.0115397\n0.9603802\n0.9052889\n0.8414071\n0.766552\n0.68190813\n0.59234446\n0.505736\n0.43104193\n0.37587908\n0.3449437\n0.33987918\n0.3598879\n0.40220022\n0.4623435\n0.53481287\n0.61428916\n0.696584\n0.77846074\n0.8567362\n0.9927567\n0.94107896\n0.89132625\n0.8373208\n0.7748331\n0.7021608\n0.6205597\n0.5344358\n0.45091632\n0.37848073\n0.32496306\n0.29595995\n0.2943509\n0.32051367\n0.37232864\n0.44496825\n0.53143805\n0.6242789\n0.7171937\n0.8052198\n0.8840211\n0.937648\n0.88200605\n0.82776546\n0.7697988\n0.7050024\n0.63263893\n0.55441004\n0.47431314\n0.3982155\n0.33301425\n0.2854625\n0.2610874\n0.26360926\n0.29466593\n0.35322982\n0.43482813\n0.5317309\n0.6347131\n0.73512024\n0.8258\n0.9013141\n0.90016425\n0.8391379\n0.77901953\n0.7159338\n0.6481298\n0.57605296\n0.502037\n0.42976457\n0.36368403\n0.30855778\n0.2691674\n0.25007418\n0.25528508\n0.28763896\n0.34771392\n0.43242761\n0.53434396\n0.6427319\n0.74611235\n0.83492285\n0.9032387\n0.8941798\n0.82914203\n0.7642025\n0.6967988\n0.6265258\n0.5549712\n0.48506466\n0.42020696\n0.3635215\n0.31760377\n0.28490207\n0.26841423\n0.27203047\n0.2999751\n0.35518622\n0.43683952\n0.53811324\n0.64642864\n0.747307\n0.8294495\n0.8874689\n0.93092257\n0.8649904\n0.79828817\n0.7292812\n0.65855\n0.588422\n0.52211404\n0.46266642\n0.41208637\n0.37117878\n0.34034956\n0.3211638\n0.31759426\n0.33562258\n0.38069412\n0.45377162\n0.5479815\n0.6490297\n0.7406762\n0.8113269\n0.8567384\n1.0132525\n0.9509132\n0.8873617\n0.821565\n0.7544801\n0.6885641\n0.62684935\n0.5718464\n0.52468795\n0.4849876\n0.45183066\n0.42581648\n0.41095343\n0.4144084\n0.44321236\n0.49938896\n0.57642114\n0.66010624\n0.73447496\n0.7885634\n0.81897897\n1.1471887\n1.0932273\n1.038679\n0.9826109\n0.92588377\n0.87059766\n0.81918204\n0.77332807\n0.73311895\n0.6968192\n0.6618191\n0.62691385\n0.5949839\n0.5737112\n0.5723565\n0.5958943\n0.6405504\n0.69423676\n0.74220294\n0.77388877\n0.7859108\n1.3617404\n1.3231808\n1.2859412\n1.2491125\n1.213195\n1.1794777\n1.149097\n1.1219512\n1.0958298\n1.066281\n1.027768\n0.9764014\n0.91361517\n0.84837174\n0.7945844\n0.7636591\n0.7574022\n0.76699954\n0.7786613\n0.7812758\n0.7704071\n1.7029396\n1.690422\n1.6810883\n1.6737224\n1.6679052\n1.6633065\n1.6587774\n1.651458\n1.6362628\n1.6061783\n1.5536997\n1.4734793\n1.3659989\n1.2408618\n1.1162379\n1.0115504\n0.9370364\n0.8890338\n0.8548067\n0.8217241\n0.78315574\n2.1912985\n2.2108052\n2.233049\n2.2559576\n2.2776644\n2.295868\n2.3071742\n2.3066058\n2.2875705\n2.2424934\n2.1641462\n2.0475545\n1.8926263\n1.7074814\n1.5104988\n1.326416\n1.1749947\n1.0607061\n0.97366637\n0.8997664\n0.8294912\n2.8032107\n2.8504145\n2.8974035\n2.9410179\n2.9779224\n3.004159\n3.014834\n3.0040355\n2.9651496\n2.8916333\n2.7780447\n2.6211596\n2.4213765\n2.1851113\n1.9278762\n1.6744131\n1.4506623\n1.2702062\n1.1286294\n1.011842\n0.90773636\n3.4926903\n3.5578747\n3.6183693\n3.6698518\n3.707682\n3.7267857\n3.7216582\n3.6865602\n3.6159415\n3.5050857\n3.3507822\n3.1518564\n2.9097884\n2.630251\n2.3259907\n2.0189164\n1.7361833\n1.4977995\n1.305751\n1.1477853\n1.0102805\n4.206276\n4.278348\n4.340368\n4.38699\n4.412763\n4.412288\n4.380425\n4.3124843\n4.2045197\n4.0537324\n3.8588538\n3.6203454\n3.3405793\n3.0248218\n2.6838317\n2.3366694\n2.009247\n1.7245352\n1.4897257\n1.2952635\n1.1270939\n1.6510177\n1.5394633\n1.4443254\n1.3620695\n1.2884054\n1.2191881\n1.1514926\n1.0844663\n1.019437\n0.9591342\n0.906463\n0.8635302\n0.8313062\n0.8098787\n0.7989225\n0.7980521\n0.8069353\n0.82521945\n0.8523995\n0.8877452\n0.9303045\n1.6294036\n1.52552\n1.43133\n1.3435478\n1.260248\n1.1803719\n1.1034092\n1.0295331\n0.95987314\n0.8964053\n0.84131527\n0.796248\n0.7619278\n0.73828506\n0.7248654\n0.72118473\n0.72686356\n0.74156547\n0.76486593\n0.79617065\n0.83471894\n1.61305\n1.516568\n1.4245764\n1.3329792\n1.2406261\n1.1485528\n1.0589198\n0.97415894\n0.8965701\n0.82816374\n0.7704759\n0.7243049\n0.6896099\n0.66572267\n0.65177107\n0.6470563\n0.6511837\n0.6639743\n0.68528754\n0.71489793\n0.75247556\n1.5885326\n1.495532\n1.4054214\n1.3125908\n1.2146696\n1.1126672\n1.0102983\n0.91260296\n0.82437634\n0.749059\n0.6883409\n0.64231294\n0.6098867\n0.589367\n0.57905495\n0.5777325\n0.5848425\n0.6003713\n0.62457746\n0.6577411\n0.7000142\n1.5405781\n1.4468265\n1.3574153\n1.2651069\n1.1654885\n1.0582118\n0.94717693\n0.8392467\n0.7418337\n0.6605566\n0.59809273\n0.5543807\n0.5275258\n0.514797\n0.51348376\n0.52154356\n0.5379258\n0.5625015\n0.59568334\n0.6379401\n0.6893598\n1.4563477\n1.3603207\n1.271604\n1.1819398\n1.0853536\n0.9798932\n0.8684465\n0.7580268\n0.65739936\n0.57406706\n0.5122531\n0.4726806\n0.45353934\n0.45167792\n0.4635763\n0.48612446\n0.5171799\n0.555732\n0.6015574\n0.6545292\n0.7139143\n1.3371803\n1.241955\n1.1572659\n1.0745372\n0.98683536\n0.89060616\n0.7868899\n0.68140835\n0.5829597\n0.50044465\n0.4401128\n0.4044833\n0.39288253\n0.40250817\n0.4293249\n0.46884495\n0.51700646\n0.57090336\n0.6288575\n0.6897329\n0.7520373\n1.2097877\n1.1206981\n1.0436743\n0.9702043\n0.892913\n0.80721533\n0.71268815\n0.6137261\n0.51872116\n0.43752408\n0.37830856\n0.34565246\n0.34045494\n0.36069864\n0.40204826\n0.4584443\n0.5233565\n0.5914528\n0.6594276\n0.7253083\n0.7872027\n1.1091964\n1.0255965\n0.9528578\n0.88329184\n0.81018806\n0.72927165\n0.63991916\n0.5458638\n0.454815\n0.37653744\n0.31996888\n0.29099348\n0.29187575\n0.32158136\n0.37583476\n0.4472918\n0.5271346\n0.6077667\n0.684307\n0.75376475\n0.8136687\n1.0420231\n0.9564546\n0.8797869\n0.80593765\n0.729809\n0.6484508\n0.5618763\n0.47344512\n0.38957375\n0.31850597\n0.26830885\n0.24504136\n0.25193575\n0.28911793\n0.3529387\n0.43561742\n0.5269387\n0.6174874\n0.70051205\n0.7714463\n0.8272529\n0.99428314\n0.9021177\n0.8175299\n0.73618925\n0.6549111\n0.5724174\n0.48960102\n0.40938696\n0.3363506\n0.2761557\n0.23476794\n0.2175195\n0.2282624\n0.26847246\n0.33594576\n0.42384303\n0.5217252\n0.6184399\n0.70466113\n0.7740171\n0.823578\n0.966768\n0.8696621\n0.7788568\n0.691632\n0.6066574\n0.52427775\n0.44619125\n0.37479764\n0.31270388\n0.2627237\n0.22826177\n0.2134887\n0.2228092\n0.2595618\n0.3240519\n0.41144928\n0.51126343\n0.6099171\n0.6952331\n0.7598119\n0.80177927\n0.97321504\n0.87566006\n0.78303725\n0.6938085\n0.6079732\n0.5269781\n0.45295647\n0.38773832\n0.3322945\n0.28710777\n0.25347412\n0.23481043\n0.23664999\n0.2647877\n0.32207808\n0.40490592\n0.50175893\n0.59669024\n0.67599463\n0.7326393\n0.76617414\n1.0232158\n0.9304591\n0.8418357\n0.75619525\n0.67393136\n0.596681\n0.52640486\n0.4643026\n0.41028038\n0.36353824\n0.32441646\n0.2964539\n0.28663442\n0.30267525\n0.348576\n0.42060897\n0.5064349\n0.5895773\n0.65672797\n0.70191085\n0.72565454\n1.1303041\n1.0480074\n0.9701589\n0.8953326\n0.8235258\n0.75579274\n0.6933167\n0.63638544\n0.58388865\n0.5339613\n0.48602515\n0.44341385\n0.41417158\n0.4079732\n0.43048027\n0.47887024\n0.54155815\n0.6030718\n0.6511124\n0.68039995\n0.69166917\n1.3343223\n1.2710276\n1.2133881\n1.1594715\n1.1084726\n1.0602638\n1.0144469\n0.9693632\n0.92169505\n0.8672714\n0.80347353\n0.73276883\n0.66486806\n0.6139186\n0.5908458\n0.59657454\n0.62141544\n0.65067464\n0.67217815\n0.6803376\n0.6752767\n1.6892648\n1.6567056\n1.6301911\n1.6069251\n1.5847508\n1.5616201\n1.5347424\n1.4998739\n1.4512837\n1.3828114\n1.2902838\n1.1752803\n1.0487036\n0.929848\n0.83788985\n0.78106225\n0.75321984\n0.7399501\n0.7278192\n0.7096457\n0.6840747\n2.2072246\n2.2096334\n2.2154038\n2.2204869\n2.2211456\n2.2135298\n2.1931267\n2.1544497\n2.0912802\n1.9975665\n1.8690981\n1.7063757\n1.5187058\n1.3264858\n1.1556814\n1.024412\n0.93343616\n0.8698935\n0.81859565\n0.7698546\n0.72017425\n2.8445716\n2.873906\n2.901168\n2.921147\n2.9289434\n2.9197505\n2.8886037\n2.8303401\n2.739875\n2.6127822\n2.4461713\n2.240333\n2.002029\n1.7485472\n1.5070498\n1.3034568\n1.1476697\n1.0311219\n0.9380074\n0.8562512\n0.7801314\n3.5433466\n3.5871325\n3.622063\n3.6420774\n3.6417232\n3.6161132\n3.5608268\n3.471882\n3.3458972\n3.1804214\n2.9743505\n2.7287526\n2.4490793\n2.1490917\n1.8530889\n1.5895377\n1.3758073\n1.2092372\n1.0751989\n0.9602468\n0.8569975\n4.248876\n4.2947087\n4.324526\n4.3320208\n4.3119707\n4.260209\n4.1734505\n4.0491276\n3.8854375\n3.6815555\n3.4378757\n3.1563766\n2.8420596\n2.506307\n2.170077\n1.8609319\n1.6001787\n1.3904252\n1.2192597\n1.0729868\n0.94344926\n1.824458\n1.6807094\n1.5547376\n1.4479189\n1.3587873\n1.283043\n1.215435\n1.1521546\n1.0921073\n1.0364727\n0.9873014\n0.9462833\n0.91428554\n0.89156044\n0.878161\n0.8741972\n0.8798255\n0.895079\n0.9196886\n0.95299506\n0.99396735\n1.7995374\n1.6553234\n1.5294809\n1.4214263\n1.3290112\n1.2485465\n1.1758676\n1.1078734\n1.0435381\n0.98378396\n0.93043613\n0.88510543\n0.84866166\n0.82135093\n0.8031842\n0.7942084\n0.79452336\n0.8041301\n0.82276255\n0.84980756\n0.8843292\n1.781763\n1.6416404\n1.5209327\n1.4145961\n1.3180507\n1.2282068\n1.1436498\n1.0642618\n0.99079937\n0.92451525\n0.86669284\n0.8181467\n0.779015\n0.74896586\n0.7276078\n0.7147708\n0.7105139\n0.71494484\n0.7280297\n0.74950534\n0.77891326\n1.7655593\n1.6305561\n1.5155848\n1.4112659\n1.3102665\n1.2094157\n1.109687\n1.0144988\n0.9276237\n0.85183847\n0.78847903\n0.73753107\n0.69798654\n0.66839385\n0.6474658\n0.6344828\n0.6293351\n0.63231224\n0.6438552\n0.66440725\n0.69437844\n1.7420866\n1.6094946\n1.4961089\n1.3906747\n1.2844081\n1.1734909\n1.0596514\n0.94861454\n0.84722835\n0.7607976\n0.69181496\n0.6400889\n0.60359967\n0.5795471\n0.5653236\n0.55919874\n0.5605478\n0.56967276\n0.5874471\n0.61494106\n0.6530448\n1.6954862\n1.5603458\n1.4429647\n1.3329477\n1.2215142\n1.1039741\n0.9813015\n0.85974914\n0.74818915\n0.6544831\n0.5829832\n0.5341437\n0.5055573\n0.49337074\n0.49356592\n0.5029539\n0.5197332\n0.5434943\n0.57476044\n0.6142621\n0.6621176\n1.6081289\n1.4674252\n1.3442632\n1.2303203\n1.1174213\n0.9999933\n0.8774312\n0.75494134\n0.6417908\n0.5475319\n0.47851777\n0.43662947\n0.42002484\n0.4245379\n0.44494155\n0.47608134\n0.5139016\n0.55601114\n0.6014718\n0.6499085\n0.70052326\n1.4790982\n1.3365928\n1.2127178\n1.1007149\n0.9928408\n0.88275176\n0.76817614\n0.6526094\n0.5446631\n0.45479813\n0.39127615\n0.35790586\n0.3541629\n0.37622282\n0.41780898\n0.47125065\n0.52928877\n0.5868915\n0.6417024\n0.6929164\n0.7398953\n1.340953\n1.2040969\n1.0853654\n0.97893304\n0.8777311\n0.7755444\n0.66951984\n0.56211257\n0.4611518\n0.37727308\n0.3198944\n0.2943907\n0.30163902\n0.338473\n0.39780053\n0.46949697\n0.5433288\n0.6122572\n0.67316836\n0.72503847\n0.76731306\n1.2351476\n1.1034858\n0.9866636\n0.88048697\n0.77974147\n0.67978406\n0.5785503\n0.47818804\n0.385351\n0.30945075\n0.25946096\n0.24129815\n0.25695935\n0.30420092\n0.37578407\n0.46018562\n0.5454152\n0.6230857\n0.6889443\n0.7409783\n0.7785515\n1.1663644\n1.0319114\n0.90918636\n0.7963535\n0.6907776\n0.5900329\n0.4932018\n0.40190986\n0.32062897\n0.25595638\n0.21493399\n0.20318411\n0.22364397\n0.2753855\n0.35218504\n0.4428912\n0.53501946\n0.61863226\n0.6874126\n0.73817855\n0.77086294\n1.117461\n0.9774932\n0.8477425\n0.7284126\n0.6191894\n0.5196056\n0.42952636\n0.3495381\n0.28130418\n0.22794297\n0.19401747\n0.18463989\n0.20389605\n0.25294676\n0.32799375\n0.41951266\n0.5144879\n0.6005575\n0.66923267\n0.71706235\n0.7451943\n1.0901275\n0.9497081\n0.8186358\n0.6982243\n0.589571\n0.49341184\n0.40995035\n0.3387489\n0.27912533\n0.23136619\n0.19815251\n0.18470563\n0.1969891\n0.2388128\n0.30867857\n0.39769202\n0.49132445\n0.5751466\n0.6400166\n0.68332964\n0.7073388\n1.1012197\n0.96724457\n0.8422585\n0.72746325\n0.6239937\n0.5326436\n0.4534492\n0.38533735\n0.32650012\n0.27604046\n0.2363001\n0.21364911\n0.21609524\n0.24901263\n0.31117824\n0.3928656\n0.4785934\n0.55393106\n0.6107235\n0.64743817\n0.6667554\n1.1764661\n1.0554249\n0.94382674\n0.8417603\n0.7492376\n0.66608\n0.5915624\n0.52403367\n0.46123347\n0.40201786\n0.34911007\n0.31035957\n0.29583672\n0.31211227\n0.35775784\n0.4225534\n0.49142244\n0.55119663\n0.5949798\n0.6218265\n0.6342109\n1.3663067\n1.2673924\n1.1784844\n1.098119\n1.0246273\n0.9561758\n0.8904694\n0.82439834\n0.7543849\n0.6782657\n0.59872276\n0.5257408\n0.47374925\n0.4535455\n0.46563742\n0.50007206\n0.5420025\n0.5788523\n0.6041623\n0.6168585\n0.61875606\n1.7262993\n1.6611606\n1.604785\n1.553728\n1.5042326\n1.452396\n1.3939519\n1.3240362\n1.2376326\n1.1314582\n1.0077728\n0.87845063\n0.76377785\n0.6825324\n0.640792\n0.6300977\n0.63494366\n0.64179474\n0.64333045\n0.6375151\n0.6250686\n2.2549388\n2.2255547\n2.2000506\n2.1729693\n2.1389327\n2.0928805\n2.0298843\n1.9448884\n1.8329356\n1.6904414\n1.5184021\n1.3274821\n1.140429\n0.9841522\n0.87407774\n0.80653685\n0.7660025\n0.73705375\n0.7104578\n0.6825103\n0.6524587\n2.8925643\n2.8875782\n2.878823\n2.8596463\n2.8242512\n2.7678542\n2.686342\n2.5758708\n2.4328077\n2.2543428\n2.0405438\n1.7989285\n1.5495852\n1.3225832\n1.1425966\n1.0141282\n0.92414623\n0.8559829\n0.7983884\n0.74583155\n0.695955\n3.57498\n3.5797327\n3.5721817\n3.5454724\n3.4944024\n3.4152858\n3.3053687\n3.1623356\n2.984203\n2.7696207\n2.5190125\n2.2378333\n1.9419127\n1.659182\n1.41894\n1.2338418\n1.0955688\n0.9878091\n0.89814806\n0.8197616\n0.74893886\n4.2489057\n4.2505445\n4.231913\n4.1869197\n4.1116204\n4.0036497\n3.861473\n3.6839783\n3.4705148\n3.221147\n2.937246\n2.6235898\n2.2928996\n1.9693186\n1.6823206\n1.4498056\n1.2684053\n1.1233811\n1.0022931\n0.89798635\n0.8059929\n2.0030901\n1.8563489\n1.7242287\n1.6051656\n1.4983152\n1.4027395\n1.3170987\n1.240136\n1.171343\n1.1110651\n1.0599966\n1.0186247\n0.98705804\n0.9652036\n0.9530054\n0.95053333\n0.9578945\n0.97504693\n1.0016282\n1.0368482\n1.0794795\n2.0200703\n1.8550994\n1.7051286\n1.5696503\n1.4499604\n1.3468342\n1.2588806\n1.183029\n1.1163827\n1.0574871\n1.0062047\n0.96289366\n0.9278251\n0.9011212\n0.88294154\n0.8735774\n0.8733621\n0.8824543\n0.9006338\n0.92718315\n0.9608947\n2.0528724\n1.8689059\n1.7027982\n1.553813\n1.4229404\n1.3109038\n1.2164106\n1.136243\n1.066891\n1.006027\n0.9527236\n0.9067922\n0.8681752\n0.83682215\n0.81284094\n0.79657656\n0.78848195\n0.7888812\n0.79776627\n0.81470776\n0.83892465\n2.0852187\n1.8831997\n1.7045937\n1.5477211\n1.4105372\n1.2907556\n1.1861575\n1.0948553\n1.0154008\n0.94677544\n0.8882072\n0.8388773\n0.797792\n0.76398754\n0.7368712\n0.71637434\n0.70282584\n0.6967105\n0.69850475\n0.7086461\n0.72761315\n2.098637\n1.8835865\n1.6981169\n1.5386436\n1.3986701\n1.2716238\n1.1539084\n1.0457592\n0.94961447\n0.8677615\n0.80094594\n0.74818707\n0.7073142\n0.6758046\n0.6515969\n0.6335624\n0.62154204\n0.6161682\n0.61871105\n0.6309127\n0.6546374\n2.075839\n1.8563247\n1.6697009\n1.5095963\n1.3660247\n1.2298464\n1.0970765\n0.9701485\n0.85545117\n0.7592284\n0.68468624\n0.6314019\n0.5962819\n0.5750433\n0.563615\n0.55912745\n0.5603242\n0.5675148\n0.5822298\n0.60649127\n0.6416593\n2.0047479\n1.7884054\n1.6028446\n1.4400038\n1.289663\n1.1432852\n0.9977345\n0.85685414\n0.72951984\n0.62504154\n0.54903495\n0.50206864\n0.4806912\n0.47923172\n0.49147937\n0.51207995\n0.53747255\n0.56616473\n0.5982777\n0.6344097\n0.6743606\n1.8808746\n1.6707325\n1.4856431\n1.3188685\n1.1629137\n1.0114808\n0.86223346\n0.7189917\n0.59106207\n0.48910666\n0.4203535\n0.38652533\n0.38460818\n0.4083476\n0.4494794\n0.4992296\n0.5502701\n0.59818363\n0.64146644\n0.6802098\n0.7147488\n1.7159768\n1.5139045\n1.3319598\n1.1663427\n1.0124006\n0.86543834\n0.7231869\n0.58852065\n0.46983925\n0.3777735\n0.32041052\n0.30075577\n0.31695297\n0.3628607\n0.42828155\n0.5007792\n0.5695781\n0.6286376\n0.6764224\n0.7135724\n0.7413579\n1.5506628\n1.3595495\n1.1848189\n1.0250438\n0.8775485\n0.7389398\n0.6072887\n0.484673\n0.37802422\n0.29691127\n0.24952085\n0.23996928\n0.26778615\n0.32738268\n0.40741134\n0.4932592\n0.5726323\n0.63899094\n0.6903462\n0.7268272\n0.7500485\n1.4283673\n1.2442179\n1.0724552\n0.9141716\n0.76927185\n0.63644814\n0.5145587\n0.40460286\n0.31098446\n0.24085705\n0.20153445\n0.19782756\n0.23058376\n0.2952326\n0.38078436\n0.4726229\n0.5581547\n0.62972826\n0.6837687\n0.71974164\n0.74003476\n1.3485245\n1.162784\n0.9871105\n0.8254744\n0.68074644\n0.5536622\n0.44323796\n0.34830397\n0.26947656\n0.21041168\n0.17696692\n0.17457415\n0.20565237\n0.26753038\n0.35126296\n0.4435513\n0.5312733\n0.60487854\n0.65943974\n0.6945965\n0.7136169\n1.2910074\n1.1038619\n0.92685837\n0.7656332\n0.6247226\n0.5057849\n0.4072988\n0.32580897\n0.2584579\n0.20582923\n0.17281042\n0.16610956\n0.19043554\n0.24551186\n0.32425588\n0.41370875\n0.49959666\n0.57132053\n0.6240773\n0.6582125\n0.6772596\n1.2650306\n1.0842991\n0.9147135\n0.76149553\n0.6287327\n0.51766855\n0.4262238\n0.34994766\n0.28457734\n0.22969297\n0.1906973\n0.17622507\n0.19284333\n0.24100333\n0.31328264\n0.39605343\n0.47504458\n0.5406197\n0.58911574\n0.62130505\n0.64026177\n1.3090563\n1.1424335\n0.9879672\n0.8489637\n0.72749406\n0.6233446\n0.53384095\n0.4545981\n0.3817251\n0.31554887\n0.26309225\n0.23518471\n0.23960032\n0.27615625\n0.33612153\n0.40566763\n0.4718434\n0.52675414\n0.56773084\n0.5954802\n0.61228347\n1.4820796\n1.3384272\n1.2068974\n1.0882244\n0.98179775\n0.8853422\n0.7951124\n0.7065005\n0.6158718\n0.5244055\n0.4415626\n0.3823769\n0.35816064\n0.36934614\n0.40605164\n0.45398995\n0.5010435\n0.5403767\n0.5696725\n0.58919907\n0.6003822\n1.8326952\n1.7219723\n1.6207688\n1.5267524\n1.4363904\n1.3452731\n1.2484994\n1.141072\n1.0193214\n0.88484824\n0.749584\n0.63469523\n0.5588412\n0.52618927\n0.5263963\n0.54366386\n0.56522435\n0.584089\n0.5975013\n0.60489035\n0.60676455\n2.3441796\n2.2658718\n2.1911812\n2.1150663\n2.03212\n1.9371685\n1.8253936\n1.6921816\n1.5338697\n1.3512225\n1.1558135\n0.9726427\n0.8292067\n0.737567\n0.68961835\n0.6681206\n0.6585601\n0.6527564\n0.6468153\n0.63892215\n0.6285275\n2.9493744\n2.8903346\n2.8269625\n2.7529528\n2.6628659\n2.5524464\n2.41816\n2.2565289\n2.0642962\n1.8409377\n1.594905\n1.3498123\n1.1385612\n0.98294044\n0.88087434\n0.8155663\n0.77091074\n0.7372726\n0.7093989\n0.68404186\n0.65945524\n3.5834837\n3.5288155\n3.4616873\n3.3758702\n3.2670014\n3.1323283\n2.969821\n2.7774076\n2.552958\n2.2958202\n2.0116434\n1.7196131\n1.4523002\n1.2383648\n1.0834303\n0.97348845\n0.8920283\n0.82859045\n0.7770068\n0.7327796\n0.69293976\n4.196652\n4.135164\n4.054357\n3.9489303\n3.815856\n3.6536\n3.4611773\n3.2376802\n2.9823456\n2.695414\n2.3813548\n2.0553253\n1.7463144\n1.4852184\n1.2839229\n1.1322764\n1.014586\n0.92063785\n0.844274\n0.78030205\n0.72466314\n2.1434774\n1.9895142\n1.8629308\n1.7570558\n1.6643151\n1.5779332\n1.493829\n1.4113384\n1.332246\n1.2590883\n1.1939511\n1.1382241\n1.0929775\n1.0593512\n1.0385574\n1.0315306\n1.0385145\n1.0588361\n1.0909377\n1.1325858\n1.1811415\n2.2129216\n2.0297072\n1.8742491\n1.7407368\n1.6237653\n1.5189445\n1.423247\n1.3351325\n1.2543867\n1.1816272\n1.1177113\n1.0633892\n1.0192937\n0.9860739\n0.9643631\n0.9545682\n0.95661616\n0.969808\n0.99281496\n1.0237796\n1.0604678\n2.3233726\n2.1091254\n1.921495\n1.7551877\n1.6069233\n1.4759023\n1.3622614\n1.2651865\n1.1825666\n1.1119983\n1.051693\n1.0006421\n0.95841086\n0.924944\n0.9003887\n0.88489497\n0.8784171\n0.88057715\n0.8906002\n0.9073096\n0.929247\n2.451708\n2.206364\n1.9857129\n1.7859144\n1.6058011\n1.4473739\n1.3134115\n1.2042314\n1.1167738\n1.0463225\n0.98856014\n0.9404077\n0.8999175\n0.8659877\n0.83811355\n0.81615627\n0.8001427\n0.7901562\n0.7863127\n0.7887976\n0.7980245\n2.5676284\n2.2931716\n2.0415761\n1.8119094\n1.6052798\n1.4244901\n1.2721006\n1.1482785\n1.0502534\n0.973504\n0.91328627\n0.8654212\n0.82646215\n0.7937638\n0.765555\n0.74090314\n0.7196399\n0.7024292\n0.69090945\n0.68765885\n0.6958096\n2.6364353\n2.33763\n2.0614817\n1.8102891\n1.5863218\n1.390439\n1.222063\n1.0802994\n0.96449137\n0.87357944\n0.8052682\n0.7558431\n0.72066087\n0.6950239\n0.6750603\n0.65829194\n0.6439412\n0.63319486\n0.62914884\n0.63584\n0.65639925\n2.625373\n2.3111696\n2.0217917\n1.7606814\n1.5284334\n1.3220063\n1.1376256\n0.97485936\n0.8373738\n0.72967505\n0.65340674\n0.6061019\n0.5821598\n0.5746402\n0.5769877\n0.5843057\n0.59406936\n0.6063197\n0.6229696\n0.64597255\n0.67548645\n2.51559\n2.1992602\n1.9102658\n1.6496719\n1.414508\n1.1992269\n1.0003222\n0.8205222\n0.66832244\n0.55276805\n0.47820398\n0.44288146\n0.44055757\n0.4625376\n0.49932104\n0.5421533\n0.58446246\n0.622699\n0.6559884\n0.68473727\n0.7096215\n2.3148453\n2.0108514\n1.7335277\n1.4803914\n1.2469143\n1.0290821\n0.82672447\n0.645641\n0.49623114\n0.38847727\n0.32712883\n0.31079504\n0.33358145\n0.38601634\n0.4554866\n0.5284376\n0.59408766\n0.64688027\n0.68596846\n0.71304125\n0.7309288\n2.065958\n1.7856944\n1.527256\n1.2876261\n1.0645561\n0.8575014\n0.66846114\n0.5028787\n0.36936468\n0.27668506\n0.22976239\n0.22842005\n0.26811674\n0.33932298\n0.427201\n0.5154905\n0.5923244\n0.65237594\n0.69493455\n0.72175944\n0.7364324\n1.8407714\n1.5866315\n1.3471539\n1.122927\n0.915852\n0.727759\n0.5600251\n0.41508195\n0.29841286\n0.21773033\n0.17904955\n0.18399857\n0.22942331\n0.3062192\n0.39936593\n0.4927795\n0.5748741\n0.63964266\n0.68518275\n0.71293354\n0.7271075\n1.6899372\n1.4502786\n1.2196492\n1.0040315\n0.80951834\n0.6393088\n0.49285555\n0.36839998\n0.2673579\n0.19585612\n0.16095766\n0.16607805\n0.20929605\n0.28259405\n0.37259153\n0.46470222\n0.5473483\n0.6133814\n0.66019696\n0.6893937\n0.7053257\n1.5988197\n1.3612458\n1.1319883\n0.9207712\n0.73636353\n0.5823802\n0.45587522\n0.35059893\n0.2633779\n0.1981696\n0.1630573\n0.16374004\n0.20011605\n0.26575682\n0.34889647\n0.43581113\n0.51489824\n0.579025\n0.62595373\n0.65730405\n0.67666656\n1.546705\n1.3129357\n1.0899087\n0.88757384\n0.7144376\n0.5731834\n0.4591704\n0.36379892\n0.28165027\n0.21607848\n0.17680457\n0.17171644\n0.20170397\n0.26027697\n0.33557507\n0.41448438\n0.48677275\n0.5467625\n0.59286314\n0.6261954\n0.64906615\n1.5664734\n1.3447531\n1.1356128\n0.9468097\n0.7844449\n0.6495281\n0.5369187\n0.43832827\n0.3490498\n0.2738685\n0.22470225\n0.21088138\n0.23267399\n0.28189504\n0.3460875\n0.41349664\n0.47607693\n0.5296547\n0.57288647\n0.606146\n0.6305294\n1.7191164\n1.5179139\n1.3288279\n1.1565487\n1.0040103\n0.8702056\n0.749719\n0.6352507\n0.52367115\n0.42236817\n0.34729657\n0.31103376\n0.3138044\n0.3453793\n0.3923116\n0.44377956\n0.49321854\n0.5371952\n0.5741747\n0.60379416\n0.626245\n2.0401025\n1.8665297\n1.7020141\n1.5476735\n1.4029363\n1.2645861\n1.1268647\n0.98342437\n0.83261347\n0.68475115\n0.56184494\n0.48317137\n0.45132428\n0.45425475\n0.4765151\n0.50694007\n0.5393211\n0.57015544\n0.5972859\n0.6195648\n0.6365074\n2.501707\n2.352702\n2.2079792\n2.0655742\n1.9221653\n1.7730614\n1.6125287\n1.434948\n1.2390141\n1.0358346\n0.85217357\n0.7160428\n0.6360653\n0.60020995\n0.5907507\n0.5951989\n0.60683465\n0.62145823\n0.6358906\n0.6480347\n0.65679646\n3.0394704\n2.902174\n2.7638903\n2.620961\n2.4689946\n2.303223\n2.1185715\n1.9099859\n1.6753803\n1.4236311\n1.1817893\n0.984857\n0.85027784\n0.76929545\n0.72300106\n0.6974543\n0.6851641\n0.68103784\n0.6806875\n0.6809142\n0.6799576\n3.5931091\n3.454947\n3.3109975\n3.156816\n2.9879885\n2.8005116\n2.590529\n2.3540623\n2.0887318\n1.8004109\n1.5125202\n1.2621667\n1.0748948\n0.94772625\n0.8624066\n0.8042433\n0.7654266\n0.74033785\n0.7235367\n0.7106874\n0.699269\n4.1182947\n3.971656\n3.8155496\n3.6450255\n3.455855\n3.2448325\n3.0093641\n2.7469547\n2.455977\n2.140487\n1.8193547\n1.5275347\n1.2952038\n1.1253794\n1.0018253\n0.91006106\n0.8428625\n0.7949101\n0.76018775\n0.7333428\n0.7110159\n2.3111343\n2.1247702\n1.9828655\n1.8779446\n1.7986035\n1.7325728\n1.6704353\n1.6075736\n1.5434191\n1.4792731\n1.4165903\n1.3565719\n1.3006929\n1.2513152\n1.2117516\n1.1856755\n1.1761769\n1.1848464\n1.2111886\n1.2524842\n1.3041532\n2.431102\n2.2036386\n2.0217986\n1.8815081\n1.7744881\n1.6894301\n1.6151795\n1.5440425\n1.4729161\n1.402002\n1.332828\n1.267182\n1.2071244\n1.155338\n1.115063\n1.0894463\n1.0805879\n1.0887427\n1.1119703\n1.1463633\n1.1868001\n2.6136918\n2.3469305\n2.1226356\n1.9388732\n1.7909803\n1.6716119\n1.572017\n1.4843136\n1.4033252\n1.326862\n1.254776\n1.1879982\n1.1281418\n1.0773958\n1.0381888\n1.0124837\n1.000986\n1.0026449\n1.0146846\n1.0331999\n1.0541304\n2.8359087\n2.5337758\n2.268467\n2.0389533\n1.843176\n1.6783954\n1.5411861\n1.4272106\n1.3315252\n1.2495697\n1.1780516\n1.1152002\n1.0605737\n1.0146221\n0.9780207\n0.95093554\n0.9325511\n0.921116\n0.9144698\n0.9108472\n0.9097065\n3.0670753\n2.734143\n2.430814\n2.1565125\n1.9110826\n1.696046\n1.5141528\n1.3667068\n1.2512012\n1.1618255\n1.091927\n1.0359641\n0.9900902\n0.9517785\n0.9190742\n0.8900099\n0.8627098\n0.8361856\n0.81126887\n0.79102355\n0.7803202\n3.2668977\n2.9079463\n2.570342\n2.2541878\n1.9614171\n1.6975582\n1.4707767\n1.2874956\n1.1481824\n1.0472385\n0.9760854\n0.926083\n0.8898252\n0.86129516\n0.83561134\n0.80905676\n0.77991366\n0.7497339\n0.7236628\n0.70874727\n0.71078914\n3.3880622\n3.007577\n2.6403944\n2.2879913\n1.9549062\n1.6500099\n1.3846148\n1.1677204\n1.0021951\n0.8845643\n0.8072257\n0.76075774\n0.73547345\n0.72246057\n0.71438205\n0.7062982\n0.69671327\n0.6880871\n0.68529326\n0.6922\n0.7091324\n3.386807\n2.9891784\n2.5994854\n2.2211301\n1.8607805\n1.5285715\n1.2357508\n0.99161804\n0.8019194\n0.6678724\n0.585556\n0.5467421\n0.5408541\n0.55688006\n0.5847708\n0.6164477\n0.6466458\n0.67314136\n0.6956473\n0.7143251\n0.7297242\n3.2379198\n2.8302593\n2.4304187\n2.042978\n1.6746559\n1.3340585\n1.0304116\n0.7736272\n0.5739911\n0.43805757\n0.36455518\n0.3454607\n0.3695295\n0.42390656\n0.49442002\n0.5669955\n0.630521\n0.6791134\n0.71189845\n0.7312756\n0.7415946\n2.9512203\n2.548651\n2.1588986\n1.785823\n1.4341233\n1.1094451\n0.81914204\n0.5742497\n0.3881511\n0.26926532\n0.21583295\n0.21924667\n0.26854447\n0.34986222\n0.4456814\n0.53862375\n0.6166459\n0.67466116\n0.7127242\n0.7340697\n0.7440221\n2.5910873\n2.217567\n1.8619719\n1.5264093\n1.2134935\n0.92659515\n0.67084306\n0.45536146\n0.2927965\n0.19215819\n0.15277009\n0.16729468\n0.22574385\n0.3142752\n0.41540372\n0.51292396\n0.5959559\n0.6591673\n0.7017159\n0.72652096\n0.73899573\n2.2721612\n1.9442881\n1.6316601\n1.3369849\n1.0649006\n0.81913346\n0.6014136\n0.41562787\n0.27182278\n0.18088159\n0.1456593\n0.1608729\n0.21693271\n0.30058256\n0.39638102\n0.49037495\n0.57238054\n0.6366017\n0.6818103\n0.7106192\n0.7276426\n2.076261\n1.7815921\n1.4935296\n1.2209908\n0.9747489\n0.76001394\n0.57429296\n0.41465408\n0.28657076\n0.2014719\n0.16572101\n0.17642805\n0.22470857\n0.2984211\n0.38425687\n0.47011212\n0.54684865\n0.6093475\n0.6565397\n0.69018614\n0.71322125\n1.9885794\n1.7045261\n1.4242003\n1.1617014\n0.9307336\n0.7360399\n0.57163846\n0.4296157\n0.31171262\n0.2294138\n0.19177797\n0.1977944\n0.23880492\n0.30290347\n0.37808067\n0.45427418\n0.52438384\n0.5845453\n0.6336272\n0.67212623\n0.70114595\n1.9942899\n1.7166752\n1.4445047\n1.1913067\n0.9693546\n0.78215927\n0.6228662\n0.48269457\n0.36307532\n0.27674437\n0.23445688\n0.23515213\n0.2687\n0.32264596\n0.3864801\n0.4526204\n0.51589584\n0.57314\n0.6227935\n0.6642284\n0.69718665\n2.129028\n1.8635632\n1.6036665\n1.3601145\n1.1425194\n0.95299166\n0.7846841\n0.62957853\n0.49085996\n0.38478702\n0.32540703\n0.31167448\n0.33128855\n0.37082943\n0.42093316\n0.47569776\n0.53083575\n0.58312434\n0.63040817\n0.6712847\n0.704713\n2.4100409\n2.1594515\n1.9130384\n1.6785562\n1.4620677\n1.2632679\n1.0748702\n0.8898268\n0.7139322\n0.56912845\n0.47583923\n0.4348569\n0.43166333\n0.45103943\n0.48375353\n0.5245461\n0.5691427\n0.6137242\n0.6553886\n0.6921468\n0.72256774\n2.804915\n2.5630393\n2.3244088\n2.094282\n1.8748257\n1.6625812\n1.4492586\n1.2282666\n1.0069559\n0.8123903\n0.67317075\n0.5945879\n0.560919\n0.5547365\n0.5662111\n0.5901151\n0.62171465\n0.65625614\n0.6899123\n0.72010803\n0.74517304\n3.2584581\n3.014146\n2.7734175\n2.539717\n2.3119886\n2.0841305\n1.8469032\n1.5933772\n1.3300912\n1.0859029\n0.89679146\n0.77502495\n0.7058059\n0.66989875\n0.656672\n0.6608049\n0.67705494\n0.6996601\n0.7237684\n0.7461367\n0.7648301\n3.718331\n3.463315\n3.213299\n2.9696853\n2.7289095\n2.483534\n2.2244313\n1.9445976\n1.6483794\n1.3626086\n1.1272593\n0.9621476\n0.85556847\n0.7874545\n0.74667495\n0.7281896\n0.7266226\n0.7354245\n0.7487599\n0.76265264\n0.7748024\n4.1467886\n3.8783817\n3.616906\n3.361001\n3.1050446\n2.8413866\n2.5621414\n2.2611518\n1.9408435\n1.6240022\n1.3506262\n1.1464132\n1.0038091\n0.90289646\n0.8326097\n0.78891295\n0.76701677\n0.76003885\n0.7613294\n0.7661535\n0.7717552\n2.572241\n2.332877\n2.1529584\n2.0269966\n1.9420508\n1.8821827\n1.8341228\n1.7900232\n1.7466408\n1.7030501\n1.6589584\n1.6142857\n1.5695044\n1.5260476\n1.4863454\n1.4535168\n1.4308996\n1.4215276\n1.4275203\n1.449319\n1.4848965\n2.7392013\n2.4494798\n2.2195368\n2.050612\n1.9354143\n1.8587143\n1.8029772\n1.7545848\n1.7062627\n1.6556102\n1.6025075\n1.5475806\n1.4920061\n1.4378659\n1.3883145\n1.3472793\n1.3187786\n1.3059818\n1.3101456\n1.3296295\n1.3595053\n2.9863188\n2.6506085\n2.3689954\n2.1471176\n1.9848409\n1.8728708\n1.7946345\n1.7328409\n1.6753181\n1.6163125\n1.5543963\n1.4901358\n1.425108\n1.3619181\n1.3042802\n1.2565624\n1.2227281\n1.2049334\n1.2022785\n1.2103777\n1.2223907\n3.2972283\n2.922191\n2.5924494\n2.3151655\n2.0951629\n1.9306508\n1.8110653\n1.7205172\n1.6443013\n1.5730032\n1.5024135\n1.4316137\n1.3615798\n1.29465\n1.2341366\n1.1834544\n1.1447453\n1.1175839\n1.0986532\n1.0830361\n1.0668844\n3.6416206\n3.235514\n2.863828\n2.5336685\n2.251858\n2.02238\n1.8430136\n1.7047812\n1.5955508\n1.5045278\n1.4243846\n1.351153\n1.2834095\n1.2213737\n1.1657865\n1.1166359\n1.072317\n1.0300305\n0.98768735\n0.9463854\n0.9115858\n3.9731705\n3.5446877\n3.138183\n2.7597935\n2.416461\n2.115327\n1.8621749\n1.6587403\n1.5011603\n1.3813266\n1.2898715\n1.218598\n1.1613821\n1.1135787\n1.0706569\n1.0275288\n0.97989875\n0.9272496\n0.87497973\n0.83294344\n0.8104686\n4.23644\n3.7921398\n3.3568528\n2.9349189\n2.5325897\n2.1585722\n1.8252085\n1.5462995\n1.3303216\n1.1756458\n1.0723975\n1.0074991\n0.96823066\n0.9431565\n0.92197335\n0.89668655\n0.86461663\n0.83018416\n0.8019959\n0.78666544\n0.78505605\n4.377839\n3.9206514\n3.46041\n2.9995034\n2.5434668\n2.1019862\n1.6926227\n1.3410598\n1.069742\n0.8848568\n0.7760744\n0.7251263\n0.7129793\n0.72281337\n0.74102557\n0.7584392\n0.77131265\n0.779974\n0.78548586\n0.78805304\n0.78850263\n4.3577476\n3.8876789\n3.4054532\n2.91274\n2.4149039\n1.9221406\n1.4566256\n1.0556717\n0.75429624\n0.56299716\n0.4675813\n0.44443586\n0.47113958\n0.52833176\n0.59873086\n0.6674514\n0.7238225\n0.76260823\n0.7835886\n0.7904525\n0.7893861\n4.1595454\n3.677078\n3.1802454\n2.672143\n2.1580396\n1.6482671\n1.1693887\n0.76646835\n0.4792666\n0.31473446\n0.25118208\n0.26159653\n0.32389718\n0.4175776\n0.52133334\n0.61657196\n0.6918933\n0.743633\n0.7735096\n0.7865833\n0.78966326\n3.799296\n3.3143775\n2.8242252\n2.333835\n1.8475834\n1.3744543\n0.9379483\n0.5783129\n0.33149326\n0.20081672\n0.16262625\n0.19138055\n0.2670637\n0.36995408\n0.47992036\n0.5807657\n0.6628655\n0.7225282\n0.76064324\n0.7815618\n0.7913584\n3.3537333\n2.8944933\n2.4464762\n2.0139978\n1.5979505\n1.1994063\n0.82992184\n0.520173\n0.3041965\n0.18977904\n0.15872964\n0.18847883\n0.260258\n0.35646072\n0.46026266\n0.55787754\n0.640199\n0.7031947\n0.7473154\n0.7759892\n0.7937016\n2.967179\n2.561527\n2.1741729\n1.8054271\n1.4530594\n1.1152171\n0.798951\n0.52811295\n0.33303526\n0.22547388\n0.19337745\n0.216903\n0.27828425\n0.3621128\n0.454465\n0.54363924\n0.6217208\n0.685267\n0.7343625\n0.7708939\n0.7971671\n2.7506814\n2.3911264\n2.0395055\n1.6979184\n1.3716129\n1.0654179\n0.78508914\n0.54550743\n0.36944023\n0.26898575\n0.23612499\n0.2533466\n0.30412957\n0.3751225\n0.45511067\n0.53489625\n0.60826963\n0.672257\n0.7261042\n0.7699685\n0.804189\n2.7152958\n2.3710914\n2.0246832\n1.6854357\n1.3652906\n1.0718219\n0.80824643\n0.5837543\n0.4170741\n0.32018763\n0.28607395\n0.2972832\n0.33789563\n0.39680985\n0.46572948\n0.5377058\n0.6074949\n0.6718856\n0.7291274\n0.778095\n0.8178732\n2.8413305\n2.4932504\n2.1423821\n1.8004066\n1.4793621\n1.1858511\n0.9209612\n0.6914599\n0.5162148\n0.40960428\n0.36530071\n0.36467832\n0.39189616\n0.4377807\n0.4960763\n0.56082207\n0.6266805\n0.6897381\n0.74740297\n0.79782695\n0.83953965\n3.0968425\n2.7374365\n2.378428\n2.0312717\n1.7058074\n1.4053949\n1.1276914\n0.8776628\n0.67705804\n0.5460773\n0.48073816\n0.46104902\n0.4705492\n0.5011183\n0.54750615\n0.60380876\n0.6639916\n0.72321075\n0.77813107\n0.8265026\n0.86672306\n3.4338422\n3.0562704\n2.68387\n2.3282409\n1.996036\n1.6855298\n1.3898298\n1.1119789\n0.8771649\n0.71307886\n0.6197474\n0.576103\n0.56452\n0.5773408\n0.6098827\n0.6559909\n0.7087337\n0.7622277\n0.81237465\n0.856589\n0.89327043\n3.8023221\n3.4018772\n3.0129406\n2.6466882\n2.3060808\n1.984175\n1.6697463\n1.3635477\n1.0927553\n0.8922065\n0.76734376\n0.69685024\n0.6617062\n0.6544316\n0.6708996\n0.70482713\n0.7484903\n0.7949977\n0.8394509\n0.87885153\n0.9115168\n4.161003\n3.7380552\n3.333693\n2.9570184\n2.607085\n2.2731507\n1.9414343\n1.6105353\n1.3072016\n1.0712621\n0.91418934\n0.8155144\n0.7549391\n0.72514594\n0.7228779\n0.7421426\n0.7747688\n0.8130414\n0.8512723\n0.88594675\n0.915125\n4.4833198\n4.0425973\n3.627152\n3.2422228\n2.883045\n2.5370905\n2.1903656\n1.8401024\n1.510627\n1.2437357\n1.056361\n0.92975557\n0.84263307\n0.78804296\n0.76414263\n0.7658624\n0.7850723\n0.8135152\n0.8447968\n0.8748176\n0.90122914\n2.9793499\n2.6784384\n2.446103\n2.2797582\n2.167578\n2.092881\n2.0405161\n2.0003116\n1.9666374\n1.9364476\n1.9078705\n1.8798642\n1.8523648\n1.8262488\n1.802914\n1.7836624\n1.769252\n1.7598301\n1.755256\n1.7555386\n1.7609441\n3.1938946\n2.8361816\n2.5484903\n2.3363786\n2.1938667\n2.1035795\n2.0444736\n2.0001798\n1.9616156\n1.9248065\n1.8880185\n1.8504332\n1.8120048\n1.7735087\n1.7362485\n1.7015772\n1.6706206\n1.6443958\n1.6241128\n1.611091\n1.6057825\n3.5092561\n3.0980308\n2.750062\n2.477498\n2.2837045\n2.1577787\n2.0779278\n2.022029\n1.9753324\n1.93071\n1.8852267\n1.8375354\n1.787095\n1.7342174\n1.6800202\n1.626226\n1.5750558\n1.5291986\n1.4913677\n1.4629276\n1.4420898\n3.9109826\n3.456638\n3.0525703\n2.7139683\n2.4520416\n2.2666159\n2.1430476\n2.0589516\n1.9946471\n1.9379135\n1.88241\n1.824711\n1.7628504\n1.6961715\n1.6254951\n1.5531365\n1.4825926\n1.4176378\n1.3606253\n1.310836\n1.2648578\n4.362067\n3.8794785\n3.430267\n3.0291667\n2.6915076\n2.4269176\n2.2330945\n2.0956056\n1.9952306\n1.9155805\n1.8454065\n1.7773929\n1.7069018\n1.6316216\n1.5515374\n1.468546\n1.3853817\n1.3041621\n1.2257152\n1.15105\n1.084416\n4.8132257\n4.3155193\n3.8330376\n3.3770044\n2.9633393\n2.6080978\n2.3212388\n2.1020694\n1.9398814\n1.8193512\n1.7257029\n1.646979\n1.5745246\n1.5027704\n1.4284492\n1.3495317\n1.264839\n1.1754171\n1.0870025\n1.0103136\n0.95652425\n5.2116814\n4.7060256\n4.1980453\n3.6937766\n3.2068648\n2.7562156\n2.3608053\n2.0349631\n1.7843069\n1.6035879\n1.4793159\n1.3950297\n1.3352828\n1.2869668\n1.2390943\n1.1835533\n1.1180918\n1.0486724\n0.98641574\n0.9399409\n0.9106561\n5.5048575\n4.9928575\n4.4625444\n3.9144855\n3.3581614\n2.8120024\n2.3000884\n1.8512146\n1.4958211\n1.2498413\n1.1043254\n1.0342782\n1.0114173\n1.0106406\n1.0127854\n1.0071418\n0.99216956\n0.9714434\n0.94786835\n0.92251354\n0.8974866\n5.6482854\n5.1284704\n4.5767117\n3.9884365\n3.368161\n2.731869\n2.106125\n1.5370144\n1.0934792\n0.8163171\n0.6872745\n0.66166914\n0.6973501\n0.7609028\n0.8278007\n0.8826541\n0.9180185\n0.9320486\n0.9272084\n0.9097514\n0.88787264\n5.6150813\n5.084541\n4.512\n3.8890727\n3.2167912\n2.5093884\n1.7964844\n1.1540517\n0.69626087\n0.456669\n0.3809362\n0.40827522\n0.4953363\n0.6074946\n0.71640515\n0.8037959\n0.8626335\n0.8939925\n0.903358\n0.89833707\n0.8867587\n5.400103\n4.855711\n4.265956\n3.6233022\n2.9301572\n2.200559\n1.4719281\n0.8532806\n0.46049383\n0.28449237\n0.2505889\n0.3024788\n0.40428862\n0.52632856\n0.6441174\n0.7421738\n0.8141929\n0.8604008\n0.8851078\n0.89471245\n0.89564973\n5.0303664\n4.4757547\n3.8850484\n3.2586153\n2.6022682\n1.9262781\n1.2702129\n0.7361345\n0.40659124\n0.26050597\n0.23400362\n0.28067917\n0.37180576\n0.484533\n0.5988391\n0.69983953\n0.7796482\n0.8369342\n0.87484246\n0.89831454\n0.9119529\n4.5999527\n4.054289\n3.4935944\n2.924284\n2.3465557\n1.7591535\n1.1921138\n0.7280376\n0.4337058\n0.29585695\n0.26371622\n0.2976809\n0.37339136\n0.47223344\n0.5772335\n0.6748073\n0.7571498\n0.8221701\n0.8714332\n0.9077425\n0.9335686\n4.2546678\n3.7371337\n3.2191136\n2.7013388\n2.176121\n1.6424111\n1.135057\n0.7270977\n0.46787256\n0.34234378\n0.30783963\n0.33125535\n0.3925952\n0.47697577\n0.570745\n0.66268164\n0.74576515\n0.81702936\n0.8760749\n0.9234944\n0.9599156\n4.087964\n3.5977876\n3.0998611\n2.5932758\n2.07946\n1.5708411\n1.1056042\n0.7416464\n0.51135874\n0.39696363\n0.36068106\n0.3745593\n0.42297578\n0.49474725\n0.5791203\n0.66653275\n0.750132\n0.8259281\n0.89192915\n0.94717056\n0.99110985\n4.1293006\n3.6381247\n3.1256742\n2.6055357\n2.0919685\n1.6004155\n1.1605027\n0.8168492\n0.595465\n0.4796207\n0.43442082\n0.43541196\n0.47052678\n0.53112733\n0.60777456\n0.69116485\n0.77393377\n0.8511927\n0.9200107\n0.97865504\n1.026091\n4.323732\n3.796203\n3.2509136\n2.7127628\n2.1990912\n1.7193683\n1.2909114\n0.94904214\n0.72021616\n0.5916329\n0.5306788\n0.5152687\n0.5358239\n0.58508307\n0.6538213\n0.7322205\n0.81207126\n0.88768464\n0.9555766\n1.0137459\n1.0611053\n4.5736146\n3.9995542\n3.4212108\n2.8674533\n2.3537376\n1.8810542\n1.4550446\n1.1049147\n0.8606571\n0.71441984\n0.6351014\n0.60187316\n0.6069256\n0.6440067\n0.70391464\n0.7761871\n0.85169446\n0.92392963\n0.98893386\n1.044581\n1.0898875\n4.8190694\n4.2041945\n3.6013596\n3.0387142\n2.5262918\n2.056626\n1.62669\n1.2623875\n0.9985242\n0.8324961\n0.7339665\n0.68226594\n0.6708128\n0.69440955\n0.7441358\n0.80913085\n0.8794553\n0.94776833\n1.0095445\n1.0624318\n1.1054728\n5.0326505\n4.3896966\n3.7749395\n3.2111979\n2.7012808\n2.23147\n1.7938665\n1.4127352\n1.1274195\n0.9405198\n0.8221242\n0.7509486\n0.7213073\n0.7292826\n0.7666878\n0.8226919\n0.88681704\n0.95093894\n1.0098459\n1.0607523\n1.1025063\n5.206514\n4.550129\n3.9349482\n3.375921\n2.869019\n2.3972378\n1.9510387\n1.553646\n1.2474881\n1.0398688\n0.90125275\n0.8093454\n0.759285\n0.74881095\n0.7710011\n0.8155621\n0.8718428\n0.9310837\n0.98732555\n1.0371541\n1.0789679\n3.6320608\n3.268336\n2.9749527\n2.7488844\n2.58046\n2.4577022\n2.369997\n2.3091528\n2.2685392\n2.2421317\n2.224533\n2.2116914\n2.2014494\n2.1933272\n2.1876755\n2.1846118\n2.1831992\n2.1811018\n2.1748369\n2.160688\n2.1362538\n3.9122653\n3.4852178\n3.1337638\n2.8625252\n2.6637738\n2.5216146\n2.420066\n2.347846\n2.297586\n2.2631643\n2.2386544\n2.2190323\n2.2010875\n2.1834085\n2.165436\n2.146237\n2.1236935\n2.0945828\n2.0557463\n2.006105\n1.9484624\n4.3051686\n3.8159487\n3.3943806\n3.0556445\n2.80221\n2.6220915\n2.4962544\n2.4081268\n2.3467543\n2.3042717\n2.2734144\n2.2474878\n2.2213767\n2.1918044\n2.1564932\n2.1130326\n2.0585175\n1.9906379\n1.9099975\n1.8220252\n1.7356853\n4.786835\n4.252315\n3.765654\n3.3483405\n3.016\n2.769961\n2.5973496\n2.479673\n2.400786\n2.3482263\n2.31119\n2.2797167\n2.2454083\n2.2018821\n2.1443055\n2.06893\n1.9738718\n1.8613396\n1.7393694\n1.6197777\n1.5119884\n5.31353\n4.75617\n4.221789\n3.7304184\n3.3064632\n2.9680727\n2.7182572\n2.545719\n2.4326687\n2.3609996\n2.3138049\n2.2754693\n2.232445\n2.1740158\n2.0925834\n1.9844311\n1.8515887\n1.7032115\n1.5533518\n1.415235\n1.2978733\n5.8429484\n5.2797627\n4.71474\n4.160776\n3.6437924\n3.1955683\n2.8391113\n2.5792096\n2.4044442\n2.294588\n2.226366\n2.1766589\n2.1249359\n2.0552998\n1.9580492\n1.8312422\n1.6816597\n1.523174\n1.372335\n1.2440444\n1.1484208\n6.3360233\n5.775662\n5.1900754\n4.582877\n3.9758623\n3.4081852\n2.9214058\n2.5412297\n2.271576\n2.0983167\n1.9954871\n1.9321463\n1.8790526\n1.8140869\n1.7254721\n1.6127142\n1.4852128\n1.3580832\n1.2456653\n1.1555525\n1.0874023\n6.7524557\n6.197152\n5.594461\n4.9383035\n4.2431912\n3.5502071\n2.9160826\n2.3888042\n1.9953659\n1.73948\n1.598952\n1.5345901\n1.5054696\n1.4803407\n1.4424955\n1.3889129\n1.3250475\n1.2573866\n1.1889976\n1.1215272\n1.0588516\n7.0533204\n6.5009823\n5.8802633\n5.1753044\n4.392226\n3.5720122\n2.7847574\n2.0992224\n1.5740012\n1.2462173\n1.0967267\n1.0693427\n1.1057919\n1.1608677\n1.2062482\n1.228505\n1.2240419\n1.194998\n1.1479068\n1.0925604\n1.0389272\n7.206475\n6.651207\n6.0086775\n5.254024\n4.3865104\n3.449542\n2.5266712\n1.7055146\n1.0973251\n0.7707559\n0.67177284\n0.71261704\n0.82181406\n0.94471186\n1.0457704\n1.1095918\n1.13556\n1.1309161\n1.1060517\n1.0715432\n1.0358924\n7.1897173\n6.62099\n5.950758\n5.1489286\n4.213949\n3.198864\n2.2004666\n1.3317503\n0.7577172\n0.5069099\n0.46651882\n0.5402934\n0.66603655\n0.8001671\n0.9157533\n1.0004715\n1.0520608\n1.0747595\n1.0765698\n1.0662272\n1.0506351\n6.9955206\n6.40014\n5.6983614\n4.8640323\n3.906394\n2.8940563\n1.9274406\n1.13309\n0.6511849\n0.44926453\n0.41381732\n0.46934465\n0.57323366\n0.69584775\n0.81454533\n0.9141133\n0.9875513\n1.0352366\n1.0622847\n1.0751307\n1.0789824\n6.6597357\n6.033355\n5.308591\n4.474939\n3.5594046\n2.6317508\n1.7704649\n1.0810572\n0.65777105\n0.4633245\n0.41116974\n0.44328144\n0.5262085\n0.635426\n0.75047415\n0.8562324\n0.9441965\n1.011904\n1.0609759\n1.0947461\n1.1164052\n6.2957726\n5.6424627\n4.9073772\n4.099913\n3.2531712\n2.415863\n1.644648\n1.0379078\n0.66563773\n0.4863937\n0.42892426\n0.44728357\n0.5145668\n0.6106645\n0.7186521\n0.8254514\n0.9224296\n1.0049869\n1.0715826\n1.1225928\n1.1592617\n6.001383\n5.327671\n4.596322\n3.820057\n3.0220351\n2.240289\n1.5362245\n1.0053197\n0.68531245\n0.5248387\n0.4656141\n0.4737646\n0.5289189\n0.6147098\n0.7166696\n0.8229327\n0.9247665\n1.0163649\n1.0943269\n1.1571258\n1.2045888\n5.8307543\n5.162918\n4.4420233\n3.6768062\n2.8989222\n2.156075\n1.5108305\n1.0382292\n0.7497537\n0.59445137\n0.5271932\n0.52385396\n0.5684643\n0.6462708\n0.7432787\n0.8475671\n0.95011985\n1.0447061\n1.1273293\n1.1957322\n1.2490456\n5.8410587\n5.159276\n4.4132895\n3.6329963\n2.8665493\n2.1603546\n1.5630815\n1.1266968\n0.85002136\n0.6885224\n0.6081727\n0.59182185\n0.6260006\n0.696208\n0.7879102\n0.88851035\n0.988541\n1.081646\n1.1638732\n1.2329701\n1.2879453\n5.9554367\n5.218489\n4.4290137\n3.6334426\n2.8816013\n2.2081177\n1.6450375\n1.2287209\n0.95420194\n0.78324276\n0.6893388\n0.6600728\n0.6837649\n0.74607706\n0.83193594\n0.92799157\n1.0242001\n1.1140181\n1.1936272\n1.2610171\n1.3153596\n6.0641155\n5.2691107\n4.4468684\n3.6489515\n2.9172342\n2.2706063\n1.7282295\n1.3201681\n1.0427421\n0.861879\n0.75513667\n0.71314883\n0.7258585\n0.7795006\n0.8588996\n0.95016307\n1.0426143\n1.1293136\n1.2063814\n1.2719487\n1.3253634\n6.1274986\n5.2918777\n4.457406\n3.6725466\n2.964685\n2.33794\n1.8051436\n1.3969008\n1.1129103\n0.9212348\n0.80113846\n0.7453029\n0.74533415\n0.7885221\n0.86012584\n0.9460585\n1.0350412\n1.1195186\n1.1952373\n1.2602049\n1.3137827\n6.1466365\n5.2927227\n4.466171\n3.7051058\n3.020799\n2.4073274\n1.8768086\n1.4634327\n1.1704215\n0.9665185\n0.831376\n0.7593205\n0.7438448\n0.7737468\n0.8352465\n0.9144781\n0.99970263\n1.0826073\n1.158253\n1.2242059\n1.2795846\n4.6063194\n4.1812577\n3.81356\n3.4990225\n3.2346766\n3.0213964\n2.8610878\n2.7523496\n2.688578\n2.6592276\n2.6527746\n2.659483\n2.6727197\n2.6886792\n2.7051468\n2.7200658\n2.730435\n2.731783\n2.718316\n2.6838677\n2.6237142\n4.917077\n4.4273415\n4.004458\n3.6488771\n3.3543398\n3.11592\n2.9330778\n2.8055465\n2.7284338\n2.6914477\n2.6817358\n2.6874208\n2.6996076\n2.712385\n2.7215197\n2.7228234\n2.7109568\n2.679183\n2.6205282\n2.5305977\n2.4113696\n5.3264756\n4.767661\n4.2690887\n3.8454165\n3.4994712\n3.225872\n3.0189335\n2.8747337\n2.787246\n2.745494\n2.7349844\n2.7412262\n2.7522626\n2.7590513\n2.7542224\n2.7304916\n2.6798673\n2.5947034\n2.471219\n2.3143928\n2.1403048\n5.8099527\n5.200332\n4.6276155\n4.1184745\n3.6938686\n3.360946\n3.1154685\n2.9487913\n2.8500936\n2.8049254\n2.7954893\n2.8034363\n2.8124845\n2.8090277\n2.7811728\n2.7178602\n2.6099193\n2.4541237\n2.258764\n2.045443\n1.841748\n6.3308597\n5.6958146\n5.0673547\n4.4742637\n3.9530158\n3.5317972\n3.2198327\n3.0103705\n2.8882456\n2.8333497\n2.8220835\n2.8300014\n2.8344364\n2.8153095\n2.755034\n2.6401067\n2.4660041\n2.2432704\n1.9984076\n1.7646893\n1.5680501\n6.861821\n6.221081\n5.556722\n4.8911586\n4.267297\n3.7332911\n3.3204908\n3.0346835\n2.8627205\n2.7804875\n2.7572775\n2.759707\n2.7555027\n2.7159717\n2.6190093\n2.455137\n2.234133\n1.9848933\n1.7443354\n1.5416265\n1.389117\n7.380124\n6.74536\n6.058291\n5.3304534\n4.6025968\n3.9364226\n3.3883176\n2.9866085\n2.729956\n2.5958734\n2.5470266\n2.5378675\n2.523066\n2.4658988\n2.3467498\n2.1698966\n1.961507\n1.7554252\n1.5756277\n1.4290779\n1.3117096\n7.860157\n7.235882\n6.5308275\n5.7436028\n4.907647\n4.0928235\n3.3811326\n2.830193\n2.4582167\n2.2505653\n2.1651168\n2.143079\n2.1277006\n2.081233\n1.9931252\n1.8754269\n1.7470653\n1.6193262\n1.4946572\n1.3748667\n1.265653\n8.270546\n7.654407\n6.928223\n6.07734\n5.127319\n4.1555266\n3.2698724\n2.5567155\n2.0540698\n1.7628757\n1.6430217\n1.6277341\n1.6540045\n1.6800823\n1.6853813\n1.6617186\n1.607137\n1.5256004\n1.4274354\n1.3261403\n1.2333249\n8.573194\n7.9560776\n7.2006497\n6.281291\n5.219253\n4.1016808\n3.060136\n2.2003858\n1.5824066\n1.2392478\n1.1295134\n1.1683327\n1.2736702\n1.38271\n1.4583135\n1.4874159\n1.4731007\n1.4265629\n1.3617799\n1.2917327\n1.2257124\n8.725949\n8.092311\n7.297997\n6.3120284\n5.156824\n3.931553\n2.7877424\n1.8432885\n1.1948141\n0.8858721\n0.8270048\n0.9041206\n1.0315176\n1.1561953\n1.2533463\n1.3149165\n1.3411188\n1.3376585\n1.3139278\n1.2798401\n1.2429261\n8.690793\n8.0199795\n7.1784616\n6.1388135\n4.931636\n3.6716442\n2.5248249\n1.6114826\n1.0294203\n0.7679284\n0.7097753\n0.7583529\n0.8566158\n0.9707964\n1.0794647\n1.1690358\n1.2328842\n1.27079\n1.2871133\n1.288065\n1.2792667\n8.458594\n7.7365856\n6.8513613\n5.7874584\n4.5894823\n3.38572\n2.332035\n1.5176955\n0.9967881\n0.7367734\n0.64969516\n0.6658921\n0.74108785\n0.84563977\n0.9585459\n1.0652627\n1.1566477\n1.228151\n1.2790087\n1.3111409\n1.3277696\n8.107216\n7.3381276\n6.419697\n5.35437\n4.2071204\n3.1057992\n2.1646073\n1.4381837\n0.9636387\n0.71335506\n0.6185645\n0.6213785\n0.68352103\n0.7795972\n0.8918191\n1.0071831\n1.1159023\n1.2108102\n1.2874534\n1.344209\n1.3818742\n7.752047\n6.9281025\n5.9782534\n4.9328856\n3.8610935\n2.8594708\n2.00865\n1.3611674\n0.94231\n0.7155485\n0.6232302\n0.61982393\n0.6741925\n0.764673\n0.87539506\n0.99418366\n1.111268\n1.218716\n1.310581\n1.3833373\n1.4360067\n7.412381\n6.558403\n5.6251626\n4.6329\n3.6265419\n2.6944163\n1.9200889\n1.3477334\n0.97477543\n0.76159894\n0.6668539\n0.6569267\n0.7054314\n0.79184616\n0.90019935\n1.0181663\n1.1361947\n1.2467482\n1.344028\n1.42413\n1.4852455\n7.174452\n6.3403144\n5.432657\n4.460767\n3.4857326\n2.6106758\n1.9089148\n1.3966258\n1.0499613\n0.8379438\n0.7354938\n0.71755624\n0.76003873\n0.84206367\n0.9466503\n1.0608423\n1.1752275\n1.2829949\n1.3791718\n1.4603252\n1.5245751\n7.1063166\n6.2596083\n5.3269663\n4.344962\n3.3954217\n2.5750954\n1.9334067\n1.461719\n1.1281587\n0.9127625\n0.8019761\n0.776151\n0.8125593\n0.88989794\n0.9902119\n1.0998204\n1.2092582\n1.3123021\n1.4048312\n1.4841242\n1.5486071\n7.1062546\n6.2040377\n5.2321653\n4.2460523\n3.3285158\n2.5570865\n1.9587883\n1.511567\n1.1839749\n0.9644799\n0.84621644\n0.81288636\n0.84303993\n0.91545904\n1.0116293\n1.1172166\n1.2224939\n1.3215063\n1.410729\n1.4880446\n1.5522538\n7.0753775\n6.121052\n5.1266837\n4.1542387\n3.275168\n2.5442748\n1.9742455\n1.5400274\n1.2136952\n0.98882157\n0.86229825\n0.820256\n0.84272397\n0.9091448\n1.0009245\n1.1032039\n1.2057666\n1.3025385\n1.3902214\n1.467052\n1.5320987\n6.9966755\n6.0110283\n5.0175004\n4.075177\n3.2363043\n2.5362175\n1.9828407\n1.5541452\n1.2252648\n0.9922912\n0.8546814\n0.8008953\n0.812746\n0.8708518\n0.95702386\n1.0560572\n1.1570582\n1.2534173\n1.3416446\n1.4200151\n1.4876895\n5.695545\n5.208477\n4.7514853\n4.325327\n3.9425128\n3.6219883\n3.3783436\n3.2148912\n3.1237574\n3.0902886\n3.0981448\n3.1328263\n3.1829953\n3.240127\n3.2973661\n3.3482678\n3.38579\n3.4016905\n3.3867264\n3.3321123\n3.2322752\n5.948775\n5.3983917\n4.8949647\n4.438006\n4.031961\n3.68998\n3.4265885\n3.2478385\n3.1478827\n3.1121683\n3.1229427\n3.163528\n3.220076\n3.2812955\n3.3371902\n3.3777814\n3.3922603\n3.3689888\n3.2970717\n3.1700869\n2.9907553\n6.2824163\n5.6517577\n5.0729876\n4.5600963\n4.119703\n3.7578735\n3.4823527\n3.296792\n3.1953142\n3.1630392\n3.1806827\n3.2290626\n3.2911773\n3.3519797\n3.3970947\n3.4117398\n3.3807652\n3.2906709\n3.134298\n2.916852\n2.658579\n6.6845055\n5.9841733\n5.3206406\n4.7276125\n4.228027\n3.8310943\n3.5383618\n3.346851\n3.24694\n3.2214386\n3.248546\n3.3057387\n3.371707\n3.4259996\n3.4479115\n3.4165587\n3.3138433\n3.1309323\n2.8759015\n2.5761096\n2.270652\n7.1298523\n6.3840075\n5.6475716\n4.9660993\n4.383007\n3.9228337\n3.5901241\n3.3775902\n3.2704434\n3.2470796\n3.281262\n3.3453343\n3.4115093\n3.4511995\n3.4350743\n3.3370695\n3.143622\n2.8641863\n2.5335348\n2.2003877\n1.9094714\n7.600644\n6.83265\n6.04313\n5.2779503\n4.5948467\n4.0390916\n3.6296692\n3.3638217\n3.225538\n3.1891675\n3.222089\n3.288011\n3.3483086\n3.3625598\n3.2934456\n3.1189995\n2.8468604\n2.5170088\n2.1854563\n1.8994681\n1.6801554\n8.083245\n7.310095\n6.484107\n5.642378\n4.8472786\n4.1638336\n3.634862\n3.2740417\n3.0721254\n3.001999\n3.022125\n3.0817814\n3.1262457\n3.1041865\n2.9825006\n2.7632933\n2.485602\n2.2028787\n1.9529958\n1.7461009\n1.5756788\n8.561052\n7.791405\n6.936193\n6.0187254\n5.099328\n4.260879\n3.5766444\n3.0862033\n2.792892\n2.669177\n2.6612818\n2.7005877\n2.7205186\n2.6753721\n2.555765\n2.3859973\n2.19931\n2.0142004\n1.8343229\n1.6622999\n1.5056112\n9.00832\n8.241793\n7.354542\n6.355756\n5.3034134\n4.2986875\n3.4470265\n2.8136127\n2.4117405\n2.2142124\n2.160079\n2.175221\n2.1996396\n2.2013032\n2.1707504\n2.1062233\n2.0070796\n1.8783523\n1.7332773\n1.5881699\n1.4560286\n9.385984\n8.614165\n7.6870914\n6.604032\n5.4246283\n4.2681355\n3.2660608\n2.498024\n1.9828396\n1.707703\n1.6232996\n1.65883\n1.7454752\n1.8285048\n1.8738999\n1.8695797\n1.8199291\n1.737762\n1.6382693\n1.5352433\n1.4387197\n9.64305\n8.851531\n7.877603\n6.7172318\n5.435346\n4.1658792\n3.0566738\n2.192511\n1.6074339\n1.3132768\n1.2493253\n1.3159628\n1.425848\n1.5263112\n1.5965911\n1.6323842\n1.6353163\n1.610471\n1.5658817\n1.5106733\n1.452664\n9.724622\n8.894118\n7.868231\n6.6475735\n5.3059072\n3.988799\n2.8519626\n1.9785979\n1.4082052\n1.1330017\n1.0611389\n1.0955044\n1.174517\n1.2662907\n1.3540539\n1.4275074\n1.4804686\n1.5107019\n1.519608\n1.5112344\n1.4907414\n9.591384\n8.706542\n7.634802\n6.3881583\n5.048359\n3.7646043\n2.6850884\n1.8702676\n1.3333433\n1.0478606\n0.93902695\n0.93635374\n0.9928823\n1.0798585\n1.1793001\n1.2789437\n1.3695085\n1.4439614\n1.4980028\n1.5306311\n1.5438536\n9.279828\n8.351711\n7.256582\n6.012328\n4.7104034\n3.5077524\n2.5247037\n1.7773664\n1.2659256\n0.9779719\n0.85745156\n0.842696\n0.89055514\n0.9750598\n1.0803577\n1.1950247\n1.3089632\n1.4127922\n1.4988632\n1.5626019\n1.6031107\n8.91212\n7.9399557\n6.81373\n5.57777\n4.348696\n3.2604883\n2.3734896\n1.6862049\n1.2131544\n0.94554794\n0.83090895\n0.81486934\n0.8602013\n0.9440836\n1.0519773\n1.1730016\n1.2973114\n1.4154123\n1.5189065\n1.6017545\n1.6611634\n8.508754\n7.4864445\n6.362274\n5.196075\n4.0730743\n3.0820348\n2.2711978\n1.647775\n1.2198545\n0.97197336\n0.8611039\n0.84363645\n0.88727385\n0.97013557\n1.0773218\n1.1978681\n1.3225697\n1.4429876\n1.5515901\n1.6425081\n1.7122654\n8.106418\n7.099742\n6.0394783\n4.946787\n3.8886528\n2.9677525\n2.2320242\n1.6712395\n1.277389\n1.0383091\n0.9252283\n0.9038515\n0.9445354\n1.0248286\n1.1286746\n1.2446797\n1.3642375\n1.4801916\n1.5863872\n1.6778837\n1.7513874\n7.8465414\n6.8833246\n5.8496065\n4.772133\n3.7516694\n2.8970304\n2.229353\n1.7156981\n1.3419857\n1.105059\n0.98779875\n0.96205306\n0.9994961\n1.0768012\n1.1767035\n1.287286\n1.400365\n1.5098823\n1.6109736\n1.6997585\n1.7734874\n7.7406306\n6.7602987\n5.7000523\n4.621248\n3.6393576\n2.8448045\n2.2289202\n1.7450902\n1.3817331\n1.1444614\n1.0233793\n0.9938786\n1.0284765\n1.1032583\n1.1999935\n1.3062254\n1.4139867\n1.518033\n1.614534\n1.7005144\n1.7737956\n7.6634984\n6.6337714\n5.546659\n4.477684\n3.5383768\n2.794919\n2.2152972\n1.7482021\n1.3885468\n1.1487883\n1.0231985\n0.9893586\n1.0206413\n1.0929749\n1.1874243\n1.2909245\n1.3954456\n1.496229\n1.5901871\n1.6750343\n1.7490425\n7.548624\n6.481304\n5.3860655\n4.3416486\n3.4473212\n2.7458146\n2.1903808\n1.731041\n1.3696787\n1.1238352\n0.9907513\n0.94989526\n0.97575426\n1.0445433\n1.136864\n1.2389244\n1.3422672\n1.4422143\n1.5360951\n1.6220855\n1.6987641\n6.648895\n6.078397\n5.5167966\n4.9801207\n4.49729\n4.097038\n3.7962809\n3.5965679\n3.4875326\n3.4529524\n3.4757576\n3.5406094\n3.6342895\n3.7448595\n3.8605258\n3.9687905\n4.056159\n4.1082387\n4.110389\n4.049886\n3.9202166\n6.791925\n6.166688\n5.5744414\n5.0224605\n4.5293946\n4.119546\n3.8106656\n3.6065521\n3.498034\n3.468572\n3.4998767\n3.5750337\n3.678973\n3.7972872\n3.9146342\n4.0137796\n4.0757227\n4.081082\n4.013207\n3.863705\n3.6380708\n6.988712\n6.2793016\n5.6266904\n5.0433836\n4.5397177\n4.1290526\n3.8232713\n3.625135\n3.5259087\n3.5088093\n3.5542276\n3.6431675\n3.7577837\n3.8798254\n3.9886348\n4.0603714\n4.069694\n3.9945855\n3.8240829\n3.5654452\n3.2441392\n7.2458973\n6.448642\n5.7144923\n5.074299\n4.5425787\n4.124752\n3.823043\n3.6346846\n3.548937\n3.5480227\n3.610761\n3.7154582\n3.8400872\n3.9602315\n4.0469875\n4.0678425\n3.9929378\n3.8063166\n3.5162344\n3.1554139\n2.769666\n7.55384\n6.686898\n5.870358\n5.154228\n4.568157\n4.119908\n3.8058443\n3.6169353\n3.5384862\n3.5502322\n3.6284451\n3.7474108\n3.8783932\n3.9870455\n4.032922\n3.975908\n3.7910569\n3.4843874\n3.0960088\n2.685565\n2.311251\n7.904077\n6.9933834\n6.107956\n5.3079824\n4.6407857\n4.1269274\n3.7666516\n3.550013\n3.4599037\n3.4727345\n3.5599978\n3.6883774\n3.8174024\n3.89813\n3.8791752\n3.7241192\n3.433407\n3.0521805\n2.6514935\n2.294728\n2.01312\n8.289359\n7.3575068\n6.419096\n5.532942\n4.759824\n4.1403465\n3.6907172\n3.4095602\n3.281734\n3.2797582\n3.3659031\n3.492595\n3.6018622\n3.63146\n3.5343106\n3.3044927\n2.9862459\n2.6483417\n2.3425167\n2.084421\n1.8672775\n8.698308\n7.758264\n6.775331\n5.7991123\n4.899265\n4.140899\n3.5660038\n3.189273\n2.9999173\n2.9641964\n3.0293245\n3.12902\n3.1935\n3.1697307\n3.0447369\n2.8480499\n2.623053\n2.3959472\n2.1737456\n1.9605117\n1.7647924\n9.109702\n8.163465\n7.135116\n6.0640287\n5.0282216\n4.118832\n3.4054928\n2.9175327\n2.645308\n2.5473762\n2.5591226\n2.6102204\n2.6460419\n2.640835\n2.5917828\n2.501717\n2.3723817\n2.2109485\n2.0327241\n1.8550832\n1.6914151\n9.488826\n8.530066\n7.4518137\n6.2877355\n5.125846\n4.079548\n3.2377465\n2.6343808\n2.2587306\n2.075355\n2.0323436\n2.0736492\n2.1477654\n2.2112844\n2.2344398\n2.2064016\n2.1328554\n2.0274916\n1.9050332\n1.7783418\n1.6574531\n9.787594\n8.805262\n7.674522\n6.429304\n5.167687\n4.0172157\n3.0740647\n2.370969\n1.9081599\n1.6752894\n1.6262616\n1.6846287\n1.775908\n1.8533878\n1.9000837\n1.9148934\n1.9010264\n1.8625721\n1.8049685\n1.7351774\n1.6605885\n9.948409\n8.927711\n7.742935\n6.435073\n5.1139216\n3.9136949\n2.9260836\n2.1810462\n1.6926023\n1.4511199\n1.3859087\n1.4116234\n1.4717025\n1.5400435\n1.6059399\n1.6631343\n1.7062888\n1.7311952\n1.7359751\n1.7218596\n1.6928357\n9.915025\n8.843576\n7.613667\n6.281685\n4.964067\n3.7805269\n2.8052688\n2.0685165\n1.5830574\n1.322935\n1.2185302\n1.2053674\n1.2430665\n1.3094523\n1.3917545\n1.4805409\n1.566799\n1.6417133\n1.6980864\n1.7320429\n1.743785\n9.6856365\n8.582384\n7.34389\n6.028607\n4.7441125\n3.6027286\n2.6751757\n1.9745586\n1.4979081\n1.2252231\n1.1038209\n1.0781662\n1.1102059\n1.1786234\n1.2712698\n1.3787435\n1.4912137\n1.5981395\n1.6897594\n1.7590503\n1.8030778\n9.3643675\n8.243669\n6.99534\n5.691843\n4.462694\n3.4107914\n2.5578775\n1.8959647\n1.4390031\n1.1778387\n1.0613967\n1.0368679\n1.0696294\n1.1403869\n1.2377554\n1.3527166\n1.475894\n1.597163\n1.7067181\n1.7966474\n1.8622652\n8.977969\n7.819375\n6.5721483\n5.338377\n4.22657\n3.2739048\n2.4811022\n1.8641114\n1.4430976\n1.201222\n1.0909356\n1.0674103\n1.1002496\n1.1709208\n1.2677095\n1.3816576\n1.5042303\n1.6266527\n1.7404065\n1.838219\n1.9150356\n8.531119\n7.3793483\n6.2062125\n5.083373\n4.0652885\n3.1803548\n2.44895\n1.8874516\n1.501303\n1.2713802\n1.1614637\n1.1357226\n1.1664512\n1.234556\n1.3273287\n1.4356369\n1.5517436\n1.6682984\n1.7783397\n1.8758073\n1.9561394\n8.157508\n7.071953\n5.973707\n4.9058523\n3.9380212\n3.114076\n2.4454708\n1.9319342\n1.5692452\n1.3439536\n1.2315315\n1.2027417\n1.2310116\n1.2961179\n1.3842282\n1.4859859\n1.5943339\n1.7031441\n1.8068212\n1.9004983\n1.9803822\n7.9536123\n6.900612\n5.8089733\n4.755688\n3.8289313\n3.060763\n2.4427474\n1.9615431\n1.6113809\n1.3868777\n1.2719343\n1.2410923\n1.2679689\n1.3311527\n1.4157735\n1.5122554\n1.614123\n1.716272\n1.8142259\n1.9040954\n1.982791\n7.8469424\n6.7651954\n5.6559134\n4.6154575\n3.727424\n3.005736\n2.423716\n1.9607056\n1.6148915\n1.38863\n1.2710814\n1.2387066\n1.264976\n1.3274301\n1.4102161\n1.5034504\n1.6010818\n1.6988562\n1.7932205\n1.881061\n1.959822\n7.7344885\n6.6185045\n5.500395\n4.478627\n3.6287034\n2.9459126\n2.3879585\n1.9323798\n1.5842974\n1.3528394\n1.2306477\n1.1953797\n1.2204336\n1.2824998\n1.3647101\n1.4566377\n1.5523767\n1.6482956\n1.7415904\n1.8297632\n1.9106439\n7.3831306\n6.7204866\n6.067863\n5.455456\n4.918175\n4.4821897\n4.158296\n3.9431832\n3.8249419\n3.7886274\n3.8196838\n3.9050448\n4.032652\n4.190136\n4.3631673\n4.5341554\n4.6821775\n4.7843866\n4.8184423\n4.766407\n4.620919\n7.393219\n6.6968884\n6.0337605\n5.4208546\n4.884823\n4.450274\n4.1296268\n3.921073\n3.8129396\n3.7895508\n3.8352327\n3.9356608\n4.077222\n4.2452316\n4.4216638\n4.5834413\n4.7027245\n4.7501044\n4.7010036\n4.5445833\n4.2904825\n7.409561\n6.6474\n5.953081\n5.3354335\n4.8078413\n4.386003\n4.079608\n3.8872924\n3.7979646\n3.7955232\n3.8629868\n3.9841204\n4.142608\n4.319686\n4.491152\n4.625652\n4.6869426\n4.642334\n4.4757547\n4.1972623\n3.8385918\n7.466337\n6.62047\n5.870204\n5.2294397\n4.703154\n4.295186\n4.0073695\n3.8356118\n3.7686548\n3.7902477\n3.8822298\n4.025943\n4.2009873\n4.381894\n4.53456\n4.616408\n4.5851827\n4.416331\n4.1175528\n3.7258708\n3.290662\n7.58405\n6.6587796\n5.8381805\n5.1511817\n4.6046357\n4.195071\n3.9159973\n3.758263\n3.7088509\n3.75095\n3.8650205\n4.028889\n4.2153845\n4.3880396\n4.498989\n4.496224\n4.3433957\n4.041004\n3.6299102\n3.1748683\n2.7432513\n7.770934\n6.785386\n5.893298\n5.139624\n4.542156\n4.099427\n3.8023715\n3.6385503\n3.5926564\n3.6461878\n3.776457\n3.954406\n4.140791\n4.283167\n4.321187\n4.206641\n3.9305713\n3.535666\n3.0995483\n2.6975913\n2.3705018\n8.023122\n6.9989066\n6.0412827\n5.2049966\n4.523532\n4.0080366\n3.6563778\n3.4580112\n3.3961785\n3.4484687\n3.5845084\n3.762003\n3.9240985\n4.004297\n3.946477\n3.7352443\n3.4115589\n3.0501833\n2.7128453\n2.4217896\n2.1723588\n8.326291\n7.2776837\n6.259282\n5.328828\n4.537113\n3.9160244\n3.478184\n3.2189755\n3.12028\n3.1520805\n3.2700012\n3.4143302\n3.5173013\n3.523152\n3.414034\n3.2172942\n2.9792485\n2.7317758\n2.486575\n2.249794\n2.0302114\n8.657069\n7.588111\n6.5099134\n5.4810805\n4.56989\n3.830796\n3.2915545\n2.951983\n2.790756\n2.7682614\n2.8281722\n2.908817\n2.9617822\n2.9642031\n2.9140456\n2.8153894\n2.6727753\n2.496293\n2.3025112\n2.1083663\n1.9265003\n8.983553\n7.8909054\n6.753678\n5.6334376\n4.6139426\n3.7658162\n3.1237304\n2.6866806\n2.4327233\n2.3257537\n2.320551\n2.3731813\n2.4447415\n2.5000494\n2.5127037\n2.473285\n2.3888485\n2.2737162\n2.1415834\n2.0035055\n1.8685911\n9.265667\n8.1423025\n6.948914\n5.752985\n4.648611\n3.7112014\n2.974487\n2.4397109\n2.098462\n1.93376\n1.9079032\n1.9643571\n2.0446308\n2.1086757\n2.1415188\n2.144079\n2.1213083\n2.076929\n2.014098\n1.9373697\n1.8531191\n9.45501\n8.290502\n7.0427456\n5.7896514\n4.6327124\n3.6437192\n2.850349\n2.257621\n1.872868\n1.684809\n1.6383674\n1.6639405\n1.7135359\n1.7665708\n1.8171414\n1.8625053\n1.8985485\n1.9200542\n1.9228867\n1.9060143\n1.8721414\n9.495475\n8.281208\n6.991662\n5.722523\n4.569938\n3.5759387\n2.7562077\n2.1367636\n1.7381963\n1.5311645\n1.4488524\n1.4359704\n1.4622664\n1.5134828\n1.581801\n1.6602416\n1.7404537\n1.8130413\n1.8693932\n1.9038475\n1.9150794\n9.363893\n8.128624\n6.847479\n5.6085505\n4.4723625\n3.4702926\n2.6508198\n2.0465012\n1.6512\n1.4276878\n1.3243394\n1.2970413\n1.3180333\n1.3727417\n1.4527564\n1.5504597\n1.6567274\n1.7610551\n1.8530648\n1.9245111\n1.9709504\n9.1409445\n7.9148016\n6.647673\n5.4206495\n4.303027\n3.3460338\n2.5767808\n1.997534\n1.6087054\n1.3874407\n1.285316\n1.2584091\n1.2802352\n1.337331\n1.421758\n1.5262235\n1.6421542\n1.7597381\n1.8689911\n1.9612362\n2.0305152\n8.83899\n7.599791\n6.343689\n5.1739674\n4.152203\n3.2761254\n2.548923\n1.996994\n1.6319053\n1.4249518\n1.3277689\n1.3013211\n1.3223239\n1.3780993\n1.4606357\n1.5628277\n1.6769321\n1.7944622\n1.9068272\n2.0062406\n2.0866787\n8.439889\n7.2125883\n6.0317454\n4.9830904\n4.0579762\n3.2350338\n2.5516229\n2.0435586\n1.7078706\n1.5115119\n1.4145441\n1.3853849\n1.4031566\n1.4548951\n1.5319656\n1.6272861\n1.7338758\n1.8445328\n1.9521393\n2.0502012\n2.1334183\n8.052194\n6.893898\n5.81895\n4.854033\n3.9775448\n3.201007\n2.5712597\n2.1072068\n1.793245\n1.6009666\n1.5013372\n1.4687792\n1.4832486\n1.5307355\n1.6018044\n1.6894156\n1.7873089\n1.8893698\n1.989705\n2.0829823\n2.164796\n7.795929\n6.707661\n5.6794057\n4.7427874\n3.898477\n3.1678915\n2.5859709\n2.153912\n1.851735\n1.6595523\n1.5572927\n1.5228169\n1.5356594\n1.5804133\n1.646859\n1.7280836\n1.8185613\n1.9131494\n2.0069404\n2.0955105\n2.175199\n7.669694\n6.587144\n5.560385\n4.6363106\n3.8184226\n3.126262\n2.5793476\n2.1657765\n1.8673997\n1.6731524\n1.5689807\n1.5341835\n1.5472271\n1.5911943\n1.6550571\n1.7320226\n1.8172911\n1.9066383\n1.996013\n2.0816972\n2.1605756\n7.578249\n6.475049\n5.4441876\n4.5293307\n3.734469\n3.0734289\n2.5492363\n2.1428154\n1.8419144\n1.6432257\n1.5365214\n1.5015616\n1.515601\n1.5601733\n1.6232953\n1.6981261\n1.7804817\n1.8669854\n1.9543654\n2.0394914\n2.1196337\n7.9015837\n7.1693335\n6.4639707\n5.8207893\n5.271355\n4.8334184\n4.5095186\n4.292126\n4.1699047\n4.1315002\n4.16642\n4.26449\n4.415163\n4.606678\n4.824422\n5.048638\n5.2530503\n5.4063435\n5.47684\n5.439904\n5.2874007\n7.766635\n7.024333\n6.322911\n5.6871347\n5.1453624\n4.7167125\n4.4055085\n4.2045846\n4.101938\n4.0852904\n4.1432037\n4.264287\n4.4361176\n4.644088\n4.8693614\n5.0860558\n5.2598743\n5.351634\n5.3275347\n5.1736426\n4.904505\n7.5910683\n6.8164682\n6.1126294\n5.49052\n4.967759\n4.559454\n4.2702284\n4.093807\n4.0180917\n4.0299535\n4.1167293\n4.2653103\n4.460614\n4.683773\n4.9092145\n5.101356\n5.215374\n5.207955\n5.0569296\n4.7748303\n4.4000225\n7.4367666\n6.6066914\n5.882331\n5.2668953\n4.7651415\n4.382462\n4.119784\n3.9707668\n3.92366\n3.9648418\n4.0804033\n4.2551804\n4.47054\n4.701206\n4.911023\n5.051211\n5.0694394\n4.932459\n4.6460037\n4.249833\n3.7949214\n7.3550396\n6.457701\n5.6922293\n5.0639057\n4.569522\n4.204226\n3.9622662\n3.8353117\n3.811706\n3.8775923\n4.0176525\n4.2136483\n4.4408894\n4.6633315\n4.8301883\n4.8823776\n4.7747726\n4.5014873\n4.1002593\n3.635165\n3.1770694\n7.370604\n6.4084144\n5.5863037\n4.9193335\n4.4046617\n4.0326643\n3.7922797\n3.672435\n3.6609786\n3.7433949\n3.9016244\n4.111137\n4.3357964\n4.523702\n4.611662\n4.545384\n4.308056\n3.9351277\n3.5012145\n3.0852427\n2.7347963\n7.4802523\n6.464149\n5.5770617\n4.8465433\n4.278444\n3.866744\n3.6000452\n3.465885\n3.4511278\n3.5387523\n3.704089\n3.9103684\n4.104843\n4.22253\n4.205245\n4.031553\n3.7346294\n3.3845701\n3.0446517\n2.742575\n2.4785006\n7.662477\n6.6031384\n5.648136\n4.836799\n4.1891026\n3.7091212\n3.3896582\n3.218888\n3.1819136\n3.2552586\n3.4017026\n3.5690796\n3.6960258\n3.7295363\n3.6490302\n3.4752715\n3.2497928\n3.0055392\n2.7585657\n2.517693\n2.2916794\n7.8877096\n6.79088\n5.769371\n4.8730574\n4.136615\n3.5746317\n3.1846092\n2.9557102\n2.8695135\n2.893014\n2.9790468\n3.0769498\n3.1461523\n3.1646976\n3.1271224\n3.035764\n2.896981\n2.7231743\n2.5312977\n2.3371952\n2.1522713\n8.123984\n6.9910965\n5.909298\n4.937759\n4.1207156\n3.476641\n3.0041144\n2.693207\n2.525695\n2.470898\n2.492286\n2.5561435\n2.6315079\n2.6881166\n2.7018626\n2.6638057\n2.5811894\n2.4685204\n2.338801\n2.2015018\n2.0643373\n8.338874\n7.168822\n6.035942\n5.0058513\n4.1221642\n3.3993082\n2.839319\n2.4421487\n2.200316\n2.0924807\n2.0870705\n2.1450255\n2.2227662\n2.2849233\n2.3156555\n2.315861\n2.2919188\n2.248157\n2.1866593\n2.110191\n2.023899\n8.498237\n7.286583\n6.10907\n5.034777\n4.1013474\n3.3223066\n2.7063706\n2.256138\n1.9693154\n1.8318763\n1.8054717\n1.8377227\n1.88788\n1.9374017\n1.9822567\n2.0220468\n2.054284\n2.0740323\n2.0763612\n2.0590265\n2.02378\n8.560054\n7.30439\n6.0988073\n5.015675\n4.0759263\n3.2739353\n2.615063\n2.1239479\n1.8185508\n1.6686935\n1.6147646\n1.6114895\n1.6370015\n1.6824589\n1.7431785\n1.81407\n1.8879812\n1.9561572\n2.0100355\n2.043453\n2.054281\n8.503609\n7.2448053\n6.0668726\n5.009208\n4.0536776\n3.2065554\n2.5233338\n2.0412412\n1.7428927\n1.5786427\n1.5018845\n1.4813031\n1.499172\n1.5463866\n1.6171373\n1.7052583\n1.8028148\n1.9003478\n1.9881188\n2.057873\n2.1045291\n8.401191\n7.1774945\n6.0225816\n4.9521184\n3.9724941\n3.138912\n2.4937723\n2.0315208\n1.7320964\n1.562695\n1.4822645\n1.4587858\n1.4747432\n1.5218498\n1.5947504\n1.6875646\n1.7928578\n1.9018933\n2.005487\n2.095194\n2.1646311\n8.233403\n7.0172243\n5.87036\n4.82699\n3.9119983\n3.1418662\n2.5251758\n2.0751894\n1.7874293\n1.6259574\n1.5472652\n1.5215528\n1.5338188\n1.5768974\n1.6457125\n1.7346237\n1.8368492\n1.9447567\n2.0504367\n2.146392\n2.226357\n7.946637\n6.751539\n5.672118\n4.734915\n3.9028995\n3.1696317\n2.5788202\n2.158069\n1.8911924\n1.7369547\n1.6568416\n1.6264863\n1.6331356\n1.6698751\n1.7314371\n1.8122829\n1.9062093\n2.006592\n2.1067824\n2.200513\n2.282348\n7.6189\n6.497605\n5.5363016\n4.6851444\n3.890142\n3.188317\n2.6385152\n2.2526171\n2.0024536\n1.8503797\n1.7665747\n1.7314322\n1.7329279\n1.7635138\n1.8175267\n1.8896084\n1.9741644\n2.0654292\n2.157754\n2.245919\n2.3254032\n7.370636\n6.349215\n5.458278\n4.6323233\n3.858239\n3.1939561\n2.6857028\n2.326979\n2.085604\n1.9322611\n1.8451586\n1.807281\n1.8058711\n1.8321935\n1.8801776\n1.9448181\n2.0212405\n2.1044853\n2.1897032\n2.272448\n2.3489196\n7.252762\n6.2727346\n5.391836\n4.568519\n3.8117585\n3.1809852\n2.7046468\n2.3620012\n2.1227534\n1.966737\n1.8778807\n1.8398122\n1.8381428\n1.8626605\n1.9068716\n1.9662206\n2.03665\n2.1140277\n2.1942146\n2.2733607\n2.3481688\n7.1978483\n6.213107\n5.323834\n4.4963355\n3.7526405\n3.148019\n2.6921566\n2.3555043\n2.1133525\n1.9535977\n1.8637407\n1.8269715\n1.8269166\n1.8517104\n1.894303\n1.9505357\n2.0171814\n2.090957\n2.1684077\n2.246192\n2.321369\n8.226378\n7.45564\n6.73231\n6.091469\n5.557463\n5.1380877\n4.828133\n4.6174765\n4.497351\n4.461566\n4.504245\n4.617447\n4.790583\n5.010943\n5.2634077\n5.5280805\n5.776984\n5.973375\n6.0769386\n6.0555196\n5.8998737\n7.9511747\n7.1860414\n6.472827\n5.842305\n5.3202457\n4.916914\n4.6278677\n4.4421434\n4.349697\n4.343466\n4.4169335\n4.561031\n4.7629766\n5.0066905\n5.2723722\n5.533498\n5.7529416\n5.884433\n5.885521\n5.738772\n5.463341\n7.617404\n6.850662\n6.1534834\n5.544913\n5.0459867\n4.667555\n4.406452\n4.2515025\n4.191477\n4.21812\n4.3238926\n4.4983563\n4.726465\n4.988407\n5.258026\n5.4983687\n5.659609\n5.6899943\n5.5612864\n5.287126\n4.9110866\n7.295869\n6.5091963\n5.8208327\n5.23673\n4.7669716\n4.41825\n4.1876135\n4.0642123\n4.0359755\n4.093334\n4.2274613\n4.426374\n4.672459\n4.9407625\n5.195164\n5.3846283\n5.450772\n5.3533015\n5.0942955\n4.7133584\n4.262028\n7.0489388\n6.223029\n5.525381\n4.953908\n4.5068665\n4.1830316\n3.977493\n3.8797128\n3.8772435\n3.959337\n4.115593\n4.331588\n4.5848093\n4.840651\n5.04888\n5.148728\n5.0906167\n4.862489\n4.4957867\n4.05013\n3.5950897\n6.909855\n6.032757\n5.30467\n4.7227507\n4.278188\n3.962346\n3.7671983\n3.6822438\n3.6950705\n3.7938225\n3.96548\n4.1900573\n4.4345083\n4.649469\n4.7740593\n4.754273\n4.5688825\n4.244257\n3.8452873\n3.4455547\n3.0941532\n6.8786764\n5.9476576\n5.171969\n4.5540347\n4.0847416\n3.7520807\n3.5459914\n3.4563103\n3.4708376\n3.5756009\n3.7515168\n3.9672089\n4.174513\n4.313552\n4.330641\n4.203632\n3.9568014\n3.6474082\n3.3314762\n3.0392504\n2.7773607\n6.9323006\n5.950429\n5.1180425\n4.445729\n3.9285936\n3.5553226\n3.3163939\n3.2029607\n3.2020047\n3.2936451\n3.447322\n3.6186998\n3.754787\n3.8098352\n3.7641068\n3.629942\n3.4379168\n3.2172291\n2.9871235\n2.7593677\n2.54271\n7.038235\n6.0107384\n5.1220775\n4.3902493\n3.8142927\n3.3851056\n3.095775\n2.9384067\n2.8957558\n2.9390538\n3.0315502\n3.1351628\n3.2175298\n3.256575\n3.241471\n3.170704\n3.0505402\n2.8942626\n2.7185926\n2.5383658\n2.3638916\n7.1642623\n6.097066\n5.1607995\n4.376451\n3.742063\n3.2494047\n2.8940058\n2.668126\n2.5540895\n2.527842\n2.564217\n2.6373549\n2.7200763\n2.7853928\n2.810768\n2.7858188\n2.7159755\n2.61545\n2.497437\n2.3708107\n2.2420394\n7.283456\n6.18247\n5.21043\n4.3830576\n3.6909573\n3.1278532\n2.697914\n2.4032447\n2.2331686\n2.1648004\n2.173482\n2.234969\n2.318032\n2.3893878\n2.4293306\n2.4364474\n2.417982\n2.3798506\n2.324586\n2.254223\n2.1728451\n7.375314\n6.2437744\n5.2412596\n4.372085\n3.6260877\n3.0120208\n2.5421004\n2.2102003\n2.0002508\n1.9004356\n1.8915846\n1.9367905\n1.9985845\n2.0563045\n2.104935\n2.145338\n2.177029\n2.1965423\n2.1995122\n2.183551\n2.1499505\n7.4176273\n6.258665\n5.2363677\n4.350126\n3.5899544\n2.9543839\n2.442841\n2.0675476\n1.8414342\n1.740838\n1.7167375\n1.7313483\n1.7667925\n1.8161256\n1.8760014\n1.9428761\n2.0113118\n2.0741177\n2.1238596\n2.1549006\n2.1650808\n7.40777\n6.266302\n5.271272\n4.389907\n3.594374\n2.9009926\n2.3583672\n1.9962646\n1.7876865\n1.6791397\n1.6318691\n1.6253049\n1.6485329\n1.6953787\n1.7613916\n1.8416909\n1.9299382\n2.0183806\n2.0987222\n2.1635842\n2.208078\n7.423028\n6.325585\n5.333523\n4.4093003\n3.5670514\n2.8750415\n2.3697991\n2.0298252\n1.8176467\n1.6983589\n1.6418076\n1.6272643\n1.6439303\n1.6865852\n1.7513325\n1.8334986\n1.9270866\n2.0249257\n2.119226\n2.2024808\n2.2686265\n7.4041314\n6.3122396\n5.306478\n4.3804874\n3.5822136\n2.944411\n2.460195\n2.121458\n1.9108726\n1.7932286\n1.734186\n1.7134266\n1.7224591\n1.7576799\n1.8157935\n1.8923297\n1.9816799\n2.077476\n2.1729698\n2.2615132\n2.3372242\n7.2607684\n6.1894417\n5.230261\n4.388016\n3.6586816\n3.0437033\n2.5686681\n2.2447371\n2.046706\n1.932659\n1.8697664\n1.8415006\n1.8418329\n1.8680811\n1.917113\n1.9845173\n2.0650055\n2.152905\n2.2424738\n2.3281486\n2.4048662\n7.0428324\n6.046418\n5.1953735\n4.4286904\n3.724125\n3.1247466\n2.6751292\n2.3749237\n2.1882\n2.0742476\n2.006039\n1.9707611\n1.9634404\n1.9813626\n2.0213177\n2.0790648\n2.149719\n2.228218\n2.3095982\n2.3891854\n2.4627762\n6.8610735\n5.9768076\n5.1950817\n4.4461455\n3.7538593\n3.181338\n2.7627187\n2.4824028\n2.3010104\n2.184387\n2.1117022\n2.0720243\n2.0598166\n2.0716302\n2.1041603\n2.1535661\n2.2155545\n2.2856765\n2.3595865\n2.4332535\n2.5031164\n6.791019\n5.9619446\n5.184748\n4.4327354\n3.7537644\n3.208625\n2.8155065\n2.5468552\n2.3654785\n2.245483\n2.170645\n2.129973\n2.116228\n2.1248221\n2.1523726\n2.1956232\n2.2510383\n2.3148525\n2.3832922\n2.4528174\n2.5203075\n6.787799\n5.954311\n5.159058\n4.3980875\n3.72895\n3.2055342\n2.8289614\n2.563903\n2.378825\n2.2555377\n2.1805487\n2.1415703\n2.1290812\n2.1371017\n2.1621077\n2.201475\n2.2525134\n2.3122137\n2.3773797\n2.444901\n2.5119863\n8.385782\n7.601372\n6.8857245\n6.269866\n5.768606\n5.3797946\n5.092036\n4.894638\n4.78296\n4.756749\n4.8147163\n4.950334\n5.151376\n5.402116\n5.6852674\n5.980913\n6.2620482\n6.490424\n6.619772\n6.6110783\n6.4539456\n7.9971437\n7.2241735\n6.5195017\n5.91564\n5.4305863\n5.0637937\n4.803317\n4.6367283\n4.557778\n4.5654216\n4.65798\n4.8279705\n5.0610843\n5.33843\n5.6384463\n5.9347153\n6.1899085\n6.353901\n6.3777046\n6.2408586\n5.9659905\n7.5607576\n6.804099\n6.1213684\n5.5401583\n5.079633\n4.7412143\n4.51297\n4.3807697\n4.3363504\n4.377265\n4.5009274\n4.698833\n4.955157\n5.2486095\n5.5526776\n5.830678\n6.0308423\n6.096263\n5.994032\n5.7371044\n5.3709955\n7.1353436\n6.3870134\n5.7286816\n5.176283\n4.7449665\n4.4370766\n4.241321\n4.1423106\n4.1296415\n4.1990657\n4.3467336\n4.5630717\n4.8308287\n5.125253\n5.4111943\n5.6381226\n5.745961\n5.690597\n5.469421\n5.1180725\n4.68698\n6.7763324\n6.019577\n5.375822\n4.8477974\n4.442007\n4.1594625\n3.9897976\n3.9170527\n3.9290571\n4.019819\n4.1840544\n4.4103713\n4.6776385\n4.9526505\n5.1875505\n5.3242264\n5.313446\n5.138394\n4.8221464\n4.417388\n3.9892788\n6.517783\n5.735708\n5.0883965\n4.569174\n4.175239\n3.9046369\n3.7478037\n3.6890538\n3.7153335\n3.8193417\n3.9935184\n4.2213416\n4.47178\n4.698589\n4.84655\n4.866972\n4.737885\n4.476798\n4.1352563\n3.7751126\n3.4416676\n6.3647113\n5.5463977\n4.8771396\n4.346097\n3.9439714\n3.6661932\n3.5042706\n3.4438262\n3.4719033\n3.5792885\n3.7526054\n3.9643006\n4.170148\n4.3175592\n4.361944\n4.28465\n4.10114\n3.8510106\n3.5773914\n3.3106766\n3.0643144\n6.298826\n5.440906\n4.737887\n4.17777\n3.7481403\n3.443916\n3.258752\n3.180247\n3.19465\n3.2869556\n3.433025\n3.5952547\n3.7299945\n3.801831\n3.7940915\n3.709391\n3.5636692\n3.3795824\n3.1787808\n2.9761086\n2.7803469\n6.2908397\n5.396199\n4.6567755\n4.058941\n3.589391\n3.2449934\n3.021843\n2.9074082\n2.883042\n2.926322\n3.0119307\n3.1141288\n3.2079947\n3.2703593\n3.2842782\n3.2432601\n3.1517377\n3.022589\n2.8721566\n2.7148232\n2.560309\n6.3114343\n5.386885\n4.615366\n3.9789612\n3.4645572\n3.0712874\n2.7949116\n2.6209917\n2.5326583\n2.5173004\n2.5613964\n2.642906\n2.7355735\n2.8154292\n2.8608367\n2.8579268\n2.8085303\n2.726265\n2.625525\n2.5158622\n2.403107\n6.3391485\n5.392312\n4.5933833\n3.9174147\n3.3522031\n2.9001498\n2.5629718\n2.3374941\n2.2131002\n2.169641\n2.1880298\n2.2554524\n2.3505642\n2.4400673\n2.4981773\n2.519377\n2.5111945\n2.4818847\n2.4358172\n2.3754508\n2.3042216\n6.3643055\n5.397541\n4.5658197\n3.8421497\n3.227725\n2.739898\n2.3831627\n2.1383517\n1.9811919\n1.9068604\n1.9141517\n1.9778936\n2.060159\n2.1351933\n2.195061\n2.2410824\n2.2749853\n2.2956088\n2.3001697\n2.2870007\n2.2574086\n6.3788767\n5.3887463\n4.527087\n3.782699\n3.1634014\n2.6659722\n2.27472\n1.9892423\n1.822009\n1.760906\n1.7670501\n1.805985\n1.8596672\n1.9204227\n1.98506\n2.0513518\n2.1158469\n2.173429\n2.2184079\n2.2463503\n2.2556653\n6.3936872\n5.4194345\n4.5731864\n3.8264158\n3.170204\n2.6153402\n2.1954694\n1.932763\n1.7969526\n1.736443\n1.7195295\n1.7326534\n1.768234\n1.8208702\n1.8865782\n1.9616277\n2.0414522\n2.1202788\n2.1916378\n2.2495484\n2.2899365\n6.492355\n5.545281\n4.679811\n3.8782036\n3.1707253\n2.6168902\n2.241406\n2.0090046\n1.8707994\n1.7950312\n1.7628237\n1.7621262\n1.7857965\n1.8295933\n1.890185\n1.963968\n2.0465202\n2.1324399\n2.2155988\n2.2898257\n2.3499205\n6.58829\n5.6282463\n4.7303076\n3.9116864\n3.2391226\n2.738973\n2.3841476\n2.1468365\n2.0024607\n1.9224248\n1.8831121\n1.8718005\n1.8836519\n1.9164854\n1.9678316\n2.0342317\n2.111405\n2.194443\n2.2779927\n2.356566\n2.425092\n6.580429\n5.626512\n4.752395\n4.0011177\n3.3886752\n2.9020677\n2.5435934\n2.309415\n2.1707647\n2.0909042\n2.0448925\n2.0227633\n2.0225842\n2.0437558\n2.084235\n2.1405232\n2.2083933\n2.2833421\n2.3607633\n2.4360597\n2.5048876\n6.493039\n5.5977416\n4.8157153\n4.1305285\n3.530843\n3.0439262\n2.6958618\n2.4756045\n2.343974\n2.2622952\n2.208797\n2.1767848\n2.166076\n2.176665\n2.2066226\n2.2524939\n2.310219\n2.375667\n2.4448025\n2.5137568\n2.5789306\n6.4093328\n5.6176243\n4.899703\n4.2264037\n3.6282966\n3.154615\n2.8257024\n2.6184351\n2.4894285\n2.4036846\n2.3438098\n2.3048878\n2.2867908\n2.2892926\n2.3105147\n2.3472981\n2.395978\n2.452847\n2.5143316\n2.5770783\n2.638034\n6.406002\n5.666986\n4.951989\n4.274064\n3.683544\n3.2281663\n2.9166288\n2.7164183\n2.5856237\n2.4955564\n2.4322195\n2.3904784\n2.3689063\n2.3665636\n2.3816736\n2.4116058\n2.4532976\n2.5035741\n2.5593107\n2.6175494\n2.6756098\n6.4522033\n5.7035627\n4.9704103\n4.2848496\n3.7014332\n3.2620382\n2.9618602\n2.7623694\n2.626967\n2.5335443\n2.4698493\n2.429038\n2.4075809\n2.4035459\n2.4152663\n2.4407673\n2.4777231\n2.5235827\n2.5757015\n2.6314895\n2.6885529\n8.423949\n7.646913\n6.958919\n6.383384\n5.9246874\n5.571958\n5.309878\n5.129193\n5.030336\n5.0189376\n5.0976887\n5.2606735\n5.493174\n5.775462\n6.0870085\n6.4073095\n6.711203\n6.961446\n7.108657\n7.1089735\n6.951635\n7.955947\n7.189167\n6.5115385\n5.950158\n5.5117955\n5.1858077\n4.955267\n4.808577\n4.744313\n4.7672715\n4.8797975\n5.075203\n5.3371925\n5.6439047\n5.9719114\n6.29506\n6.5769086\n6.765825\n6.8091307\n6.6847463\n6.4171133\n7.4640036\n6.7167635\n6.0587163\n5.518765\n5.106343\n4.8113904\n4.615402\n4.5041\n4.473618\n4.527198\n4.6662745\n4.8834224\n5.1617393\n5.4785986\n5.807354\n6.112192\n6.3414893\n6.436884\n6.363403\n6.13165\n5.784811\n6.987894\n6.2625494\n5.630037\n5.115833\n4.7310123\n4.4667845\n4.303606\n4.224599\n4.2231865\n4.3006873\n4.4573717\n4.685214\n4.966901\n5.2776594\n5.583267\n5.8351183\n5.975416\n5.9603767\n5.7828274\n5.4710655\n5.072166\n6.5685186\n5.8577204\n5.2485867\n4.757828\n4.3959575\n4.155914\n4.017992\n3.9632554\n3.9827633\n4.0761633\n4.2426395\n4.4728293\n4.746096\n5.0299034\n5.279147\n5.441191\n5.471264\n5.350133\n5.092258\n4.741892\n4.3572636\n6.235587\n5.525958\n4.929446\n4.4521675\n4.1020474\n3.8736691\n3.7480643\n3.7053812\n3.735473\n3.8369777\n4.0070887\n4.231286\n4.4793506\n4.707994\n4.869153\n4.9222593\n4.8476253\n4.655492\n4.3826637\n4.0757427\n3.7731187\n5.9976044\n5.276375\n4.677868\n4.1992545\n3.845424\n3.6124465\n3.4830532\n3.438129\n3.4675894\n3.5683353\n3.7314458\n3.931517\n4.127871\n4.2762957\n4.3431954\n4.315261\n4.1993437\n4.0155807\n3.792452\n3.5596797\n3.3372052\n5.8429255\n5.1023316\n4.489173\n3.9946294\n3.6218033\n3.368541\n3.220094\n3.158943\n3.1739414\n3.255874\n3.3857114\n3.5319507\n3.6611297\n3.7488637\n3.7809484\n3.749098\n3.6539755\n3.5114083\n3.3451405\n3.1731417\n3.0044541\n5.7485194\n4.9861526\n4.3505745\n3.83\n3.4277856\n3.1435642\n2.964092\n2.8706465\n2.8466823\n2.8778114\n2.9502075\n3.0495822\n3.1561975\n3.2439587\n3.2898705\n3.2826636\n3.2241263\n3.1259549\n3.0042014\n2.873458\n2.7435055\n5.6898355\n4.9061494\n4.2445006\n3.6932304\n3.25684\n2.9340158\n2.7087836\n2.5605938\n2.479049\n2.4655354\n2.515423\n2.6061828\n2.7110202\n2.8092244\n2.8794866\n2.9033105\n2.8780382\n2.8164878\n2.7349155\n2.644658\n2.5517156\n5.6492615\n4.844105\n4.153071\n3.5665329\n3.0882907\n2.7157605\n2.4403245\n2.2571697\n2.1606681\n2.1337855\n2.1603844\n2.2362826\n2.347952\n2.4608357\n2.5421944\n2.581529\n2.5861542\n2.567\n2.531211\n2.4826283\n2.4245448\n5.620851\n4.788326\n4.057615\n3.4265976\n2.9096072\n2.5169964\n2.2417703\n2.0560482\n1.9333732\n1.8768733\n1.8998165\n1.9853399\n2.0929334\n2.1903782\n2.2658684\n2.3206396\n2.3586037\n2.3813136\n2.3881724\n2.3787768\n2.3547995\n5.59935\n4.7310796\n3.9679806\n3.3275368\n2.8205442\n2.4301317\n2.128198\n1.9063767\n1.7801405\n1.7501059\n1.7855672\n1.8519704\n1.9284014\n2.0050085\n2.0781133\n2.1465611\n2.2088814\n2.2621493\n2.3026552\n2.327478\n2.3359542\n5.60418\n4.745307\n3.9998453\n3.3611467\n2.8212743\n2.3788419\n2.0546465\n1.8658562\n1.784841\n1.7642777\n1.7769533\n1.812796\n1.8650548\n1.9277465\n1.9967704\n2.0693314\n2.1425412\n2.2125783\n2.2748566\n2.3250027\n2.3601203\n5.73225\n4.8854513\n4.11226\n3.4194417\n2.8326685\n2.3962145\n2.1267133\n1.9796112\n1.8996353\n1.8600196\n1.8515959\n1.8680947\n1.9034874\n1.9529986\n2.0132265\n2.0814543\n2.1547701\n2.229512\n2.301236\n2.365258\n2.4175491\n5.886201\n5.0115447\n4.1991634\n3.4850216\n2.9316988\n2.5550935\n2.3121216\n2.1581547\n2.0659018\n2.0165346\n1.9966909\n1.9986194\n2.0184405\n2.0537372\n2.102212\n2.1612973\n2.2280548\n2.2990599\n2.3703818\n2.4378037\n2.4973059\n5.973728\n5.089188\n4.2863817\n3.6303513\n3.134868\n2.7694795\n2.5152197\n2.3557215\n2.26366\n2.2113976\n2.182121\n2.1700726\n2.1747048\n2.1957605\n2.2316165\n2.2796054\n2.3366296\n2.399417\n2.4645414\n2.5284672\n2.5877454\n5.9980593\n5.153627\n4.431742\n3.8344648\n3.3421702\n2.9639282\n2.708168\n2.5551445\n2.4670434\n2.4112954\n2.3721738\n2.3471794\n2.3383403\n2.3465865\n2.3705308\n2.4074016\n2.4540446\n2.507345\n2.5642595\n2.6218128\n2.6771598\n6.0100136\n5.2611275\n4.600092\n4.0066524\n3.50335\n3.124884\n2.877918\n2.7327578\n2.6456003\n2.5843854\n2.5364301\n2.501482\n2.4824982\n2.480651\n2.4946294\n2.5217655\n2.5590847\n2.603723\n2.6529615\n2.7042167\n2.7550805\n6.0751343\n5.3809714\n4.7234035\n4.1206326\n3.6158829\n3.2452877\n3.0079484\n2.8663526\n2.776205\n2.7093153\n2.65563\n2.6151745\n2.5903141\n2.581882\n2.5886703\n2.6083636\n2.6383939\n2.6762729\n2.7196224\n2.7661722\n2.8138082\n6.166197\n5.4666505\n4.794919\n4.184382\n3.6817713\n3.3200808\n3.088735\n2.9454825\n2.849944\n2.7788765\n2.7233512\n2.6819232\n2.6553783\n2.643912\n2.646489\n2.6613147\n2.6863837\n2.7196887\n2.759238\n2.803068\n2.8493059\n".split("\n");
pred_A = pred_A.map(function (x) {
  return parseFloat(x);
}); // test
// pred_A = dataLoader("./src/data/pred_A.txt");

var maxdust = 1.5; //Math.max.apply(Math, logdust); // 3.0; //Math.max(logdust); //2.7400595230247995;

var mindust = -1.5; //Math.min.apply(Math, logdust); //Math.min(logdust);

var maxA = 3.5; //Math.max.apply(Math, pred_A);

var minA = -0.5; // Math.min.apply(Math, pred_A);

console.log(pred_A.length, pred_A[1]); // console.log(logdust.length);

var positionsUnformatted = "-2.5,-2.5,-2.5\n-2.5,-2.5,-2.25\n-2.5,-2.5,-2.0\n-2.5,-2.5,-1.75\n-2.5,-2.5,-1.5\n-2.5,-2.5,-1.25\n-2.5,-2.5,-1.0\n-2.5,-2.5,-0.75\n-2.5,-2.5,-0.5\n-2.5,-2.5,-0.25\n-2.5,-2.5,0.0\n-2.5,-2.5,0.25\n-2.5,-2.5,0.5\n-2.5,-2.5,0.75\n-2.5,-2.5,1.0\n-2.5,-2.5,1.25\n-2.5,-2.5,1.5\n-2.5,-2.5,1.75\n-2.5,-2.5,2.0\n-2.5,-2.5,2.25\n-2.5,-2.5,2.5\n-2.5,-2.25,-2.5\n-2.5,-2.25,-2.25\n-2.5,-2.25,-2.0\n-2.5,-2.25,-1.75\n-2.5,-2.25,-1.5\n-2.5,-2.25,-1.25\n-2.5,-2.25,-1.0\n-2.5,-2.25,-0.75\n-2.5,-2.25,-0.5\n-2.5,-2.25,-0.25\n-2.5,-2.25,0.0\n-2.5,-2.25,0.25\n-2.5,-2.25,0.5\n-2.5,-2.25,0.75\n-2.5,-2.25,1.0\n-2.5,-2.25,1.25\n-2.5,-2.25,1.5\n-2.5,-2.25,1.75\n-2.5,-2.25,2.0\n-2.5,-2.25,2.25\n-2.5,-2.25,2.5\n-2.5,-2.0,-2.5\n-2.5,-2.0,-2.25\n-2.5,-2.0,-2.0\n-2.5,-2.0,-1.75\n-2.5,-2.0,-1.5\n-2.5,-2.0,-1.25\n-2.5,-2.0,-1.0\n-2.5,-2.0,-0.75\n-2.5,-2.0,-0.5\n-2.5,-2.0,-0.25\n-2.5,-2.0,0.0\n-2.5,-2.0,0.25\n-2.5,-2.0,0.5\n-2.5,-2.0,0.75\n-2.5,-2.0,1.0\n-2.5,-2.0,1.25\n-2.5,-2.0,1.5\n-2.5,-2.0,1.75\n-2.5,-2.0,2.0\n-2.5,-2.0,2.25\n-2.5,-2.0,2.5\n-2.5,-1.75,-2.5\n-2.5,-1.75,-2.25\n-2.5,-1.75,-2.0\n-2.5,-1.75,-1.75\n-2.5,-1.75,-1.5\n-2.5,-1.75,-1.25\n-2.5,-1.75,-1.0\n-2.5,-1.75,-0.75\n-2.5,-1.75,-0.5\n-2.5,-1.75,-0.25\n-2.5,-1.75,0.0\n-2.5,-1.75,0.25\n-2.5,-1.75,0.5\n-2.5,-1.75,0.75\n-2.5,-1.75,1.0\n-2.5,-1.75,1.25\n-2.5,-1.75,1.5\n-2.5,-1.75,1.75\n-2.5,-1.75,2.0\n-2.5,-1.75,2.25\n-2.5,-1.75,2.5\n-2.5,-1.5,-2.5\n-2.5,-1.5,-2.25\n-2.5,-1.5,-2.0\n-2.5,-1.5,-1.75\n-2.5,-1.5,-1.5\n-2.5,-1.5,-1.25\n-2.5,-1.5,-1.0\n-2.5,-1.5,-0.75\n-2.5,-1.5,-0.5\n-2.5,-1.5,-0.25\n-2.5,-1.5,0.0\n-2.5,-1.5,0.25\n-2.5,-1.5,0.5\n-2.5,-1.5,0.75\n-2.5,-1.5,1.0\n-2.5,-1.5,1.25\n-2.5,-1.5,1.5\n-2.5,-1.5,1.75\n-2.5,-1.5,2.0\n-2.5,-1.5,2.25\n-2.5,-1.5,2.5\n-2.5,-1.25,-2.5\n-2.5,-1.25,-2.25\n-2.5,-1.25,-2.0\n-2.5,-1.25,-1.75\n-2.5,-1.25,-1.5\n-2.5,-1.25,-1.25\n-2.5,-1.25,-1.0\n-2.5,-1.25,-0.75\n-2.5,-1.25,-0.5\n-2.5,-1.25,-0.25\n-2.5,-1.25,0.0\n-2.5,-1.25,0.25\n-2.5,-1.25,0.5\n-2.5,-1.25,0.75\n-2.5,-1.25,1.0\n-2.5,-1.25,1.25\n-2.5,-1.25,1.5\n-2.5,-1.25,1.75\n-2.5,-1.25,2.0\n-2.5,-1.25,2.25\n-2.5,-1.25,2.5\n-2.5,-1.0,-2.5\n-2.5,-1.0,-2.25\n-2.5,-1.0,-2.0\n-2.5,-1.0,-1.75\n-2.5,-1.0,-1.5\n-2.5,-1.0,-1.25\n-2.5,-1.0,-1.0\n-2.5,-1.0,-0.75\n-2.5,-1.0,-0.5\n-2.5,-1.0,-0.25\n-2.5,-1.0,0.0\n-2.5,-1.0,0.25\n-2.5,-1.0,0.5\n-2.5,-1.0,0.75\n-2.5,-1.0,1.0\n-2.5,-1.0,1.25\n-2.5,-1.0,1.5\n-2.5,-1.0,1.75\n-2.5,-1.0,2.0\n-2.5,-1.0,2.25\n-2.5,-1.0,2.5\n-2.5,-0.75,-2.5\n-2.5,-0.75,-2.25\n-2.5,-0.75,-2.0\n-2.5,-0.75,-1.75\n-2.5,-0.75,-1.5\n-2.5,-0.75,-1.25\n-2.5,-0.75,-1.0\n-2.5,-0.75,-0.75\n-2.5,-0.75,-0.5\n-2.5,-0.75,-0.25\n-2.5,-0.75,0.0\n-2.5,-0.75,0.25\n-2.5,-0.75,0.5\n-2.5,-0.75,0.75\n-2.5,-0.75,1.0\n-2.5,-0.75,1.25\n-2.5,-0.75,1.5\n-2.5,-0.75,1.75\n-2.5,-0.75,2.0\n-2.5,-0.75,2.25\n-2.5,-0.75,2.5\n-2.5,-0.5,-2.5\n-2.5,-0.5,-2.25\n-2.5,-0.5,-2.0\n-2.5,-0.5,-1.75\n-2.5,-0.5,-1.5\n-2.5,-0.5,-1.25\n-2.5,-0.5,-1.0\n-2.5,-0.5,-0.75\n-2.5,-0.5,-0.5\n-2.5,-0.5,-0.25\n-2.5,-0.5,0.0\n-2.5,-0.5,0.25\n-2.5,-0.5,0.5\n-2.5,-0.5,0.75\n-2.5,-0.5,1.0\n-2.5,-0.5,1.25\n-2.5,-0.5,1.5\n-2.5,-0.5,1.75\n-2.5,-0.5,2.0\n-2.5,-0.5,2.25\n-2.5,-0.5,2.5\n-2.5,-0.25,-2.5\n-2.5,-0.25,-2.25\n-2.5,-0.25,-2.0\n-2.5,-0.25,-1.75\n-2.5,-0.25,-1.5\n-2.5,-0.25,-1.25\n-2.5,-0.25,-1.0\n-2.5,-0.25,-0.75\n-2.5,-0.25,-0.5\n-2.5,-0.25,-0.25\n-2.5,-0.25,0.0\n-2.5,-0.25,0.25\n-2.5,-0.25,0.5\n-2.5,-0.25,0.75\n-2.5,-0.25,1.0\n-2.5,-0.25,1.25\n-2.5,-0.25,1.5\n-2.5,-0.25,1.75\n-2.5,-0.25,2.0\n-2.5,-0.25,2.25\n-2.5,-0.25,2.5\n-2.5,0.0,-2.5\n-2.5,0.0,-2.25\n-2.5,0.0,-2.0\n-2.5,0.0,-1.75\n-2.5,0.0,-1.5\n-2.5,0.0,-1.25\n-2.5,0.0,-1.0\n-2.5,0.0,-0.75\n-2.5,0.0,-0.5\n-2.5,0.0,-0.25\n-2.5,0.0,0.0\n-2.5,0.0,0.25\n-2.5,0.0,0.5\n-2.5,0.0,0.75\n-2.5,0.0,1.0\n-2.5,0.0,1.25\n-2.5,0.0,1.5\n-2.5,0.0,1.75\n-2.5,0.0,2.0\n-2.5,0.0,2.25\n-2.5,0.0,2.5\n-2.5,0.25,-2.5\n-2.5,0.25,-2.25\n-2.5,0.25,-2.0\n-2.5,0.25,-1.75\n-2.5,0.25,-1.5\n-2.5,0.25,-1.25\n-2.5,0.25,-1.0\n-2.5,0.25,-0.75\n-2.5,0.25,-0.5\n-2.5,0.25,-0.25\n-2.5,0.25,0.0\n-2.5,0.25,0.25\n-2.5,0.25,0.5\n-2.5,0.25,0.75\n-2.5,0.25,1.0\n-2.5,0.25,1.25\n-2.5,0.25,1.5\n-2.5,0.25,1.75\n-2.5,0.25,2.0\n-2.5,0.25,2.25\n-2.5,0.25,2.5\n-2.5,0.5,-2.5\n-2.5,0.5,-2.25\n-2.5,0.5,-2.0\n-2.5,0.5,-1.75\n-2.5,0.5,-1.5\n-2.5,0.5,-1.25\n-2.5,0.5,-1.0\n-2.5,0.5,-0.75\n-2.5,0.5,-0.5\n-2.5,0.5,-0.25\n-2.5,0.5,0.0\n-2.5,0.5,0.25\n-2.5,0.5,0.5\n-2.5,0.5,0.75\n-2.5,0.5,1.0\n-2.5,0.5,1.25\n-2.5,0.5,1.5\n-2.5,0.5,1.75\n-2.5,0.5,2.0\n-2.5,0.5,2.25\n-2.5,0.5,2.5\n-2.5,0.75,-2.5\n-2.5,0.75,-2.25\n-2.5,0.75,-2.0\n-2.5,0.75,-1.75\n-2.5,0.75,-1.5\n-2.5,0.75,-1.25\n-2.5,0.75,-1.0\n-2.5,0.75,-0.75\n-2.5,0.75,-0.5\n-2.5,0.75,-0.25\n-2.5,0.75,0.0\n-2.5,0.75,0.25\n-2.5,0.75,0.5\n-2.5,0.75,0.75\n-2.5,0.75,1.0\n-2.5,0.75,1.25\n-2.5,0.75,1.5\n-2.5,0.75,1.75\n-2.5,0.75,2.0\n-2.5,0.75,2.25\n-2.5,0.75,2.5\n-2.5,1.0,-2.5\n-2.5,1.0,-2.25\n-2.5,1.0,-2.0\n-2.5,1.0,-1.75\n-2.5,1.0,-1.5\n-2.5,1.0,-1.25\n-2.5,1.0,-1.0\n-2.5,1.0,-0.75\n-2.5,1.0,-0.5\n-2.5,1.0,-0.25\n-2.5,1.0,0.0\n-2.5,1.0,0.25\n-2.5,1.0,0.5\n-2.5,1.0,0.75\n-2.5,1.0,1.0\n-2.5,1.0,1.25\n-2.5,1.0,1.5\n-2.5,1.0,1.75\n-2.5,1.0,2.0\n-2.5,1.0,2.25\n-2.5,1.0,2.5\n-2.5,1.25,-2.5\n-2.5,1.25,-2.25\n-2.5,1.25,-2.0\n-2.5,1.25,-1.75\n-2.5,1.25,-1.5\n-2.5,1.25,-1.25\n-2.5,1.25,-1.0\n-2.5,1.25,-0.75\n-2.5,1.25,-0.5\n-2.5,1.25,-0.25\n-2.5,1.25,0.0\n-2.5,1.25,0.25\n-2.5,1.25,0.5\n-2.5,1.25,0.75\n-2.5,1.25,1.0\n-2.5,1.25,1.25\n-2.5,1.25,1.5\n-2.5,1.25,1.75\n-2.5,1.25,2.0\n-2.5,1.25,2.25\n-2.5,1.25,2.5\n-2.5,1.5,-2.5\n-2.5,1.5,-2.25\n-2.5,1.5,-2.0\n-2.5,1.5,-1.75\n-2.5,1.5,-1.5\n-2.5,1.5,-1.25\n-2.5,1.5,-1.0\n-2.5,1.5,-0.75\n-2.5,1.5,-0.5\n-2.5,1.5,-0.25\n-2.5,1.5,0.0\n-2.5,1.5,0.25\n-2.5,1.5,0.5\n-2.5,1.5,0.75\n-2.5,1.5,1.0\n-2.5,1.5,1.25\n-2.5,1.5,1.5\n-2.5,1.5,1.75\n-2.5,1.5,2.0\n-2.5,1.5,2.25\n-2.5,1.5,2.5\n-2.5,1.75,-2.5\n-2.5,1.75,-2.25\n-2.5,1.75,-2.0\n-2.5,1.75,-1.75\n-2.5,1.75,-1.5\n-2.5,1.75,-1.25\n-2.5,1.75,-1.0\n-2.5,1.75,-0.75\n-2.5,1.75,-0.5\n-2.5,1.75,-0.25\n-2.5,1.75,0.0\n-2.5,1.75,0.25\n-2.5,1.75,0.5\n-2.5,1.75,0.75\n-2.5,1.75,1.0\n-2.5,1.75,1.25\n-2.5,1.75,1.5\n-2.5,1.75,1.75\n-2.5,1.75,2.0\n-2.5,1.75,2.25\n-2.5,1.75,2.5\n-2.5,2.0,-2.5\n-2.5,2.0,-2.25\n-2.5,2.0,-2.0\n-2.5,2.0,-1.75\n-2.5,2.0,-1.5\n-2.5,2.0,-1.25\n-2.5,2.0,-1.0\n-2.5,2.0,-0.75\n-2.5,2.0,-0.5\n-2.5,2.0,-0.25\n-2.5,2.0,0.0\n-2.5,2.0,0.25\n-2.5,2.0,0.5\n-2.5,2.0,0.75\n-2.5,2.0,1.0\n-2.5,2.0,1.25\n-2.5,2.0,1.5\n-2.5,2.0,1.75\n-2.5,2.0,2.0\n-2.5,2.0,2.25\n-2.5,2.0,2.5\n-2.5,2.25,-2.5\n-2.5,2.25,-2.25\n-2.5,2.25,-2.0\n-2.5,2.25,-1.75\n-2.5,2.25,-1.5\n-2.5,2.25,-1.25\n-2.5,2.25,-1.0\n-2.5,2.25,-0.75\n-2.5,2.25,-0.5\n-2.5,2.25,-0.25\n-2.5,2.25,0.0\n-2.5,2.25,0.25\n-2.5,2.25,0.5\n-2.5,2.25,0.75\n-2.5,2.25,1.0\n-2.5,2.25,1.25\n-2.5,2.25,1.5\n-2.5,2.25,1.75\n-2.5,2.25,2.0\n-2.5,2.25,2.25\n-2.5,2.25,2.5\n-2.5,2.5,-2.5\n-2.5,2.5,-2.25\n-2.5,2.5,-2.0\n-2.5,2.5,-1.75\n-2.5,2.5,-1.5\n-2.5,2.5,-1.25\n-2.5,2.5,-1.0\n-2.5,2.5,-0.75\n-2.5,2.5,-0.5\n-2.5,2.5,-0.25\n-2.5,2.5,0.0\n-2.5,2.5,0.25\n-2.5,2.5,0.5\n-2.5,2.5,0.75\n-2.5,2.5,1.0\n-2.5,2.5,1.25\n-2.5,2.5,1.5\n-2.5,2.5,1.75\n-2.5,2.5,2.0\n-2.5,2.5,2.25\n-2.5,2.5,2.5\n-2.25,-2.5,-2.5\n-2.25,-2.5,-2.25\n-2.25,-2.5,-2.0\n-2.25,-2.5,-1.75\n-2.25,-2.5,-1.5\n-2.25,-2.5,-1.25\n-2.25,-2.5,-1.0\n-2.25,-2.5,-0.75\n-2.25,-2.5,-0.5\n-2.25,-2.5,-0.25\n-2.25,-2.5,0.0\n-2.25,-2.5,0.25\n-2.25,-2.5,0.5\n-2.25,-2.5,0.75\n-2.25,-2.5,1.0\n-2.25,-2.5,1.25\n-2.25,-2.5,1.5\n-2.25,-2.5,1.75\n-2.25,-2.5,2.0\n-2.25,-2.5,2.25\n-2.25,-2.5,2.5\n-2.25,-2.25,-2.5\n-2.25,-2.25,-2.25\n-2.25,-2.25,-2.0\n-2.25,-2.25,-1.75\n-2.25,-2.25,-1.5\n-2.25,-2.25,-1.25\n-2.25,-2.25,-1.0\n-2.25,-2.25,-0.75\n-2.25,-2.25,-0.5\n-2.25,-2.25,-0.25\n-2.25,-2.25,0.0\n-2.25,-2.25,0.25\n-2.25,-2.25,0.5\n-2.25,-2.25,0.75\n-2.25,-2.25,1.0\n-2.25,-2.25,1.25\n-2.25,-2.25,1.5\n-2.25,-2.25,1.75\n-2.25,-2.25,2.0\n-2.25,-2.25,2.25\n-2.25,-2.25,2.5\n-2.25,-2.0,-2.5\n-2.25,-2.0,-2.25\n-2.25,-2.0,-2.0\n-2.25,-2.0,-1.75\n-2.25,-2.0,-1.5\n-2.25,-2.0,-1.25\n-2.25,-2.0,-1.0\n-2.25,-2.0,-0.75\n-2.25,-2.0,-0.5\n-2.25,-2.0,-0.25\n-2.25,-2.0,0.0\n-2.25,-2.0,0.25\n-2.25,-2.0,0.5\n-2.25,-2.0,0.75\n-2.25,-2.0,1.0\n-2.25,-2.0,1.25\n-2.25,-2.0,1.5\n-2.25,-2.0,1.75\n-2.25,-2.0,2.0\n-2.25,-2.0,2.25\n-2.25,-2.0,2.5\n-2.25,-1.75,-2.5\n-2.25,-1.75,-2.25\n-2.25,-1.75,-2.0\n-2.25,-1.75,-1.75\n-2.25,-1.75,-1.5\n-2.25,-1.75,-1.25\n-2.25,-1.75,-1.0\n-2.25,-1.75,-0.75\n-2.25,-1.75,-0.5\n-2.25,-1.75,-0.25\n-2.25,-1.75,0.0\n-2.25,-1.75,0.25\n-2.25,-1.75,0.5\n-2.25,-1.75,0.75\n-2.25,-1.75,1.0\n-2.25,-1.75,1.25\n-2.25,-1.75,1.5\n-2.25,-1.75,1.75\n-2.25,-1.75,2.0\n-2.25,-1.75,2.25\n-2.25,-1.75,2.5\n-2.25,-1.5,-2.5\n-2.25,-1.5,-2.25\n-2.25,-1.5,-2.0\n-2.25,-1.5,-1.75\n-2.25,-1.5,-1.5\n-2.25,-1.5,-1.25\n-2.25,-1.5,-1.0\n-2.25,-1.5,-0.75\n-2.25,-1.5,-0.5\n-2.25,-1.5,-0.25\n-2.25,-1.5,0.0\n-2.25,-1.5,0.25\n-2.25,-1.5,0.5\n-2.25,-1.5,0.75\n-2.25,-1.5,1.0\n-2.25,-1.5,1.25\n-2.25,-1.5,1.5\n-2.25,-1.5,1.75\n-2.25,-1.5,2.0\n-2.25,-1.5,2.25\n-2.25,-1.5,2.5\n-2.25,-1.25,-2.5\n-2.25,-1.25,-2.25\n-2.25,-1.25,-2.0\n-2.25,-1.25,-1.75\n-2.25,-1.25,-1.5\n-2.25,-1.25,-1.25\n-2.25,-1.25,-1.0\n-2.25,-1.25,-0.75\n-2.25,-1.25,-0.5\n-2.25,-1.25,-0.25\n-2.25,-1.25,0.0\n-2.25,-1.25,0.25\n-2.25,-1.25,0.5\n-2.25,-1.25,0.75\n-2.25,-1.25,1.0\n-2.25,-1.25,1.25\n-2.25,-1.25,1.5\n-2.25,-1.25,1.75\n-2.25,-1.25,2.0\n-2.25,-1.25,2.25\n-2.25,-1.25,2.5\n-2.25,-1.0,-2.5\n-2.25,-1.0,-2.25\n-2.25,-1.0,-2.0\n-2.25,-1.0,-1.75\n-2.25,-1.0,-1.5\n-2.25,-1.0,-1.25\n-2.25,-1.0,-1.0\n-2.25,-1.0,-0.75\n-2.25,-1.0,-0.5\n-2.25,-1.0,-0.25\n-2.25,-1.0,0.0\n-2.25,-1.0,0.25\n-2.25,-1.0,0.5\n-2.25,-1.0,0.75\n-2.25,-1.0,1.0\n-2.25,-1.0,1.25\n-2.25,-1.0,1.5\n-2.25,-1.0,1.75\n-2.25,-1.0,2.0\n-2.25,-1.0,2.25\n-2.25,-1.0,2.5\n-2.25,-0.75,-2.5\n-2.25,-0.75,-2.25\n-2.25,-0.75,-2.0\n-2.25,-0.75,-1.75\n-2.25,-0.75,-1.5\n-2.25,-0.75,-1.25\n-2.25,-0.75,-1.0\n-2.25,-0.75,-0.75\n-2.25,-0.75,-0.5\n-2.25,-0.75,-0.25\n-2.25,-0.75,0.0\n-2.25,-0.75,0.25\n-2.25,-0.75,0.5\n-2.25,-0.75,0.75\n-2.25,-0.75,1.0\n-2.25,-0.75,1.25\n-2.25,-0.75,1.5\n-2.25,-0.75,1.75\n-2.25,-0.75,2.0\n-2.25,-0.75,2.25\n-2.25,-0.75,2.5\n-2.25,-0.5,-2.5\n-2.25,-0.5,-2.25\n-2.25,-0.5,-2.0\n-2.25,-0.5,-1.75\n-2.25,-0.5,-1.5\n-2.25,-0.5,-1.25\n-2.25,-0.5,-1.0\n-2.25,-0.5,-0.75\n-2.25,-0.5,-0.5\n-2.25,-0.5,-0.25\n-2.25,-0.5,0.0\n-2.25,-0.5,0.25\n-2.25,-0.5,0.5\n-2.25,-0.5,0.75\n-2.25,-0.5,1.0\n-2.25,-0.5,1.25\n-2.25,-0.5,1.5\n-2.25,-0.5,1.75\n-2.25,-0.5,2.0\n-2.25,-0.5,2.25\n-2.25,-0.5,2.5\n-2.25,-0.25,-2.5\n-2.25,-0.25,-2.25\n-2.25,-0.25,-2.0\n-2.25,-0.25,-1.75\n-2.25,-0.25,-1.5\n-2.25,-0.25,-1.25\n-2.25,-0.25,-1.0\n-2.25,-0.25,-0.75\n-2.25,-0.25,-0.5\n-2.25,-0.25,-0.25\n-2.25,-0.25,0.0\n-2.25,-0.25,0.25\n-2.25,-0.25,0.5\n-2.25,-0.25,0.75\n-2.25,-0.25,1.0\n-2.25,-0.25,1.25\n-2.25,-0.25,1.5\n-2.25,-0.25,1.75\n-2.25,-0.25,2.0\n-2.25,-0.25,2.25\n-2.25,-0.25,2.5\n-2.25,0.0,-2.5\n-2.25,0.0,-2.25\n-2.25,0.0,-2.0\n-2.25,0.0,-1.75\n-2.25,0.0,-1.5\n-2.25,0.0,-1.25\n-2.25,0.0,-1.0\n-2.25,0.0,-0.75\n-2.25,0.0,-0.5\n-2.25,0.0,-0.25\n-2.25,0.0,0.0\n-2.25,0.0,0.25\n-2.25,0.0,0.5\n-2.25,0.0,0.75\n-2.25,0.0,1.0\n-2.25,0.0,1.25\n-2.25,0.0,1.5\n-2.25,0.0,1.75\n-2.25,0.0,2.0\n-2.25,0.0,2.25\n-2.25,0.0,2.5\n-2.25,0.25,-2.5\n-2.25,0.25,-2.25\n-2.25,0.25,-2.0\n-2.25,0.25,-1.75\n-2.25,0.25,-1.5\n-2.25,0.25,-1.25\n-2.25,0.25,-1.0\n-2.25,0.25,-0.75\n-2.25,0.25,-0.5\n-2.25,0.25,-0.25\n-2.25,0.25,0.0\n-2.25,0.25,0.25\n-2.25,0.25,0.5\n-2.25,0.25,0.75\n-2.25,0.25,1.0\n-2.25,0.25,1.25\n-2.25,0.25,1.5\n-2.25,0.25,1.75\n-2.25,0.25,2.0\n-2.25,0.25,2.25\n-2.25,0.25,2.5\n-2.25,0.5,-2.5\n-2.25,0.5,-2.25\n-2.25,0.5,-2.0\n-2.25,0.5,-1.75\n-2.25,0.5,-1.5\n-2.25,0.5,-1.25\n-2.25,0.5,-1.0\n-2.25,0.5,-0.75\n-2.25,0.5,-0.5\n-2.25,0.5,-0.25\n-2.25,0.5,0.0\n-2.25,0.5,0.25\n-2.25,0.5,0.5\n-2.25,0.5,0.75\n-2.25,0.5,1.0\n-2.25,0.5,1.25\n-2.25,0.5,1.5\n-2.25,0.5,1.75\n-2.25,0.5,2.0\n-2.25,0.5,2.25\n-2.25,0.5,2.5\n-2.25,0.75,-2.5\n-2.25,0.75,-2.25\n-2.25,0.75,-2.0\n-2.25,0.75,-1.75\n-2.25,0.75,-1.5\n-2.25,0.75,-1.25\n-2.25,0.75,-1.0\n-2.25,0.75,-0.75\n-2.25,0.75,-0.5\n-2.25,0.75,-0.25\n-2.25,0.75,0.0\n-2.25,0.75,0.25\n-2.25,0.75,0.5\n-2.25,0.75,0.75\n-2.25,0.75,1.0\n-2.25,0.75,1.25\n-2.25,0.75,1.5\n-2.25,0.75,1.75\n-2.25,0.75,2.0\n-2.25,0.75,2.25\n-2.25,0.75,2.5\n-2.25,1.0,-2.5\n-2.25,1.0,-2.25\n-2.25,1.0,-2.0\n-2.25,1.0,-1.75\n-2.25,1.0,-1.5\n-2.25,1.0,-1.25\n-2.25,1.0,-1.0\n-2.25,1.0,-0.75\n-2.25,1.0,-0.5\n-2.25,1.0,-0.25\n-2.25,1.0,0.0\n-2.25,1.0,0.25\n-2.25,1.0,0.5\n-2.25,1.0,0.75\n-2.25,1.0,1.0\n-2.25,1.0,1.25\n-2.25,1.0,1.5\n-2.25,1.0,1.75\n-2.25,1.0,2.0\n-2.25,1.0,2.25\n-2.25,1.0,2.5\n-2.25,1.25,-2.5\n-2.25,1.25,-2.25\n-2.25,1.25,-2.0\n-2.25,1.25,-1.75\n-2.25,1.25,-1.5\n-2.25,1.25,-1.25\n-2.25,1.25,-1.0\n-2.25,1.25,-0.75\n-2.25,1.25,-0.5\n-2.25,1.25,-0.25\n-2.25,1.25,0.0\n-2.25,1.25,0.25\n-2.25,1.25,0.5\n-2.25,1.25,0.75\n-2.25,1.25,1.0\n-2.25,1.25,1.25\n-2.25,1.25,1.5\n-2.25,1.25,1.75\n-2.25,1.25,2.0\n-2.25,1.25,2.25\n-2.25,1.25,2.5\n-2.25,1.5,-2.5\n-2.25,1.5,-2.25\n-2.25,1.5,-2.0\n-2.25,1.5,-1.75\n-2.25,1.5,-1.5\n-2.25,1.5,-1.25\n-2.25,1.5,-1.0\n-2.25,1.5,-0.75\n-2.25,1.5,-0.5\n-2.25,1.5,-0.25\n-2.25,1.5,0.0\n-2.25,1.5,0.25\n-2.25,1.5,0.5\n-2.25,1.5,0.75\n-2.25,1.5,1.0\n-2.25,1.5,1.25\n-2.25,1.5,1.5\n-2.25,1.5,1.75\n-2.25,1.5,2.0\n-2.25,1.5,2.25\n-2.25,1.5,2.5\n-2.25,1.75,-2.5\n-2.25,1.75,-2.25\n-2.25,1.75,-2.0\n-2.25,1.75,-1.75\n-2.25,1.75,-1.5\n-2.25,1.75,-1.25\n-2.25,1.75,-1.0\n-2.25,1.75,-0.75\n-2.25,1.75,-0.5\n-2.25,1.75,-0.25\n-2.25,1.75,0.0\n-2.25,1.75,0.25\n-2.25,1.75,0.5\n-2.25,1.75,0.75\n-2.25,1.75,1.0\n-2.25,1.75,1.25\n-2.25,1.75,1.5\n-2.25,1.75,1.75\n-2.25,1.75,2.0\n-2.25,1.75,2.25\n-2.25,1.75,2.5\n-2.25,2.0,-2.5\n-2.25,2.0,-2.25\n-2.25,2.0,-2.0\n-2.25,2.0,-1.75\n-2.25,2.0,-1.5\n-2.25,2.0,-1.25\n-2.25,2.0,-1.0\n-2.25,2.0,-0.75\n-2.25,2.0,-0.5\n-2.25,2.0,-0.25\n-2.25,2.0,0.0\n-2.25,2.0,0.25\n-2.25,2.0,0.5\n-2.25,2.0,0.75\n-2.25,2.0,1.0\n-2.25,2.0,1.25\n-2.25,2.0,1.5\n-2.25,2.0,1.75\n-2.25,2.0,2.0\n-2.25,2.0,2.25\n-2.25,2.0,2.5\n-2.25,2.25,-2.5\n-2.25,2.25,-2.25\n-2.25,2.25,-2.0\n-2.25,2.25,-1.75\n-2.25,2.25,-1.5\n-2.25,2.25,-1.25\n-2.25,2.25,-1.0\n-2.25,2.25,-0.75\n-2.25,2.25,-0.5\n-2.25,2.25,-0.25\n-2.25,2.25,0.0\n-2.25,2.25,0.25\n-2.25,2.25,0.5\n-2.25,2.25,0.75\n-2.25,2.25,1.0\n-2.25,2.25,1.25\n-2.25,2.25,1.5\n-2.25,2.25,1.75\n-2.25,2.25,2.0\n-2.25,2.25,2.25\n-2.25,2.25,2.5\n-2.25,2.5,-2.5\n-2.25,2.5,-2.25\n-2.25,2.5,-2.0\n-2.25,2.5,-1.75\n-2.25,2.5,-1.5\n-2.25,2.5,-1.25\n-2.25,2.5,-1.0\n-2.25,2.5,-0.75\n-2.25,2.5,-0.5\n-2.25,2.5,-0.25\n-2.25,2.5,0.0\n-2.25,2.5,0.25\n-2.25,2.5,0.5\n-2.25,2.5,0.75\n-2.25,2.5,1.0\n-2.25,2.5,1.25\n-2.25,2.5,1.5\n-2.25,2.5,1.75\n-2.25,2.5,2.0\n-2.25,2.5,2.25\n-2.25,2.5,2.5\n-2.0,-2.5,-2.5\n-2.0,-2.5,-2.25\n-2.0,-2.5,-2.0\n-2.0,-2.5,-1.75\n-2.0,-2.5,-1.5\n-2.0,-2.5,-1.25\n-2.0,-2.5,-1.0\n-2.0,-2.5,-0.75\n-2.0,-2.5,-0.5\n-2.0,-2.5,-0.25\n-2.0,-2.5,0.0\n-2.0,-2.5,0.25\n-2.0,-2.5,0.5\n-2.0,-2.5,0.75\n-2.0,-2.5,1.0\n-2.0,-2.5,1.25\n-2.0,-2.5,1.5\n-2.0,-2.5,1.75\n-2.0,-2.5,2.0\n-2.0,-2.5,2.25\n-2.0,-2.5,2.5\n-2.0,-2.25,-2.5\n-2.0,-2.25,-2.25\n-2.0,-2.25,-2.0\n-2.0,-2.25,-1.75\n-2.0,-2.25,-1.5\n-2.0,-2.25,-1.25\n-2.0,-2.25,-1.0\n-2.0,-2.25,-0.75\n-2.0,-2.25,-0.5\n-2.0,-2.25,-0.25\n-2.0,-2.25,0.0\n-2.0,-2.25,0.25\n-2.0,-2.25,0.5\n-2.0,-2.25,0.75\n-2.0,-2.25,1.0\n-2.0,-2.25,1.25\n-2.0,-2.25,1.5\n-2.0,-2.25,1.75\n-2.0,-2.25,2.0\n-2.0,-2.25,2.25\n-2.0,-2.25,2.5\n-2.0,-2.0,-2.5\n-2.0,-2.0,-2.25\n-2.0,-2.0,-2.0\n-2.0,-2.0,-1.75\n-2.0,-2.0,-1.5\n-2.0,-2.0,-1.25\n-2.0,-2.0,-1.0\n-2.0,-2.0,-0.75\n-2.0,-2.0,-0.5\n-2.0,-2.0,-0.25\n-2.0,-2.0,0.0\n-2.0,-2.0,0.25\n-2.0,-2.0,0.5\n-2.0,-2.0,0.75\n-2.0,-2.0,1.0\n-2.0,-2.0,1.25\n-2.0,-2.0,1.5\n-2.0,-2.0,1.75\n-2.0,-2.0,2.0\n-2.0,-2.0,2.25\n-2.0,-2.0,2.5\n-2.0,-1.75,-2.5\n-2.0,-1.75,-2.25\n-2.0,-1.75,-2.0\n-2.0,-1.75,-1.75\n-2.0,-1.75,-1.5\n-2.0,-1.75,-1.25\n-2.0,-1.75,-1.0\n-2.0,-1.75,-0.75\n-2.0,-1.75,-0.5\n-2.0,-1.75,-0.25\n-2.0,-1.75,0.0\n-2.0,-1.75,0.25\n-2.0,-1.75,0.5\n-2.0,-1.75,0.75\n-2.0,-1.75,1.0\n-2.0,-1.75,1.25\n-2.0,-1.75,1.5\n-2.0,-1.75,1.75\n-2.0,-1.75,2.0\n-2.0,-1.75,2.25\n-2.0,-1.75,2.5\n-2.0,-1.5,-2.5\n-2.0,-1.5,-2.25\n-2.0,-1.5,-2.0\n-2.0,-1.5,-1.75\n-2.0,-1.5,-1.5\n-2.0,-1.5,-1.25\n-2.0,-1.5,-1.0\n-2.0,-1.5,-0.75\n-2.0,-1.5,-0.5\n-2.0,-1.5,-0.25\n-2.0,-1.5,0.0\n-2.0,-1.5,0.25\n-2.0,-1.5,0.5\n-2.0,-1.5,0.75\n-2.0,-1.5,1.0\n-2.0,-1.5,1.25\n-2.0,-1.5,1.5\n-2.0,-1.5,1.75\n-2.0,-1.5,2.0\n-2.0,-1.5,2.25\n-2.0,-1.5,2.5\n-2.0,-1.25,-2.5\n-2.0,-1.25,-2.25\n-2.0,-1.25,-2.0\n-2.0,-1.25,-1.75\n-2.0,-1.25,-1.5\n-2.0,-1.25,-1.25\n-2.0,-1.25,-1.0\n-2.0,-1.25,-0.75\n-2.0,-1.25,-0.5\n-2.0,-1.25,-0.25\n-2.0,-1.25,0.0\n-2.0,-1.25,0.25\n-2.0,-1.25,0.5\n-2.0,-1.25,0.75\n-2.0,-1.25,1.0\n-2.0,-1.25,1.25\n-2.0,-1.25,1.5\n-2.0,-1.25,1.75\n-2.0,-1.25,2.0\n-2.0,-1.25,2.25\n-2.0,-1.25,2.5\n-2.0,-1.0,-2.5\n-2.0,-1.0,-2.25\n-2.0,-1.0,-2.0\n-2.0,-1.0,-1.75\n-2.0,-1.0,-1.5\n-2.0,-1.0,-1.25\n-2.0,-1.0,-1.0\n-2.0,-1.0,-0.75\n-2.0,-1.0,-0.5\n-2.0,-1.0,-0.25\n-2.0,-1.0,0.0\n-2.0,-1.0,0.25\n-2.0,-1.0,0.5\n-2.0,-1.0,0.75\n-2.0,-1.0,1.0\n-2.0,-1.0,1.25\n-2.0,-1.0,1.5\n-2.0,-1.0,1.75\n-2.0,-1.0,2.0\n-2.0,-1.0,2.25\n-2.0,-1.0,2.5\n-2.0,-0.75,-2.5\n-2.0,-0.75,-2.25\n-2.0,-0.75,-2.0\n-2.0,-0.75,-1.75\n-2.0,-0.75,-1.5\n-2.0,-0.75,-1.25\n-2.0,-0.75,-1.0\n-2.0,-0.75,-0.75\n-2.0,-0.75,-0.5\n-2.0,-0.75,-0.25\n-2.0,-0.75,0.0\n-2.0,-0.75,0.25\n-2.0,-0.75,0.5\n-2.0,-0.75,0.75\n-2.0,-0.75,1.0\n-2.0,-0.75,1.25\n-2.0,-0.75,1.5\n-2.0,-0.75,1.75\n-2.0,-0.75,2.0\n-2.0,-0.75,2.25\n-2.0,-0.75,2.5\n-2.0,-0.5,-2.5\n-2.0,-0.5,-2.25\n-2.0,-0.5,-2.0\n-2.0,-0.5,-1.75\n-2.0,-0.5,-1.5\n-2.0,-0.5,-1.25\n-2.0,-0.5,-1.0\n-2.0,-0.5,-0.75\n-2.0,-0.5,-0.5\n-2.0,-0.5,-0.25\n-2.0,-0.5,0.0\n-2.0,-0.5,0.25\n-2.0,-0.5,0.5\n-2.0,-0.5,0.75\n-2.0,-0.5,1.0\n-2.0,-0.5,1.25\n-2.0,-0.5,1.5\n-2.0,-0.5,1.75\n-2.0,-0.5,2.0\n-2.0,-0.5,2.25\n-2.0,-0.5,2.5\n-2.0,-0.25,-2.5\n-2.0,-0.25,-2.25\n-2.0,-0.25,-2.0\n-2.0,-0.25,-1.75\n-2.0,-0.25,-1.5\n-2.0,-0.25,-1.25\n-2.0,-0.25,-1.0\n-2.0,-0.25,-0.75\n-2.0,-0.25,-0.5\n-2.0,-0.25,-0.25\n-2.0,-0.25,0.0\n-2.0,-0.25,0.25\n-2.0,-0.25,0.5\n-2.0,-0.25,0.75\n-2.0,-0.25,1.0\n-2.0,-0.25,1.25\n-2.0,-0.25,1.5\n-2.0,-0.25,1.75\n-2.0,-0.25,2.0\n-2.0,-0.25,2.25\n-2.0,-0.25,2.5\n-2.0,0.0,-2.5\n-2.0,0.0,-2.25\n-2.0,0.0,-2.0\n-2.0,0.0,-1.75\n-2.0,0.0,-1.5\n-2.0,0.0,-1.25\n-2.0,0.0,-1.0\n-2.0,0.0,-0.75\n-2.0,0.0,-0.5\n-2.0,0.0,-0.25\n-2.0,0.0,0.0\n-2.0,0.0,0.25\n-2.0,0.0,0.5\n-2.0,0.0,0.75\n-2.0,0.0,1.0\n-2.0,0.0,1.25\n-2.0,0.0,1.5\n-2.0,0.0,1.75\n-2.0,0.0,2.0\n-2.0,0.0,2.25\n-2.0,0.0,2.5\n-2.0,0.25,-2.5\n-2.0,0.25,-2.25\n-2.0,0.25,-2.0\n-2.0,0.25,-1.75\n-2.0,0.25,-1.5\n-2.0,0.25,-1.25\n-2.0,0.25,-1.0\n-2.0,0.25,-0.75\n-2.0,0.25,-0.5\n-2.0,0.25,-0.25\n-2.0,0.25,0.0\n-2.0,0.25,0.25\n-2.0,0.25,0.5\n-2.0,0.25,0.75\n-2.0,0.25,1.0\n-2.0,0.25,1.25\n-2.0,0.25,1.5\n-2.0,0.25,1.75\n-2.0,0.25,2.0\n-2.0,0.25,2.25\n-2.0,0.25,2.5\n-2.0,0.5,-2.5\n-2.0,0.5,-2.25\n-2.0,0.5,-2.0\n-2.0,0.5,-1.75\n-2.0,0.5,-1.5\n-2.0,0.5,-1.25\n-2.0,0.5,-1.0\n-2.0,0.5,-0.75\n-2.0,0.5,-0.5\n-2.0,0.5,-0.25\n-2.0,0.5,0.0\n-2.0,0.5,0.25\n-2.0,0.5,0.5\n-2.0,0.5,0.75\n-2.0,0.5,1.0\n-2.0,0.5,1.25\n-2.0,0.5,1.5\n-2.0,0.5,1.75\n-2.0,0.5,2.0\n-2.0,0.5,2.25\n-2.0,0.5,2.5\n-2.0,0.75,-2.5\n-2.0,0.75,-2.25\n-2.0,0.75,-2.0\n-2.0,0.75,-1.75\n-2.0,0.75,-1.5\n-2.0,0.75,-1.25\n-2.0,0.75,-1.0\n-2.0,0.75,-0.75\n-2.0,0.75,-0.5\n-2.0,0.75,-0.25\n-2.0,0.75,0.0\n-2.0,0.75,0.25\n-2.0,0.75,0.5\n-2.0,0.75,0.75\n-2.0,0.75,1.0\n-2.0,0.75,1.25\n-2.0,0.75,1.5\n-2.0,0.75,1.75\n-2.0,0.75,2.0\n-2.0,0.75,2.25\n-2.0,0.75,2.5\n-2.0,1.0,-2.5\n-2.0,1.0,-2.25\n-2.0,1.0,-2.0\n-2.0,1.0,-1.75\n-2.0,1.0,-1.5\n-2.0,1.0,-1.25\n-2.0,1.0,-1.0\n-2.0,1.0,-0.75\n-2.0,1.0,-0.5\n-2.0,1.0,-0.25\n-2.0,1.0,0.0\n-2.0,1.0,0.25\n-2.0,1.0,0.5\n-2.0,1.0,0.75\n-2.0,1.0,1.0\n-2.0,1.0,1.25\n-2.0,1.0,1.5\n-2.0,1.0,1.75\n-2.0,1.0,2.0\n-2.0,1.0,2.25\n-2.0,1.0,2.5\n-2.0,1.25,-2.5\n-2.0,1.25,-2.25\n-2.0,1.25,-2.0\n-2.0,1.25,-1.75\n-2.0,1.25,-1.5\n-2.0,1.25,-1.25\n-2.0,1.25,-1.0\n-2.0,1.25,-0.75\n-2.0,1.25,-0.5\n-2.0,1.25,-0.25\n-2.0,1.25,0.0\n-2.0,1.25,0.25\n-2.0,1.25,0.5\n-2.0,1.25,0.75\n-2.0,1.25,1.0\n-2.0,1.25,1.25\n-2.0,1.25,1.5\n-2.0,1.25,1.75\n-2.0,1.25,2.0\n-2.0,1.25,2.25\n-2.0,1.25,2.5\n-2.0,1.5,-2.5\n-2.0,1.5,-2.25\n-2.0,1.5,-2.0\n-2.0,1.5,-1.75\n-2.0,1.5,-1.5\n-2.0,1.5,-1.25\n-2.0,1.5,-1.0\n-2.0,1.5,-0.75\n-2.0,1.5,-0.5\n-2.0,1.5,-0.25\n-2.0,1.5,0.0\n-2.0,1.5,0.25\n-2.0,1.5,0.5\n-2.0,1.5,0.75\n-2.0,1.5,1.0\n-2.0,1.5,1.25\n-2.0,1.5,1.5\n-2.0,1.5,1.75\n-2.0,1.5,2.0\n-2.0,1.5,2.25\n-2.0,1.5,2.5\n-2.0,1.75,-2.5\n-2.0,1.75,-2.25\n-2.0,1.75,-2.0\n-2.0,1.75,-1.75\n-2.0,1.75,-1.5\n-2.0,1.75,-1.25\n-2.0,1.75,-1.0\n-2.0,1.75,-0.75\n-2.0,1.75,-0.5\n-2.0,1.75,-0.25\n-2.0,1.75,0.0\n-2.0,1.75,0.25\n-2.0,1.75,0.5\n-2.0,1.75,0.75\n-2.0,1.75,1.0\n-2.0,1.75,1.25\n-2.0,1.75,1.5\n-2.0,1.75,1.75\n-2.0,1.75,2.0\n-2.0,1.75,2.25\n-2.0,1.75,2.5\n-2.0,2.0,-2.5\n-2.0,2.0,-2.25\n-2.0,2.0,-2.0\n-2.0,2.0,-1.75\n-2.0,2.0,-1.5\n-2.0,2.0,-1.25\n-2.0,2.0,-1.0\n-2.0,2.0,-0.75\n-2.0,2.0,-0.5\n-2.0,2.0,-0.25\n-2.0,2.0,0.0\n-2.0,2.0,0.25\n-2.0,2.0,0.5\n-2.0,2.0,0.75\n-2.0,2.0,1.0\n-2.0,2.0,1.25\n-2.0,2.0,1.5\n-2.0,2.0,1.75\n-2.0,2.0,2.0\n-2.0,2.0,2.25\n-2.0,2.0,2.5\n-2.0,2.25,-2.5\n-2.0,2.25,-2.25\n-2.0,2.25,-2.0\n-2.0,2.25,-1.75\n-2.0,2.25,-1.5\n-2.0,2.25,-1.25\n-2.0,2.25,-1.0\n-2.0,2.25,-0.75\n-2.0,2.25,-0.5\n-2.0,2.25,-0.25\n-2.0,2.25,0.0\n-2.0,2.25,0.25\n-2.0,2.25,0.5\n-2.0,2.25,0.75\n-2.0,2.25,1.0\n-2.0,2.25,1.25\n-2.0,2.25,1.5\n-2.0,2.25,1.75\n-2.0,2.25,2.0\n-2.0,2.25,2.25\n-2.0,2.25,2.5\n-2.0,2.5,-2.5\n-2.0,2.5,-2.25\n-2.0,2.5,-2.0\n-2.0,2.5,-1.75\n-2.0,2.5,-1.5\n-2.0,2.5,-1.25\n-2.0,2.5,-1.0\n-2.0,2.5,-0.75\n-2.0,2.5,-0.5\n-2.0,2.5,-0.25\n-2.0,2.5,0.0\n-2.0,2.5,0.25\n-2.0,2.5,0.5\n-2.0,2.5,0.75\n-2.0,2.5,1.0\n-2.0,2.5,1.25\n-2.0,2.5,1.5\n-2.0,2.5,1.75\n-2.0,2.5,2.0\n-2.0,2.5,2.25\n-2.0,2.5,2.5\n-1.75,-2.5,-2.5\n-1.75,-2.5,-2.25\n-1.75,-2.5,-2.0\n-1.75,-2.5,-1.75\n-1.75,-2.5,-1.5\n-1.75,-2.5,-1.25\n-1.75,-2.5,-1.0\n-1.75,-2.5,-0.75\n-1.75,-2.5,-0.5\n-1.75,-2.5,-0.25\n-1.75,-2.5,0.0\n-1.75,-2.5,0.25\n-1.75,-2.5,0.5\n-1.75,-2.5,0.75\n-1.75,-2.5,1.0\n-1.75,-2.5,1.25\n-1.75,-2.5,1.5\n-1.75,-2.5,1.75\n-1.75,-2.5,2.0\n-1.75,-2.5,2.25\n-1.75,-2.5,2.5\n-1.75,-2.25,-2.5\n-1.75,-2.25,-2.25\n-1.75,-2.25,-2.0\n-1.75,-2.25,-1.75\n-1.75,-2.25,-1.5\n-1.75,-2.25,-1.25\n-1.75,-2.25,-1.0\n-1.75,-2.25,-0.75\n-1.75,-2.25,-0.5\n-1.75,-2.25,-0.25\n-1.75,-2.25,0.0\n-1.75,-2.25,0.25\n-1.75,-2.25,0.5\n-1.75,-2.25,0.75\n-1.75,-2.25,1.0\n-1.75,-2.25,1.25\n-1.75,-2.25,1.5\n-1.75,-2.25,1.75\n-1.75,-2.25,2.0\n-1.75,-2.25,2.25\n-1.75,-2.25,2.5\n-1.75,-2.0,-2.5\n-1.75,-2.0,-2.25\n-1.75,-2.0,-2.0\n-1.75,-2.0,-1.75\n-1.75,-2.0,-1.5\n-1.75,-2.0,-1.25\n-1.75,-2.0,-1.0\n-1.75,-2.0,-0.75\n-1.75,-2.0,-0.5\n-1.75,-2.0,-0.25\n-1.75,-2.0,0.0\n-1.75,-2.0,0.25\n-1.75,-2.0,0.5\n-1.75,-2.0,0.75\n-1.75,-2.0,1.0\n-1.75,-2.0,1.25\n-1.75,-2.0,1.5\n-1.75,-2.0,1.75\n-1.75,-2.0,2.0\n-1.75,-2.0,2.25\n-1.75,-2.0,2.5\n-1.75,-1.75,-2.5\n-1.75,-1.75,-2.25\n-1.75,-1.75,-2.0\n-1.75,-1.75,-1.75\n-1.75,-1.75,-1.5\n-1.75,-1.75,-1.25\n-1.75,-1.75,-1.0\n-1.75,-1.75,-0.75\n-1.75,-1.75,-0.5\n-1.75,-1.75,-0.25\n-1.75,-1.75,0.0\n-1.75,-1.75,0.25\n-1.75,-1.75,0.5\n-1.75,-1.75,0.75\n-1.75,-1.75,1.0\n-1.75,-1.75,1.25\n-1.75,-1.75,1.5\n-1.75,-1.75,1.75\n-1.75,-1.75,2.0\n-1.75,-1.75,2.25\n-1.75,-1.75,2.5\n-1.75,-1.5,-2.5\n-1.75,-1.5,-2.25\n-1.75,-1.5,-2.0\n-1.75,-1.5,-1.75\n-1.75,-1.5,-1.5\n-1.75,-1.5,-1.25\n-1.75,-1.5,-1.0\n-1.75,-1.5,-0.75\n-1.75,-1.5,-0.5\n-1.75,-1.5,-0.25\n-1.75,-1.5,0.0\n-1.75,-1.5,0.25\n-1.75,-1.5,0.5\n-1.75,-1.5,0.75\n-1.75,-1.5,1.0\n-1.75,-1.5,1.25\n-1.75,-1.5,1.5\n-1.75,-1.5,1.75\n-1.75,-1.5,2.0\n-1.75,-1.5,2.25\n-1.75,-1.5,2.5\n-1.75,-1.25,-2.5\n-1.75,-1.25,-2.25\n-1.75,-1.25,-2.0\n-1.75,-1.25,-1.75\n-1.75,-1.25,-1.5\n-1.75,-1.25,-1.25\n-1.75,-1.25,-1.0\n-1.75,-1.25,-0.75\n-1.75,-1.25,-0.5\n-1.75,-1.25,-0.25\n-1.75,-1.25,0.0\n-1.75,-1.25,0.25\n-1.75,-1.25,0.5\n-1.75,-1.25,0.75\n-1.75,-1.25,1.0\n-1.75,-1.25,1.25\n-1.75,-1.25,1.5\n-1.75,-1.25,1.75\n-1.75,-1.25,2.0\n-1.75,-1.25,2.25\n-1.75,-1.25,2.5\n-1.75,-1.0,-2.5\n-1.75,-1.0,-2.25\n-1.75,-1.0,-2.0\n-1.75,-1.0,-1.75\n-1.75,-1.0,-1.5\n-1.75,-1.0,-1.25\n-1.75,-1.0,-1.0\n-1.75,-1.0,-0.75\n-1.75,-1.0,-0.5\n-1.75,-1.0,-0.25\n-1.75,-1.0,0.0\n-1.75,-1.0,0.25\n-1.75,-1.0,0.5\n-1.75,-1.0,0.75\n-1.75,-1.0,1.0\n-1.75,-1.0,1.25\n-1.75,-1.0,1.5\n-1.75,-1.0,1.75\n-1.75,-1.0,2.0\n-1.75,-1.0,2.25\n-1.75,-1.0,2.5\n-1.75,-0.75,-2.5\n-1.75,-0.75,-2.25\n-1.75,-0.75,-2.0\n-1.75,-0.75,-1.75\n-1.75,-0.75,-1.5\n-1.75,-0.75,-1.25\n-1.75,-0.75,-1.0\n-1.75,-0.75,-0.75\n-1.75,-0.75,-0.5\n-1.75,-0.75,-0.25\n-1.75,-0.75,0.0\n-1.75,-0.75,0.25\n-1.75,-0.75,0.5\n-1.75,-0.75,0.75\n-1.75,-0.75,1.0\n-1.75,-0.75,1.25\n-1.75,-0.75,1.5\n-1.75,-0.75,1.75\n-1.75,-0.75,2.0\n-1.75,-0.75,2.25\n-1.75,-0.75,2.5\n-1.75,-0.5,-2.5\n-1.75,-0.5,-2.25\n-1.75,-0.5,-2.0\n-1.75,-0.5,-1.75\n-1.75,-0.5,-1.5\n-1.75,-0.5,-1.25\n-1.75,-0.5,-1.0\n-1.75,-0.5,-0.75\n-1.75,-0.5,-0.5\n-1.75,-0.5,-0.25\n-1.75,-0.5,0.0\n-1.75,-0.5,0.25\n-1.75,-0.5,0.5\n-1.75,-0.5,0.75\n-1.75,-0.5,1.0\n-1.75,-0.5,1.25\n-1.75,-0.5,1.5\n-1.75,-0.5,1.75\n-1.75,-0.5,2.0\n-1.75,-0.5,2.25\n-1.75,-0.5,2.5\n-1.75,-0.25,-2.5\n-1.75,-0.25,-2.25\n-1.75,-0.25,-2.0\n-1.75,-0.25,-1.75\n-1.75,-0.25,-1.5\n-1.75,-0.25,-1.25\n-1.75,-0.25,-1.0\n-1.75,-0.25,-0.75\n-1.75,-0.25,-0.5\n-1.75,-0.25,-0.25\n-1.75,-0.25,0.0\n-1.75,-0.25,0.25\n-1.75,-0.25,0.5\n-1.75,-0.25,0.75\n-1.75,-0.25,1.0\n-1.75,-0.25,1.25\n-1.75,-0.25,1.5\n-1.75,-0.25,1.75\n-1.75,-0.25,2.0\n-1.75,-0.25,2.25\n-1.75,-0.25,2.5\n-1.75,0.0,-2.5\n-1.75,0.0,-2.25\n-1.75,0.0,-2.0\n-1.75,0.0,-1.75\n-1.75,0.0,-1.5\n-1.75,0.0,-1.25\n-1.75,0.0,-1.0\n-1.75,0.0,-0.75\n-1.75,0.0,-0.5\n-1.75,0.0,-0.25\n-1.75,0.0,0.0\n-1.75,0.0,0.25\n-1.75,0.0,0.5\n-1.75,0.0,0.75\n-1.75,0.0,1.0\n-1.75,0.0,1.25\n-1.75,0.0,1.5\n-1.75,0.0,1.75\n-1.75,0.0,2.0\n-1.75,0.0,2.25\n-1.75,0.0,2.5\n-1.75,0.25,-2.5\n-1.75,0.25,-2.25\n-1.75,0.25,-2.0\n-1.75,0.25,-1.75\n-1.75,0.25,-1.5\n-1.75,0.25,-1.25\n-1.75,0.25,-1.0\n-1.75,0.25,-0.75\n-1.75,0.25,-0.5\n-1.75,0.25,-0.25\n-1.75,0.25,0.0\n-1.75,0.25,0.25\n-1.75,0.25,0.5\n-1.75,0.25,0.75\n-1.75,0.25,1.0\n-1.75,0.25,1.25\n-1.75,0.25,1.5\n-1.75,0.25,1.75\n-1.75,0.25,2.0\n-1.75,0.25,2.25\n-1.75,0.25,2.5\n-1.75,0.5,-2.5\n-1.75,0.5,-2.25\n-1.75,0.5,-2.0\n-1.75,0.5,-1.75\n-1.75,0.5,-1.5\n-1.75,0.5,-1.25\n-1.75,0.5,-1.0\n-1.75,0.5,-0.75\n-1.75,0.5,-0.5\n-1.75,0.5,-0.25\n-1.75,0.5,0.0\n-1.75,0.5,0.25\n-1.75,0.5,0.5\n-1.75,0.5,0.75\n-1.75,0.5,1.0\n-1.75,0.5,1.25\n-1.75,0.5,1.5\n-1.75,0.5,1.75\n-1.75,0.5,2.0\n-1.75,0.5,2.25\n-1.75,0.5,2.5\n-1.75,0.75,-2.5\n-1.75,0.75,-2.25\n-1.75,0.75,-2.0\n-1.75,0.75,-1.75\n-1.75,0.75,-1.5\n-1.75,0.75,-1.25\n-1.75,0.75,-1.0\n-1.75,0.75,-0.75\n-1.75,0.75,-0.5\n-1.75,0.75,-0.25\n-1.75,0.75,0.0\n-1.75,0.75,0.25\n-1.75,0.75,0.5\n-1.75,0.75,0.75\n-1.75,0.75,1.0\n-1.75,0.75,1.25\n-1.75,0.75,1.5\n-1.75,0.75,1.75\n-1.75,0.75,2.0\n-1.75,0.75,2.25\n-1.75,0.75,2.5\n-1.75,1.0,-2.5\n-1.75,1.0,-2.25\n-1.75,1.0,-2.0\n-1.75,1.0,-1.75\n-1.75,1.0,-1.5\n-1.75,1.0,-1.25\n-1.75,1.0,-1.0\n-1.75,1.0,-0.75\n-1.75,1.0,-0.5\n-1.75,1.0,-0.25\n-1.75,1.0,0.0\n-1.75,1.0,0.25\n-1.75,1.0,0.5\n-1.75,1.0,0.75\n-1.75,1.0,1.0\n-1.75,1.0,1.25\n-1.75,1.0,1.5\n-1.75,1.0,1.75\n-1.75,1.0,2.0\n-1.75,1.0,2.25\n-1.75,1.0,2.5\n-1.75,1.25,-2.5\n-1.75,1.25,-2.25\n-1.75,1.25,-2.0\n-1.75,1.25,-1.75\n-1.75,1.25,-1.5\n-1.75,1.25,-1.25\n-1.75,1.25,-1.0\n-1.75,1.25,-0.75\n-1.75,1.25,-0.5\n-1.75,1.25,-0.25\n-1.75,1.25,0.0\n-1.75,1.25,0.25\n-1.75,1.25,0.5\n-1.75,1.25,0.75\n-1.75,1.25,1.0\n-1.75,1.25,1.25\n-1.75,1.25,1.5\n-1.75,1.25,1.75\n-1.75,1.25,2.0\n-1.75,1.25,2.25\n-1.75,1.25,2.5\n-1.75,1.5,-2.5\n-1.75,1.5,-2.25\n-1.75,1.5,-2.0\n-1.75,1.5,-1.75\n-1.75,1.5,-1.5\n-1.75,1.5,-1.25\n-1.75,1.5,-1.0\n-1.75,1.5,-0.75\n-1.75,1.5,-0.5\n-1.75,1.5,-0.25\n-1.75,1.5,0.0\n-1.75,1.5,0.25\n-1.75,1.5,0.5\n-1.75,1.5,0.75\n-1.75,1.5,1.0\n-1.75,1.5,1.25\n-1.75,1.5,1.5\n-1.75,1.5,1.75\n-1.75,1.5,2.0\n-1.75,1.5,2.25\n-1.75,1.5,2.5\n-1.75,1.75,-2.5\n-1.75,1.75,-2.25\n-1.75,1.75,-2.0\n-1.75,1.75,-1.75\n-1.75,1.75,-1.5\n-1.75,1.75,-1.25\n-1.75,1.75,-1.0\n-1.75,1.75,-0.75\n-1.75,1.75,-0.5\n-1.75,1.75,-0.25\n-1.75,1.75,0.0\n-1.75,1.75,0.25\n-1.75,1.75,0.5\n-1.75,1.75,0.75\n-1.75,1.75,1.0\n-1.75,1.75,1.25\n-1.75,1.75,1.5\n-1.75,1.75,1.75\n-1.75,1.75,2.0\n-1.75,1.75,2.25\n-1.75,1.75,2.5\n-1.75,2.0,-2.5\n-1.75,2.0,-2.25\n-1.75,2.0,-2.0\n-1.75,2.0,-1.75\n-1.75,2.0,-1.5\n-1.75,2.0,-1.25\n-1.75,2.0,-1.0\n-1.75,2.0,-0.75\n-1.75,2.0,-0.5\n-1.75,2.0,-0.25\n-1.75,2.0,0.0\n-1.75,2.0,0.25\n-1.75,2.0,0.5\n-1.75,2.0,0.75\n-1.75,2.0,1.0\n-1.75,2.0,1.25\n-1.75,2.0,1.5\n-1.75,2.0,1.75\n-1.75,2.0,2.0\n-1.75,2.0,2.25\n-1.75,2.0,2.5\n-1.75,2.25,-2.5\n-1.75,2.25,-2.25\n-1.75,2.25,-2.0\n-1.75,2.25,-1.75\n-1.75,2.25,-1.5\n-1.75,2.25,-1.25\n-1.75,2.25,-1.0\n-1.75,2.25,-0.75\n-1.75,2.25,-0.5\n-1.75,2.25,-0.25\n-1.75,2.25,0.0\n-1.75,2.25,0.25\n-1.75,2.25,0.5\n-1.75,2.25,0.75\n-1.75,2.25,1.0\n-1.75,2.25,1.25\n-1.75,2.25,1.5\n-1.75,2.25,1.75\n-1.75,2.25,2.0\n-1.75,2.25,2.25\n-1.75,2.25,2.5\n-1.75,2.5,-2.5\n-1.75,2.5,-2.25\n-1.75,2.5,-2.0\n-1.75,2.5,-1.75\n-1.75,2.5,-1.5\n-1.75,2.5,-1.25\n-1.75,2.5,-1.0\n-1.75,2.5,-0.75\n-1.75,2.5,-0.5\n-1.75,2.5,-0.25\n-1.75,2.5,0.0\n-1.75,2.5,0.25\n-1.75,2.5,0.5\n-1.75,2.5,0.75\n-1.75,2.5,1.0\n-1.75,2.5,1.25\n-1.75,2.5,1.5\n-1.75,2.5,1.75\n-1.75,2.5,2.0\n-1.75,2.5,2.25\n-1.75,2.5,2.5\n-1.5,-2.5,-2.5\n-1.5,-2.5,-2.25\n-1.5,-2.5,-2.0\n-1.5,-2.5,-1.75\n-1.5,-2.5,-1.5\n-1.5,-2.5,-1.25\n-1.5,-2.5,-1.0\n-1.5,-2.5,-0.75\n-1.5,-2.5,-0.5\n-1.5,-2.5,-0.25\n-1.5,-2.5,0.0\n-1.5,-2.5,0.25\n-1.5,-2.5,0.5\n-1.5,-2.5,0.75\n-1.5,-2.5,1.0\n-1.5,-2.5,1.25\n-1.5,-2.5,1.5\n-1.5,-2.5,1.75\n-1.5,-2.5,2.0\n-1.5,-2.5,2.25\n-1.5,-2.5,2.5\n-1.5,-2.25,-2.5\n-1.5,-2.25,-2.25\n-1.5,-2.25,-2.0\n-1.5,-2.25,-1.75\n-1.5,-2.25,-1.5\n-1.5,-2.25,-1.25\n-1.5,-2.25,-1.0\n-1.5,-2.25,-0.75\n-1.5,-2.25,-0.5\n-1.5,-2.25,-0.25\n-1.5,-2.25,0.0\n-1.5,-2.25,0.25\n-1.5,-2.25,0.5\n-1.5,-2.25,0.75\n-1.5,-2.25,1.0\n-1.5,-2.25,1.25\n-1.5,-2.25,1.5\n-1.5,-2.25,1.75\n-1.5,-2.25,2.0\n-1.5,-2.25,2.25\n-1.5,-2.25,2.5\n-1.5,-2.0,-2.5\n-1.5,-2.0,-2.25\n-1.5,-2.0,-2.0\n-1.5,-2.0,-1.75\n-1.5,-2.0,-1.5\n-1.5,-2.0,-1.25\n-1.5,-2.0,-1.0\n-1.5,-2.0,-0.75\n-1.5,-2.0,-0.5\n-1.5,-2.0,-0.25\n-1.5,-2.0,0.0\n-1.5,-2.0,0.25\n-1.5,-2.0,0.5\n-1.5,-2.0,0.75\n-1.5,-2.0,1.0\n-1.5,-2.0,1.25\n-1.5,-2.0,1.5\n-1.5,-2.0,1.75\n-1.5,-2.0,2.0\n-1.5,-2.0,2.25\n-1.5,-2.0,2.5\n-1.5,-1.75,-2.5\n-1.5,-1.75,-2.25\n-1.5,-1.75,-2.0\n-1.5,-1.75,-1.75\n-1.5,-1.75,-1.5\n-1.5,-1.75,-1.25\n-1.5,-1.75,-1.0\n-1.5,-1.75,-0.75\n-1.5,-1.75,-0.5\n-1.5,-1.75,-0.25\n-1.5,-1.75,0.0\n-1.5,-1.75,0.25\n-1.5,-1.75,0.5\n-1.5,-1.75,0.75\n-1.5,-1.75,1.0\n-1.5,-1.75,1.25\n-1.5,-1.75,1.5\n-1.5,-1.75,1.75\n-1.5,-1.75,2.0\n-1.5,-1.75,2.25\n-1.5,-1.75,2.5\n-1.5,-1.5,-2.5\n-1.5,-1.5,-2.25\n-1.5,-1.5,-2.0\n-1.5,-1.5,-1.75\n-1.5,-1.5,-1.5\n-1.5,-1.5,-1.25\n-1.5,-1.5,-1.0\n-1.5,-1.5,-0.75\n-1.5,-1.5,-0.5\n-1.5,-1.5,-0.25\n-1.5,-1.5,0.0\n-1.5,-1.5,0.25\n-1.5,-1.5,0.5\n-1.5,-1.5,0.75\n-1.5,-1.5,1.0\n-1.5,-1.5,1.25\n-1.5,-1.5,1.5\n-1.5,-1.5,1.75\n-1.5,-1.5,2.0\n-1.5,-1.5,2.25\n-1.5,-1.5,2.5\n-1.5,-1.25,-2.5\n-1.5,-1.25,-2.25\n-1.5,-1.25,-2.0\n-1.5,-1.25,-1.75\n-1.5,-1.25,-1.5\n-1.5,-1.25,-1.25\n-1.5,-1.25,-1.0\n-1.5,-1.25,-0.75\n-1.5,-1.25,-0.5\n-1.5,-1.25,-0.25\n-1.5,-1.25,0.0\n-1.5,-1.25,0.25\n-1.5,-1.25,0.5\n-1.5,-1.25,0.75\n-1.5,-1.25,1.0\n-1.5,-1.25,1.25\n-1.5,-1.25,1.5\n-1.5,-1.25,1.75\n-1.5,-1.25,2.0\n-1.5,-1.25,2.25\n-1.5,-1.25,2.5\n-1.5,-1.0,-2.5\n-1.5,-1.0,-2.25\n-1.5,-1.0,-2.0\n-1.5,-1.0,-1.75\n-1.5,-1.0,-1.5\n-1.5,-1.0,-1.25\n-1.5,-1.0,-1.0\n-1.5,-1.0,-0.75\n-1.5,-1.0,-0.5\n-1.5,-1.0,-0.25\n-1.5,-1.0,0.0\n-1.5,-1.0,0.25\n-1.5,-1.0,0.5\n-1.5,-1.0,0.75\n-1.5,-1.0,1.0\n-1.5,-1.0,1.25\n-1.5,-1.0,1.5\n-1.5,-1.0,1.75\n-1.5,-1.0,2.0\n-1.5,-1.0,2.25\n-1.5,-1.0,2.5\n-1.5,-0.75,-2.5\n-1.5,-0.75,-2.25\n-1.5,-0.75,-2.0\n-1.5,-0.75,-1.75\n-1.5,-0.75,-1.5\n-1.5,-0.75,-1.25\n-1.5,-0.75,-1.0\n-1.5,-0.75,-0.75\n-1.5,-0.75,-0.5\n-1.5,-0.75,-0.25\n-1.5,-0.75,0.0\n-1.5,-0.75,0.25\n-1.5,-0.75,0.5\n-1.5,-0.75,0.75\n-1.5,-0.75,1.0\n-1.5,-0.75,1.25\n-1.5,-0.75,1.5\n-1.5,-0.75,1.75\n-1.5,-0.75,2.0\n-1.5,-0.75,2.25\n-1.5,-0.75,2.5\n-1.5,-0.5,-2.5\n-1.5,-0.5,-2.25\n-1.5,-0.5,-2.0\n-1.5,-0.5,-1.75\n-1.5,-0.5,-1.5\n-1.5,-0.5,-1.25\n-1.5,-0.5,-1.0\n-1.5,-0.5,-0.75\n-1.5,-0.5,-0.5\n-1.5,-0.5,-0.25\n-1.5,-0.5,0.0\n-1.5,-0.5,0.25\n-1.5,-0.5,0.5\n-1.5,-0.5,0.75\n-1.5,-0.5,1.0\n-1.5,-0.5,1.25\n-1.5,-0.5,1.5\n-1.5,-0.5,1.75\n-1.5,-0.5,2.0\n-1.5,-0.5,2.25\n-1.5,-0.5,2.5\n-1.5,-0.25,-2.5\n-1.5,-0.25,-2.25\n-1.5,-0.25,-2.0\n-1.5,-0.25,-1.75\n-1.5,-0.25,-1.5\n-1.5,-0.25,-1.25\n-1.5,-0.25,-1.0\n-1.5,-0.25,-0.75\n-1.5,-0.25,-0.5\n-1.5,-0.25,-0.25\n-1.5,-0.25,0.0\n-1.5,-0.25,0.25\n-1.5,-0.25,0.5\n-1.5,-0.25,0.75\n-1.5,-0.25,1.0\n-1.5,-0.25,1.25\n-1.5,-0.25,1.5\n-1.5,-0.25,1.75\n-1.5,-0.25,2.0\n-1.5,-0.25,2.25\n-1.5,-0.25,2.5\n-1.5,0.0,-2.5\n-1.5,0.0,-2.25\n-1.5,0.0,-2.0\n-1.5,0.0,-1.75\n-1.5,0.0,-1.5\n-1.5,0.0,-1.25\n-1.5,0.0,-1.0\n-1.5,0.0,-0.75\n-1.5,0.0,-0.5\n-1.5,0.0,-0.25\n-1.5,0.0,0.0\n-1.5,0.0,0.25\n-1.5,0.0,0.5\n-1.5,0.0,0.75\n-1.5,0.0,1.0\n-1.5,0.0,1.25\n-1.5,0.0,1.5\n-1.5,0.0,1.75\n-1.5,0.0,2.0\n-1.5,0.0,2.25\n-1.5,0.0,2.5\n-1.5,0.25,-2.5\n-1.5,0.25,-2.25\n-1.5,0.25,-2.0\n-1.5,0.25,-1.75\n-1.5,0.25,-1.5\n-1.5,0.25,-1.25\n-1.5,0.25,-1.0\n-1.5,0.25,-0.75\n-1.5,0.25,-0.5\n-1.5,0.25,-0.25\n-1.5,0.25,0.0\n-1.5,0.25,0.25\n-1.5,0.25,0.5\n-1.5,0.25,0.75\n-1.5,0.25,1.0\n-1.5,0.25,1.25\n-1.5,0.25,1.5\n-1.5,0.25,1.75\n-1.5,0.25,2.0\n-1.5,0.25,2.25\n-1.5,0.25,2.5\n-1.5,0.5,-2.5\n-1.5,0.5,-2.25\n-1.5,0.5,-2.0\n-1.5,0.5,-1.75\n-1.5,0.5,-1.5\n-1.5,0.5,-1.25\n-1.5,0.5,-1.0\n-1.5,0.5,-0.75\n-1.5,0.5,-0.5\n-1.5,0.5,-0.25\n-1.5,0.5,0.0\n-1.5,0.5,0.25\n-1.5,0.5,0.5\n-1.5,0.5,0.75\n-1.5,0.5,1.0\n-1.5,0.5,1.25\n-1.5,0.5,1.5\n-1.5,0.5,1.75\n-1.5,0.5,2.0\n-1.5,0.5,2.25\n-1.5,0.5,2.5\n-1.5,0.75,-2.5\n-1.5,0.75,-2.25\n-1.5,0.75,-2.0\n-1.5,0.75,-1.75\n-1.5,0.75,-1.5\n-1.5,0.75,-1.25\n-1.5,0.75,-1.0\n-1.5,0.75,-0.75\n-1.5,0.75,-0.5\n-1.5,0.75,-0.25\n-1.5,0.75,0.0\n-1.5,0.75,0.25\n-1.5,0.75,0.5\n-1.5,0.75,0.75\n-1.5,0.75,1.0\n-1.5,0.75,1.25\n-1.5,0.75,1.5\n-1.5,0.75,1.75\n-1.5,0.75,2.0\n-1.5,0.75,2.25\n-1.5,0.75,2.5\n-1.5,1.0,-2.5\n-1.5,1.0,-2.25\n-1.5,1.0,-2.0\n-1.5,1.0,-1.75\n-1.5,1.0,-1.5\n-1.5,1.0,-1.25\n-1.5,1.0,-1.0\n-1.5,1.0,-0.75\n-1.5,1.0,-0.5\n-1.5,1.0,-0.25\n-1.5,1.0,0.0\n-1.5,1.0,0.25\n-1.5,1.0,0.5\n-1.5,1.0,0.75\n-1.5,1.0,1.0\n-1.5,1.0,1.25\n-1.5,1.0,1.5\n-1.5,1.0,1.75\n-1.5,1.0,2.0\n-1.5,1.0,2.25\n-1.5,1.0,2.5\n-1.5,1.25,-2.5\n-1.5,1.25,-2.25\n-1.5,1.25,-2.0\n-1.5,1.25,-1.75\n-1.5,1.25,-1.5\n-1.5,1.25,-1.25\n-1.5,1.25,-1.0\n-1.5,1.25,-0.75\n-1.5,1.25,-0.5\n-1.5,1.25,-0.25\n-1.5,1.25,0.0\n-1.5,1.25,0.25\n-1.5,1.25,0.5\n-1.5,1.25,0.75\n-1.5,1.25,1.0\n-1.5,1.25,1.25\n-1.5,1.25,1.5\n-1.5,1.25,1.75\n-1.5,1.25,2.0\n-1.5,1.25,2.25\n-1.5,1.25,2.5\n-1.5,1.5,-2.5\n-1.5,1.5,-2.25\n-1.5,1.5,-2.0\n-1.5,1.5,-1.75\n-1.5,1.5,-1.5\n-1.5,1.5,-1.25\n-1.5,1.5,-1.0\n-1.5,1.5,-0.75\n-1.5,1.5,-0.5\n-1.5,1.5,-0.25\n-1.5,1.5,0.0\n-1.5,1.5,0.25\n-1.5,1.5,0.5\n-1.5,1.5,0.75\n-1.5,1.5,1.0\n-1.5,1.5,1.25\n-1.5,1.5,1.5\n-1.5,1.5,1.75\n-1.5,1.5,2.0\n-1.5,1.5,2.25\n-1.5,1.5,2.5\n-1.5,1.75,-2.5\n-1.5,1.75,-2.25\n-1.5,1.75,-2.0\n-1.5,1.75,-1.75\n-1.5,1.75,-1.5\n-1.5,1.75,-1.25\n-1.5,1.75,-1.0\n-1.5,1.75,-0.75\n-1.5,1.75,-0.5\n-1.5,1.75,-0.25\n-1.5,1.75,0.0\n-1.5,1.75,0.25\n-1.5,1.75,0.5\n-1.5,1.75,0.75\n-1.5,1.75,1.0\n-1.5,1.75,1.25\n-1.5,1.75,1.5\n-1.5,1.75,1.75\n-1.5,1.75,2.0\n-1.5,1.75,2.25\n-1.5,1.75,2.5\n-1.5,2.0,-2.5\n-1.5,2.0,-2.25\n-1.5,2.0,-2.0\n-1.5,2.0,-1.75\n-1.5,2.0,-1.5\n-1.5,2.0,-1.25\n-1.5,2.0,-1.0\n-1.5,2.0,-0.75\n-1.5,2.0,-0.5\n-1.5,2.0,-0.25\n-1.5,2.0,0.0\n-1.5,2.0,0.25\n-1.5,2.0,0.5\n-1.5,2.0,0.75\n-1.5,2.0,1.0\n-1.5,2.0,1.25\n-1.5,2.0,1.5\n-1.5,2.0,1.75\n-1.5,2.0,2.0\n-1.5,2.0,2.25\n-1.5,2.0,2.5\n-1.5,2.25,-2.5\n-1.5,2.25,-2.25\n-1.5,2.25,-2.0\n-1.5,2.25,-1.75\n-1.5,2.25,-1.5\n-1.5,2.25,-1.25\n-1.5,2.25,-1.0\n-1.5,2.25,-0.75\n-1.5,2.25,-0.5\n-1.5,2.25,-0.25\n-1.5,2.25,0.0\n-1.5,2.25,0.25\n-1.5,2.25,0.5\n-1.5,2.25,0.75\n-1.5,2.25,1.0\n-1.5,2.25,1.25\n-1.5,2.25,1.5\n-1.5,2.25,1.75\n-1.5,2.25,2.0\n-1.5,2.25,2.25\n-1.5,2.25,2.5\n-1.5,2.5,-2.5\n-1.5,2.5,-2.25\n-1.5,2.5,-2.0\n-1.5,2.5,-1.75\n-1.5,2.5,-1.5\n-1.5,2.5,-1.25\n-1.5,2.5,-1.0\n-1.5,2.5,-0.75\n-1.5,2.5,-0.5\n-1.5,2.5,-0.25\n-1.5,2.5,0.0\n-1.5,2.5,0.25\n-1.5,2.5,0.5\n-1.5,2.5,0.75\n-1.5,2.5,1.0\n-1.5,2.5,1.25\n-1.5,2.5,1.5\n-1.5,2.5,1.75\n-1.5,2.5,2.0\n-1.5,2.5,2.25\n-1.5,2.5,2.5\n-1.25,-2.5,-2.5\n-1.25,-2.5,-2.25\n-1.25,-2.5,-2.0\n-1.25,-2.5,-1.75\n-1.25,-2.5,-1.5\n-1.25,-2.5,-1.25\n-1.25,-2.5,-1.0\n-1.25,-2.5,-0.75\n-1.25,-2.5,-0.5\n-1.25,-2.5,-0.25\n-1.25,-2.5,0.0\n-1.25,-2.5,0.25\n-1.25,-2.5,0.5\n-1.25,-2.5,0.75\n-1.25,-2.5,1.0\n-1.25,-2.5,1.25\n-1.25,-2.5,1.5\n-1.25,-2.5,1.75\n-1.25,-2.5,2.0\n-1.25,-2.5,2.25\n-1.25,-2.5,2.5\n-1.25,-2.25,-2.5\n-1.25,-2.25,-2.25\n-1.25,-2.25,-2.0\n-1.25,-2.25,-1.75\n-1.25,-2.25,-1.5\n-1.25,-2.25,-1.25\n-1.25,-2.25,-1.0\n-1.25,-2.25,-0.75\n-1.25,-2.25,-0.5\n-1.25,-2.25,-0.25\n-1.25,-2.25,0.0\n-1.25,-2.25,0.25\n-1.25,-2.25,0.5\n-1.25,-2.25,0.75\n-1.25,-2.25,1.0\n-1.25,-2.25,1.25\n-1.25,-2.25,1.5\n-1.25,-2.25,1.75\n-1.25,-2.25,2.0\n-1.25,-2.25,2.25\n-1.25,-2.25,2.5\n-1.25,-2.0,-2.5\n-1.25,-2.0,-2.25\n-1.25,-2.0,-2.0\n-1.25,-2.0,-1.75\n-1.25,-2.0,-1.5\n-1.25,-2.0,-1.25\n-1.25,-2.0,-1.0\n-1.25,-2.0,-0.75\n-1.25,-2.0,-0.5\n-1.25,-2.0,-0.25\n-1.25,-2.0,0.0\n-1.25,-2.0,0.25\n-1.25,-2.0,0.5\n-1.25,-2.0,0.75\n-1.25,-2.0,1.0\n-1.25,-2.0,1.25\n-1.25,-2.0,1.5\n-1.25,-2.0,1.75\n-1.25,-2.0,2.0\n-1.25,-2.0,2.25\n-1.25,-2.0,2.5\n-1.25,-1.75,-2.5\n-1.25,-1.75,-2.25\n-1.25,-1.75,-2.0\n-1.25,-1.75,-1.75\n-1.25,-1.75,-1.5\n-1.25,-1.75,-1.25\n-1.25,-1.75,-1.0\n-1.25,-1.75,-0.75\n-1.25,-1.75,-0.5\n-1.25,-1.75,-0.25\n-1.25,-1.75,0.0\n-1.25,-1.75,0.25\n-1.25,-1.75,0.5\n-1.25,-1.75,0.75\n-1.25,-1.75,1.0\n-1.25,-1.75,1.25\n-1.25,-1.75,1.5\n-1.25,-1.75,1.75\n-1.25,-1.75,2.0\n-1.25,-1.75,2.25\n-1.25,-1.75,2.5\n-1.25,-1.5,-2.5\n-1.25,-1.5,-2.25\n-1.25,-1.5,-2.0\n-1.25,-1.5,-1.75\n-1.25,-1.5,-1.5\n-1.25,-1.5,-1.25\n-1.25,-1.5,-1.0\n-1.25,-1.5,-0.75\n-1.25,-1.5,-0.5\n-1.25,-1.5,-0.25\n-1.25,-1.5,0.0\n-1.25,-1.5,0.25\n-1.25,-1.5,0.5\n-1.25,-1.5,0.75\n-1.25,-1.5,1.0\n-1.25,-1.5,1.25\n-1.25,-1.5,1.5\n-1.25,-1.5,1.75\n-1.25,-1.5,2.0\n-1.25,-1.5,2.25\n-1.25,-1.5,2.5\n-1.25,-1.25,-2.5\n-1.25,-1.25,-2.25\n-1.25,-1.25,-2.0\n-1.25,-1.25,-1.75\n-1.25,-1.25,-1.5\n-1.25,-1.25,-1.25\n-1.25,-1.25,-1.0\n-1.25,-1.25,-0.75\n-1.25,-1.25,-0.5\n-1.25,-1.25,-0.25\n-1.25,-1.25,0.0\n-1.25,-1.25,0.25\n-1.25,-1.25,0.5\n-1.25,-1.25,0.75\n-1.25,-1.25,1.0\n-1.25,-1.25,1.25\n-1.25,-1.25,1.5\n-1.25,-1.25,1.75\n-1.25,-1.25,2.0\n-1.25,-1.25,2.25\n-1.25,-1.25,2.5\n-1.25,-1.0,-2.5\n-1.25,-1.0,-2.25\n-1.25,-1.0,-2.0\n-1.25,-1.0,-1.75\n-1.25,-1.0,-1.5\n-1.25,-1.0,-1.25\n-1.25,-1.0,-1.0\n-1.25,-1.0,-0.75\n-1.25,-1.0,-0.5\n-1.25,-1.0,-0.25\n-1.25,-1.0,0.0\n-1.25,-1.0,0.25\n-1.25,-1.0,0.5\n-1.25,-1.0,0.75\n-1.25,-1.0,1.0\n-1.25,-1.0,1.25\n-1.25,-1.0,1.5\n-1.25,-1.0,1.75\n-1.25,-1.0,2.0\n-1.25,-1.0,2.25\n-1.25,-1.0,2.5\n-1.25,-0.75,-2.5\n-1.25,-0.75,-2.25\n-1.25,-0.75,-2.0\n-1.25,-0.75,-1.75\n-1.25,-0.75,-1.5\n-1.25,-0.75,-1.25\n-1.25,-0.75,-1.0\n-1.25,-0.75,-0.75\n-1.25,-0.75,-0.5\n-1.25,-0.75,-0.25\n-1.25,-0.75,0.0\n-1.25,-0.75,0.25\n-1.25,-0.75,0.5\n-1.25,-0.75,0.75\n-1.25,-0.75,1.0\n-1.25,-0.75,1.25\n-1.25,-0.75,1.5\n-1.25,-0.75,1.75\n-1.25,-0.75,2.0\n-1.25,-0.75,2.25\n-1.25,-0.75,2.5\n-1.25,-0.5,-2.5\n-1.25,-0.5,-2.25\n-1.25,-0.5,-2.0\n-1.25,-0.5,-1.75\n-1.25,-0.5,-1.5\n-1.25,-0.5,-1.25\n-1.25,-0.5,-1.0\n-1.25,-0.5,-0.75\n-1.25,-0.5,-0.5\n-1.25,-0.5,-0.25\n-1.25,-0.5,0.0\n-1.25,-0.5,0.25\n-1.25,-0.5,0.5\n-1.25,-0.5,0.75\n-1.25,-0.5,1.0\n-1.25,-0.5,1.25\n-1.25,-0.5,1.5\n-1.25,-0.5,1.75\n-1.25,-0.5,2.0\n-1.25,-0.5,2.25\n-1.25,-0.5,2.5\n-1.25,-0.25,-2.5\n-1.25,-0.25,-2.25\n-1.25,-0.25,-2.0\n-1.25,-0.25,-1.75\n-1.25,-0.25,-1.5\n-1.25,-0.25,-1.25\n-1.25,-0.25,-1.0\n-1.25,-0.25,-0.75\n-1.25,-0.25,-0.5\n-1.25,-0.25,-0.25\n-1.25,-0.25,0.0\n-1.25,-0.25,0.25\n-1.25,-0.25,0.5\n-1.25,-0.25,0.75\n-1.25,-0.25,1.0\n-1.25,-0.25,1.25\n-1.25,-0.25,1.5\n-1.25,-0.25,1.75\n-1.25,-0.25,2.0\n-1.25,-0.25,2.25\n-1.25,-0.25,2.5\n-1.25,0.0,-2.5\n-1.25,0.0,-2.25\n-1.25,0.0,-2.0\n-1.25,0.0,-1.75\n-1.25,0.0,-1.5\n-1.25,0.0,-1.25\n-1.25,0.0,-1.0\n-1.25,0.0,-0.75\n-1.25,0.0,-0.5\n-1.25,0.0,-0.25\n-1.25,0.0,0.0\n-1.25,0.0,0.25\n-1.25,0.0,0.5\n-1.25,0.0,0.75\n-1.25,0.0,1.0\n-1.25,0.0,1.25\n-1.25,0.0,1.5\n-1.25,0.0,1.75\n-1.25,0.0,2.0\n-1.25,0.0,2.25\n-1.25,0.0,2.5\n-1.25,0.25,-2.5\n-1.25,0.25,-2.25\n-1.25,0.25,-2.0\n-1.25,0.25,-1.75\n-1.25,0.25,-1.5\n-1.25,0.25,-1.25\n-1.25,0.25,-1.0\n-1.25,0.25,-0.75\n-1.25,0.25,-0.5\n-1.25,0.25,-0.25\n-1.25,0.25,0.0\n-1.25,0.25,0.25\n-1.25,0.25,0.5\n-1.25,0.25,0.75\n-1.25,0.25,1.0\n-1.25,0.25,1.25\n-1.25,0.25,1.5\n-1.25,0.25,1.75\n-1.25,0.25,2.0\n-1.25,0.25,2.25\n-1.25,0.25,2.5\n-1.25,0.5,-2.5\n-1.25,0.5,-2.25\n-1.25,0.5,-2.0\n-1.25,0.5,-1.75\n-1.25,0.5,-1.5\n-1.25,0.5,-1.25\n-1.25,0.5,-1.0\n-1.25,0.5,-0.75\n-1.25,0.5,-0.5\n-1.25,0.5,-0.25\n-1.25,0.5,0.0\n-1.25,0.5,0.25\n-1.25,0.5,0.5\n-1.25,0.5,0.75\n-1.25,0.5,1.0\n-1.25,0.5,1.25\n-1.25,0.5,1.5\n-1.25,0.5,1.75\n-1.25,0.5,2.0\n-1.25,0.5,2.25\n-1.25,0.5,2.5\n-1.25,0.75,-2.5\n-1.25,0.75,-2.25\n-1.25,0.75,-2.0\n-1.25,0.75,-1.75\n-1.25,0.75,-1.5\n-1.25,0.75,-1.25\n-1.25,0.75,-1.0\n-1.25,0.75,-0.75\n-1.25,0.75,-0.5\n-1.25,0.75,-0.25\n-1.25,0.75,0.0\n-1.25,0.75,0.25\n-1.25,0.75,0.5\n-1.25,0.75,0.75\n-1.25,0.75,1.0\n-1.25,0.75,1.25\n-1.25,0.75,1.5\n-1.25,0.75,1.75\n-1.25,0.75,2.0\n-1.25,0.75,2.25\n-1.25,0.75,2.5\n-1.25,1.0,-2.5\n-1.25,1.0,-2.25\n-1.25,1.0,-2.0\n-1.25,1.0,-1.75\n-1.25,1.0,-1.5\n-1.25,1.0,-1.25\n-1.25,1.0,-1.0\n-1.25,1.0,-0.75\n-1.25,1.0,-0.5\n-1.25,1.0,-0.25\n-1.25,1.0,0.0\n-1.25,1.0,0.25\n-1.25,1.0,0.5\n-1.25,1.0,0.75\n-1.25,1.0,1.0\n-1.25,1.0,1.25\n-1.25,1.0,1.5\n-1.25,1.0,1.75\n-1.25,1.0,2.0\n-1.25,1.0,2.25\n-1.25,1.0,2.5\n-1.25,1.25,-2.5\n-1.25,1.25,-2.25\n-1.25,1.25,-2.0\n-1.25,1.25,-1.75\n-1.25,1.25,-1.5\n-1.25,1.25,-1.25\n-1.25,1.25,-1.0\n-1.25,1.25,-0.75\n-1.25,1.25,-0.5\n-1.25,1.25,-0.25\n-1.25,1.25,0.0\n-1.25,1.25,0.25\n-1.25,1.25,0.5\n-1.25,1.25,0.75\n-1.25,1.25,1.0\n-1.25,1.25,1.25\n-1.25,1.25,1.5\n-1.25,1.25,1.75\n-1.25,1.25,2.0\n-1.25,1.25,2.25\n-1.25,1.25,2.5\n-1.25,1.5,-2.5\n-1.25,1.5,-2.25\n-1.25,1.5,-2.0\n-1.25,1.5,-1.75\n-1.25,1.5,-1.5\n-1.25,1.5,-1.25\n-1.25,1.5,-1.0\n-1.25,1.5,-0.75\n-1.25,1.5,-0.5\n-1.25,1.5,-0.25\n-1.25,1.5,0.0\n-1.25,1.5,0.25\n-1.25,1.5,0.5\n-1.25,1.5,0.75\n-1.25,1.5,1.0\n-1.25,1.5,1.25\n-1.25,1.5,1.5\n-1.25,1.5,1.75\n-1.25,1.5,2.0\n-1.25,1.5,2.25\n-1.25,1.5,2.5\n-1.25,1.75,-2.5\n-1.25,1.75,-2.25\n-1.25,1.75,-2.0\n-1.25,1.75,-1.75\n-1.25,1.75,-1.5\n-1.25,1.75,-1.25\n-1.25,1.75,-1.0\n-1.25,1.75,-0.75\n-1.25,1.75,-0.5\n-1.25,1.75,-0.25\n-1.25,1.75,0.0\n-1.25,1.75,0.25\n-1.25,1.75,0.5\n-1.25,1.75,0.75\n-1.25,1.75,1.0\n-1.25,1.75,1.25\n-1.25,1.75,1.5\n-1.25,1.75,1.75\n-1.25,1.75,2.0\n-1.25,1.75,2.25\n-1.25,1.75,2.5\n-1.25,2.0,-2.5\n-1.25,2.0,-2.25\n-1.25,2.0,-2.0\n-1.25,2.0,-1.75\n-1.25,2.0,-1.5\n-1.25,2.0,-1.25\n-1.25,2.0,-1.0\n-1.25,2.0,-0.75\n-1.25,2.0,-0.5\n-1.25,2.0,-0.25\n-1.25,2.0,0.0\n-1.25,2.0,0.25\n-1.25,2.0,0.5\n-1.25,2.0,0.75\n-1.25,2.0,1.0\n-1.25,2.0,1.25\n-1.25,2.0,1.5\n-1.25,2.0,1.75\n-1.25,2.0,2.0\n-1.25,2.0,2.25\n-1.25,2.0,2.5\n-1.25,2.25,-2.5\n-1.25,2.25,-2.25\n-1.25,2.25,-2.0\n-1.25,2.25,-1.75\n-1.25,2.25,-1.5\n-1.25,2.25,-1.25\n-1.25,2.25,-1.0\n-1.25,2.25,-0.75\n-1.25,2.25,-0.5\n-1.25,2.25,-0.25\n-1.25,2.25,0.0\n-1.25,2.25,0.25\n-1.25,2.25,0.5\n-1.25,2.25,0.75\n-1.25,2.25,1.0\n-1.25,2.25,1.25\n-1.25,2.25,1.5\n-1.25,2.25,1.75\n-1.25,2.25,2.0\n-1.25,2.25,2.25\n-1.25,2.25,2.5\n-1.25,2.5,-2.5\n-1.25,2.5,-2.25\n-1.25,2.5,-2.0\n-1.25,2.5,-1.75\n-1.25,2.5,-1.5\n-1.25,2.5,-1.25\n-1.25,2.5,-1.0\n-1.25,2.5,-0.75\n-1.25,2.5,-0.5\n-1.25,2.5,-0.25\n-1.25,2.5,0.0\n-1.25,2.5,0.25\n-1.25,2.5,0.5\n-1.25,2.5,0.75\n-1.25,2.5,1.0\n-1.25,2.5,1.25\n-1.25,2.5,1.5\n-1.25,2.5,1.75\n-1.25,2.5,2.0\n-1.25,2.5,2.25\n-1.25,2.5,2.5\n-1.0,-2.5,-2.5\n-1.0,-2.5,-2.25\n-1.0,-2.5,-2.0\n-1.0,-2.5,-1.75\n-1.0,-2.5,-1.5\n-1.0,-2.5,-1.25\n-1.0,-2.5,-1.0\n-1.0,-2.5,-0.75\n-1.0,-2.5,-0.5\n-1.0,-2.5,-0.25\n-1.0,-2.5,0.0\n-1.0,-2.5,0.25\n-1.0,-2.5,0.5\n-1.0,-2.5,0.75\n-1.0,-2.5,1.0\n-1.0,-2.5,1.25\n-1.0,-2.5,1.5\n-1.0,-2.5,1.75\n-1.0,-2.5,2.0\n-1.0,-2.5,2.25\n-1.0,-2.5,2.5\n-1.0,-2.25,-2.5\n-1.0,-2.25,-2.25\n-1.0,-2.25,-2.0\n-1.0,-2.25,-1.75\n-1.0,-2.25,-1.5\n-1.0,-2.25,-1.25\n-1.0,-2.25,-1.0\n-1.0,-2.25,-0.75\n-1.0,-2.25,-0.5\n-1.0,-2.25,-0.25\n-1.0,-2.25,0.0\n-1.0,-2.25,0.25\n-1.0,-2.25,0.5\n-1.0,-2.25,0.75\n-1.0,-2.25,1.0\n-1.0,-2.25,1.25\n-1.0,-2.25,1.5\n-1.0,-2.25,1.75\n-1.0,-2.25,2.0\n-1.0,-2.25,2.25\n-1.0,-2.25,2.5\n-1.0,-2.0,-2.5\n-1.0,-2.0,-2.25\n-1.0,-2.0,-2.0\n-1.0,-2.0,-1.75\n-1.0,-2.0,-1.5\n-1.0,-2.0,-1.25\n-1.0,-2.0,-1.0\n-1.0,-2.0,-0.75\n-1.0,-2.0,-0.5\n-1.0,-2.0,-0.25\n-1.0,-2.0,0.0\n-1.0,-2.0,0.25\n-1.0,-2.0,0.5\n-1.0,-2.0,0.75\n-1.0,-2.0,1.0\n-1.0,-2.0,1.25\n-1.0,-2.0,1.5\n-1.0,-2.0,1.75\n-1.0,-2.0,2.0\n-1.0,-2.0,2.25\n-1.0,-2.0,2.5\n-1.0,-1.75,-2.5\n-1.0,-1.75,-2.25\n-1.0,-1.75,-2.0\n-1.0,-1.75,-1.75\n-1.0,-1.75,-1.5\n-1.0,-1.75,-1.25\n-1.0,-1.75,-1.0\n-1.0,-1.75,-0.75\n-1.0,-1.75,-0.5\n-1.0,-1.75,-0.25\n-1.0,-1.75,0.0\n-1.0,-1.75,0.25\n-1.0,-1.75,0.5\n-1.0,-1.75,0.75\n-1.0,-1.75,1.0\n-1.0,-1.75,1.25\n-1.0,-1.75,1.5\n-1.0,-1.75,1.75\n-1.0,-1.75,2.0\n-1.0,-1.75,2.25\n-1.0,-1.75,2.5\n-1.0,-1.5,-2.5\n-1.0,-1.5,-2.25\n-1.0,-1.5,-2.0\n-1.0,-1.5,-1.75\n-1.0,-1.5,-1.5\n-1.0,-1.5,-1.25\n-1.0,-1.5,-1.0\n-1.0,-1.5,-0.75\n-1.0,-1.5,-0.5\n-1.0,-1.5,-0.25\n-1.0,-1.5,0.0\n-1.0,-1.5,0.25\n-1.0,-1.5,0.5\n-1.0,-1.5,0.75\n-1.0,-1.5,1.0\n-1.0,-1.5,1.25\n-1.0,-1.5,1.5\n-1.0,-1.5,1.75\n-1.0,-1.5,2.0\n-1.0,-1.5,2.25\n-1.0,-1.5,2.5\n-1.0,-1.25,-2.5\n-1.0,-1.25,-2.25\n-1.0,-1.25,-2.0\n-1.0,-1.25,-1.75\n-1.0,-1.25,-1.5\n-1.0,-1.25,-1.25\n-1.0,-1.25,-1.0\n-1.0,-1.25,-0.75\n-1.0,-1.25,-0.5\n-1.0,-1.25,-0.25\n-1.0,-1.25,0.0\n-1.0,-1.25,0.25\n-1.0,-1.25,0.5\n-1.0,-1.25,0.75\n-1.0,-1.25,1.0\n-1.0,-1.25,1.25\n-1.0,-1.25,1.5\n-1.0,-1.25,1.75\n-1.0,-1.25,2.0\n-1.0,-1.25,2.25\n-1.0,-1.25,2.5\n-1.0,-1.0,-2.5\n-1.0,-1.0,-2.25\n-1.0,-1.0,-2.0\n-1.0,-1.0,-1.75\n-1.0,-1.0,-1.5\n-1.0,-1.0,-1.25\n-1.0,-1.0,-1.0\n-1.0,-1.0,-0.75\n-1.0,-1.0,-0.5\n-1.0,-1.0,-0.25\n-1.0,-1.0,0.0\n-1.0,-1.0,0.25\n-1.0,-1.0,0.5\n-1.0,-1.0,0.75\n-1.0,-1.0,1.0\n-1.0,-1.0,1.25\n-1.0,-1.0,1.5\n-1.0,-1.0,1.75\n-1.0,-1.0,2.0\n-1.0,-1.0,2.25\n-1.0,-1.0,2.5\n-1.0,-0.75,-2.5\n-1.0,-0.75,-2.25\n-1.0,-0.75,-2.0\n-1.0,-0.75,-1.75\n-1.0,-0.75,-1.5\n-1.0,-0.75,-1.25\n-1.0,-0.75,-1.0\n-1.0,-0.75,-0.75\n-1.0,-0.75,-0.5\n-1.0,-0.75,-0.25\n-1.0,-0.75,0.0\n-1.0,-0.75,0.25\n-1.0,-0.75,0.5\n-1.0,-0.75,0.75\n-1.0,-0.75,1.0\n-1.0,-0.75,1.25\n-1.0,-0.75,1.5\n-1.0,-0.75,1.75\n-1.0,-0.75,2.0\n-1.0,-0.75,2.25\n-1.0,-0.75,2.5\n-1.0,-0.5,-2.5\n-1.0,-0.5,-2.25\n-1.0,-0.5,-2.0\n-1.0,-0.5,-1.75\n-1.0,-0.5,-1.5\n-1.0,-0.5,-1.25\n-1.0,-0.5,-1.0\n-1.0,-0.5,-0.75\n-1.0,-0.5,-0.5\n-1.0,-0.5,-0.25\n-1.0,-0.5,0.0\n-1.0,-0.5,0.25\n-1.0,-0.5,0.5\n-1.0,-0.5,0.75\n-1.0,-0.5,1.0\n-1.0,-0.5,1.25\n-1.0,-0.5,1.5\n-1.0,-0.5,1.75\n-1.0,-0.5,2.0\n-1.0,-0.5,2.25\n-1.0,-0.5,2.5\n-1.0,-0.25,-2.5\n-1.0,-0.25,-2.25\n-1.0,-0.25,-2.0\n-1.0,-0.25,-1.75\n-1.0,-0.25,-1.5\n-1.0,-0.25,-1.25\n-1.0,-0.25,-1.0\n-1.0,-0.25,-0.75\n-1.0,-0.25,-0.5\n-1.0,-0.25,-0.25\n-1.0,-0.25,0.0\n-1.0,-0.25,0.25\n-1.0,-0.25,0.5\n-1.0,-0.25,0.75\n-1.0,-0.25,1.0\n-1.0,-0.25,1.25\n-1.0,-0.25,1.5\n-1.0,-0.25,1.75\n-1.0,-0.25,2.0\n-1.0,-0.25,2.25\n-1.0,-0.25,2.5\n-1.0,0.0,-2.5\n-1.0,0.0,-2.25\n-1.0,0.0,-2.0\n-1.0,0.0,-1.75\n-1.0,0.0,-1.5\n-1.0,0.0,-1.25\n-1.0,0.0,-1.0\n-1.0,0.0,-0.75\n-1.0,0.0,-0.5\n-1.0,0.0,-0.25\n-1.0,0.0,0.0\n-1.0,0.0,0.25\n-1.0,0.0,0.5\n-1.0,0.0,0.75\n-1.0,0.0,1.0\n-1.0,0.0,1.25\n-1.0,0.0,1.5\n-1.0,0.0,1.75\n-1.0,0.0,2.0\n-1.0,0.0,2.25\n-1.0,0.0,2.5\n-1.0,0.25,-2.5\n-1.0,0.25,-2.25\n-1.0,0.25,-2.0\n-1.0,0.25,-1.75\n-1.0,0.25,-1.5\n-1.0,0.25,-1.25\n-1.0,0.25,-1.0\n-1.0,0.25,-0.75\n-1.0,0.25,-0.5\n-1.0,0.25,-0.25\n-1.0,0.25,0.0\n-1.0,0.25,0.25\n-1.0,0.25,0.5\n-1.0,0.25,0.75\n-1.0,0.25,1.0\n-1.0,0.25,1.25\n-1.0,0.25,1.5\n-1.0,0.25,1.75\n-1.0,0.25,2.0\n-1.0,0.25,2.25\n-1.0,0.25,2.5\n-1.0,0.5,-2.5\n-1.0,0.5,-2.25\n-1.0,0.5,-2.0\n-1.0,0.5,-1.75\n-1.0,0.5,-1.5\n-1.0,0.5,-1.25\n-1.0,0.5,-1.0\n-1.0,0.5,-0.75\n-1.0,0.5,-0.5\n-1.0,0.5,-0.25\n-1.0,0.5,0.0\n-1.0,0.5,0.25\n-1.0,0.5,0.5\n-1.0,0.5,0.75\n-1.0,0.5,1.0\n-1.0,0.5,1.25\n-1.0,0.5,1.5\n-1.0,0.5,1.75\n-1.0,0.5,2.0\n-1.0,0.5,2.25\n-1.0,0.5,2.5\n-1.0,0.75,-2.5\n-1.0,0.75,-2.25\n-1.0,0.75,-2.0\n-1.0,0.75,-1.75\n-1.0,0.75,-1.5\n-1.0,0.75,-1.25\n-1.0,0.75,-1.0\n-1.0,0.75,-0.75\n-1.0,0.75,-0.5\n-1.0,0.75,-0.25\n-1.0,0.75,0.0\n-1.0,0.75,0.25\n-1.0,0.75,0.5\n-1.0,0.75,0.75\n-1.0,0.75,1.0\n-1.0,0.75,1.25\n-1.0,0.75,1.5\n-1.0,0.75,1.75\n-1.0,0.75,2.0\n-1.0,0.75,2.25\n-1.0,0.75,2.5\n-1.0,1.0,-2.5\n-1.0,1.0,-2.25\n-1.0,1.0,-2.0\n-1.0,1.0,-1.75\n-1.0,1.0,-1.5\n-1.0,1.0,-1.25\n-1.0,1.0,-1.0\n-1.0,1.0,-0.75\n-1.0,1.0,-0.5\n-1.0,1.0,-0.25\n-1.0,1.0,0.0\n-1.0,1.0,0.25\n-1.0,1.0,0.5\n-1.0,1.0,0.75\n-1.0,1.0,1.0\n-1.0,1.0,1.25\n-1.0,1.0,1.5\n-1.0,1.0,1.75\n-1.0,1.0,2.0\n-1.0,1.0,2.25\n-1.0,1.0,2.5\n-1.0,1.25,-2.5\n-1.0,1.25,-2.25\n-1.0,1.25,-2.0\n-1.0,1.25,-1.75\n-1.0,1.25,-1.5\n-1.0,1.25,-1.25\n-1.0,1.25,-1.0\n-1.0,1.25,-0.75\n-1.0,1.25,-0.5\n-1.0,1.25,-0.25\n-1.0,1.25,0.0\n-1.0,1.25,0.25\n-1.0,1.25,0.5\n-1.0,1.25,0.75\n-1.0,1.25,1.0\n-1.0,1.25,1.25\n-1.0,1.25,1.5\n-1.0,1.25,1.75\n-1.0,1.25,2.0\n-1.0,1.25,2.25\n-1.0,1.25,2.5\n-1.0,1.5,-2.5\n-1.0,1.5,-2.25\n-1.0,1.5,-2.0\n-1.0,1.5,-1.75\n-1.0,1.5,-1.5\n-1.0,1.5,-1.25\n-1.0,1.5,-1.0\n-1.0,1.5,-0.75\n-1.0,1.5,-0.5\n-1.0,1.5,-0.25\n-1.0,1.5,0.0\n-1.0,1.5,0.25\n-1.0,1.5,0.5\n-1.0,1.5,0.75\n-1.0,1.5,1.0\n-1.0,1.5,1.25\n-1.0,1.5,1.5\n-1.0,1.5,1.75\n-1.0,1.5,2.0\n-1.0,1.5,2.25\n-1.0,1.5,2.5\n-1.0,1.75,-2.5\n-1.0,1.75,-2.25\n-1.0,1.75,-2.0\n-1.0,1.75,-1.75\n-1.0,1.75,-1.5\n-1.0,1.75,-1.25\n-1.0,1.75,-1.0\n-1.0,1.75,-0.75\n-1.0,1.75,-0.5\n-1.0,1.75,-0.25\n-1.0,1.75,0.0\n-1.0,1.75,0.25\n-1.0,1.75,0.5\n-1.0,1.75,0.75\n-1.0,1.75,1.0\n-1.0,1.75,1.25\n-1.0,1.75,1.5\n-1.0,1.75,1.75\n-1.0,1.75,2.0\n-1.0,1.75,2.25\n-1.0,1.75,2.5\n-1.0,2.0,-2.5\n-1.0,2.0,-2.25\n-1.0,2.0,-2.0\n-1.0,2.0,-1.75\n-1.0,2.0,-1.5\n-1.0,2.0,-1.25\n-1.0,2.0,-1.0\n-1.0,2.0,-0.75\n-1.0,2.0,-0.5\n-1.0,2.0,-0.25\n-1.0,2.0,0.0\n-1.0,2.0,0.25\n-1.0,2.0,0.5\n-1.0,2.0,0.75\n-1.0,2.0,1.0\n-1.0,2.0,1.25\n-1.0,2.0,1.5\n-1.0,2.0,1.75\n-1.0,2.0,2.0\n-1.0,2.0,2.25\n-1.0,2.0,2.5\n-1.0,2.25,-2.5\n-1.0,2.25,-2.25\n-1.0,2.25,-2.0\n-1.0,2.25,-1.75\n-1.0,2.25,-1.5\n-1.0,2.25,-1.25\n-1.0,2.25,-1.0\n-1.0,2.25,-0.75\n-1.0,2.25,-0.5\n-1.0,2.25,-0.25\n-1.0,2.25,0.0\n-1.0,2.25,0.25\n-1.0,2.25,0.5\n-1.0,2.25,0.75\n-1.0,2.25,1.0\n-1.0,2.25,1.25\n-1.0,2.25,1.5\n-1.0,2.25,1.75\n-1.0,2.25,2.0\n-1.0,2.25,2.25\n-1.0,2.25,2.5\n-1.0,2.5,-2.5\n-1.0,2.5,-2.25\n-1.0,2.5,-2.0\n-1.0,2.5,-1.75\n-1.0,2.5,-1.5\n-1.0,2.5,-1.25\n-1.0,2.5,-1.0\n-1.0,2.5,-0.75\n-1.0,2.5,-0.5\n-1.0,2.5,-0.25\n-1.0,2.5,0.0\n-1.0,2.5,0.25\n-1.0,2.5,0.5\n-1.0,2.5,0.75\n-1.0,2.5,1.0\n-1.0,2.5,1.25\n-1.0,2.5,1.5\n-1.0,2.5,1.75\n-1.0,2.5,2.0\n-1.0,2.5,2.25\n-1.0,2.5,2.5\n-0.75,-2.5,-2.5\n-0.75,-2.5,-2.25\n-0.75,-2.5,-2.0\n-0.75,-2.5,-1.75\n-0.75,-2.5,-1.5\n-0.75,-2.5,-1.25\n-0.75,-2.5,-1.0\n-0.75,-2.5,-0.75\n-0.75,-2.5,-0.5\n-0.75,-2.5,-0.25\n-0.75,-2.5,0.0\n-0.75,-2.5,0.25\n-0.75,-2.5,0.5\n-0.75,-2.5,0.75\n-0.75,-2.5,1.0\n-0.75,-2.5,1.25\n-0.75,-2.5,1.5\n-0.75,-2.5,1.75\n-0.75,-2.5,2.0\n-0.75,-2.5,2.25\n-0.75,-2.5,2.5\n-0.75,-2.25,-2.5\n-0.75,-2.25,-2.25\n-0.75,-2.25,-2.0\n-0.75,-2.25,-1.75\n-0.75,-2.25,-1.5\n-0.75,-2.25,-1.25\n-0.75,-2.25,-1.0\n-0.75,-2.25,-0.75\n-0.75,-2.25,-0.5\n-0.75,-2.25,-0.25\n-0.75,-2.25,0.0\n-0.75,-2.25,0.25\n-0.75,-2.25,0.5\n-0.75,-2.25,0.75\n-0.75,-2.25,1.0\n-0.75,-2.25,1.25\n-0.75,-2.25,1.5\n-0.75,-2.25,1.75\n-0.75,-2.25,2.0\n-0.75,-2.25,2.25\n-0.75,-2.25,2.5\n-0.75,-2.0,-2.5\n-0.75,-2.0,-2.25\n-0.75,-2.0,-2.0\n-0.75,-2.0,-1.75\n-0.75,-2.0,-1.5\n-0.75,-2.0,-1.25\n-0.75,-2.0,-1.0\n-0.75,-2.0,-0.75\n-0.75,-2.0,-0.5\n-0.75,-2.0,-0.25\n-0.75,-2.0,0.0\n-0.75,-2.0,0.25\n-0.75,-2.0,0.5\n-0.75,-2.0,0.75\n-0.75,-2.0,1.0\n-0.75,-2.0,1.25\n-0.75,-2.0,1.5\n-0.75,-2.0,1.75\n-0.75,-2.0,2.0\n-0.75,-2.0,2.25\n-0.75,-2.0,2.5\n-0.75,-1.75,-2.5\n-0.75,-1.75,-2.25\n-0.75,-1.75,-2.0\n-0.75,-1.75,-1.75\n-0.75,-1.75,-1.5\n-0.75,-1.75,-1.25\n-0.75,-1.75,-1.0\n-0.75,-1.75,-0.75\n-0.75,-1.75,-0.5\n-0.75,-1.75,-0.25\n-0.75,-1.75,0.0\n-0.75,-1.75,0.25\n-0.75,-1.75,0.5\n-0.75,-1.75,0.75\n-0.75,-1.75,1.0\n-0.75,-1.75,1.25\n-0.75,-1.75,1.5\n-0.75,-1.75,1.75\n-0.75,-1.75,2.0\n-0.75,-1.75,2.25\n-0.75,-1.75,2.5\n-0.75,-1.5,-2.5\n-0.75,-1.5,-2.25\n-0.75,-1.5,-2.0\n-0.75,-1.5,-1.75\n-0.75,-1.5,-1.5\n-0.75,-1.5,-1.25\n-0.75,-1.5,-1.0\n-0.75,-1.5,-0.75\n-0.75,-1.5,-0.5\n-0.75,-1.5,-0.25\n-0.75,-1.5,0.0\n-0.75,-1.5,0.25\n-0.75,-1.5,0.5\n-0.75,-1.5,0.75\n-0.75,-1.5,1.0\n-0.75,-1.5,1.25\n-0.75,-1.5,1.5\n-0.75,-1.5,1.75\n-0.75,-1.5,2.0\n-0.75,-1.5,2.25\n-0.75,-1.5,2.5\n-0.75,-1.25,-2.5\n-0.75,-1.25,-2.25\n-0.75,-1.25,-2.0\n-0.75,-1.25,-1.75\n-0.75,-1.25,-1.5\n-0.75,-1.25,-1.25\n-0.75,-1.25,-1.0\n-0.75,-1.25,-0.75\n-0.75,-1.25,-0.5\n-0.75,-1.25,-0.25\n-0.75,-1.25,0.0\n-0.75,-1.25,0.25\n-0.75,-1.25,0.5\n-0.75,-1.25,0.75\n-0.75,-1.25,1.0\n-0.75,-1.25,1.25\n-0.75,-1.25,1.5\n-0.75,-1.25,1.75\n-0.75,-1.25,2.0\n-0.75,-1.25,2.25\n-0.75,-1.25,2.5\n-0.75,-1.0,-2.5\n-0.75,-1.0,-2.25\n-0.75,-1.0,-2.0\n-0.75,-1.0,-1.75\n-0.75,-1.0,-1.5\n-0.75,-1.0,-1.25\n-0.75,-1.0,-1.0\n-0.75,-1.0,-0.75\n-0.75,-1.0,-0.5\n-0.75,-1.0,-0.25\n-0.75,-1.0,0.0\n-0.75,-1.0,0.25\n-0.75,-1.0,0.5\n-0.75,-1.0,0.75\n-0.75,-1.0,1.0\n-0.75,-1.0,1.25\n-0.75,-1.0,1.5\n-0.75,-1.0,1.75\n-0.75,-1.0,2.0\n-0.75,-1.0,2.25\n-0.75,-1.0,2.5\n-0.75,-0.75,-2.5\n-0.75,-0.75,-2.25\n-0.75,-0.75,-2.0\n-0.75,-0.75,-1.75\n-0.75,-0.75,-1.5\n-0.75,-0.75,-1.25\n-0.75,-0.75,-1.0\n-0.75,-0.75,-0.75\n-0.75,-0.75,-0.5\n-0.75,-0.75,-0.25\n-0.75,-0.75,0.0\n-0.75,-0.75,0.25\n-0.75,-0.75,0.5\n-0.75,-0.75,0.75\n-0.75,-0.75,1.0\n-0.75,-0.75,1.25\n-0.75,-0.75,1.5\n-0.75,-0.75,1.75\n-0.75,-0.75,2.0\n-0.75,-0.75,2.25\n-0.75,-0.75,2.5\n-0.75,-0.5,-2.5\n-0.75,-0.5,-2.25\n-0.75,-0.5,-2.0\n-0.75,-0.5,-1.75\n-0.75,-0.5,-1.5\n-0.75,-0.5,-1.25\n-0.75,-0.5,-1.0\n-0.75,-0.5,-0.75\n-0.75,-0.5,-0.5\n-0.75,-0.5,-0.25\n-0.75,-0.5,0.0\n-0.75,-0.5,0.25\n-0.75,-0.5,0.5\n-0.75,-0.5,0.75\n-0.75,-0.5,1.0\n-0.75,-0.5,1.25\n-0.75,-0.5,1.5\n-0.75,-0.5,1.75\n-0.75,-0.5,2.0\n-0.75,-0.5,2.25\n-0.75,-0.5,2.5\n-0.75,-0.25,-2.5\n-0.75,-0.25,-2.25\n-0.75,-0.25,-2.0\n-0.75,-0.25,-1.75\n-0.75,-0.25,-1.5\n-0.75,-0.25,-1.25\n-0.75,-0.25,-1.0\n-0.75,-0.25,-0.75\n-0.75,-0.25,-0.5\n-0.75,-0.25,-0.25\n-0.75,-0.25,0.0\n-0.75,-0.25,0.25\n-0.75,-0.25,0.5\n-0.75,-0.25,0.75\n-0.75,-0.25,1.0\n-0.75,-0.25,1.25\n-0.75,-0.25,1.5\n-0.75,-0.25,1.75\n-0.75,-0.25,2.0\n-0.75,-0.25,2.25\n-0.75,-0.25,2.5\n-0.75,0.0,-2.5\n-0.75,0.0,-2.25\n-0.75,0.0,-2.0\n-0.75,0.0,-1.75\n-0.75,0.0,-1.5\n-0.75,0.0,-1.25\n-0.75,0.0,-1.0\n-0.75,0.0,-0.75\n-0.75,0.0,-0.5\n-0.75,0.0,-0.25\n-0.75,0.0,0.0\n-0.75,0.0,0.25\n-0.75,0.0,0.5\n-0.75,0.0,0.75\n-0.75,0.0,1.0\n-0.75,0.0,1.25\n-0.75,0.0,1.5\n-0.75,0.0,1.75\n-0.75,0.0,2.0\n-0.75,0.0,2.25\n-0.75,0.0,2.5\n-0.75,0.25,-2.5\n-0.75,0.25,-2.25\n-0.75,0.25,-2.0\n-0.75,0.25,-1.75\n-0.75,0.25,-1.5\n-0.75,0.25,-1.25\n-0.75,0.25,-1.0\n-0.75,0.25,-0.75\n-0.75,0.25,-0.5\n-0.75,0.25,-0.25\n-0.75,0.25,0.0\n-0.75,0.25,0.25\n-0.75,0.25,0.5\n-0.75,0.25,0.75\n-0.75,0.25,1.0\n-0.75,0.25,1.25\n-0.75,0.25,1.5\n-0.75,0.25,1.75\n-0.75,0.25,2.0\n-0.75,0.25,2.25\n-0.75,0.25,2.5\n-0.75,0.5,-2.5\n-0.75,0.5,-2.25\n-0.75,0.5,-2.0\n-0.75,0.5,-1.75\n-0.75,0.5,-1.5\n-0.75,0.5,-1.25\n-0.75,0.5,-1.0\n-0.75,0.5,-0.75\n-0.75,0.5,-0.5\n-0.75,0.5,-0.25\n-0.75,0.5,0.0\n-0.75,0.5,0.25\n-0.75,0.5,0.5\n-0.75,0.5,0.75\n-0.75,0.5,1.0\n-0.75,0.5,1.25\n-0.75,0.5,1.5\n-0.75,0.5,1.75\n-0.75,0.5,2.0\n-0.75,0.5,2.25\n-0.75,0.5,2.5\n-0.75,0.75,-2.5\n-0.75,0.75,-2.25\n-0.75,0.75,-2.0\n-0.75,0.75,-1.75\n-0.75,0.75,-1.5\n-0.75,0.75,-1.25\n-0.75,0.75,-1.0\n-0.75,0.75,-0.75\n-0.75,0.75,-0.5\n-0.75,0.75,-0.25\n-0.75,0.75,0.0\n-0.75,0.75,0.25\n-0.75,0.75,0.5\n-0.75,0.75,0.75\n-0.75,0.75,1.0\n-0.75,0.75,1.25\n-0.75,0.75,1.5\n-0.75,0.75,1.75\n-0.75,0.75,2.0\n-0.75,0.75,2.25\n-0.75,0.75,2.5\n-0.75,1.0,-2.5\n-0.75,1.0,-2.25\n-0.75,1.0,-2.0\n-0.75,1.0,-1.75\n-0.75,1.0,-1.5\n-0.75,1.0,-1.25\n-0.75,1.0,-1.0\n-0.75,1.0,-0.75\n-0.75,1.0,-0.5\n-0.75,1.0,-0.25\n-0.75,1.0,0.0\n-0.75,1.0,0.25\n-0.75,1.0,0.5\n-0.75,1.0,0.75\n-0.75,1.0,1.0\n-0.75,1.0,1.25\n-0.75,1.0,1.5\n-0.75,1.0,1.75\n-0.75,1.0,2.0\n-0.75,1.0,2.25\n-0.75,1.0,2.5\n-0.75,1.25,-2.5\n-0.75,1.25,-2.25\n-0.75,1.25,-2.0\n-0.75,1.25,-1.75\n-0.75,1.25,-1.5\n-0.75,1.25,-1.25\n-0.75,1.25,-1.0\n-0.75,1.25,-0.75\n-0.75,1.25,-0.5\n-0.75,1.25,-0.25\n-0.75,1.25,0.0\n-0.75,1.25,0.25\n-0.75,1.25,0.5\n-0.75,1.25,0.75\n-0.75,1.25,1.0\n-0.75,1.25,1.25\n-0.75,1.25,1.5\n-0.75,1.25,1.75\n-0.75,1.25,2.0\n-0.75,1.25,2.25\n-0.75,1.25,2.5\n-0.75,1.5,-2.5\n-0.75,1.5,-2.25\n-0.75,1.5,-2.0\n-0.75,1.5,-1.75\n-0.75,1.5,-1.5\n-0.75,1.5,-1.25\n-0.75,1.5,-1.0\n-0.75,1.5,-0.75\n-0.75,1.5,-0.5\n-0.75,1.5,-0.25\n-0.75,1.5,0.0\n-0.75,1.5,0.25\n-0.75,1.5,0.5\n-0.75,1.5,0.75\n-0.75,1.5,1.0\n-0.75,1.5,1.25\n-0.75,1.5,1.5\n-0.75,1.5,1.75\n-0.75,1.5,2.0\n-0.75,1.5,2.25\n-0.75,1.5,2.5\n-0.75,1.75,-2.5\n-0.75,1.75,-2.25\n-0.75,1.75,-2.0\n-0.75,1.75,-1.75\n-0.75,1.75,-1.5\n-0.75,1.75,-1.25\n-0.75,1.75,-1.0\n-0.75,1.75,-0.75\n-0.75,1.75,-0.5\n-0.75,1.75,-0.25\n-0.75,1.75,0.0\n-0.75,1.75,0.25\n-0.75,1.75,0.5\n-0.75,1.75,0.75\n-0.75,1.75,1.0\n-0.75,1.75,1.25\n-0.75,1.75,1.5\n-0.75,1.75,1.75\n-0.75,1.75,2.0\n-0.75,1.75,2.25\n-0.75,1.75,2.5\n-0.75,2.0,-2.5\n-0.75,2.0,-2.25\n-0.75,2.0,-2.0\n-0.75,2.0,-1.75\n-0.75,2.0,-1.5\n-0.75,2.0,-1.25\n-0.75,2.0,-1.0\n-0.75,2.0,-0.75\n-0.75,2.0,-0.5\n-0.75,2.0,-0.25\n-0.75,2.0,0.0\n-0.75,2.0,0.25\n-0.75,2.0,0.5\n-0.75,2.0,0.75\n-0.75,2.0,1.0\n-0.75,2.0,1.25\n-0.75,2.0,1.5\n-0.75,2.0,1.75\n-0.75,2.0,2.0\n-0.75,2.0,2.25\n-0.75,2.0,2.5\n-0.75,2.25,-2.5\n-0.75,2.25,-2.25\n-0.75,2.25,-2.0\n-0.75,2.25,-1.75\n-0.75,2.25,-1.5\n-0.75,2.25,-1.25\n-0.75,2.25,-1.0\n-0.75,2.25,-0.75\n-0.75,2.25,-0.5\n-0.75,2.25,-0.25\n-0.75,2.25,0.0\n-0.75,2.25,0.25\n-0.75,2.25,0.5\n-0.75,2.25,0.75\n-0.75,2.25,1.0\n-0.75,2.25,1.25\n-0.75,2.25,1.5\n-0.75,2.25,1.75\n-0.75,2.25,2.0\n-0.75,2.25,2.25\n-0.75,2.25,2.5\n-0.75,2.5,-2.5\n-0.75,2.5,-2.25\n-0.75,2.5,-2.0\n-0.75,2.5,-1.75\n-0.75,2.5,-1.5\n-0.75,2.5,-1.25\n-0.75,2.5,-1.0\n-0.75,2.5,-0.75\n-0.75,2.5,-0.5\n-0.75,2.5,-0.25\n-0.75,2.5,0.0\n-0.75,2.5,0.25\n-0.75,2.5,0.5\n-0.75,2.5,0.75\n-0.75,2.5,1.0\n-0.75,2.5,1.25\n-0.75,2.5,1.5\n-0.75,2.5,1.75\n-0.75,2.5,2.0\n-0.75,2.5,2.25\n-0.75,2.5,2.5\n-0.5,-2.5,-2.5\n-0.5,-2.5,-2.25\n-0.5,-2.5,-2.0\n-0.5,-2.5,-1.75\n-0.5,-2.5,-1.5\n-0.5,-2.5,-1.25\n-0.5,-2.5,-1.0\n-0.5,-2.5,-0.75\n-0.5,-2.5,-0.5\n-0.5,-2.5,-0.25\n-0.5,-2.5,0.0\n-0.5,-2.5,0.25\n-0.5,-2.5,0.5\n-0.5,-2.5,0.75\n-0.5,-2.5,1.0\n-0.5,-2.5,1.25\n-0.5,-2.5,1.5\n-0.5,-2.5,1.75\n-0.5,-2.5,2.0\n-0.5,-2.5,2.25\n-0.5,-2.5,2.5\n-0.5,-2.25,-2.5\n-0.5,-2.25,-2.25\n-0.5,-2.25,-2.0\n-0.5,-2.25,-1.75\n-0.5,-2.25,-1.5\n-0.5,-2.25,-1.25\n-0.5,-2.25,-1.0\n-0.5,-2.25,-0.75\n-0.5,-2.25,-0.5\n-0.5,-2.25,-0.25\n-0.5,-2.25,0.0\n-0.5,-2.25,0.25\n-0.5,-2.25,0.5\n-0.5,-2.25,0.75\n-0.5,-2.25,1.0\n-0.5,-2.25,1.25\n-0.5,-2.25,1.5\n-0.5,-2.25,1.75\n-0.5,-2.25,2.0\n-0.5,-2.25,2.25\n-0.5,-2.25,2.5\n-0.5,-2.0,-2.5\n-0.5,-2.0,-2.25\n-0.5,-2.0,-2.0\n-0.5,-2.0,-1.75\n-0.5,-2.0,-1.5\n-0.5,-2.0,-1.25\n-0.5,-2.0,-1.0\n-0.5,-2.0,-0.75\n-0.5,-2.0,-0.5\n-0.5,-2.0,-0.25\n-0.5,-2.0,0.0\n-0.5,-2.0,0.25\n-0.5,-2.0,0.5\n-0.5,-2.0,0.75\n-0.5,-2.0,1.0\n-0.5,-2.0,1.25\n-0.5,-2.0,1.5\n-0.5,-2.0,1.75\n-0.5,-2.0,2.0\n-0.5,-2.0,2.25\n-0.5,-2.0,2.5\n-0.5,-1.75,-2.5\n-0.5,-1.75,-2.25\n-0.5,-1.75,-2.0\n-0.5,-1.75,-1.75\n-0.5,-1.75,-1.5\n-0.5,-1.75,-1.25\n-0.5,-1.75,-1.0\n-0.5,-1.75,-0.75\n-0.5,-1.75,-0.5\n-0.5,-1.75,-0.25\n-0.5,-1.75,0.0\n-0.5,-1.75,0.25\n-0.5,-1.75,0.5\n-0.5,-1.75,0.75\n-0.5,-1.75,1.0\n-0.5,-1.75,1.25\n-0.5,-1.75,1.5\n-0.5,-1.75,1.75\n-0.5,-1.75,2.0\n-0.5,-1.75,2.25\n-0.5,-1.75,2.5\n-0.5,-1.5,-2.5\n-0.5,-1.5,-2.25\n-0.5,-1.5,-2.0\n-0.5,-1.5,-1.75\n-0.5,-1.5,-1.5\n-0.5,-1.5,-1.25\n-0.5,-1.5,-1.0\n-0.5,-1.5,-0.75\n-0.5,-1.5,-0.5\n-0.5,-1.5,-0.25\n-0.5,-1.5,0.0\n-0.5,-1.5,0.25\n-0.5,-1.5,0.5\n-0.5,-1.5,0.75\n-0.5,-1.5,1.0\n-0.5,-1.5,1.25\n-0.5,-1.5,1.5\n-0.5,-1.5,1.75\n-0.5,-1.5,2.0\n-0.5,-1.5,2.25\n-0.5,-1.5,2.5\n-0.5,-1.25,-2.5\n-0.5,-1.25,-2.25\n-0.5,-1.25,-2.0\n-0.5,-1.25,-1.75\n-0.5,-1.25,-1.5\n-0.5,-1.25,-1.25\n-0.5,-1.25,-1.0\n-0.5,-1.25,-0.75\n-0.5,-1.25,-0.5\n-0.5,-1.25,-0.25\n-0.5,-1.25,0.0\n-0.5,-1.25,0.25\n-0.5,-1.25,0.5\n-0.5,-1.25,0.75\n-0.5,-1.25,1.0\n-0.5,-1.25,1.25\n-0.5,-1.25,1.5\n-0.5,-1.25,1.75\n-0.5,-1.25,2.0\n-0.5,-1.25,2.25\n-0.5,-1.25,2.5\n-0.5,-1.0,-2.5\n-0.5,-1.0,-2.25\n-0.5,-1.0,-2.0\n-0.5,-1.0,-1.75\n-0.5,-1.0,-1.5\n-0.5,-1.0,-1.25\n-0.5,-1.0,-1.0\n-0.5,-1.0,-0.75\n-0.5,-1.0,-0.5\n-0.5,-1.0,-0.25\n-0.5,-1.0,0.0\n-0.5,-1.0,0.25\n-0.5,-1.0,0.5\n-0.5,-1.0,0.75\n-0.5,-1.0,1.0\n-0.5,-1.0,1.25\n-0.5,-1.0,1.5\n-0.5,-1.0,1.75\n-0.5,-1.0,2.0\n-0.5,-1.0,2.25\n-0.5,-1.0,2.5\n-0.5,-0.75,-2.5\n-0.5,-0.75,-2.25\n-0.5,-0.75,-2.0\n-0.5,-0.75,-1.75\n-0.5,-0.75,-1.5\n-0.5,-0.75,-1.25\n-0.5,-0.75,-1.0\n-0.5,-0.75,-0.75\n-0.5,-0.75,-0.5\n-0.5,-0.75,-0.25\n-0.5,-0.75,0.0\n-0.5,-0.75,0.25\n-0.5,-0.75,0.5\n-0.5,-0.75,0.75\n-0.5,-0.75,1.0\n-0.5,-0.75,1.25\n-0.5,-0.75,1.5\n-0.5,-0.75,1.75\n-0.5,-0.75,2.0\n-0.5,-0.75,2.25\n-0.5,-0.75,2.5\n-0.5,-0.5,-2.5\n-0.5,-0.5,-2.25\n-0.5,-0.5,-2.0\n-0.5,-0.5,-1.75\n-0.5,-0.5,-1.5\n-0.5,-0.5,-1.25\n-0.5,-0.5,-1.0\n-0.5,-0.5,-0.75\n-0.5,-0.5,-0.5\n-0.5,-0.5,-0.25\n-0.5,-0.5,0.0\n-0.5,-0.5,0.25\n-0.5,-0.5,0.5\n-0.5,-0.5,0.75\n-0.5,-0.5,1.0\n-0.5,-0.5,1.25\n-0.5,-0.5,1.5\n-0.5,-0.5,1.75\n-0.5,-0.5,2.0\n-0.5,-0.5,2.25\n-0.5,-0.5,2.5\n-0.5,-0.25,-2.5\n-0.5,-0.25,-2.25\n-0.5,-0.25,-2.0\n-0.5,-0.25,-1.75\n-0.5,-0.25,-1.5\n-0.5,-0.25,-1.25\n-0.5,-0.25,-1.0\n-0.5,-0.25,-0.75\n-0.5,-0.25,-0.5\n-0.5,-0.25,-0.25\n-0.5,-0.25,0.0\n-0.5,-0.25,0.25\n-0.5,-0.25,0.5\n-0.5,-0.25,0.75\n-0.5,-0.25,1.0\n-0.5,-0.25,1.25\n-0.5,-0.25,1.5\n-0.5,-0.25,1.75\n-0.5,-0.25,2.0\n-0.5,-0.25,2.25\n-0.5,-0.25,2.5\n-0.5,0.0,-2.5\n-0.5,0.0,-2.25\n-0.5,0.0,-2.0\n-0.5,0.0,-1.75\n-0.5,0.0,-1.5\n-0.5,0.0,-1.25\n-0.5,0.0,-1.0\n-0.5,0.0,-0.75\n-0.5,0.0,-0.5\n-0.5,0.0,-0.25\n-0.5,0.0,0.0\n-0.5,0.0,0.25\n-0.5,0.0,0.5\n-0.5,0.0,0.75\n-0.5,0.0,1.0\n-0.5,0.0,1.25\n-0.5,0.0,1.5\n-0.5,0.0,1.75\n-0.5,0.0,2.0\n-0.5,0.0,2.25\n-0.5,0.0,2.5\n-0.5,0.25,-2.5\n-0.5,0.25,-2.25\n-0.5,0.25,-2.0\n-0.5,0.25,-1.75\n-0.5,0.25,-1.5\n-0.5,0.25,-1.25\n-0.5,0.25,-1.0\n-0.5,0.25,-0.75\n-0.5,0.25,-0.5\n-0.5,0.25,-0.25\n-0.5,0.25,0.0\n-0.5,0.25,0.25\n-0.5,0.25,0.5\n-0.5,0.25,0.75\n-0.5,0.25,1.0\n-0.5,0.25,1.25\n-0.5,0.25,1.5\n-0.5,0.25,1.75\n-0.5,0.25,2.0\n-0.5,0.25,2.25\n-0.5,0.25,2.5\n-0.5,0.5,-2.5\n-0.5,0.5,-2.25\n-0.5,0.5,-2.0\n-0.5,0.5,-1.75\n-0.5,0.5,-1.5\n-0.5,0.5,-1.25\n-0.5,0.5,-1.0\n-0.5,0.5,-0.75\n-0.5,0.5,-0.5\n-0.5,0.5,-0.25\n-0.5,0.5,0.0\n-0.5,0.5,0.25\n-0.5,0.5,0.5\n-0.5,0.5,0.75\n-0.5,0.5,1.0\n-0.5,0.5,1.25\n-0.5,0.5,1.5\n-0.5,0.5,1.75\n-0.5,0.5,2.0\n-0.5,0.5,2.25\n-0.5,0.5,2.5\n-0.5,0.75,-2.5\n-0.5,0.75,-2.25\n-0.5,0.75,-2.0\n-0.5,0.75,-1.75\n-0.5,0.75,-1.5\n-0.5,0.75,-1.25\n-0.5,0.75,-1.0\n-0.5,0.75,-0.75\n-0.5,0.75,-0.5\n-0.5,0.75,-0.25\n-0.5,0.75,0.0\n-0.5,0.75,0.25\n-0.5,0.75,0.5\n-0.5,0.75,0.75\n-0.5,0.75,1.0\n-0.5,0.75,1.25\n-0.5,0.75,1.5\n-0.5,0.75,1.75\n-0.5,0.75,2.0\n-0.5,0.75,2.25\n-0.5,0.75,2.5\n-0.5,1.0,-2.5\n-0.5,1.0,-2.25\n-0.5,1.0,-2.0\n-0.5,1.0,-1.75\n-0.5,1.0,-1.5\n-0.5,1.0,-1.25\n-0.5,1.0,-1.0\n-0.5,1.0,-0.75\n-0.5,1.0,-0.5\n-0.5,1.0,-0.25\n-0.5,1.0,0.0\n-0.5,1.0,0.25\n-0.5,1.0,0.5\n-0.5,1.0,0.75\n-0.5,1.0,1.0\n-0.5,1.0,1.25\n-0.5,1.0,1.5\n-0.5,1.0,1.75\n-0.5,1.0,2.0\n-0.5,1.0,2.25\n-0.5,1.0,2.5\n-0.5,1.25,-2.5\n-0.5,1.25,-2.25\n-0.5,1.25,-2.0\n-0.5,1.25,-1.75\n-0.5,1.25,-1.5\n-0.5,1.25,-1.25\n-0.5,1.25,-1.0\n-0.5,1.25,-0.75\n-0.5,1.25,-0.5\n-0.5,1.25,-0.25\n-0.5,1.25,0.0\n-0.5,1.25,0.25\n-0.5,1.25,0.5\n-0.5,1.25,0.75\n-0.5,1.25,1.0\n-0.5,1.25,1.25\n-0.5,1.25,1.5\n-0.5,1.25,1.75\n-0.5,1.25,2.0\n-0.5,1.25,2.25\n-0.5,1.25,2.5\n-0.5,1.5,-2.5\n-0.5,1.5,-2.25\n-0.5,1.5,-2.0\n-0.5,1.5,-1.75\n-0.5,1.5,-1.5\n-0.5,1.5,-1.25\n-0.5,1.5,-1.0\n-0.5,1.5,-0.75\n-0.5,1.5,-0.5\n-0.5,1.5,-0.25\n-0.5,1.5,0.0\n-0.5,1.5,0.25\n-0.5,1.5,0.5\n-0.5,1.5,0.75\n-0.5,1.5,1.0\n-0.5,1.5,1.25\n-0.5,1.5,1.5\n-0.5,1.5,1.75\n-0.5,1.5,2.0\n-0.5,1.5,2.25\n-0.5,1.5,2.5\n-0.5,1.75,-2.5\n-0.5,1.75,-2.25\n-0.5,1.75,-2.0\n-0.5,1.75,-1.75\n-0.5,1.75,-1.5\n-0.5,1.75,-1.25\n-0.5,1.75,-1.0\n-0.5,1.75,-0.75\n-0.5,1.75,-0.5\n-0.5,1.75,-0.25\n-0.5,1.75,0.0\n-0.5,1.75,0.25\n-0.5,1.75,0.5\n-0.5,1.75,0.75\n-0.5,1.75,1.0\n-0.5,1.75,1.25\n-0.5,1.75,1.5\n-0.5,1.75,1.75\n-0.5,1.75,2.0\n-0.5,1.75,2.25\n-0.5,1.75,2.5\n-0.5,2.0,-2.5\n-0.5,2.0,-2.25\n-0.5,2.0,-2.0\n-0.5,2.0,-1.75\n-0.5,2.0,-1.5\n-0.5,2.0,-1.25\n-0.5,2.0,-1.0\n-0.5,2.0,-0.75\n-0.5,2.0,-0.5\n-0.5,2.0,-0.25\n-0.5,2.0,0.0\n-0.5,2.0,0.25\n-0.5,2.0,0.5\n-0.5,2.0,0.75\n-0.5,2.0,1.0\n-0.5,2.0,1.25\n-0.5,2.0,1.5\n-0.5,2.0,1.75\n-0.5,2.0,2.0\n-0.5,2.0,2.25\n-0.5,2.0,2.5\n-0.5,2.25,-2.5\n-0.5,2.25,-2.25\n-0.5,2.25,-2.0\n-0.5,2.25,-1.75\n-0.5,2.25,-1.5\n-0.5,2.25,-1.25\n-0.5,2.25,-1.0\n-0.5,2.25,-0.75\n-0.5,2.25,-0.5\n-0.5,2.25,-0.25\n-0.5,2.25,0.0\n-0.5,2.25,0.25\n-0.5,2.25,0.5\n-0.5,2.25,0.75\n-0.5,2.25,1.0\n-0.5,2.25,1.25\n-0.5,2.25,1.5\n-0.5,2.25,1.75\n-0.5,2.25,2.0\n-0.5,2.25,2.25\n-0.5,2.25,2.5\n-0.5,2.5,-2.5\n-0.5,2.5,-2.25\n-0.5,2.5,-2.0\n-0.5,2.5,-1.75\n-0.5,2.5,-1.5\n-0.5,2.5,-1.25\n-0.5,2.5,-1.0\n-0.5,2.5,-0.75\n-0.5,2.5,-0.5\n-0.5,2.5,-0.25\n-0.5,2.5,0.0\n-0.5,2.5,0.25\n-0.5,2.5,0.5\n-0.5,2.5,0.75\n-0.5,2.5,1.0\n-0.5,2.5,1.25\n-0.5,2.5,1.5\n-0.5,2.5,1.75\n-0.5,2.5,2.0\n-0.5,2.5,2.25\n-0.5,2.5,2.5\n-0.25,-2.5,-2.5\n-0.25,-2.5,-2.25\n-0.25,-2.5,-2.0\n-0.25,-2.5,-1.75\n-0.25,-2.5,-1.5\n-0.25,-2.5,-1.25\n-0.25,-2.5,-1.0\n-0.25,-2.5,-0.75\n-0.25,-2.5,-0.5\n-0.25,-2.5,-0.25\n-0.25,-2.5,0.0\n-0.25,-2.5,0.25\n-0.25,-2.5,0.5\n-0.25,-2.5,0.75\n-0.25,-2.5,1.0\n-0.25,-2.5,1.25\n-0.25,-2.5,1.5\n-0.25,-2.5,1.75\n-0.25,-2.5,2.0\n-0.25,-2.5,2.25\n-0.25,-2.5,2.5\n-0.25,-2.25,-2.5\n-0.25,-2.25,-2.25\n-0.25,-2.25,-2.0\n-0.25,-2.25,-1.75\n-0.25,-2.25,-1.5\n-0.25,-2.25,-1.25\n-0.25,-2.25,-1.0\n-0.25,-2.25,-0.75\n-0.25,-2.25,-0.5\n-0.25,-2.25,-0.25\n-0.25,-2.25,0.0\n-0.25,-2.25,0.25\n-0.25,-2.25,0.5\n-0.25,-2.25,0.75\n-0.25,-2.25,1.0\n-0.25,-2.25,1.25\n-0.25,-2.25,1.5\n-0.25,-2.25,1.75\n-0.25,-2.25,2.0\n-0.25,-2.25,2.25\n-0.25,-2.25,2.5\n-0.25,-2.0,-2.5\n-0.25,-2.0,-2.25\n-0.25,-2.0,-2.0\n-0.25,-2.0,-1.75\n-0.25,-2.0,-1.5\n-0.25,-2.0,-1.25\n-0.25,-2.0,-1.0\n-0.25,-2.0,-0.75\n-0.25,-2.0,-0.5\n-0.25,-2.0,-0.25\n-0.25,-2.0,0.0\n-0.25,-2.0,0.25\n-0.25,-2.0,0.5\n-0.25,-2.0,0.75\n-0.25,-2.0,1.0\n-0.25,-2.0,1.25\n-0.25,-2.0,1.5\n-0.25,-2.0,1.75\n-0.25,-2.0,2.0\n-0.25,-2.0,2.25\n-0.25,-2.0,2.5\n-0.25,-1.75,-2.5\n-0.25,-1.75,-2.25\n-0.25,-1.75,-2.0\n-0.25,-1.75,-1.75\n-0.25,-1.75,-1.5\n-0.25,-1.75,-1.25\n-0.25,-1.75,-1.0\n-0.25,-1.75,-0.75\n-0.25,-1.75,-0.5\n-0.25,-1.75,-0.25\n-0.25,-1.75,0.0\n-0.25,-1.75,0.25\n-0.25,-1.75,0.5\n-0.25,-1.75,0.75\n-0.25,-1.75,1.0\n-0.25,-1.75,1.25\n-0.25,-1.75,1.5\n-0.25,-1.75,1.75\n-0.25,-1.75,2.0\n-0.25,-1.75,2.25\n-0.25,-1.75,2.5\n-0.25,-1.5,-2.5\n-0.25,-1.5,-2.25\n-0.25,-1.5,-2.0\n-0.25,-1.5,-1.75\n-0.25,-1.5,-1.5\n-0.25,-1.5,-1.25\n-0.25,-1.5,-1.0\n-0.25,-1.5,-0.75\n-0.25,-1.5,-0.5\n-0.25,-1.5,-0.25\n-0.25,-1.5,0.0\n-0.25,-1.5,0.25\n-0.25,-1.5,0.5\n-0.25,-1.5,0.75\n-0.25,-1.5,1.0\n-0.25,-1.5,1.25\n-0.25,-1.5,1.5\n-0.25,-1.5,1.75\n-0.25,-1.5,2.0\n-0.25,-1.5,2.25\n-0.25,-1.5,2.5\n-0.25,-1.25,-2.5\n-0.25,-1.25,-2.25\n-0.25,-1.25,-2.0\n-0.25,-1.25,-1.75\n-0.25,-1.25,-1.5\n-0.25,-1.25,-1.25\n-0.25,-1.25,-1.0\n-0.25,-1.25,-0.75\n-0.25,-1.25,-0.5\n-0.25,-1.25,-0.25\n-0.25,-1.25,0.0\n-0.25,-1.25,0.25\n-0.25,-1.25,0.5\n-0.25,-1.25,0.75\n-0.25,-1.25,1.0\n-0.25,-1.25,1.25\n-0.25,-1.25,1.5\n-0.25,-1.25,1.75\n-0.25,-1.25,2.0\n-0.25,-1.25,2.25\n-0.25,-1.25,2.5\n-0.25,-1.0,-2.5\n-0.25,-1.0,-2.25\n-0.25,-1.0,-2.0\n-0.25,-1.0,-1.75\n-0.25,-1.0,-1.5\n-0.25,-1.0,-1.25\n-0.25,-1.0,-1.0\n-0.25,-1.0,-0.75\n-0.25,-1.0,-0.5\n-0.25,-1.0,-0.25\n-0.25,-1.0,0.0\n-0.25,-1.0,0.25\n-0.25,-1.0,0.5\n-0.25,-1.0,0.75\n-0.25,-1.0,1.0\n-0.25,-1.0,1.25\n-0.25,-1.0,1.5\n-0.25,-1.0,1.75\n-0.25,-1.0,2.0\n-0.25,-1.0,2.25\n-0.25,-1.0,2.5\n-0.25,-0.75,-2.5\n-0.25,-0.75,-2.25\n-0.25,-0.75,-2.0\n-0.25,-0.75,-1.75\n-0.25,-0.75,-1.5\n-0.25,-0.75,-1.25\n-0.25,-0.75,-1.0\n-0.25,-0.75,-0.75\n-0.25,-0.75,-0.5\n-0.25,-0.75,-0.25\n-0.25,-0.75,0.0\n-0.25,-0.75,0.25\n-0.25,-0.75,0.5\n-0.25,-0.75,0.75\n-0.25,-0.75,1.0\n-0.25,-0.75,1.25\n-0.25,-0.75,1.5\n-0.25,-0.75,1.75\n-0.25,-0.75,2.0\n-0.25,-0.75,2.25\n-0.25,-0.75,2.5\n-0.25,-0.5,-2.5\n-0.25,-0.5,-2.25\n-0.25,-0.5,-2.0\n-0.25,-0.5,-1.75\n-0.25,-0.5,-1.5\n-0.25,-0.5,-1.25\n-0.25,-0.5,-1.0\n-0.25,-0.5,-0.75\n-0.25,-0.5,-0.5\n-0.25,-0.5,-0.25\n-0.25,-0.5,0.0\n-0.25,-0.5,0.25\n-0.25,-0.5,0.5\n-0.25,-0.5,0.75\n-0.25,-0.5,1.0\n-0.25,-0.5,1.25\n-0.25,-0.5,1.5\n-0.25,-0.5,1.75\n-0.25,-0.5,2.0\n-0.25,-0.5,2.25\n-0.25,-0.5,2.5\n-0.25,-0.25,-2.5\n-0.25,-0.25,-2.25\n-0.25,-0.25,-2.0\n-0.25,-0.25,-1.75\n-0.25,-0.25,-1.5\n-0.25,-0.25,-1.25\n-0.25,-0.25,-1.0\n-0.25,-0.25,-0.75\n-0.25,-0.25,-0.5\n-0.25,-0.25,-0.25\n-0.25,-0.25,0.0\n-0.25,-0.25,0.25\n-0.25,-0.25,0.5\n-0.25,-0.25,0.75\n-0.25,-0.25,1.0\n-0.25,-0.25,1.25\n-0.25,-0.25,1.5\n-0.25,-0.25,1.75\n-0.25,-0.25,2.0\n-0.25,-0.25,2.25\n-0.25,-0.25,2.5\n-0.25,0.0,-2.5\n-0.25,0.0,-2.25\n-0.25,0.0,-2.0\n-0.25,0.0,-1.75\n-0.25,0.0,-1.5\n-0.25,0.0,-1.25\n-0.25,0.0,-1.0\n-0.25,0.0,-0.75\n-0.25,0.0,-0.5\n-0.25,0.0,-0.25\n-0.25,0.0,0.0\n-0.25,0.0,0.25\n-0.25,0.0,0.5\n-0.25,0.0,0.75\n-0.25,0.0,1.0\n-0.25,0.0,1.25\n-0.25,0.0,1.5\n-0.25,0.0,1.75\n-0.25,0.0,2.0\n-0.25,0.0,2.25\n-0.25,0.0,2.5\n-0.25,0.25,-2.5\n-0.25,0.25,-2.25\n-0.25,0.25,-2.0\n-0.25,0.25,-1.75\n-0.25,0.25,-1.5\n-0.25,0.25,-1.25\n-0.25,0.25,-1.0\n-0.25,0.25,-0.75\n-0.25,0.25,-0.5\n-0.25,0.25,-0.25\n-0.25,0.25,0.0\n-0.25,0.25,0.25\n-0.25,0.25,0.5\n-0.25,0.25,0.75\n-0.25,0.25,1.0\n-0.25,0.25,1.25\n-0.25,0.25,1.5\n-0.25,0.25,1.75\n-0.25,0.25,2.0\n-0.25,0.25,2.25\n-0.25,0.25,2.5\n-0.25,0.5,-2.5\n-0.25,0.5,-2.25\n-0.25,0.5,-2.0\n-0.25,0.5,-1.75\n-0.25,0.5,-1.5\n-0.25,0.5,-1.25\n-0.25,0.5,-1.0\n-0.25,0.5,-0.75\n-0.25,0.5,-0.5\n-0.25,0.5,-0.25\n-0.25,0.5,0.0\n-0.25,0.5,0.25\n-0.25,0.5,0.5\n-0.25,0.5,0.75\n-0.25,0.5,1.0\n-0.25,0.5,1.25\n-0.25,0.5,1.5\n-0.25,0.5,1.75\n-0.25,0.5,2.0\n-0.25,0.5,2.25\n-0.25,0.5,2.5\n-0.25,0.75,-2.5\n-0.25,0.75,-2.25\n-0.25,0.75,-2.0\n-0.25,0.75,-1.75\n-0.25,0.75,-1.5\n-0.25,0.75,-1.25\n-0.25,0.75,-1.0\n-0.25,0.75,-0.75\n-0.25,0.75,-0.5\n-0.25,0.75,-0.25\n-0.25,0.75,0.0\n-0.25,0.75,0.25\n-0.25,0.75,0.5\n-0.25,0.75,0.75\n-0.25,0.75,1.0\n-0.25,0.75,1.25\n-0.25,0.75,1.5\n-0.25,0.75,1.75\n-0.25,0.75,2.0\n-0.25,0.75,2.25\n-0.25,0.75,2.5\n-0.25,1.0,-2.5\n-0.25,1.0,-2.25\n-0.25,1.0,-2.0\n-0.25,1.0,-1.75\n-0.25,1.0,-1.5\n-0.25,1.0,-1.25\n-0.25,1.0,-1.0\n-0.25,1.0,-0.75\n-0.25,1.0,-0.5\n-0.25,1.0,-0.25\n-0.25,1.0,0.0\n-0.25,1.0,0.25\n-0.25,1.0,0.5\n-0.25,1.0,0.75\n-0.25,1.0,1.0\n-0.25,1.0,1.25\n-0.25,1.0,1.5\n-0.25,1.0,1.75\n-0.25,1.0,2.0\n-0.25,1.0,2.25\n-0.25,1.0,2.5\n-0.25,1.25,-2.5\n-0.25,1.25,-2.25\n-0.25,1.25,-2.0\n-0.25,1.25,-1.75\n-0.25,1.25,-1.5\n-0.25,1.25,-1.25\n-0.25,1.25,-1.0\n-0.25,1.25,-0.75\n-0.25,1.25,-0.5\n-0.25,1.25,-0.25\n-0.25,1.25,0.0\n-0.25,1.25,0.25\n-0.25,1.25,0.5\n-0.25,1.25,0.75\n-0.25,1.25,1.0\n-0.25,1.25,1.25\n-0.25,1.25,1.5\n-0.25,1.25,1.75\n-0.25,1.25,2.0\n-0.25,1.25,2.25\n-0.25,1.25,2.5\n-0.25,1.5,-2.5\n-0.25,1.5,-2.25\n-0.25,1.5,-2.0\n-0.25,1.5,-1.75\n-0.25,1.5,-1.5\n-0.25,1.5,-1.25\n-0.25,1.5,-1.0\n-0.25,1.5,-0.75\n-0.25,1.5,-0.5\n-0.25,1.5,-0.25\n-0.25,1.5,0.0\n-0.25,1.5,0.25\n-0.25,1.5,0.5\n-0.25,1.5,0.75\n-0.25,1.5,1.0\n-0.25,1.5,1.25\n-0.25,1.5,1.5\n-0.25,1.5,1.75\n-0.25,1.5,2.0\n-0.25,1.5,2.25\n-0.25,1.5,2.5\n-0.25,1.75,-2.5\n-0.25,1.75,-2.25\n-0.25,1.75,-2.0\n-0.25,1.75,-1.75\n-0.25,1.75,-1.5\n-0.25,1.75,-1.25\n-0.25,1.75,-1.0\n-0.25,1.75,-0.75\n-0.25,1.75,-0.5\n-0.25,1.75,-0.25\n-0.25,1.75,0.0\n-0.25,1.75,0.25\n-0.25,1.75,0.5\n-0.25,1.75,0.75\n-0.25,1.75,1.0\n-0.25,1.75,1.25\n-0.25,1.75,1.5\n-0.25,1.75,1.75\n-0.25,1.75,2.0\n-0.25,1.75,2.25\n-0.25,1.75,2.5\n-0.25,2.0,-2.5\n-0.25,2.0,-2.25\n-0.25,2.0,-2.0\n-0.25,2.0,-1.75\n-0.25,2.0,-1.5\n-0.25,2.0,-1.25\n-0.25,2.0,-1.0\n-0.25,2.0,-0.75\n-0.25,2.0,-0.5\n-0.25,2.0,-0.25\n-0.25,2.0,0.0\n-0.25,2.0,0.25\n-0.25,2.0,0.5\n-0.25,2.0,0.75\n-0.25,2.0,1.0\n-0.25,2.0,1.25\n-0.25,2.0,1.5\n-0.25,2.0,1.75\n-0.25,2.0,2.0\n-0.25,2.0,2.25\n-0.25,2.0,2.5\n-0.25,2.25,-2.5\n-0.25,2.25,-2.25\n-0.25,2.25,-2.0\n-0.25,2.25,-1.75\n-0.25,2.25,-1.5\n-0.25,2.25,-1.25\n-0.25,2.25,-1.0\n-0.25,2.25,-0.75\n-0.25,2.25,-0.5\n-0.25,2.25,-0.25\n-0.25,2.25,0.0\n-0.25,2.25,0.25\n-0.25,2.25,0.5\n-0.25,2.25,0.75\n-0.25,2.25,1.0\n-0.25,2.25,1.25\n-0.25,2.25,1.5\n-0.25,2.25,1.75\n-0.25,2.25,2.0\n-0.25,2.25,2.25\n-0.25,2.25,2.5\n-0.25,2.5,-2.5\n-0.25,2.5,-2.25\n-0.25,2.5,-2.0\n-0.25,2.5,-1.75\n-0.25,2.5,-1.5\n-0.25,2.5,-1.25\n-0.25,2.5,-1.0\n-0.25,2.5,-0.75\n-0.25,2.5,-0.5\n-0.25,2.5,-0.25\n-0.25,2.5,0.0\n-0.25,2.5,0.25\n-0.25,2.5,0.5\n-0.25,2.5,0.75\n-0.25,2.5,1.0\n-0.25,2.5,1.25\n-0.25,2.5,1.5\n-0.25,2.5,1.75\n-0.25,2.5,2.0\n-0.25,2.5,2.25\n-0.25,2.5,2.5\n0.0,-2.5,-2.5\n0.0,-2.5,-2.25\n0.0,-2.5,-2.0\n0.0,-2.5,-1.75\n0.0,-2.5,-1.5\n0.0,-2.5,-1.25\n0.0,-2.5,-1.0\n0.0,-2.5,-0.75\n0.0,-2.5,-0.5\n0.0,-2.5,-0.25\n0.0,-2.5,0.0\n0.0,-2.5,0.25\n0.0,-2.5,0.5\n0.0,-2.5,0.75\n0.0,-2.5,1.0\n0.0,-2.5,1.25\n0.0,-2.5,1.5\n0.0,-2.5,1.75\n0.0,-2.5,2.0\n0.0,-2.5,2.25\n0.0,-2.5,2.5\n0.0,-2.25,-2.5\n0.0,-2.25,-2.25\n0.0,-2.25,-2.0\n0.0,-2.25,-1.75\n0.0,-2.25,-1.5\n0.0,-2.25,-1.25\n0.0,-2.25,-1.0\n0.0,-2.25,-0.75\n0.0,-2.25,-0.5\n0.0,-2.25,-0.25\n0.0,-2.25,0.0\n0.0,-2.25,0.25\n0.0,-2.25,0.5\n0.0,-2.25,0.75\n0.0,-2.25,1.0\n0.0,-2.25,1.25\n0.0,-2.25,1.5\n0.0,-2.25,1.75\n0.0,-2.25,2.0\n0.0,-2.25,2.25\n0.0,-2.25,2.5\n0.0,-2.0,-2.5\n0.0,-2.0,-2.25\n0.0,-2.0,-2.0\n0.0,-2.0,-1.75\n0.0,-2.0,-1.5\n0.0,-2.0,-1.25\n0.0,-2.0,-1.0\n0.0,-2.0,-0.75\n0.0,-2.0,-0.5\n0.0,-2.0,-0.25\n0.0,-2.0,0.0\n0.0,-2.0,0.25\n0.0,-2.0,0.5\n0.0,-2.0,0.75\n0.0,-2.0,1.0\n0.0,-2.0,1.25\n0.0,-2.0,1.5\n0.0,-2.0,1.75\n0.0,-2.0,2.0\n0.0,-2.0,2.25\n0.0,-2.0,2.5\n0.0,-1.75,-2.5\n0.0,-1.75,-2.25\n0.0,-1.75,-2.0\n0.0,-1.75,-1.75\n0.0,-1.75,-1.5\n0.0,-1.75,-1.25\n0.0,-1.75,-1.0\n0.0,-1.75,-0.75\n0.0,-1.75,-0.5\n0.0,-1.75,-0.25\n0.0,-1.75,0.0\n0.0,-1.75,0.25\n0.0,-1.75,0.5\n0.0,-1.75,0.75\n0.0,-1.75,1.0\n0.0,-1.75,1.25\n0.0,-1.75,1.5\n0.0,-1.75,1.75\n0.0,-1.75,2.0\n0.0,-1.75,2.25\n0.0,-1.75,2.5\n0.0,-1.5,-2.5\n0.0,-1.5,-2.25\n0.0,-1.5,-2.0\n0.0,-1.5,-1.75\n0.0,-1.5,-1.5\n0.0,-1.5,-1.25\n0.0,-1.5,-1.0\n0.0,-1.5,-0.75\n0.0,-1.5,-0.5\n0.0,-1.5,-0.25\n0.0,-1.5,0.0\n0.0,-1.5,0.25\n0.0,-1.5,0.5\n0.0,-1.5,0.75\n0.0,-1.5,1.0\n0.0,-1.5,1.25\n0.0,-1.5,1.5\n0.0,-1.5,1.75\n0.0,-1.5,2.0\n0.0,-1.5,2.25\n0.0,-1.5,2.5\n0.0,-1.25,-2.5\n0.0,-1.25,-2.25\n0.0,-1.25,-2.0\n0.0,-1.25,-1.75\n0.0,-1.25,-1.5\n0.0,-1.25,-1.25\n0.0,-1.25,-1.0\n0.0,-1.25,-0.75\n0.0,-1.25,-0.5\n0.0,-1.25,-0.25\n0.0,-1.25,0.0\n0.0,-1.25,0.25\n0.0,-1.25,0.5\n0.0,-1.25,0.75\n0.0,-1.25,1.0\n0.0,-1.25,1.25\n0.0,-1.25,1.5\n0.0,-1.25,1.75\n0.0,-1.25,2.0\n0.0,-1.25,2.25\n0.0,-1.25,2.5\n0.0,-1.0,-2.5\n0.0,-1.0,-2.25\n0.0,-1.0,-2.0\n0.0,-1.0,-1.75\n0.0,-1.0,-1.5\n0.0,-1.0,-1.25\n0.0,-1.0,-1.0\n0.0,-1.0,-0.75\n0.0,-1.0,-0.5\n0.0,-1.0,-0.25\n0.0,-1.0,0.0\n0.0,-1.0,0.25\n0.0,-1.0,0.5\n0.0,-1.0,0.75\n0.0,-1.0,1.0\n0.0,-1.0,1.25\n0.0,-1.0,1.5\n0.0,-1.0,1.75\n0.0,-1.0,2.0\n0.0,-1.0,2.25\n0.0,-1.0,2.5\n0.0,-0.75,-2.5\n0.0,-0.75,-2.25\n0.0,-0.75,-2.0\n0.0,-0.75,-1.75\n0.0,-0.75,-1.5\n0.0,-0.75,-1.25\n0.0,-0.75,-1.0\n0.0,-0.75,-0.75\n0.0,-0.75,-0.5\n0.0,-0.75,-0.25\n0.0,-0.75,0.0\n0.0,-0.75,0.25\n0.0,-0.75,0.5\n0.0,-0.75,0.75\n0.0,-0.75,1.0\n0.0,-0.75,1.25\n0.0,-0.75,1.5\n0.0,-0.75,1.75\n0.0,-0.75,2.0\n0.0,-0.75,2.25\n0.0,-0.75,2.5\n0.0,-0.5,-2.5\n0.0,-0.5,-2.25\n0.0,-0.5,-2.0\n0.0,-0.5,-1.75\n0.0,-0.5,-1.5\n0.0,-0.5,-1.25\n0.0,-0.5,-1.0\n0.0,-0.5,-0.75\n0.0,-0.5,-0.5\n0.0,-0.5,-0.25\n0.0,-0.5,0.0\n0.0,-0.5,0.25\n0.0,-0.5,0.5\n0.0,-0.5,0.75\n0.0,-0.5,1.0\n0.0,-0.5,1.25\n0.0,-0.5,1.5\n0.0,-0.5,1.75\n0.0,-0.5,2.0\n0.0,-0.5,2.25\n0.0,-0.5,2.5\n0.0,-0.25,-2.5\n0.0,-0.25,-2.25\n0.0,-0.25,-2.0\n0.0,-0.25,-1.75\n0.0,-0.25,-1.5\n0.0,-0.25,-1.25\n0.0,-0.25,-1.0\n0.0,-0.25,-0.75\n0.0,-0.25,-0.5\n0.0,-0.25,-0.25\n0.0,-0.25,0.0\n0.0,-0.25,0.25\n0.0,-0.25,0.5\n0.0,-0.25,0.75\n0.0,-0.25,1.0\n0.0,-0.25,1.25\n0.0,-0.25,1.5\n0.0,-0.25,1.75\n0.0,-0.25,2.0\n0.0,-0.25,2.25\n0.0,-0.25,2.5\n0.0,0.0,-2.5\n0.0,0.0,-2.25\n0.0,0.0,-2.0\n0.0,0.0,-1.75\n0.0,0.0,-1.5\n0.0,0.0,-1.25\n0.0,0.0,-1.0\n0.0,0.0,-0.75\n0.0,0.0,-0.5\n0.0,0.0,-0.25\n0.0,0.0,0.0\n0.0,0.0,0.25\n0.0,0.0,0.5\n0.0,0.0,0.75\n0.0,0.0,1.0\n0.0,0.0,1.25\n0.0,0.0,1.5\n0.0,0.0,1.75\n0.0,0.0,2.0\n0.0,0.0,2.25\n0.0,0.0,2.5\n0.0,0.25,-2.5\n0.0,0.25,-2.25\n0.0,0.25,-2.0\n0.0,0.25,-1.75\n0.0,0.25,-1.5\n0.0,0.25,-1.25\n0.0,0.25,-1.0\n0.0,0.25,-0.75\n0.0,0.25,-0.5\n0.0,0.25,-0.25\n0.0,0.25,0.0\n0.0,0.25,0.25\n0.0,0.25,0.5\n0.0,0.25,0.75\n0.0,0.25,1.0\n0.0,0.25,1.25\n0.0,0.25,1.5\n0.0,0.25,1.75\n0.0,0.25,2.0\n0.0,0.25,2.25\n0.0,0.25,2.5\n0.0,0.5,-2.5\n0.0,0.5,-2.25\n0.0,0.5,-2.0\n0.0,0.5,-1.75\n0.0,0.5,-1.5\n0.0,0.5,-1.25\n0.0,0.5,-1.0\n0.0,0.5,-0.75\n0.0,0.5,-0.5\n0.0,0.5,-0.25\n0.0,0.5,0.0\n0.0,0.5,0.25\n0.0,0.5,0.5\n0.0,0.5,0.75\n0.0,0.5,1.0\n0.0,0.5,1.25\n0.0,0.5,1.5\n0.0,0.5,1.75\n0.0,0.5,2.0\n0.0,0.5,2.25\n0.0,0.5,2.5\n0.0,0.75,-2.5\n0.0,0.75,-2.25\n0.0,0.75,-2.0\n0.0,0.75,-1.75\n0.0,0.75,-1.5\n0.0,0.75,-1.25\n0.0,0.75,-1.0\n0.0,0.75,-0.75\n0.0,0.75,-0.5\n0.0,0.75,-0.25\n0.0,0.75,0.0\n0.0,0.75,0.25\n0.0,0.75,0.5\n0.0,0.75,0.75\n0.0,0.75,1.0\n0.0,0.75,1.25\n0.0,0.75,1.5\n0.0,0.75,1.75\n0.0,0.75,2.0\n0.0,0.75,2.25\n0.0,0.75,2.5\n0.0,1.0,-2.5\n0.0,1.0,-2.25\n0.0,1.0,-2.0\n0.0,1.0,-1.75\n0.0,1.0,-1.5\n0.0,1.0,-1.25\n0.0,1.0,-1.0\n0.0,1.0,-0.75\n0.0,1.0,-0.5\n0.0,1.0,-0.25\n0.0,1.0,0.0\n0.0,1.0,0.25\n0.0,1.0,0.5\n0.0,1.0,0.75\n0.0,1.0,1.0\n0.0,1.0,1.25\n0.0,1.0,1.5\n0.0,1.0,1.75\n0.0,1.0,2.0\n0.0,1.0,2.25\n0.0,1.0,2.5\n0.0,1.25,-2.5\n0.0,1.25,-2.25\n0.0,1.25,-2.0\n0.0,1.25,-1.75\n0.0,1.25,-1.5\n0.0,1.25,-1.25\n0.0,1.25,-1.0\n0.0,1.25,-0.75\n0.0,1.25,-0.5\n0.0,1.25,-0.25\n0.0,1.25,0.0\n0.0,1.25,0.25\n0.0,1.25,0.5\n0.0,1.25,0.75\n0.0,1.25,1.0\n0.0,1.25,1.25\n0.0,1.25,1.5\n0.0,1.25,1.75\n0.0,1.25,2.0\n0.0,1.25,2.25\n0.0,1.25,2.5\n0.0,1.5,-2.5\n0.0,1.5,-2.25\n0.0,1.5,-2.0\n0.0,1.5,-1.75\n0.0,1.5,-1.5\n0.0,1.5,-1.25\n0.0,1.5,-1.0\n0.0,1.5,-0.75\n0.0,1.5,-0.5\n0.0,1.5,-0.25\n0.0,1.5,0.0\n0.0,1.5,0.25\n0.0,1.5,0.5\n0.0,1.5,0.75\n0.0,1.5,1.0\n0.0,1.5,1.25\n0.0,1.5,1.5\n0.0,1.5,1.75\n0.0,1.5,2.0\n0.0,1.5,2.25\n0.0,1.5,2.5\n0.0,1.75,-2.5\n0.0,1.75,-2.25\n0.0,1.75,-2.0\n0.0,1.75,-1.75\n0.0,1.75,-1.5\n0.0,1.75,-1.25\n0.0,1.75,-1.0\n0.0,1.75,-0.75\n0.0,1.75,-0.5\n0.0,1.75,-0.25\n0.0,1.75,0.0\n0.0,1.75,0.25\n0.0,1.75,0.5\n0.0,1.75,0.75\n0.0,1.75,1.0\n0.0,1.75,1.25\n0.0,1.75,1.5\n0.0,1.75,1.75\n0.0,1.75,2.0\n0.0,1.75,2.25\n0.0,1.75,2.5\n0.0,2.0,-2.5\n0.0,2.0,-2.25\n0.0,2.0,-2.0\n0.0,2.0,-1.75\n0.0,2.0,-1.5\n0.0,2.0,-1.25\n0.0,2.0,-1.0\n0.0,2.0,-0.75\n0.0,2.0,-0.5\n0.0,2.0,-0.25\n0.0,2.0,0.0\n0.0,2.0,0.25\n0.0,2.0,0.5\n0.0,2.0,0.75\n0.0,2.0,1.0\n0.0,2.0,1.25\n0.0,2.0,1.5\n0.0,2.0,1.75\n0.0,2.0,2.0\n0.0,2.0,2.25\n0.0,2.0,2.5\n0.0,2.25,-2.5\n0.0,2.25,-2.25\n0.0,2.25,-2.0\n0.0,2.25,-1.75\n0.0,2.25,-1.5\n0.0,2.25,-1.25\n0.0,2.25,-1.0\n0.0,2.25,-0.75\n0.0,2.25,-0.5\n0.0,2.25,-0.25\n0.0,2.25,0.0\n0.0,2.25,0.25\n0.0,2.25,0.5\n0.0,2.25,0.75\n0.0,2.25,1.0\n0.0,2.25,1.25\n0.0,2.25,1.5\n0.0,2.25,1.75\n0.0,2.25,2.0\n0.0,2.25,2.25\n0.0,2.25,2.5\n0.0,2.5,-2.5\n0.0,2.5,-2.25\n0.0,2.5,-2.0\n0.0,2.5,-1.75\n0.0,2.5,-1.5\n0.0,2.5,-1.25\n0.0,2.5,-1.0\n0.0,2.5,-0.75\n0.0,2.5,-0.5\n0.0,2.5,-0.25\n0.0,2.5,0.0\n0.0,2.5,0.25\n0.0,2.5,0.5\n0.0,2.5,0.75\n0.0,2.5,1.0\n0.0,2.5,1.25\n0.0,2.5,1.5\n0.0,2.5,1.75\n0.0,2.5,2.0\n0.0,2.5,2.25\n0.0,2.5,2.5\n0.25,-2.5,-2.5\n0.25,-2.5,-2.25\n0.25,-2.5,-2.0\n0.25,-2.5,-1.75\n0.25,-2.5,-1.5\n0.25,-2.5,-1.25\n0.25,-2.5,-1.0\n0.25,-2.5,-0.75\n0.25,-2.5,-0.5\n0.25,-2.5,-0.25\n0.25,-2.5,0.0\n0.25,-2.5,0.25\n0.25,-2.5,0.5\n0.25,-2.5,0.75\n0.25,-2.5,1.0\n0.25,-2.5,1.25\n0.25,-2.5,1.5\n0.25,-2.5,1.75\n0.25,-2.5,2.0\n0.25,-2.5,2.25\n0.25,-2.5,2.5\n0.25,-2.25,-2.5\n0.25,-2.25,-2.25\n0.25,-2.25,-2.0\n0.25,-2.25,-1.75\n0.25,-2.25,-1.5\n0.25,-2.25,-1.25\n0.25,-2.25,-1.0\n0.25,-2.25,-0.75\n0.25,-2.25,-0.5\n0.25,-2.25,-0.25\n0.25,-2.25,0.0\n0.25,-2.25,0.25\n0.25,-2.25,0.5\n0.25,-2.25,0.75\n0.25,-2.25,1.0\n0.25,-2.25,1.25\n0.25,-2.25,1.5\n0.25,-2.25,1.75\n0.25,-2.25,2.0\n0.25,-2.25,2.25\n0.25,-2.25,2.5\n0.25,-2.0,-2.5\n0.25,-2.0,-2.25\n0.25,-2.0,-2.0\n0.25,-2.0,-1.75\n0.25,-2.0,-1.5\n0.25,-2.0,-1.25\n0.25,-2.0,-1.0\n0.25,-2.0,-0.75\n0.25,-2.0,-0.5\n0.25,-2.0,-0.25\n0.25,-2.0,0.0\n0.25,-2.0,0.25\n0.25,-2.0,0.5\n0.25,-2.0,0.75\n0.25,-2.0,1.0\n0.25,-2.0,1.25\n0.25,-2.0,1.5\n0.25,-2.0,1.75\n0.25,-2.0,2.0\n0.25,-2.0,2.25\n0.25,-2.0,2.5\n0.25,-1.75,-2.5\n0.25,-1.75,-2.25\n0.25,-1.75,-2.0\n0.25,-1.75,-1.75\n0.25,-1.75,-1.5\n0.25,-1.75,-1.25\n0.25,-1.75,-1.0\n0.25,-1.75,-0.75\n0.25,-1.75,-0.5\n0.25,-1.75,-0.25\n0.25,-1.75,0.0\n0.25,-1.75,0.25\n0.25,-1.75,0.5\n0.25,-1.75,0.75\n0.25,-1.75,1.0\n0.25,-1.75,1.25\n0.25,-1.75,1.5\n0.25,-1.75,1.75\n0.25,-1.75,2.0\n0.25,-1.75,2.25\n0.25,-1.75,2.5\n0.25,-1.5,-2.5\n0.25,-1.5,-2.25\n0.25,-1.5,-2.0\n0.25,-1.5,-1.75\n0.25,-1.5,-1.5\n0.25,-1.5,-1.25\n0.25,-1.5,-1.0\n0.25,-1.5,-0.75\n0.25,-1.5,-0.5\n0.25,-1.5,-0.25\n0.25,-1.5,0.0\n0.25,-1.5,0.25\n0.25,-1.5,0.5\n0.25,-1.5,0.75\n0.25,-1.5,1.0\n0.25,-1.5,1.25\n0.25,-1.5,1.5\n0.25,-1.5,1.75\n0.25,-1.5,2.0\n0.25,-1.5,2.25\n0.25,-1.5,2.5\n0.25,-1.25,-2.5\n0.25,-1.25,-2.25\n0.25,-1.25,-2.0\n0.25,-1.25,-1.75\n0.25,-1.25,-1.5\n0.25,-1.25,-1.25\n0.25,-1.25,-1.0\n0.25,-1.25,-0.75\n0.25,-1.25,-0.5\n0.25,-1.25,-0.25\n0.25,-1.25,0.0\n0.25,-1.25,0.25\n0.25,-1.25,0.5\n0.25,-1.25,0.75\n0.25,-1.25,1.0\n0.25,-1.25,1.25\n0.25,-1.25,1.5\n0.25,-1.25,1.75\n0.25,-1.25,2.0\n0.25,-1.25,2.25\n0.25,-1.25,2.5\n0.25,-1.0,-2.5\n0.25,-1.0,-2.25\n0.25,-1.0,-2.0\n0.25,-1.0,-1.75\n0.25,-1.0,-1.5\n0.25,-1.0,-1.25\n0.25,-1.0,-1.0\n0.25,-1.0,-0.75\n0.25,-1.0,-0.5\n0.25,-1.0,-0.25\n0.25,-1.0,0.0\n0.25,-1.0,0.25\n0.25,-1.0,0.5\n0.25,-1.0,0.75\n0.25,-1.0,1.0\n0.25,-1.0,1.25\n0.25,-1.0,1.5\n0.25,-1.0,1.75\n0.25,-1.0,2.0\n0.25,-1.0,2.25\n0.25,-1.0,2.5\n0.25,-0.75,-2.5\n0.25,-0.75,-2.25\n0.25,-0.75,-2.0\n0.25,-0.75,-1.75\n0.25,-0.75,-1.5\n0.25,-0.75,-1.25\n0.25,-0.75,-1.0\n0.25,-0.75,-0.75\n0.25,-0.75,-0.5\n0.25,-0.75,-0.25\n0.25,-0.75,0.0\n0.25,-0.75,0.25\n0.25,-0.75,0.5\n0.25,-0.75,0.75\n0.25,-0.75,1.0\n0.25,-0.75,1.25\n0.25,-0.75,1.5\n0.25,-0.75,1.75\n0.25,-0.75,2.0\n0.25,-0.75,2.25\n0.25,-0.75,2.5\n0.25,-0.5,-2.5\n0.25,-0.5,-2.25\n0.25,-0.5,-2.0\n0.25,-0.5,-1.75\n0.25,-0.5,-1.5\n0.25,-0.5,-1.25\n0.25,-0.5,-1.0\n0.25,-0.5,-0.75\n0.25,-0.5,-0.5\n0.25,-0.5,-0.25\n0.25,-0.5,0.0\n0.25,-0.5,0.25\n0.25,-0.5,0.5\n0.25,-0.5,0.75\n0.25,-0.5,1.0\n0.25,-0.5,1.25\n0.25,-0.5,1.5\n0.25,-0.5,1.75\n0.25,-0.5,2.0\n0.25,-0.5,2.25\n0.25,-0.5,2.5\n0.25,-0.25,-2.5\n0.25,-0.25,-2.25\n0.25,-0.25,-2.0\n0.25,-0.25,-1.75\n0.25,-0.25,-1.5\n0.25,-0.25,-1.25\n0.25,-0.25,-1.0\n0.25,-0.25,-0.75\n0.25,-0.25,-0.5\n0.25,-0.25,-0.25\n0.25,-0.25,0.0\n0.25,-0.25,0.25\n0.25,-0.25,0.5\n0.25,-0.25,0.75\n0.25,-0.25,1.0\n0.25,-0.25,1.25\n0.25,-0.25,1.5\n0.25,-0.25,1.75\n0.25,-0.25,2.0\n0.25,-0.25,2.25\n0.25,-0.25,2.5\n0.25,0.0,-2.5\n0.25,0.0,-2.25\n0.25,0.0,-2.0\n0.25,0.0,-1.75\n0.25,0.0,-1.5\n0.25,0.0,-1.25\n0.25,0.0,-1.0\n0.25,0.0,-0.75\n0.25,0.0,-0.5\n0.25,0.0,-0.25\n0.25,0.0,0.0\n0.25,0.0,0.25\n0.25,0.0,0.5\n0.25,0.0,0.75\n0.25,0.0,1.0\n0.25,0.0,1.25\n0.25,0.0,1.5\n0.25,0.0,1.75\n0.25,0.0,2.0\n0.25,0.0,2.25\n0.25,0.0,2.5\n0.25,0.25,-2.5\n0.25,0.25,-2.25\n0.25,0.25,-2.0\n0.25,0.25,-1.75\n0.25,0.25,-1.5\n0.25,0.25,-1.25\n0.25,0.25,-1.0\n0.25,0.25,-0.75\n0.25,0.25,-0.5\n0.25,0.25,-0.25\n0.25,0.25,0.0\n0.25,0.25,0.25\n0.25,0.25,0.5\n0.25,0.25,0.75\n0.25,0.25,1.0\n0.25,0.25,1.25\n0.25,0.25,1.5\n0.25,0.25,1.75\n0.25,0.25,2.0\n0.25,0.25,2.25\n0.25,0.25,2.5\n0.25,0.5,-2.5\n0.25,0.5,-2.25\n0.25,0.5,-2.0\n0.25,0.5,-1.75\n0.25,0.5,-1.5\n0.25,0.5,-1.25\n0.25,0.5,-1.0\n0.25,0.5,-0.75\n0.25,0.5,-0.5\n0.25,0.5,-0.25\n0.25,0.5,0.0\n0.25,0.5,0.25\n0.25,0.5,0.5\n0.25,0.5,0.75\n0.25,0.5,1.0\n0.25,0.5,1.25\n0.25,0.5,1.5\n0.25,0.5,1.75\n0.25,0.5,2.0\n0.25,0.5,2.25\n0.25,0.5,2.5\n0.25,0.75,-2.5\n0.25,0.75,-2.25\n0.25,0.75,-2.0\n0.25,0.75,-1.75\n0.25,0.75,-1.5\n0.25,0.75,-1.25\n0.25,0.75,-1.0\n0.25,0.75,-0.75\n0.25,0.75,-0.5\n0.25,0.75,-0.25\n0.25,0.75,0.0\n0.25,0.75,0.25\n0.25,0.75,0.5\n0.25,0.75,0.75\n0.25,0.75,1.0\n0.25,0.75,1.25\n0.25,0.75,1.5\n0.25,0.75,1.75\n0.25,0.75,2.0\n0.25,0.75,2.25\n0.25,0.75,2.5\n0.25,1.0,-2.5\n0.25,1.0,-2.25\n0.25,1.0,-2.0\n0.25,1.0,-1.75\n0.25,1.0,-1.5\n0.25,1.0,-1.25\n0.25,1.0,-1.0\n0.25,1.0,-0.75\n0.25,1.0,-0.5\n0.25,1.0,-0.25\n0.25,1.0,0.0\n0.25,1.0,0.25\n0.25,1.0,0.5\n0.25,1.0,0.75\n0.25,1.0,1.0\n0.25,1.0,1.25\n0.25,1.0,1.5\n0.25,1.0,1.75\n0.25,1.0,2.0\n0.25,1.0,2.25\n0.25,1.0,2.5\n0.25,1.25,-2.5\n0.25,1.25,-2.25\n0.25,1.25,-2.0\n0.25,1.25,-1.75\n0.25,1.25,-1.5\n0.25,1.25,-1.25\n0.25,1.25,-1.0\n0.25,1.25,-0.75\n0.25,1.25,-0.5\n0.25,1.25,-0.25\n0.25,1.25,0.0\n0.25,1.25,0.25\n0.25,1.25,0.5\n0.25,1.25,0.75\n0.25,1.25,1.0\n0.25,1.25,1.25\n0.25,1.25,1.5\n0.25,1.25,1.75\n0.25,1.25,2.0\n0.25,1.25,2.25\n0.25,1.25,2.5\n0.25,1.5,-2.5\n0.25,1.5,-2.25\n0.25,1.5,-2.0\n0.25,1.5,-1.75\n0.25,1.5,-1.5\n0.25,1.5,-1.25\n0.25,1.5,-1.0\n0.25,1.5,-0.75\n0.25,1.5,-0.5\n0.25,1.5,-0.25\n0.25,1.5,0.0\n0.25,1.5,0.25\n0.25,1.5,0.5\n0.25,1.5,0.75\n0.25,1.5,1.0\n0.25,1.5,1.25\n0.25,1.5,1.5\n0.25,1.5,1.75\n0.25,1.5,2.0\n0.25,1.5,2.25\n0.25,1.5,2.5\n0.25,1.75,-2.5\n0.25,1.75,-2.25\n0.25,1.75,-2.0\n0.25,1.75,-1.75\n0.25,1.75,-1.5\n0.25,1.75,-1.25\n0.25,1.75,-1.0\n0.25,1.75,-0.75\n0.25,1.75,-0.5\n0.25,1.75,-0.25\n0.25,1.75,0.0\n0.25,1.75,0.25\n0.25,1.75,0.5\n0.25,1.75,0.75\n0.25,1.75,1.0\n0.25,1.75,1.25\n0.25,1.75,1.5\n0.25,1.75,1.75\n0.25,1.75,2.0\n0.25,1.75,2.25\n0.25,1.75,2.5\n0.25,2.0,-2.5\n0.25,2.0,-2.25\n0.25,2.0,-2.0\n0.25,2.0,-1.75\n0.25,2.0,-1.5\n0.25,2.0,-1.25\n0.25,2.0,-1.0\n0.25,2.0,-0.75\n0.25,2.0,-0.5\n0.25,2.0,-0.25\n0.25,2.0,0.0\n0.25,2.0,0.25\n0.25,2.0,0.5\n0.25,2.0,0.75\n0.25,2.0,1.0\n0.25,2.0,1.25\n0.25,2.0,1.5\n0.25,2.0,1.75\n0.25,2.0,2.0\n0.25,2.0,2.25\n0.25,2.0,2.5\n0.25,2.25,-2.5\n0.25,2.25,-2.25\n0.25,2.25,-2.0\n0.25,2.25,-1.75\n0.25,2.25,-1.5\n0.25,2.25,-1.25\n0.25,2.25,-1.0\n0.25,2.25,-0.75\n0.25,2.25,-0.5\n0.25,2.25,-0.25\n0.25,2.25,0.0\n0.25,2.25,0.25\n0.25,2.25,0.5\n0.25,2.25,0.75\n0.25,2.25,1.0\n0.25,2.25,1.25\n0.25,2.25,1.5\n0.25,2.25,1.75\n0.25,2.25,2.0\n0.25,2.25,2.25\n0.25,2.25,2.5\n0.25,2.5,-2.5\n0.25,2.5,-2.25\n0.25,2.5,-2.0\n0.25,2.5,-1.75\n0.25,2.5,-1.5\n0.25,2.5,-1.25\n0.25,2.5,-1.0\n0.25,2.5,-0.75\n0.25,2.5,-0.5\n0.25,2.5,-0.25\n0.25,2.5,0.0\n0.25,2.5,0.25\n0.25,2.5,0.5\n0.25,2.5,0.75\n0.25,2.5,1.0\n0.25,2.5,1.25\n0.25,2.5,1.5\n0.25,2.5,1.75\n0.25,2.5,2.0\n0.25,2.5,2.25\n0.25,2.5,2.5\n0.5,-2.5,-2.5\n0.5,-2.5,-2.25\n0.5,-2.5,-2.0\n0.5,-2.5,-1.75\n0.5,-2.5,-1.5\n0.5,-2.5,-1.25\n0.5,-2.5,-1.0\n0.5,-2.5,-0.75\n0.5,-2.5,-0.5\n0.5,-2.5,-0.25\n0.5,-2.5,0.0\n0.5,-2.5,0.25\n0.5,-2.5,0.5\n0.5,-2.5,0.75\n0.5,-2.5,1.0\n0.5,-2.5,1.25\n0.5,-2.5,1.5\n0.5,-2.5,1.75\n0.5,-2.5,2.0\n0.5,-2.5,2.25\n0.5,-2.5,2.5\n0.5,-2.25,-2.5\n0.5,-2.25,-2.25\n0.5,-2.25,-2.0\n0.5,-2.25,-1.75\n0.5,-2.25,-1.5\n0.5,-2.25,-1.25\n0.5,-2.25,-1.0\n0.5,-2.25,-0.75\n0.5,-2.25,-0.5\n0.5,-2.25,-0.25\n0.5,-2.25,0.0\n0.5,-2.25,0.25\n0.5,-2.25,0.5\n0.5,-2.25,0.75\n0.5,-2.25,1.0\n0.5,-2.25,1.25\n0.5,-2.25,1.5\n0.5,-2.25,1.75\n0.5,-2.25,2.0\n0.5,-2.25,2.25\n0.5,-2.25,2.5\n0.5,-2.0,-2.5\n0.5,-2.0,-2.25\n0.5,-2.0,-2.0\n0.5,-2.0,-1.75\n0.5,-2.0,-1.5\n0.5,-2.0,-1.25\n0.5,-2.0,-1.0\n0.5,-2.0,-0.75\n0.5,-2.0,-0.5\n0.5,-2.0,-0.25\n0.5,-2.0,0.0\n0.5,-2.0,0.25\n0.5,-2.0,0.5\n0.5,-2.0,0.75\n0.5,-2.0,1.0\n0.5,-2.0,1.25\n0.5,-2.0,1.5\n0.5,-2.0,1.75\n0.5,-2.0,2.0\n0.5,-2.0,2.25\n0.5,-2.0,2.5\n0.5,-1.75,-2.5\n0.5,-1.75,-2.25\n0.5,-1.75,-2.0\n0.5,-1.75,-1.75\n0.5,-1.75,-1.5\n0.5,-1.75,-1.25\n0.5,-1.75,-1.0\n0.5,-1.75,-0.75\n0.5,-1.75,-0.5\n0.5,-1.75,-0.25\n0.5,-1.75,0.0\n0.5,-1.75,0.25\n0.5,-1.75,0.5\n0.5,-1.75,0.75\n0.5,-1.75,1.0\n0.5,-1.75,1.25\n0.5,-1.75,1.5\n0.5,-1.75,1.75\n0.5,-1.75,2.0\n0.5,-1.75,2.25\n0.5,-1.75,2.5\n0.5,-1.5,-2.5\n0.5,-1.5,-2.25\n0.5,-1.5,-2.0\n0.5,-1.5,-1.75\n0.5,-1.5,-1.5\n0.5,-1.5,-1.25\n0.5,-1.5,-1.0\n0.5,-1.5,-0.75\n0.5,-1.5,-0.5\n0.5,-1.5,-0.25\n0.5,-1.5,0.0\n0.5,-1.5,0.25\n0.5,-1.5,0.5\n0.5,-1.5,0.75\n0.5,-1.5,1.0\n0.5,-1.5,1.25\n0.5,-1.5,1.5\n0.5,-1.5,1.75\n0.5,-1.5,2.0\n0.5,-1.5,2.25\n0.5,-1.5,2.5\n0.5,-1.25,-2.5\n0.5,-1.25,-2.25\n0.5,-1.25,-2.0\n0.5,-1.25,-1.75\n0.5,-1.25,-1.5\n0.5,-1.25,-1.25\n0.5,-1.25,-1.0\n0.5,-1.25,-0.75\n0.5,-1.25,-0.5\n0.5,-1.25,-0.25\n0.5,-1.25,0.0\n0.5,-1.25,0.25\n0.5,-1.25,0.5\n0.5,-1.25,0.75\n0.5,-1.25,1.0\n0.5,-1.25,1.25\n0.5,-1.25,1.5\n0.5,-1.25,1.75\n0.5,-1.25,2.0\n0.5,-1.25,2.25\n0.5,-1.25,2.5\n0.5,-1.0,-2.5\n0.5,-1.0,-2.25\n0.5,-1.0,-2.0\n0.5,-1.0,-1.75\n0.5,-1.0,-1.5\n0.5,-1.0,-1.25\n0.5,-1.0,-1.0\n0.5,-1.0,-0.75\n0.5,-1.0,-0.5\n0.5,-1.0,-0.25\n0.5,-1.0,0.0\n0.5,-1.0,0.25\n0.5,-1.0,0.5\n0.5,-1.0,0.75\n0.5,-1.0,1.0\n0.5,-1.0,1.25\n0.5,-1.0,1.5\n0.5,-1.0,1.75\n0.5,-1.0,2.0\n0.5,-1.0,2.25\n0.5,-1.0,2.5\n0.5,-0.75,-2.5\n0.5,-0.75,-2.25\n0.5,-0.75,-2.0\n0.5,-0.75,-1.75\n0.5,-0.75,-1.5\n0.5,-0.75,-1.25\n0.5,-0.75,-1.0\n0.5,-0.75,-0.75\n0.5,-0.75,-0.5\n0.5,-0.75,-0.25\n0.5,-0.75,0.0\n0.5,-0.75,0.25\n0.5,-0.75,0.5\n0.5,-0.75,0.75\n0.5,-0.75,1.0\n0.5,-0.75,1.25\n0.5,-0.75,1.5\n0.5,-0.75,1.75\n0.5,-0.75,2.0\n0.5,-0.75,2.25\n0.5,-0.75,2.5\n0.5,-0.5,-2.5\n0.5,-0.5,-2.25\n0.5,-0.5,-2.0\n0.5,-0.5,-1.75\n0.5,-0.5,-1.5\n0.5,-0.5,-1.25\n0.5,-0.5,-1.0\n0.5,-0.5,-0.75\n0.5,-0.5,-0.5\n0.5,-0.5,-0.25\n0.5,-0.5,0.0\n0.5,-0.5,0.25\n0.5,-0.5,0.5\n0.5,-0.5,0.75\n0.5,-0.5,1.0\n0.5,-0.5,1.25\n0.5,-0.5,1.5\n0.5,-0.5,1.75\n0.5,-0.5,2.0\n0.5,-0.5,2.25\n0.5,-0.5,2.5\n0.5,-0.25,-2.5\n0.5,-0.25,-2.25\n0.5,-0.25,-2.0\n0.5,-0.25,-1.75\n0.5,-0.25,-1.5\n0.5,-0.25,-1.25\n0.5,-0.25,-1.0\n0.5,-0.25,-0.75\n0.5,-0.25,-0.5\n0.5,-0.25,-0.25\n0.5,-0.25,0.0\n0.5,-0.25,0.25\n0.5,-0.25,0.5\n0.5,-0.25,0.75\n0.5,-0.25,1.0\n0.5,-0.25,1.25\n0.5,-0.25,1.5\n0.5,-0.25,1.75\n0.5,-0.25,2.0\n0.5,-0.25,2.25\n0.5,-0.25,2.5\n0.5,0.0,-2.5\n0.5,0.0,-2.25\n0.5,0.0,-2.0\n0.5,0.0,-1.75\n0.5,0.0,-1.5\n0.5,0.0,-1.25\n0.5,0.0,-1.0\n0.5,0.0,-0.75\n0.5,0.0,-0.5\n0.5,0.0,-0.25\n0.5,0.0,0.0\n0.5,0.0,0.25\n0.5,0.0,0.5\n0.5,0.0,0.75\n0.5,0.0,1.0\n0.5,0.0,1.25\n0.5,0.0,1.5\n0.5,0.0,1.75\n0.5,0.0,2.0\n0.5,0.0,2.25\n0.5,0.0,2.5\n0.5,0.25,-2.5\n0.5,0.25,-2.25\n0.5,0.25,-2.0\n0.5,0.25,-1.75\n0.5,0.25,-1.5\n0.5,0.25,-1.25\n0.5,0.25,-1.0\n0.5,0.25,-0.75\n0.5,0.25,-0.5\n0.5,0.25,-0.25\n0.5,0.25,0.0\n0.5,0.25,0.25\n0.5,0.25,0.5\n0.5,0.25,0.75\n0.5,0.25,1.0\n0.5,0.25,1.25\n0.5,0.25,1.5\n0.5,0.25,1.75\n0.5,0.25,2.0\n0.5,0.25,2.25\n0.5,0.25,2.5\n0.5,0.5,-2.5\n0.5,0.5,-2.25\n0.5,0.5,-2.0\n0.5,0.5,-1.75\n0.5,0.5,-1.5\n0.5,0.5,-1.25\n0.5,0.5,-1.0\n0.5,0.5,-0.75\n0.5,0.5,-0.5\n0.5,0.5,-0.25\n0.5,0.5,0.0\n0.5,0.5,0.25\n0.5,0.5,0.5\n0.5,0.5,0.75\n0.5,0.5,1.0\n0.5,0.5,1.25\n0.5,0.5,1.5\n0.5,0.5,1.75\n0.5,0.5,2.0\n0.5,0.5,2.25\n0.5,0.5,2.5\n0.5,0.75,-2.5\n0.5,0.75,-2.25\n0.5,0.75,-2.0\n0.5,0.75,-1.75\n0.5,0.75,-1.5\n0.5,0.75,-1.25\n0.5,0.75,-1.0\n0.5,0.75,-0.75\n0.5,0.75,-0.5\n0.5,0.75,-0.25\n0.5,0.75,0.0\n0.5,0.75,0.25\n0.5,0.75,0.5\n0.5,0.75,0.75\n0.5,0.75,1.0\n0.5,0.75,1.25\n0.5,0.75,1.5\n0.5,0.75,1.75\n0.5,0.75,2.0\n0.5,0.75,2.25\n0.5,0.75,2.5\n0.5,1.0,-2.5\n0.5,1.0,-2.25\n0.5,1.0,-2.0\n0.5,1.0,-1.75\n0.5,1.0,-1.5\n0.5,1.0,-1.25\n0.5,1.0,-1.0\n0.5,1.0,-0.75\n0.5,1.0,-0.5\n0.5,1.0,-0.25\n0.5,1.0,0.0\n0.5,1.0,0.25\n0.5,1.0,0.5\n0.5,1.0,0.75\n0.5,1.0,1.0\n0.5,1.0,1.25\n0.5,1.0,1.5\n0.5,1.0,1.75\n0.5,1.0,2.0\n0.5,1.0,2.25\n0.5,1.0,2.5\n0.5,1.25,-2.5\n0.5,1.25,-2.25\n0.5,1.25,-2.0\n0.5,1.25,-1.75\n0.5,1.25,-1.5\n0.5,1.25,-1.25\n0.5,1.25,-1.0\n0.5,1.25,-0.75\n0.5,1.25,-0.5\n0.5,1.25,-0.25\n0.5,1.25,0.0\n0.5,1.25,0.25\n0.5,1.25,0.5\n0.5,1.25,0.75\n0.5,1.25,1.0\n0.5,1.25,1.25\n0.5,1.25,1.5\n0.5,1.25,1.75\n0.5,1.25,2.0\n0.5,1.25,2.25\n0.5,1.25,2.5\n0.5,1.5,-2.5\n0.5,1.5,-2.25\n0.5,1.5,-2.0\n0.5,1.5,-1.75\n0.5,1.5,-1.5\n0.5,1.5,-1.25\n0.5,1.5,-1.0\n0.5,1.5,-0.75\n0.5,1.5,-0.5\n0.5,1.5,-0.25\n0.5,1.5,0.0\n0.5,1.5,0.25\n0.5,1.5,0.5\n0.5,1.5,0.75\n0.5,1.5,1.0\n0.5,1.5,1.25\n0.5,1.5,1.5\n0.5,1.5,1.75\n0.5,1.5,2.0\n0.5,1.5,2.25\n0.5,1.5,2.5\n0.5,1.75,-2.5\n0.5,1.75,-2.25\n0.5,1.75,-2.0\n0.5,1.75,-1.75\n0.5,1.75,-1.5\n0.5,1.75,-1.25\n0.5,1.75,-1.0\n0.5,1.75,-0.75\n0.5,1.75,-0.5\n0.5,1.75,-0.25\n0.5,1.75,0.0\n0.5,1.75,0.25\n0.5,1.75,0.5\n0.5,1.75,0.75\n0.5,1.75,1.0\n0.5,1.75,1.25\n0.5,1.75,1.5\n0.5,1.75,1.75\n0.5,1.75,2.0\n0.5,1.75,2.25\n0.5,1.75,2.5\n0.5,2.0,-2.5\n0.5,2.0,-2.25\n0.5,2.0,-2.0\n0.5,2.0,-1.75\n0.5,2.0,-1.5\n0.5,2.0,-1.25\n0.5,2.0,-1.0\n0.5,2.0,-0.75\n0.5,2.0,-0.5\n0.5,2.0,-0.25\n0.5,2.0,0.0\n0.5,2.0,0.25\n0.5,2.0,0.5\n0.5,2.0,0.75\n0.5,2.0,1.0\n0.5,2.0,1.25\n0.5,2.0,1.5\n0.5,2.0,1.75\n0.5,2.0,2.0\n0.5,2.0,2.25\n0.5,2.0,2.5\n0.5,2.25,-2.5\n0.5,2.25,-2.25\n0.5,2.25,-2.0\n0.5,2.25,-1.75\n0.5,2.25,-1.5\n0.5,2.25,-1.25\n0.5,2.25,-1.0\n0.5,2.25,-0.75\n0.5,2.25,-0.5\n0.5,2.25,-0.25\n0.5,2.25,0.0\n0.5,2.25,0.25\n0.5,2.25,0.5\n0.5,2.25,0.75\n0.5,2.25,1.0\n0.5,2.25,1.25\n0.5,2.25,1.5\n0.5,2.25,1.75\n0.5,2.25,2.0\n0.5,2.25,2.25\n0.5,2.25,2.5\n0.5,2.5,-2.5\n0.5,2.5,-2.25\n0.5,2.5,-2.0\n0.5,2.5,-1.75\n0.5,2.5,-1.5\n0.5,2.5,-1.25\n0.5,2.5,-1.0\n0.5,2.5,-0.75\n0.5,2.5,-0.5\n0.5,2.5,-0.25\n0.5,2.5,0.0\n0.5,2.5,0.25\n0.5,2.5,0.5\n0.5,2.5,0.75\n0.5,2.5,1.0\n0.5,2.5,1.25\n0.5,2.5,1.5\n0.5,2.5,1.75\n0.5,2.5,2.0\n0.5,2.5,2.25\n0.5,2.5,2.5\n0.75,-2.5,-2.5\n0.75,-2.5,-2.25\n0.75,-2.5,-2.0\n0.75,-2.5,-1.75\n0.75,-2.5,-1.5\n0.75,-2.5,-1.25\n0.75,-2.5,-1.0\n0.75,-2.5,-0.75\n0.75,-2.5,-0.5\n0.75,-2.5,-0.25\n0.75,-2.5,0.0\n0.75,-2.5,0.25\n0.75,-2.5,0.5\n0.75,-2.5,0.75\n0.75,-2.5,1.0\n0.75,-2.5,1.25\n0.75,-2.5,1.5\n0.75,-2.5,1.75\n0.75,-2.5,2.0\n0.75,-2.5,2.25\n0.75,-2.5,2.5\n0.75,-2.25,-2.5\n0.75,-2.25,-2.25\n0.75,-2.25,-2.0\n0.75,-2.25,-1.75\n0.75,-2.25,-1.5\n0.75,-2.25,-1.25\n0.75,-2.25,-1.0\n0.75,-2.25,-0.75\n0.75,-2.25,-0.5\n0.75,-2.25,-0.25\n0.75,-2.25,0.0\n0.75,-2.25,0.25\n0.75,-2.25,0.5\n0.75,-2.25,0.75\n0.75,-2.25,1.0\n0.75,-2.25,1.25\n0.75,-2.25,1.5\n0.75,-2.25,1.75\n0.75,-2.25,2.0\n0.75,-2.25,2.25\n0.75,-2.25,2.5\n0.75,-2.0,-2.5\n0.75,-2.0,-2.25\n0.75,-2.0,-2.0\n0.75,-2.0,-1.75\n0.75,-2.0,-1.5\n0.75,-2.0,-1.25\n0.75,-2.0,-1.0\n0.75,-2.0,-0.75\n0.75,-2.0,-0.5\n0.75,-2.0,-0.25\n0.75,-2.0,0.0\n0.75,-2.0,0.25\n0.75,-2.0,0.5\n0.75,-2.0,0.75\n0.75,-2.0,1.0\n0.75,-2.0,1.25\n0.75,-2.0,1.5\n0.75,-2.0,1.75\n0.75,-2.0,2.0\n0.75,-2.0,2.25\n0.75,-2.0,2.5\n0.75,-1.75,-2.5\n0.75,-1.75,-2.25\n0.75,-1.75,-2.0\n0.75,-1.75,-1.75\n0.75,-1.75,-1.5\n0.75,-1.75,-1.25\n0.75,-1.75,-1.0\n0.75,-1.75,-0.75\n0.75,-1.75,-0.5\n0.75,-1.75,-0.25\n0.75,-1.75,0.0\n0.75,-1.75,0.25\n0.75,-1.75,0.5\n0.75,-1.75,0.75\n0.75,-1.75,1.0\n0.75,-1.75,1.25\n0.75,-1.75,1.5\n0.75,-1.75,1.75\n0.75,-1.75,2.0\n0.75,-1.75,2.25\n0.75,-1.75,2.5\n0.75,-1.5,-2.5\n0.75,-1.5,-2.25\n0.75,-1.5,-2.0\n0.75,-1.5,-1.75\n0.75,-1.5,-1.5\n0.75,-1.5,-1.25\n0.75,-1.5,-1.0\n0.75,-1.5,-0.75\n0.75,-1.5,-0.5\n0.75,-1.5,-0.25\n0.75,-1.5,0.0\n0.75,-1.5,0.25\n0.75,-1.5,0.5\n0.75,-1.5,0.75\n0.75,-1.5,1.0\n0.75,-1.5,1.25\n0.75,-1.5,1.5\n0.75,-1.5,1.75\n0.75,-1.5,2.0\n0.75,-1.5,2.25\n0.75,-1.5,2.5\n0.75,-1.25,-2.5\n0.75,-1.25,-2.25\n0.75,-1.25,-2.0\n0.75,-1.25,-1.75\n0.75,-1.25,-1.5\n0.75,-1.25,-1.25\n0.75,-1.25,-1.0\n0.75,-1.25,-0.75\n0.75,-1.25,-0.5\n0.75,-1.25,-0.25\n0.75,-1.25,0.0\n0.75,-1.25,0.25\n0.75,-1.25,0.5\n0.75,-1.25,0.75\n0.75,-1.25,1.0\n0.75,-1.25,1.25\n0.75,-1.25,1.5\n0.75,-1.25,1.75\n0.75,-1.25,2.0\n0.75,-1.25,2.25\n0.75,-1.25,2.5\n0.75,-1.0,-2.5\n0.75,-1.0,-2.25\n0.75,-1.0,-2.0\n0.75,-1.0,-1.75\n0.75,-1.0,-1.5\n0.75,-1.0,-1.25\n0.75,-1.0,-1.0\n0.75,-1.0,-0.75\n0.75,-1.0,-0.5\n0.75,-1.0,-0.25\n0.75,-1.0,0.0\n0.75,-1.0,0.25\n0.75,-1.0,0.5\n0.75,-1.0,0.75\n0.75,-1.0,1.0\n0.75,-1.0,1.25\n0.75,-1.0,1.5\n0.75,-1.0,1.75\n0.75,-1.0,2.0\n0.75,-1.0,2.25\n0.75,-1.0,2.5\n0.75,-0.75,-2.5\n0.75,-0.75,-2.25\n0.75,-0.75,-2.0\n0.75,-0.75,-1.75\n0.75,-0.75,-1.5\n0.75,-0.75,-1.25\n0.75,-0.75,-1.0\n0.75,-0.75,-0.75\n0.75,-0.75,-0.5\n0.75,-0.75,-0.25\n0.75,-0.75,0.0\n0.75,-0.75,0.25\n0.75,-0.75,0.5\n0.75,-0.75,0.75\n0.75,-0.75,1.0\n0.75,-0.75,1.25\n0.75,-0.75,1.5\n0.75,-0.75,1.75\n0.75,-0.75,2.0\n0.75,-0.75,2.25\n0.75,-0.75,2.5\n0.75,-0.5,-2.5\n0.75,-0.5,-2.25\n0.75,-0.5,-2.0\n0.75,-0.5,-1.75\n0.75,-0.5,-1.5\n0.75,-0.5,-1.25\n0.75,-0.5,-1.0\n0.75,-0.5,-0.75\n0.75,-0.5,-0.5\n0.75,-0.5,-0.25\n0.75,-0.5,0.0\n0.75,-0.5,0.25\n0.75,-0.5,0.5\n0.75,-0.5,0.75\n0.75,-0.5,1.0\n0.75,-0.5,1.25\n0.75,-0.5,1.5\n0.75,-0.5,1.75\n0.75,-0.5,2.0\n0.75,-0.5,2.25\n0.75,-0.5,2.5\n0.75,-0.25,-2.5\n0.75,-0.25,-2.25\n0.75,-0.25,-2.0\n0.75,-0.25,-1.75\n0.75,-0.25,-1.5\n0.75,-0.25,-1.25\n0.75,-0.25,-1.0\n0.75,-0.25,-0.75\n0.75,-0.25,-0.5\n0.75,-0.25,-0.25\n0.75,-0.25,0.0\n0.75,-0.25,0.25\n0.75,-0.25,0.5\n0.75,-0.25,0.75\n0.75,-0.25,1.0\n0.75,-0.25,1.25\n0.75,-0.25,1.5\n0.75,-0.25,1.75\n0.75,-0.25,2.0\n0.75,-0.25,2.25\n0.75,-0.25,2.5\n0.75,0.0,-2.5\n0.75,0.0,-2.25\n0.75,0.0,-2.0\n0.75,0.0,-1.75\n0.75,0.0,-1.5\n0.75,0.0,-1.25\n0.75,0.0,-1.0\n0.75,0.0,-0.75\n0.75,0.0,-0.5\n0.75,0.0,-0.25\n0.75,0.0,0.0\n0.75,0.0,0.25\n0.75,0.0,0.5\n0.75,0.0,0.75\n0.75,0.0,1.0\n0.75,0.0,1.25\n0.75,0.0,1.5\n0.75,0.0,1.75\n0.75,0.0,2.0\n0.75,0.0,2.25\n0.75,0.0,2.5\n0.75,0.25,-2.5\n0.75,0.25,-2.25\n0.75,0.25,-2.0\n0.75,0.25,-1.75\n0.75,0.25,-1.5\n0.75,0.25,-1.25\n0.75,0.25,-1.0\n0.75,0.25,-0.75\n0.75,0.25,-0.5\n0.75,0.25,-0.25\n0.75,0.25,0.0\n0.75,0.25,0.25\n0.75,0.25,0.5\n0.75,0.25,0.75\n0.75,0.25,1.0\n0.75,0.25,1.25\n0.75,0.25,1.5\n0.75,0.25,1.75\n0.75,0.25,2.0\n0.75,0.25,2.25\n0.75,0.25,2.5\n0.75,0.5,-2.5\n0.75,0.5,-2.25\n0.75,0.5,-2.0\n0.75,0.5,-1.75\n0.75,0.5,-1.5\n0.75,0.5,-1.25\n0.75,0.5,-1.0\n0.75,0.5,-0.75\n0.75,0.5,-0.5\n0.75,0.5,-0.25\n0.75,0.5,0.0\n0.75,0.5,0.25\n0.75,0.5,0.5\n0.75,0.5,0.75\n0.75,0.5,1.0\n0.75,0.5,1.25\n0.75,0.5,1.5\n0.75,0.5,1.75\n0.75,0.5,2.0\n0.75,0.5,2.25\n0.75,0.5,2.5\n0.75,0.75,-2.5\n0.75,0.75,-2.25\n0.75,0.75,-2.0\n0.75,0.75,-1.75\n0.75,0.75,-1.5\n0.75,0.75,-1.25\n0.75,0.75,-1.0\n0.75,0.75,-0.75\n0.75,0.75,-0.5\n0.75,0.75,-0.25\n0.75,0.75,0.0\n0.75,0.75,0.25\n0.75,0.75,0.5\n0.75,0.75,0.75\n0.75,0.75,1.0\n0.75,0.75,1.25\n0.75,0.75,1.5\n0.75,0.75,1.75\n0.75,0.75,2.0\n0.75,0.75,2.25\n0.75,0.75,2.5\n0.75,1.0,-2.5\n0.75,1.0,-2.25\n0.75,1.0,-2.0\n0.75,1.0,-1.75\n0.75,1.0,-1.5\n0.75,1.0,-1.25\n0.75,1.0,-1.0\n0.75,1.0,-0.75\n0.75,1.0,-0.5\n0.75,1.0,-0.25\n0.75,1.0,0.0\n0.75,1.0,0.25\n0.75,1.0,0.5\n0.75,1.0,0.75\n0.75,1.0,1.0\n0.75,1.0,1.25\n0.75,1.0,1.5\n0.75,1.0,1.75\n0.75,1.0,2.0\n0.75,1.0,2.25\n0.75,1.0,2.5\n0.75,1.25,-2.5\n0.75,1.25,-2.25\n0.75,1.25,-2.0\n0.75,1.25,-1.75\n0.75,1.25,-1.5\n0.75,1.25,-1.25\n0.75,1.25,-1.0\n0.75,1.25,-0.75\n0.75,1.25,-0.5\n0.75,1.25,-0.25\n0.75,1.25,0.0\n0.75,1.25,0.25\n0.75,1.25,0.5\n0.75,1.25,0.75\n0.75,1.25,1.0\n0.75,1.25,1.25\n0.75,1.25,1.5\n0.75,1.25,1.75\n0.75,1.25,2.0\n0.75,1.25,2.25\n0.75,1.25,2.5\n0.75,1.5,-2.5\n0.75,1.5,-2.25\n0.75,1.5,-2.0\n0.75,1.5,-1.75\n0.75,1.5,-1.5\n0.75,1.5,-1.25\n0.75,1.5,-1.0\n0.75,1.5,-0.75\n0.75,1.5,-0.5\n0.75,1.5,-0.25\n0.75,1.5,0.0\n0.75,1.5,0.25\n0.75,1.5,0.5\n0.75,1.5,0.75\n0.75,1.5,1.0\n0.75,1.5,1.25\n0.75,1.5,1.5\n0.75,1.5,1.75\n0.75,1.5,2.0\n0.75,1.5,2.25\n0.75,1.5,2.5\n0.75,1.75,-2.5\n0.75,1.75,-2.25\n0.75,1.75,-2.0\n0.75,1.75,-1.75\n0.75,1.75,-1.5\n0.75,1.75,-1.25\n0.75,1.75,-1.0\n0.75,1.75,-0.75\n0.75,1.75,-0.5\n0.75,1.75,-0.25\n0.75,1.75,0.0\n0.75,1.75,0.25\n0.75,1.75,0.5\n0.75,1.75,0.75\n0.75,1.75,1.0\n0.75,1.75,1.25\n0.75,1.75,1.5\n0.75,1.75,1.75\n0.75,1.75,2.0\n0.75,1.75,2.25\n0.75,1.75,2.5\n0.75,2.0,-2.5\n0.75,2.0,-2.25\n0.75,2.0,-2.0\n0.75,2.0,-1.75\n0.75,2.0,-1.5\n0.75,2.0,-1.25\n0.75,2.0,-1.0\n0.75,2.0,-0.75\n0.75,2.0,-0.5\n0.75,2.0,-0.25\n0.75,2.0,0.0\n0.75,2.0,0.25\n0.75,2.0,0.5\n0.75,2.0,0.75\n0.75,2.0,1.0\n0.75,2.0,1.25\n0.75,2.0,1.5\n0.75,2.0,1.75\n0.75,2.0,2.0\n0.75,2.0,2.25\n0.75,2.0,2.5\n0.75,2.25,-2.5\n0.75,2.25,-2.25\n0.75,2.25,-2.0\n0.75,2.25,-1.75\n0.75,2.25,-1.5\n0.75,2.25,-1.25\n0.75,2.25,-1.0\n0.75,2.25,-0.75\n0.75,2.25,-0.5\n0.75,2.25,-0.25\n0.75,2.25,0.0\n0.75,2.25,0.25\n0.75,2.25,0.5\n0.75,2.25,0.75\n0.75,2.25,1.0\n0.75,2.25,1.25\n0.75,2.25,1.5\n0.75,2.25,1.75\n0.75,2.25,2.0\n0.75,2.25,2.25\n0.75,2.25,2.5\n0.75,2.5,-2.5\n0.75,2.5,-2.25\n0.75,2.5,-2.0\n0.75,2.5,-1.75\n0.75,2.5,-1.5\n0.75,2.5,-1.25\n0.75,2.5,-1.0\n0.75,2.5,-0.75\n0.75,2.5,-0.5\n0.75,2.5,-0.25\n0.75,2.5,0.0\n0.75,2.5,0.25\n0.75,2.5,0.5\n0.75,2.5,0.75\n0.75,2.5,1.0\n0.75,2.5,1.25\n0.75,2.5,1.5\n0.75,2.5,1.75\n0.75,2.5,2.0\n0.75,2.5,2.25\n0.75,2.5,2.5\n1.0,-2.5,-2.5\n1.0,-2.5,-2.25\n1.0,-2.5,-2.0\n1.0,-2.5,-1.75\n1.0,-2.5,-1.5\n1.0,-2.5,-1.25\n1.0,-2.5,-1.0\n1.0,-2.5,-0.75\n1.0,-2.5,-0.5\n1.0,-2.5,-0.25\n1.0,-2.5,0.0\n1.0,-2.5,0.25\n1.0,-2.5,0.5\n1.0,-2.5,0.75\n1.0,-2.5,1.0\n1.0,-2.5,1.25\n1.0,-2.5,1.5\n1.0,-2.5,1.75\n1.0,-2.5,2.0\n1.0,-2.5,2.25\n1.0,-2.5,2.5\n1.0,-2.25,-2.5\n1.0,-2.25,-2.25\n1.0,-2.25,-2.0\n1.0,-2.25,-1.75\n1.0,-2.25,-1.5\n1.0,-2.25,-1.25\n1.0,-2.25,-1.0\n1.0,-2.25,-0.75\n1.0,-2.25,-0.5\n1.0,-2.25,-0.25\n1.0,-2.25,0.0\n1.0,-2.25,0.25\n1.0,-2.25,0.5\n1.0,-2.25,0.75\n1.0,-2.25,1.0\n1.0,-2.25,1.25\n1.0,-2.25,1.5\n1.0,-2.25,1.75\n1.0,-2.25,2.0\n1.0,-2.25,2.25\n1.0,-2.25,2.5\n1.0,-2.0,-2.5\n1.0,-2.0,-2.25\n1.0,-2.0,-2.0\n1.0,-2.0,-1.75\n1.0,-2.0,-1.5\n1.0,-2.0,-1.25\n1.0,-2.0,-1.0\n1.0,-2.0,-0.75\n1.0,-2.0,-0.5\n1.0,-2.0,-0.25\n1.0,-2.0,0.0\n1.0,-2.0,0.25\n1.0,-2.0,0.5\n1.0,-2.0,0.75\n1.0,-2.0,1.0\n1.0,-2.0,1.25\n1.0,-2.0,1.5\n1.0,-2.0,1.75\n1.0,-2.0,2.0\n1.0,-2.0,2.25\n1.0,-2.0,2.5\n1.0,-1.75,-2.5\n1.0,-1.75,-2.25\n1.0,-1.75,-2.0\n1.0,-1.75,-1.75\n1.0,-1.75,-1.5\n1.0,-1.75,-1.25\n1.0,-1.75,-1.0\n1.0,-1.75,-0.75\n1.0,-1.75,-0.5\n1.0,-1.75,-0.25\n1.0,-1.75,0.0\n1.0,-1.75,0.25\n1.0,-1.75,0.5\n1.0,-1.75,0.75\n1.0,-1.75,1.0\n1.0,-1.75,1.25\n1.0,-1.75,1.5\n1.0,-1.75,1.75\n1.0,-1.75,2.0\n1.0,-1.75,2.25\n1.0,-1.75,2.5\n1.0,-1.5,-2.5\n1.0,-1.5,-2.25\n1.0,-1.5,-2.0\n1.0,-1.5,-1.75\n1.0,-1.5,-1.5\n1.0,-1.5,-1.25\n1.0,-1.5,-1.0\n1.0,-1.5,-0.75\n1.0,-1.5,-0.5\n1.0,-1.5,-0.25\n1.0,-1.5,0.0\n1.0,-1.5,0.25\n1.0,-1.5,0.5\n1.0,-1.5,0.75\n1.0,-1.5,1.0\n1.0,-1.5,1.25\n1.0,-1.5,1.5\n1.0,-1.5,1.75\n1.0,-1.5,2.0\n1.0,-1.5,2.25\n1.0,-1.5,2.5\n1.0,-1.25,-2.5\n1.0,-1.25,-2.25\n1.0,-1.25,-2.0\n1.0,-1.25,-1.75\n1.0,-1.25,-1.5\n1.0,-1.25,-1.25\n1.0,-1.25,-1.0\n1.0,-1.25,-0.75\n1.0,-1.25,-0.5\n1.0,-1.25,-0.25\n1.0,-1.25,0.0\n1.0,-1.25,0.25\n1.0,-1.25,0.5\n1.0,-1.25,0.75\n1.0,-1.25,1.0\n1.0,-1.25,1.25\n1.0,-1.25,1.5\n1.0,-1.25,1.75\n1.0,-1.25,2.0\n1.0,-1.25,2.25\n1.0,-1.25,2.5\n1.0,-1.0,-2.5\n1.0,-1.0,-2.25\n1.0,-1.0,-2.0\n1.0,-1.0,-1.75\n1.0,-1.0,-1.5\n1.0,-1.0,-1.25\n1.0,-1.0,-1.0\n1.0,-1.0,-0.75\n1.0,-1.0,-0.5\n1.0,-1.0,-0.25\n1.0,-1.0,0.0\n1.0,-1.0,0.25\n1.0,-1.0,0.5\n1.0,-1.0,0.75\n1.0,-1.0,1.0\n1.0,-1.0,1.25\n1.0,-1.0,1.5\n1.0,-1.0,1.75\n1.0,-1.0,2.0\n1.0,-1.0,2.25\n1.0,-1.0,2.5\n1.0,-0.75,-2.5\n1.0,-0.75,-2.25\n1.0,-0.75,-2.0\n1.0,-0.75,-1.75\n1.0,-0.75,-1.5\n1.0,-0.75,-1.25\n1.0,-0.75,-1.0\n1.0,-0.75,-0.75\n1.0,-0.75,-0.5\n1.0,-0.75,-0.25\n1.0,-0.75,0.0\n1.0,-0.75,0.25\n1.0,-0.75,0.5\n1.0,-0.75,0.75\n1.0,-0.75,1.0\n1.0,-0.75,1.25\n1.0,-0.75,1.5\n1.0,-0.75,1.75\n1.0,-0.75,2.0\n1.0,-0.75,2.25\n1.0,-0.75,2.5\n1.0,-0.5,-2.5\n1.0,-0.5,-2.25\n1.0,-0.5,-2.0\n1.0,-0.5,-1.75\n1.0,-0.5,-1.5\n1.0,-0.5,-1.25\n1.0,-0.5,-1.0\n1.0,-0.5,-0.75\n1.0,-0.5,-0.5\n1.0,-0.5,-0.25\n1.0,-0.5,0.0\n1.0,-0.5,0.25\n1.0,-0.5,0.5\n1.0,-0.5,0.75\n1.0,-0.5,1.0\n1.0,-0.5,1.25\n1.0,-0.5,1.5\n1.0,-0.5,1.75\n1.0,-0.5,2.0\n1.0,-0.5,2.25\n1.0,-0.5,2.5\n1.0,-0.25,-2.5\n1.0,-0.25,-2.25\n1.0,-0.25,-2.0\n1.0,-0.25,-1.75\n1.0,-0.25,-1.5\n1.0,-0.25,-1.25\n1.0,-0.25,-1.0\n1.0,-0.25,-0.75\n1.0,-0.25,-0.5\n1.0,-0.25,-0.25\n1.0,-0.25,0.0\n1.0,-0.25,0.25\n1.0,-0.25,0.5\n1.0,-0.25,0.75\n1.0,-0.25,1.0\n1.0,-0.25,1.25\n1.0,-0.25,1.5\n1.0,-0.25,1.75\n1.0,-0.25,2.0\n1.0,-0.25,2.25\n1.0,-0.25,2.5\n1.0,0.0,-2.5\n1.0,0.0,-2.25\n1.0,0.0,-2.0\n1.0,0.0,-1.75\n1.0,0.0,-1.5\n1.0,0.0,-1.25\n1.0,0.0,-1.0\n1.0,0.0,-0.75\n1.0,0.0,-0.5\n1.0,0.0,-0.25\n1.0,0.0,0.0\n1.0,0.0,0.25\n1.0,0.0,0.5\n1.0,0.0,0.75\n1.0,0.0,1.0\n1.0,0.0,1.25\n1.0,0.0,1.5\n1.0,0.0,1.75\n1.0,0.0,2.0\n1.0,0.0,2.25\n1.0,0.0,2.5\n1.0,0.25,-2.5\n1.0,0.25,-2.25\n1.0,0.25,-2.0\n1.0,0.25,-1.75\n1.0,0.25,-1.5\n1.0,0.25,-1.25\n1.0,0.25,-1.0\n1.0,0.25,-0.75\n1.0,0.25,-0.5\n1.0,0.25,-0.25\n1.0,0.25,0.0\n1.0,0.25,0.25\n1.0,0.25,0.5\n1.0,0.25,0.75\n1.0,0.25,1.0\n1.0,0.25,1.25\n1.0,0.25,1.5\n1.0,0.25,1.75\n1.0,0.25,2.0\n1.0,0.25,2.25\n1.0,0.25,2.5\n1.0,0.5,-2.5\n1.0,0.5,-2.25\n1.0,0.5,-2.0\n1.0,0.5,-1.75\n1.0,0.5,-1.5\n1.0,0.5,-1.25\n1.0,0.5,-1.0\n1.0,0.5,-0.75\n1.0,0.5,-0.5\n1.0,0.5,-0.25\n1.0,0.5,0.0\n1.0,0.5,0.25\n1.0,0.5,0.5\n1.0,0.5,0.75\n1.0,0.5,1.0\n1.0,0.5,1.25\n1.0,0.5,1.5\n1.0,0.5,1.75\n1.0,0.5,2.0\n1.0,0.5,2.25\n1.0,0.5,2.5\n1.0,0.75,-2.5\n1.0,0.75,-2.25\n1.0,0.75,-2.0\n1.0,0.75,-1.75\n1.0,0.75,-1.5\n1.0,0.75,-1.25\n1.0,0.75,-1.0\n1.0,0.75,-0.75\n1.0,0.75,-0.5\n1.0,0.75,-0.25\n1.0,0.75,0.0\n1.0,0.75,0.25\n1.0,0.75,0.5\n1.0,0.75,0.75\n1.0,0.75,1.0\n1.0,0.75,1.25\n1.0,0.75,1.5\n1.0,0.75,1.75\n1.0,0.75,2.0\n1.0,0.75,2.25\n1.0,0.75,2.5\n1.0,1.0,-2.5\n1.0,1.0,-2.25\n1.0,1.0,-2.0\n1.0,1.0,-1.75\n1.0,1.0,-1.5\n1.0,1.0,-1.25\n1.0,1.0,-1.0\n1.0,1.0,-0.75\n1.0,1.0,-0.5\n1.0,1.0,-0.25\n1.0,1.0,0.0\n1.0,1.0,0.25\n1.0,1.0,0.5\n1.0,1.0,0.75\n1.0,1.0,1.0\n1.0,1.0,1.25\n1.0,1.0,1.5\n1.0,1.0,1.75\n1.0,1.0,2.0\n1.0,1.0,2.25\n1.0,1.0,2.5\n1.0,1.25,-2.5\n1.0,1.25,-2.25\n1.0,1.25,-2.0\n1.0,1.25,-1.75\n1.0,1.25,-1.5\n1.0,1.25,-1.25\n1.0,1.25,-1.0\n1.0,1.25,-0.75\n1.0,1.25,-0.5\n1.0,1.25,-0.25\n1.0,1.25,0.0\n1.0,1.25,0.25\n1.0,1.25,0.5\n1.0,1.25,0.75\n1.0,1.25,1.0\n1.0,1.25,1.25\n1.0,1.25,1.5\n1.0,1.25,1.75\n1.0,1.25,2.0\n1.0,1.25,2.25\n1.0,1.25,2.5\n1.0,1.5,-2.5\n1.0,1.5,-2.25\n1.0,1.5,-2.0\n1.0,1.5,-1.75\n1.0,1.5,-1.5\n1.0,1.5,-1.25\n1.0,1.5,-1.0\n1.0,1.5,-0.75\n1.0,1.5,-0.5\n1.0,1.5,-0.25\n1.0,1.5,0.0\n1.0,1.5,0.25\n1.0,1.5,0.5\n1.0,1.5,0.75\n1.0,1.5,1.0\n1.0,1.5,1.25\n1.0,1.5,1.5\n1.0,1.5,1.75\n1.0,1.5,2.0\n1.0,1.5,2.25\n1.0,1.5,2.5\n1.0,1.75,-2.5\n1.0,1.75,-2.25\n1.0,1.75,-2.0\n1.0,1.75,-1.75\n1.0,1.75,-1.5\n1.0,1.75,-1.25\n1.0,1.75,-1.0\n1.0,1.75,-0.75\n1.0,1.75,-0.5\n1.0,1.75,-0.25\n1.0,1.75,0.0\n1.0,1.75,0.25\n1.0,1.75,0.5\n1.0,1.75,0.75\n1.0,1.75,1.0\n1.0,1.75,1.25\n1.0,1.75,1.5\n1.0,1.75,1.75\n1.0,1.75,2.0\n1.0,1.75,2.25\n1.0,1.75,2.5\n1.0,2.0,-2.5\n1.0,2.0,-2.25\n1.0,2.0,-2.0\n1.0,2.0,-1.75\n1.0,2.0,-1.5\n1.0,2.0,-1.25\n1.0,2.0,-1.0\n1.0,2.0,-0.75\n1.0,2.0,-0.5\n1.0,2.0,-0.25\n1.0,2.0,0.0\n1.0,2.0,0.25\n1.0,2.0,0.5\n1.0,2.0,0.75\n1.0,2.0,1.0\n1.0,2.0,1.25\n1.0,2.0,1.5\n1.0,2.0,1.75\n1.0,2.0,2.0\n1.0,2.0,2.25\n1.0,2.0,2.5\n1.0,2.25,-2.5\n1.0,2.25,-2.25\n1.0,2.25,-2.0\n1.0,2.25,-1.75\n1.0,2.25,-1.5\n1.0,2.25,-1.25\n1.0,2.25,-1.0\n1.0,2.25,-0.75\n1.0,2.25,-0.5\n1.0,2.25,-0.25\n1.0,2.25,0.0\n1.0,2.25,0.25\n1.0,2.25,0.5\n1.0,2.25,0.75\n1.0,2.25,1.0\n1.0,2.25,1.25\n1.0,2.25,1.5\n1.0,2.25,1.75\n1.0,2.25,2.0\n1.0,2.25,2.25\n1.0,2.25,2.5\n1.0,2.5,-2.5\n1.0,2.5,-2.25\n1.0,2.5,-2.0\n1.0,2.5,-1.75\n1.0,2.5,-1.5\n1.0,2.5,-1.25\n1.0,2.5,-1.0\n1.0,2.5,-0.75\n1.0,2.5,-0.5\n1.0,2.5,-0.25\n1.0,2.5,0.0\n1.0,2.5,0.25\n1.0,2.5,0.5\n1.0,2.5,0.75\n1.0,2.5,1.0\n1.0,2.5,1.25\n1.0,2.5,1.5\n1.0,2.5,1.75\n1.0,2.5,2.0\n1.0,2.5,2.25\n1.0,2.5,2.5\n1.25,-2.5,-2.5\n1.25,-2.5,-2.25\n1.25,-2.5,-2.0\n1.25,-2.5,-1.75\n1.25,-2.5,-1.5\n1.25,-2.5,-1.25\n1.25,-2.5,-1.0\n1.25,-2.5,-0.75\n1.25,-2.5,-0.5\n1.25,-2.5,-0.25\n1.25,-2.5,0.0\n1.25,-2.5,0.25\n1.25,-2.5,0.5\n1.25,-2.5,0.75\n1.25,-2.5,1.0\n1.25,-2.5,1.25\n1.25,-2.5,1.5\n1.25,-2.5,1.75\n1.25,-2.5,2.0\n1.25,-2.5,2.25\n1.25,-2.5,2.5\n1.25,-2.25,-2.5\n1.25,-2.25,-2.25\n1.25,-2.25,-2.0\n1.25,-2.25,-1.75\n1.25,-2.25,-1.5\n1.25,-2.25,-1.25\n1.25,-2.25,-1.0\n1.25,-2.25,-0.75\n1.25,-2.25,-0.5\n1.25,-2.25,-0.25\n1.25,-2.25,0.0\n1.25,-2.25,0.25\n1.25,-2.25,0.5\n1.25,-2.25,0.75\n1.25,-2.25,1.0\n1.25,-2.25,1.25\n1.25,-2.25,1.5\n1.25,-2.25,1.75\n1.25,-2.25,2.0\n1.25,-2.25,2.25\n1.25,-2.25,2.5\n1.25,-2.0,-2.5\n1.25,-2.0,-2.25\n1.25,-2.0,-2.0\n1.25,-2.0,-1.75\n1.25,-2.0,-1.5\n1.25,-2.0,-1.25\n1.25,-2.0,-1.0\n1.25,-2.0,-0.75\n1.25,-2.0,-0.5\n1.25,-2.0,-0.25\n1.25,-2.0,0.0\n1.25,-2.0,0.25\n1.25,-2.0,0.5\n1.25,-2.0,0.75\n1.25,-2.0,1.0\n1.25,-2.0,1.25\n1.25,-2.0,1.5\n1.25,-2.0,1.75\n1.25,-2.0,2.0\n1.25,-2.0,2.25\n1.25,-2.0,2.5\n1.25,-1.75,-2.5\n1.25,-1.75,-2.25\n1.25,-1.75,-2.0\n1.25,-1.75,-1.75\n1.25,-1.75,-1.5\n1.25,-1.75,-1.25\n1.25,-1.75,-1.0\n1.25,-1.75,-0.75\n1.25,-1.75,-0.5\n1.25,-1.75,-0.25\n1.25,-1.75,0.0\n1.25,-1.75,0.25\n1.25,-1.75,0.5\n1.25,-1.75,0.75\n1.25,-1.75,1.0\n1.25,-1.75,1.25\n1.25,-1.75,1.5\n1.25,-1.75,1.75\n1.25,-1.75,2.0\n1.25,-1.75,2.25\n1.25,-1.75,2.5\n1.25,-1.5,-2.5\n1.25,-1.5,-2.25\n1.25,-1.5,-2.0\n1.25,-1.5,-1.75\n1.25,-1.5,-1.5\n1.25,-1.5,-1.25\n1.25,-1.5,-1.0\n1.25,-1.5,-0.75\n1.25,-1.5,-0.5\n1.25,-1.5,-0.25\n1.25,-1.5,0.0\n1.25,-1.5,0.25\n1.25,-1.5,0.5\n1.25,-1.5,0.75\n1.25,-1.5,1.0\n1.25,-1.5,1.25\n1.25,-1.5,1.5\n1.25,-1.5,1.75\n1.25,-1.5,2.0\n1.25,-1.5,2.25\n1.25,-1.5,2.5\n1.25,-1.25,-2.5\n1.25,-1.25,-2.25\n1.25,-1.25,-2.0\n1.25,-1.25,-1.75\n1.25,-1.25,-1.5\n1.25,-1.25,-1.25\n1.25,-1.25,-1.0\n1.25,-1.25,-0.75\n1.25,-1.25,-0.5\n1.25,-1.25,-0.25\n1.25,-1.25,0.0\n1.25,-1.25,0.25\n1.25,-1.25,0.5\n1.25,-1.25,0.75\n1.25,-1.25,1.0\n1.25,-1.25,1.25\n1.25,-1.25,1.5\n1.25,-1.25,1.75\n1.25,-1.25,2.0\n1.25,-1.25,2.25\n1.25,-1.25,2.5\n1.25,-1.0,-2.5\n1.25,-1.0,-2.25\n1.25,-1.0,-2.0\n1.25,-1.0,-1.75\n1.25,-1.0,-1.5\n1.25,-1.0,-1.25\n1.25,-1.0,-1.0\n1.25,-1.0,-0.75\n1.25,-1.0,-0.5\n1.25,-1.0,-0.25\n1.25,-1.0,0.0\n1.25,-1.0,0.25\n1.25,-1.0,0.5\n1.25,-1.0,0.75\n1.25,-1.0,1.0\n1.25,-1.0,1.25\n1.25,-1.0,1.5\n1.25,-1.0,1.75\n1.25,-1.0,2.0\n1.25,-1.0,2.25\n1.25,-1.0,2.5\n1.25,-0.75,-2.5\n1.25,-0.75,-2.25\n1.25,-0.75,-2.0\n1.25,-0.75,-1.75\n1.25,-0.75,-1.5\n1.25,-0.75,-1.25\n1.25,-0.75,-1.0\n1.25,-0.75,-0.75\n1.25,-0.75,-0.5\n1.25,-0.75,-0.25\n1.25,-0.75,0.0\n1.25,-0.75,0.25\n1.25,-0.75,0.5\n1.25,-0.75,0.75\n1.25,-0.75,1.0\n1.25,-0.75,1.25\n1.25,-0.75,1.5\n1.25,-0.75,1.75\n1.25,-0.75,2.0\n1.25,-0.75,2.25\n1.25,-0.75,2.5\n1.25,-0.5,-2.5\n1.25,-0.5,-2.25\n1.25,-0.5,-2.0\n1.25,-0.5,-1.75\n1.25,-0.5,-1.5\n1.25,-0.5,-1.25\n1.25,-0.5,-1.0\n1.25,-0.5,-0.75\n1.25,-0.5,-0.5\n1.25,-0.5,-0.25\n1.25,-0.5,0.0\n1.25,-0.5,0.25\n1.25,-0.5,0.5\n1.25,-0.5,0.75\n1.25,-0.5,1.0\n1.25,-0.5,1.25\n1.25,-0.5,1.5\n1.25,-0.5,1.75\n1.25,-0.5,2.0\n1.25,-0.5,2.25\n1.25,-0.5,2.5\n1.25,-0.25,-2.5\n1.25,-0.25,-2.25\n1.25,-0.25,-2.0\n1.25,-0.25,-1.75\n1.25,-0.25,-1.5\n1.25,-0.25,-1.25\n1.25,-0.25,-1.0\n1.25,-0.25,-0.75\n1.25,-0.25,-0.5\n1.25,-0.25,-0.25\n1.25,-0.25,0.0\n1.25,-0.25,0.25\n1.25,-0.25,0.5\n1.25,-0.25,0.75\n1.25,-0.25,1.0\n1.25,-0.25,1.25\n1.25,-0.25,1.5\n1.25,-0.25,1.75\n1.25,-0.25,2.0\n1.25,-0.25,2.25\n1.25,-0.25,2.5\n1.25,0.0,-2.5\n1.25,0.0,-2.25\n1.25,0.0,-2.0\n1.25,0.0,-1.75\n1.25,0.0,-1.5\n1.25,0.0,-1.25\n1.25,0.0,-1.0\n1.25,0.0,-0.75\n1.25,0.0,-0.5\n1.25,0.0,-0.25\n1.25,0.0,0.0\n1.25,0.0,0.25\n1.25,0.0,0.5\n1.25,0.0,0.75\n1.25,0.0,1.0\n1.25,0.0,1.25\n1.25,0.0,1.5\n1.25,0.0,1.75\n1.25,0.0,2.0\n1.25,0.0,2.25\n1.25,0.0,2.5\n1.25,0.25,-2.5\n1.25,0.25,-2.25\n1.25,0.25,-2.0\n1.25,0.25,-1.75\n1.25,0.25,-1.5\n1.25,0.25,-1.25\n1.25,0.25,-1.0\n1.25,0.25,-0.75\n1.25,0.25,-0.5\n1.25,0.25,-0.25\n1.25,0.25,0.0\n1.25,0.25,0.25\n1.25,0.25,0.5\n1.25,0.25,0.75\n1.25,0.25,1.0\n1.25,0.25,1.25\n1.25,0.25,1.5\n1.25,0.25,1.75\n1.25,0.25,2.0\n1.25,0.25,2.25\n1.25,0.25,2.5\n1.25,0.5,-2.5\n1.25,0.5,-2.25\n1.25,0.5,-2.0\n1.25,0.5,-1.75\n1.25,0.5,-1.5\n1.25,0.5,-1.25\n1.25,0.5,-1.0\n1.25,0.5,-0.75\n1.25,0.5,-0.5\n1.25,0.5,-0.25\n1.25,0.5,0.0\n1.25,0.5,0.25\n1.25,0.5,0.5\n1.25,0.5,0.75\n1.25,0.5,1.0\n1.25,0.5,1.25\n1.25,0.5,1.5\n1.25,0.5,1.75\n1.25,0.5,2.0\n1.25,0.5,2.25\n1.25,0.5,2.5\n1.25,0.75,-2.5\n1.25,0.75,-2.25\n1.25,0.75,-2.0\n1.25,0.75,-1.75\n1.25,0.75,-1.5\n1.25,0.75,-1.25\n1.25,0.75,-1.0\n1.25,0.75,-0.75\n1.25,0.75,-0.5\n1.25,0.75,-0.25\n1.25,0.75,0.0\n1.25,0.75,0.25\n1.25,0.75,0.5\n1.25,0.75,0.75\n1.25,0.75,1.0\n1.25,0.75,1.25\n1.25,0.75,1.5\n1.25,0.75,1.75\n1.25,0.75,2.0\n1.25,0.75,2.25\n1.25,0.75,2.5\n1.25,1.0,-2.5\n1.25,1.0,-2.25\n1.25,1.0,-2.0\n1.25,1.0,-1.75\n1.25,1.0,-1.5\n1.25,1.0,-1.25\n1.25,1.0,-1.0\n1.25,1.0,-0.75\n1.25,1.0,-0.5\n1.25,1.0,-0.25\n1.25,1.0,0.0\n1.25,1.0,0.25\n1.25,1.0,0.5\n1.25,1.0,0.75\n1.25,1.0,1.0\n1.25,1.0,1.25\n1.25,1.0,1.5\n1.25,1.0,1.75\n1.25,1.0,2.0\n1.25,1.0,2.25\n1.25,1.0,2.5\n1.25,1.25,-2.5\n1.25,1.25,-2.25\n1.25,1.25,-2.0\n1.25,1.25,-1.75\n1.25,1.25,-1.5\n1.25,1.25,-1.25\n1.25,1.25,-1.0\n1.25,1.25,-0.75\n1.25,1.25,-0.5\n1.25,1.25,-0.25\n1.25,1.25,0.0\n1.25,1.25,0.25\n1.25,1.25,0.5\n1.25,1.25,0.75\n1.25,1.25,1.0\n1.25,1.25,1.25\n1.25,1.25,1.5\n1.25,1.25,1.75\n1.25,1.25,2.0\n1.25,1.25,2.25\n1.25,1.25,2.5\n1.25,1.5,-2.5\n1.25,1.5,-2.25\n1.25,1.5,-2.0\n1.25,1.5,-1.75\n1.25,1.5,-1.5\n1.25,1.5,-1.25\n1.25,1.5,-1.0\n1.25,1.5,-0.75\n1.25,1.5,-0.5\n1.25,1.5,-0.25\n1.25,1.5,0.0\n1.25,1.5,0.25\n1.25,1.5,0.5\n1.25,1.5,0.75\n1.25,1.5,1.0\n1.25,1.5,1.25\n1.25,1.5,1.5\n1.25,1.5,1.75\n1.25,1.5,2.0\n1.25,1.5,2.25\n1.25,1.5,2.5\n1.25,1.75,-2.5\n1.25,1.75,-2.25\n1.25,1.75,-2.0\n1.25,1.75,-1.75\n1.25,1.75,-1.5\n1.25,1.75,-1.25\n1.25,1.75,-1.0\n1.25,1.75,-0.75\n1.25,1.75,-0.5\n1.25,1.75,-0.25\n1.25,1.75,0.0\n1.25,1.75,0.25\n1.25,1.75,0.5\n1.25,1.75,0.75\n1.25,1.75,1.0\n1.25,1.75,1.25\n1.25,1.75,1.5\n1.25,1.75,1.75\n1.25,1.75,2.0\n1.25,1.75,2.25\n1.25,1.75,2.5\n1.25,2.0,-2.5\n1.25,2.0,-2.25\n1.25,2.0,-2.0\n1.25,2.0,-1.75\n1.25,2.0,-1.5\n1.25,2.0,-1.25\n1.25,2.0,-1.0\n1.25,2.0,-0.75\n1.25,2.0,-0.5\n1.25,2.0,-0.25\n1.25,2.0,0.0\n1.25,2.0,0.25\n1.25,2.0,0.5\n1.25,2.0,0.75\n1.25,2.0,1.0\n1.25,2.0,1.25\n1.25,2.0,1.5\n1.25,2.0,1.75\n1.25,2.0,2.0\n1.25,2.0,2.25\n1.25,2.0,2.5\n1.25,2.25,-2.5\n1.25,2.25,-2.25\n1.25,2.25,-2.0\n1.25,2.25,-1.75\n1.25,2.25,-1.5\n1.25,2.25,-1.25\n1.25,2.25,-1.0\n1.25,2.25,-0.75\n1.25,2.25,-0.5\n1.25,2.25,-0.25\n1.25,2.25,0.0\n1.25,2.25,0.25\n1.25,2.25,0.5\n1.25,2.25,0.75\n1.25,2.25,1.0\n1.25,2.25,1.25\n1.25,2.25,1.5\n1.25,2.25,1.75\n1.25,2.25,2.0\n1.25,2.25,2.25\n1.25,2.25,2.5\n1.25,2.5,-2.5\n1.25,2.5,-2.25\n1.25,2.5,-2.0\n1.25,2.5,-1.75\n1.25,2.5,-1.5\n1.25,2.5,-1.25\n1.25,2.5,-1.0\n1.25,2.5,-0.75\n1.25,2.5,-0.5\n1.25,2.5,-0.25\n1.25,2.5,0.0\n1.25,2.5,0.25\n1.25,2.5,0.5\n1.25,2.5,0.75\n1.25,2.5,1.0\n1.25,2.5,1.25\n1.25,2.5,1.5\n1.25,2.5,1.75\n1.25,2.5,2.0\n1.25,2.5,2.25\n1.25,2.5,2.5\n1.5,-2.5,-2.5\n1.5,-2.5,-2.25\n1.5,-2.5,-2.0\n1.5,-2.5,-1.75\n1.5,-2.5,-1.5\n1.5,-2.5,-1.25\n1.5,-2.5,-1.0\n1.5,-2.5,-0.75\n1.5,-2.5,-0.5\n1.5,-2.5,-0.25\n1.5,-2.5,0.0\n1.5,-2.5,0.25\n1.5,-2.5,0.5\n1.5,-2.5,0.75\n1.5,-2.5,1.0\n1.5,-2.5,1.25\n1.5,-2.5,1.5\n1.5,-2.5,1.75\n1.5,-2.5,2.0\n1.5,-2.5,2.25\n1.5,-2.5,2.5\n1.5,-2.25,-2.5\n1.5,-2.25,-2.25\n1.5,-2.25,-2.0\n1.5,-2.25,-1.75\n1.5,-2.25,-1.5\n1.5,-2.25,-1.25\n1.5,-2.25,-1.0\n1.5,-2.25,-0.75\n1.5,-2.25,-0.5\n1.5,-2.25,-0.25\n1.5,-2.25,0.0\n1.5,-2.25,0.25\n1.5,-2.25,0.5\n1.5,-2.25,0.75\n1.5,-2.25,1.0\n1.5,-2.25,1.25\n1.5,-2.25,1.5\n1.5,-2.25,1.75\n1.5,-2.25,2.0\n1.5,-2.25,2.25\n1.5,-2.25,2.5\n1.5,-2.0,-2.5\n1.5,-2.0,-2.25\n1.5,-2.0,-2.0\n1.5,-2.0,-1.75\n1.5,-2.0,-1.5\n1.5,-2.0,-1.25\n1.5,-2.0,-1.0\n1.5,-2.0,-0.75\n1.5,-2.0,-0.5\n1.5,-2.0,-0.25\n1.5,-2.0,0.0\n1.5,-2.0,0.25\n1.5,-2.0,0.5\n1.5,-2.0,0.75\n1.5,-2.0,1.0\n1.5,-2.0,1.25\n1.5,-2.0,1.5\n1.5,-2.0,1.75\n1.5,-2.0,2.0\n1.5,-2.0,2.25\n1.5,-2.0,2.5\n1.5,-1.75,-2.5\n1.5,-1.75,-2.25\n1.5,-1.75,-2.0\n1.5,-1.75,-1.75\n1.5,-1.75,-1.5\n1.5,-1.75,-1.25\n1.5,-1.75,-1.0\n1.5,-1.75,-0.75\n1.5,-1.75,-0.5\n1.5,-1.75,-0.25\n1.5,-1.75,0.0\n1.5,-1.75,0.25\n1.5,-1.75,0.5\n1.5,-1.75,0.75\n1.5,-1.75,1.0\n1.5,-1.75,1.25\n1.5,-1.75,1.5\n1.5,-1.75,1.75\n1.5,-1.75,2.0\n1.5,-1.75,2.25\n1.5,-1.75,2.5\n1.5,-1.5,-2.5\n1.5,-1.5,-2.25\n1.5,-1.5,-2.0\n1.5,-1.5,-1.75\n1.5,-1.5,-1.5\n1.5,-1.5,-1.25\n1.5,-1.5,-1.0\n1.5,-1.5,-0.75\n1.5,-1.5,-0.5\n1.5,-1.5,-0.25\n1.5,-1.5,0.0\n1.5,-1.5,0.25\n1.5,-1.5,0.5\n1.5,-1.5,0.75\n1.5,-1.5,1.0\n1.5,-1.5,1.25\n1.5,-1.5,1.5\n1.5,-1.5,1.75\n1.5,-1.5,2.0\n1.5,-1.5,2.25\n1.5,-1.5,2.5\n1.5,-1.25,-2.5\n1.5,-1.25,-2.25\n1.5,-1.25,-2.0\n1.5,-1.25,-1.75\n1.5,-1.25,-1.5\n1.5,-1.25,-1.25\n1.5,-1.25,-1.0\n1.5,-1.25,-0.75\n1.5,-1.25,-0.5\n1.5,-1.25,-0.25\n1.5,-1.25,0.0\n1.5,-1.25,0.25\n1.5,-1.25,0.5\n1.5,-1.25,0.75\n1.5,-1.25,1.0\n1.5,-1.25,1.25\n1.5,-1.25,1.5\n1.5,-1.25,1.75\n1.5,-1.25,2.0\n1.5,-1.25,2.25\n1.5,-1.25,2.5\n1.5,-1.0,-2.5\n1.5,-1.0,-2.25\n1.5,-1.0,-2.0\n1.5,-1.0,-1.75\n1.5,-1.0,-1.5\n1.5,-1.0,-1.25\n1.5,-1.0,-1.0\n1.5,-1.0,-0.75\n1.5,-1.0,-0.5\n1.5,-1.0,-0.25\n1.5,-1.0,0.0\n1.5,-1.0,0.25\n1.5,-1.0,0.5\n1.5,-1.0,0.75\n1.5,-1.0,1.0\n1.5,-1.0,1.25\n1.5,-1.0,1.5\n1.5,-1.0,1.75\n1.5,-1.0,2.0\n1.5,-1.0,2.25\n1.5,-1.0,2.5\n1.5,-0.75,-2.5\n1.5,-0.75,-2.25\n1.5,-0.75,-2.0\n1.5,-0.75,-1.75\n1.5,-0.75,-1.5\n1.5,-0.75,-1.25\n1.5,-0.75,-1.0\n1.5,-0.75,-0.75\n1.5,-0.75,-0.5\n1.5,-0.75,-0.25\n1.5,-0.75,0.0\n1.5,-0.75,0.25\n1.5,-0.75,0.5\n1.5,-0.75,0.75\n1.5,-0.75,1.0\n1.5,-0.75,1.25\n1.5,-0.75,1.5\n1.5,-0.75,1.75\n1.5,-0.75,2.0\n1.5,-0.75,2.25\n1.5,-0.75,2.5\n1.5,-0.5,-2.5\n1.5,-0.5,-2.25\n1.5,-0.5,-2.0\n1.5,-0.5,-1.75\n1.5,-0.5,-1.5\n1.5,-0.5,-1.25\n1.5,-0.5,-1.0\n1.5,-0.5,-0.75\n1.5,-0.5,-0.5\n1.5,-0.5,-0.25\n1.5,-0.5,0.0\n1.5,-0.5,0.25\n1.5,-0.5,0.5\n1.5,-0.5,0.75\n1.5,-0.5,1.0\n1.5,-0.5,1.25\n1.5,-0.5,1.5\n1.5,-0.5,1.75\n1.5,-0.5,2.0\n1.5,-0.5,2.25\n1.5,-0.5,2.5\n1.5,-0.25,-2.5\n1.5,-0.25,-2.25\n1.5,-0.25,-2.0\n1.5,-0.25,-1.75\n1.5,-0.25,-1.5\n1.5,-0.25,-1.25\n1.5,-0.25,-1.0\n1.5,-0.25,-0.75\n1.5,-0.25,-0.5\n1.5,-0.25,-0.25\n1.5,-0.25,0.0\n1.5,-0.25,0.25\n1.5,-0.25,0.5\n1.5,-0.25,0.75\n1.5,-0.25,1.0\n1.5,-0.25,1.25\n1.5,-0.25,1.5\n1.5,-0.25,1.75\n1.5,-0.25,2.0\n1.5,-0.25,2.25\n1.5,-0.25,2.5\n1.5,0.0,-2.5\n1.5,0.0,-2.25\n1.5,0.0,-2.0\n1.5,0.0,-1.75\n1.5,0.0,-1.5\n1.5,0.0,-1.25\n1.5,0.0,-1.0\n1.5,0.0,-0.75\n1.5,0.0,-0.5\n1.5,0.0,-0.25\n1.5,0.0,0.0\n1.5,0.0,0.25\n1.5,0.0,0.5\n1.5,0.0,0.75\n1.5,0.0,1.0\n1.5,0.0,1.25\n1.5,0.0,1.5\n1.5,0.0,1.75\n1.5,0.0,2.0\n1.5,0.0,2.25\n1.5,0.0,2.5\n1.5,0.25,-2.5\n1.5,0.25,-2.25\n1.5,0.25,-2.0\n1.5,0.25,-1.75\n1.5,0.25,-1.5\n1.5,0.25,-1.25\n1.5,0.25,-1.0\n1.5,0.25,-0.75\n1.5,0.25,-0.5\n1.5,0.25,-0.25\n1.5,0.25,0.0\n1.5,0.25,0.25\n1.5,0.25,0.5\n1.5,0.25,0.75\n1.5,0.25,1.0\n1.5,0.25,1.25\n1.5,0.25,1.5\n1.5,0.25,1.75\n1.5,0.25,2.0\n1.5,0.25,2.25\n1.5,0.25,2.5\n1.5,0.5,-2.5\n1.5,0.5,-2.25\n1.5,0.5,-2.0\n1.5,0.5,-1.75\n1.5,0.5,-1.5\n1.5,0.5,-1.25\n1.5,0.5,-1.0\n1.5,0.5,-0.75\n1.5,0.5,-0.5\n1.5,0.5,-0.25\n1.5,0.5,0.0\n1.5,0.5,0.25\n1.5,0.5,0.5\n1.5,0.5,0.75\n1.5,0.5,1.0\n1.5,0.5,1.25\n1.5,0.5,1.5\n1.5,0.5,1.75\n1.5,0.5,2.0\n1.5,0.5,2.25\n1.5,0.5,2.5\n1.5,0.75,-2.5\n1.5,0.75,-2.25\n1.5,0.75,-2.0\n1.5,0.75,-1.75\n1.5,0.75,-1.5\n1.5,0.75,-1.25\n1.5,0.75,-1.0\n1.5,0.75,-0.75\n1.5,0.75,-0.5\n1.5,0.75,-0.25\n1.5,0.75,0.0\n1.5,0.75,0.25\n1.5,0.75,0.5\n1.5,0.75,0.75\n1.5,0.75,1.0\n1.5,0.75,1.25\n1.5,0.75,1.5\n1.5,0.75,1.75\n1.5,0.75,2.0\n1.5,0.75,2.25\n1.5,0.75,2.5\n1.5,1.0,-2.5\n1.5,1.0,-2.25\n1.5,1.0,-2.0\n1.5,1.0,-1.75\n1.5,1.0,-1.5\n1.5,1.0,-1.25\n1.5,1.0,-1.0\n1.5,1.0,-0.75\n1.5,1.0,-0.5\n1.5,1.0,-0.25\n1.5,1.0,0.0\n1.5,1.0,0.25\n1.5,1.0,0.5\n1.5,1.0,0.75\n1.5,1.0,1.0\n1.5,1.0,1.25\n1.5,1.0,1.5\n1.5,1.0,1.75\n1.5,1.0,2.0\n1.5,1.0,2.25\n1.5,1.0,2.5\n1.5,1.25,-2.5\n1.5,1.25,-2.25\n1.5,1.25,-2.0\n1.5,1.25,-1.75\n1.5,1.25,-1.5\n1.5,1.25,-1.25\n1.5,1.25,-1.0\n1.5,1.25,-0.75\n1.5,1.25,-0.5\n1.5,1.25,-0.25\n1.5,1.25,0.0\n1.5,1.25,0.25\n1.5,1.25,0.5\n1.5,1.25,0.75\n1.5,1.25,1.0\n1.5,1.25,1.25\n1.5,1.25,1.5\n1.5,1.25,1.75\n1.5,1.25,2.0\n1.5,1.25,2.25\n1.5,1.25,2.5\n1.5,1.5,-2.5\n1.5,1.5,-2.25\n1.5,1.5,-2.0\n1.5,1.5,-1.75\n1.5,1.5,-1.5\n1.5,1.5,-1.25\n1.5,1.5,-1.0\n1.5,1.5,-0.75\n1.5,1.5,-0.5\n1.5,1.5,-0.25\n1.5,1.5,0.0\n1.5,1.5,0.25\n1.5,1.5,0.5\n1.5,1.5,0.75\n1.5,1.5,1.0\n1.5,1.5,1.25\n1.5,1.5,1.5\n1.5,1.5,1.75\n1.5,1.5,2.0\n1.5,1.5,2.25\n1.5,1.5,2.5\n1.5,1.75,-2.5\n1.5,1.75,-2.25\n1.5,1.75,-2.0\n1.5,1.75,-1.75\n1.5,1.75,-1.5\n1.5,1.75,-1.25\n1.5,1.75,-1.0\n1.5,1.75,-0.75\n1.5,1.75,-0.5\n1.5,1.75,-0.25\n1.5,1.75,0.0\n1.5,1.75,0.25\n1.5,1.75,0.5\n1.5,1.75,0.75\n1.5,1.75,1.0\n1.5,1.75,1.25\n1.5,1.75,1.5\n1.5,1.75,1.75\n1.5,1.75,2.0\n1.5,1.75,2.25\n1.5,1.75,2.5\n1.5,2.0,-2.5\n1.5,2.0,-2.25\n1.5,2.0,-2.0\n1.5,2.0,-1.75\n1.5,2.0,-1.5\n1.5,2.0,-1.25\n1.5,2.0,-1.0\n1.5,2.0,-0.75\n1.5,2.0,-0.5\n1.5,2.0,-0.25\n1.5,2.0,0.0\n1.5,2.0,0.25\n1.5,2.0,0.5\n1.5,2.0,0.75\n1.5,2.0,1.0\n1.5,2.0,1.25\n1.5,2.0,1.5\n1.5,2.0,1.75\n1.5,2.0,2.0\n1.5,2.0,2.25\n1.5,2.0,2.5\n1.5,2.25,-2.5\n1.5,2.25,-2.25\n1.5,2.25,-2.0\n1.5,2.25,-1.75\n1.5,2.25,-1.5\n1.5,2.25,-1.25\n1.5,2.25,-1.0\n1.5,2.25,-0.75\n1.5,2.25,-0.5\n1.5,2.25,-0.25\n1.5,2.25,0.0\n1.5,2.25,0.25\n1.5,2.25,0.5\n1.5,2.25,0.75\n1.5,2.25,1.0\n1.5,2.25,1.25\n1.5,2.25,1.5\n1.5,2.25,1.75\n1.5,2.25,2.0\n1.5,2.25,2.25\n1.5,2.25,2.5\n1.5,2.5,-2.5\n1.5,2.5,-2.25\n1.5,2.5,-2.0\n1.5,2.5,-1.75\n1.5,2.5,-1.5\n1.5,2.5,-1.25\n1.5,2.5,-1.0\n1.5,2.5,-0.75\n1.5,2.5,-0.5\n1.5,2.5,-0.25\n1.5,2.5,0.0\n1.5,2.5,0.25\n1.5,2.5,0.5\n1.5,2.5,0.75\n1.5,2.5,1.0\n1.5,2.5,1.25\n1.5,2.5,1.5\n1.5,2.5,1.75\n1.5,2.5,2.0\n1.5,2.5,2.25\n1.5,2.5,2.5\n1.75,-2.5,-2.5\n1.75,-2.5,-2.25\n1.75,-2.5,-2.0\n1.75,-2.5,-1.75\n1.75,-2.5,-1.5\n1.75,-2.5,-1.25\n1.75,-2.5,-1.0\n1.75,-2.5,-0.75\n1.75,-2.5,-0.5\n1.75,-2.5,-0.25\n1.75,-2.5,0.0\n1.75,-2.5,0.25\n1.75,-2.5,0.5\n1.75,-2.5,0.75\n1.75,-2.5,1.0\n1.75,-2.5,1.25\n1.75,-2.5,1.5\n1.75,-2.5,1.75\n1.75,-2.5,2.0\n1.75,-2.5,2.25\n1.75,-2.5,2.5\n1.75,-2.25,-2.5\n1.75,-2.25,-2.25\n1.75,-2.25,-2.0\n1.75,-2.25,-1.75\n1.75,-2.25,-1.5\n1.75,-2.25,-1.25\n1.75,-2.25,-1.0\n1.75,-2.25,-0.75\n1.75,-2.25,-0.5\n1.75,-2.25,-0.25\n1.75,-2.25,0.0\n1.75,-2.25,0.25\n1.75,-2.25,0.5\n1.75,-2.25,0.75\n1.75,-2.25,1.0\n1.75,-2.25,1.25\n1.75,-2.25,1.5\n1.75,-2.25,1.75\n1.75,-2.25,2.0\n1.75,-2.25,2.25\n1.75,-2.25,2.5\n1.75,-2.0,-2.5\n1.75,-2.0,-2.25\n1.75,-2.0,-2.0\n1.75,-2.0,-1.75\n1.75,-2.0,-1.5\n1.75,-2.0,-1.25\n1.75,-2.0,-1.0\n1.75,-2.0,-0.75\n1.75,-2.0,-0.5\n1.75,-2.0,-0.25\n1.75,-2.0,0.0\n1.75,-2.0,0.25\n1.75,-2.0,0.5\n1.75,-2.0,0.75\n1.75,-2.0,1.0\n1.75,-2.0,1.25\n1.75,-2.0,1.5\n1.75,-2.0,1.75\n1.75,-2.0,2.0\n1.75,-2.0,2.25\n1.75,-2.0,2.5\n1.75,-1.75,-2.5\n1.75,-1.75,-2.25\n1.75,-1.75,-2.0\n1.75,-1.75,-1.75\n1.75,-1.75,-1.5\n1.75,-1.75,-1.25\n1.75,-1.75,-1.0\n1.75,-1.75,-0.75\n1.75,-1.75,-0.5\n1.75,-1.75,-0.25\n1.75,-1.75,0.0\n1.75,-1.75,0.25\n1.75,-1.75,0.5\n1.75,-1.75,0.75\n1.75,-1.75,1.0\n1.75,-1.75,1.25\n1.75,-1.75,1.5\n1.75,-1.75,1.75\n1.75,-1.75,2.0\n1.75,-1.75,2.25\n1.75,-1.75,2.5\n1.75,-1.5,-2.5\n1.75,-1.5,-2.25\n1.75,-1.5,-2.0\n1.75,-1.5,-1.75\n1.75,-1.5,-1.5\n1.75,-1.5,-1.25\n1.75,-1.5,-1.0\n1.75,-1.5,-0.75\n1.75,-1.5,-0.5\n1.75,-1.5,-0.25\n1.75,-1.5,0.0\n1.75,-1.5,0.25\n1.75,-1.5,0.5\n1.75,-1.5,0.75\n1.75,-1.5,1.0\n1.75,-1.5,1.25\n1.75,-1.5,1.5\n1.75,-1.5,1.75\n1.75,-1.5,2.0\n1.75,-1.5,2.25\n1.75,-1.5,2.5\n1.75,-1.25,-2.5\n1.75,-1.25,-2.25\n1.75,-1.25,-2.0\n1.75,-1.25,-1.75\n1.75,-1.25,-1.5\n1.75,-1.25,-1.25\n1.75,-1.25,-1.0\n1.75,-1.25,-0.75\n1.75,-1.25,-0.5\n1.75,-1.25,-0.25\n1.75,-1.25,0.0\n1.75,-1.25,0.25\n1.75,-1.25,0.5\n1.75,-1.25,0.75\n1.75,-1.25,1.0\n1.75,-1.25,1.25\n1.75,-1.25,1.5\n1.75,-1.25,1.75\n1.75,-1.25,2.0\n1.75,-1.25,2.25\n1.75,-1.25,2.5\n1.75,-1.0,-2.5\n1.75,-1.0,-2.25\n1.75,-1.0,-2.0\n1.75,-1.0,-1.75\n1.75,-1.0,-1.5\n1.75,-1.0,-1.25\n1.75,-1.0,-1.0\n1.75,-1.0,-0.75\n1.75,-1.0,-0.5\n1.75,-1.0,-0.25\n1.75,-1.0,0.0\n1.75,-1.0,0.25\n1.75,-1.0,0.5\n1.75,-1.0,0.75\n1.75,-1.0,1.0\n1.75,-1.0,1.25\n1.75,-1.0,1.5\n1.75,-1.0,1.75\n1.75,-1.0,2.0\n1.75,-1.0,2.25\n1.75,-1.0,2.5\n1.75,-0.75,-2.5\n1.75,-0.75,-2.25\n1.75,-0.75,-2.0\n1.75,-0.75,-1.75\n1.75,-0.75,-1.5\n1.75,-0.75,-1.25\n1.75,-0.75,-1.0\n1.75,-0.75,-0.75\n1.75,-0.75,-0.5\n1.75,-0.75,-0.25\n1.75,-0.75,0.0\n1.75,-0.75,0.25\n1.75,-0.75,0.5\n1.75,-0.75,0.75\n1.75,-0.75,1.0\n1.75,-0.75,1.25\n1.75,-0.75,1.5\n1.75,-0.75,1.75\n1.75,-0.75,2.0\n1.75,-0.75,2.25\n1.75,-0.75,2.5\n1.75,-0.5,-2.5\n1.75,-0.5,-2.25\n1.75,-0.5,-2.0\n1.75,-0.5,-1.75\n1.75,-0.5,-1.5\n1.75,-0.5,-1.25\n1.75,-0.5,-1.0\n1.75,-0.5,-0.75\n1.75,-0.5,-0.5\n1.75,-0.5,-0.25\n1.75,-0.5,0.0\n1.75,-0.5,0.25\n1.75,-0.5,0.5\n1.75,-0.5,0.75\n1.75,-0.5,1.0\n1.75,-0.5,1.25\n1.75,-0.5,1.5\n1.75,-0.5,1.75\n1.75,-0.5,2.0\n1.75,-0.5,2.25\n1.75,-0.5,2.5\n1.75,-0.25,-2.5\n1.75,-0.25,-2.25\n1.75,-0.25,-2.0\n1.75,-0.25,-1.75\n1.75,-0.25,-1.5\n1.75,-0.25,-1.25\n1.75,-0.25,-1.0\n1.75,-0.25,-0.75\n1.75,-0.25,-0.5\n1.75,-0.25,-0.25\n1.75,-0.25,0.0\n1.75,-0.25,0.25\n1.75,-0.25,0.5\n1.75,-0.25,0.75\n1.75,-0.25,1.0\n1.75,-0.25,1.25\n1.75,-0.25,1.5\n1.75,-0.25,1.75\n1.75,-0.25,2.0\n1.75,-0.25,2.25\n1.75,-0.25,2.5\n1.75,0.0,-2.5\n1.75,0.0,-2.25\n1.75,0.0,-2.0\n1.75,0.0,-1.75\n1.75,0.0,-1.5\n1.75,0.0,-1.25\n1.75,0.0,-1.0\n1.75,0.0,-0.75\n1.75,0.0,-0.5\n1.75,0.0,-0.25\n1.75,0.0,0.0\n1.75,0.0,0.25\n1.75,0.0,0.5\n1.75,0.0,0.75\n1.75,0.0,1.0\n1.75,0.0,1.25\n1.75,0.0,1.5\n1.75,0.0,1.75\n1.75,0.0,2.0\n1.75,0.0,2.25\n1.75,0.0,2.5\n1.75,0.25,-2.5\n1.75,0.25,-2.25\n1.75,0.25,-2.0\n1.75,0.25,-1.75\n1.75,0.25,-1.5\n1.75,0.25,-1.25\n1.75,0.25,-1.0\n1.75,0.25,-0.75\n1.75,0.25,-0.5\n1.75,0.25,-0.25\n1.75,0.25,0.0\n1.75,0.25,0.25\n1.75,0.25,0.5\n1.75,0.25,0.75\n1.75,0.25,1.0\n1.75,0.25,1.25\n1.75,0.25,1.5\n1.75,0.25,1.75\n1.75,0.25,2.0\n1.75,0.25,2.25\n1.75,0.25,2.5\n1.75,0.5,-2.5\n1.75,0.5,-2.25\n1.75,0.5,-2.0\n1.75,0.5,-1.75\n1.75,0.5,-1.5\n1.75,0.5,-1.25\n1.75,0.5,-1.0\n1.75,0.5,-0.75\n1.75,0.5,-0.5\n1.75,0.5,-0.25\n1.75,0.5,0.0\n1.75,0.5,0.25\n1.75,0.5,0.5\n1.75,0.5,0.75\n1.75,0.5,1.0\n1.75,0.5,1.25\n1.75,0.5,1.5\n1.75,0.5,1.75\n1.75,0.5,2.0\n1.75,0.5,2.25\n1.75,0.5,2.5\n1.75,0.75,-2.5\n1.75,0.75,-2.25\n1.75,0.75,-2.0\n1.75,0.75,-1.75\n1.75,0.75,-1.5\n1.75,0.75,-1.25\n1.75,0.75,-1.0\n1.75,0.75,-0.75\n1.75,0.75,-0.5\n1.75,0.75,-0.25\n1.75,0.75,0.0\n1.75,0.75,0.25\n1.75,0.75,0.5\n1.75,0.75,0.75\n1.75,0.75,1.0\n1.75,0.75,1.25\n1.75,0.75,1.5\n1.75,0.75,1.75\n1.75,0.75,2.0\n1.75,0.75,2.25\n1.75,0.75,2.5\n1.75,1.0,-2.5\n1.75,1.0,-2.25\n1.75,1.0,-2.0\n1.75,1.0,-1.75\n1.75,1.0,-1.5\n1.75,1.0,-1.25\n1.75,1.0,-1.0\n1.75,1.0,-0.75\n1.75,1.0,-0.5\n1.75,1.0,-0.25\n1.75,1.0,0.0\n1.75,1.0,0.25\n1.75,1.0,0.5\n1.75,1.0,0.75\n1.75,1.0,1.0\n1.75,1.0,1.25\n1.75,1.0,1.5\n1.75,1.0,1.75\n1.75,1.0,2.0\n1.75,1.0,2.25\n1.75,1.0,2.5\n1.75,1.25,-2.5\n1.75,1.25,-2.25\n1.75,1.25,-2.0\n1.75,1.25,-1.75\n1.75,1.25,-1.5\n1.75,1.25,-1.25\n1.75,1.25,-1.0\n1.75,1.25,-0.75\n1.75,1.25,-0.5\n1.75,1.25,-0.25\n1.75,1.25,0.0\n1.75,1.25,0.25\n1.75,1.25,0.5\n1.75,1.25,0.75\n1.75,1.25,1.0\n1.75,1.25,1.25\n1.75,1.25,1.5\n1.75,1.25,1.75\n1.75,1.25,2.0\n1.75,1.25,2.25\n1.75,1.25,2.5\n1.75,1.5,-2.5\n1.75,1.5,-2.25\n1.75,1.5,-2.0\n1.75,1.5,-1.75\n1.75,1.5,-1.5\n1.75,1.5,-1.25\n1.75,1.5,-1.0\n1.75,1.5,-0.75\n1.75,1.5,-0.5\n1.75,1.5,-0.25\n1.75,1.5,0.0\n1.75,1.5,0.25\n1.75,1.5,0.5\n1.75,1.5,0.75\n1.75,1.5,1.0\n1.75,1.5,1.25\n1.75,1.5,1.5\n1.75,1.5,1.75\n1.75,1.5,2.0\n1.75,1.5,2.25\n1.75,1.5,2.5\n1.75,1.75,-2.5\n1.75,1.75,-2.25\n1.75,1.75,-2.0\n1.75,1.75,-1.75\n1.75,1.75,-1.5\n1.75,1.75,-1.25\n1.75,1.75,-1.0\n1.75,1.75,-0.75\n1.75,1.75,-0.5\n1.75,1.75,-0.25\n1.75,1.75,0.0\n1.75,1.75,0.25\n1.75,1.75,0.5\n1.75,1.75,0.75\n1.75,1.75,1.0\n1.75,1.75,1.25\n1.75,1.75,1.5\n1.75,1.75,1.75\n1.75,1.75,2.0\n1.75,1.75,2.25\n1.75,1.75,2.5\n1.75,2.0,-2.5\n1.75,2.0,-2.25\n1.75,2.0,-2.0\n1.75,2.0,-1.75\n1.75,2.0,-1.5\n1.75,2.0,-1.25\n1.75,2.0,-1.0\n1.75,2.0,-0.75\n1.75,2.0,-0.5\n1.75,2.0,-0.25\n1.75,2.0,0.0\n1.75,2.0,0.25\n1.75,2.0,0.5\n1.75,2.0,0.75\n1.75,2.0,1.0\n1.75,2.0,1.25\n1.75,2.0,1.5\n1.75,2.0,1.75\n1.75,2.0,2.0\n1.75,2.0,2.25\n1.75,2.0,2.5\n1.75,2.25,-2.5\n1.75,2.25,-2.25\n1.75,2.25,-2.0\n1.75,2.25,-1.75\n1.75,2.25,-1.5\n1.75,2.25,-1.25\n1.75,2.25,-1.0\n1.75,2.25,-0.75\n1.75,2.25,-0.5\n1.75,2.25,-0.25\n1.75,2.25,0.0\n1.75,2.25,0.25\n1.75,2.25,0.5\n1.75,2.25,0.75\n1.75,2.25,1.0\n1.75,2.25,1.25\n1.75,2.25,1.5\n1.75,2.25,1.75\n1.75,2.25,2.0\n1.75,2.25,2.25\n1.75,2.25,2.5\n1.75,2.5,-2.5\n1.75,2.5,-2.25\n1.75,2.5,-2.0\n1.75,2.5,-1.75\n1.75,2.5,-1.5\n1.75,2.5,-1.25\n1.75,2.5,-1.0\n1.75,2.5,-0.75\n1.75,2.5,-0.5\n1.75,2.5,-0.25\n1.75,2.5,0.0\n1.75,2.5,0.25\n1.75,2.5,0.5\n1.75,2.5,0.75\n1.75,2.5,1.0\n1.75,2.5,1.25\n1.75,2.5,1.5\n1.75,2.5,1.75\n1.75,2.5,2.0\n1.75,2.5,2.25\n1.75,2.5,2.5\n2.0,-2.5,-2.5\n2.0,-2.5,-2.25\n2.0,-2.5,-2.0\n2.0,-2.5,-1.75\n2.0,-2.5,-1.5\n2.0,-2.5,-1.25\n2.0,-2.5,-1.0\n2.0,-2.5,-0.75\n2.0,-2.5,-0.5\n2.0,-2.5,-0.25\n2.0,-2.5,0.0\n2.0,-2.5,0.25\n2.0,-2.5,0.5\n2.0,-2.5,0.75\n2.0,-2.5,1.0\n2.0,-2.5,1.25\n2.0,-2.5,1.5\n2.0,-2.5,1.75\n2.0,-2.5,2.0\n2.0,-2.5,2.25\n2.0,-2.5,2.5\n2.0,-2.25,-2.5\n2.0,-2.25,-2.25\n2.0,-2.25,-2.0\n2.0,-2.25,-1.75\n2.0,-2.25,-1.5\n2.0,-2.25,-1.25\n2.0,-2.25,-1.0\n2.0,-2.25,-0.75\n2.0,-2.25,-0.5\n2.0,-2.25,-0.25\n2.0,-2.25,0.0\n2.0,-2.25,0.25\n2.0,-2.25,0.5\n2.0,-2.25,0.75\n2.0,-2.25,1.0\n2.0,-2.25,1.25\n2.0,-2.25,1.5\n2.0,-2.25,1.75\n2.0,-2.25,2.0\n2.0,-2.25,2.25\n2.0,-2.25,2.5\n2.0,-2.0,-2.5\n2.0,-2.0,-2.25\n2.0,-2.0,-2.0\n2.0,-2.0,-1.75\n2.0,-2.0,-1.5\n2.0,-2.0,-1.25\n2.0,-2.0,-1.0\n2.0,-2.0,-0.75\n2.0,-2.0,-0.5\n2.0,-2.0,-0.25\n2.0,-2.0,0.0\n2.0,-2.0,0.25\n2.0,-2.0,0.5\n2.0,-2.0,0.75\n2.0,-2.0,1.0\n2.0,-2.0,1.25\n2.0,-2.0,1.5\n2.0,-2.0,1.75\n2.0,-2.0,2.0\n2.0,-2.0,2.25\n2.0,-2.0,2.5\n2.0,-1.75,-2.5\n2.0,-1.75,-2.25\n2.0,-1.75,-2.0\n2.0,-1.75,-1.75\n2.0,-1.75,-1.5\n2.0,-1.75,-1.25\n2.0,-1.75,-1.0\n2.0,-1.75,-0.75\n2.0,-1.75,-0.5\n2.0,-1.75,-0.25\n2.0,-1.75,0.0\n2.0,-1.75,0.25\n2.0,-1.75,0.5\n2.0,-1.75,0.75\n2.0,-1.75,1.0\n2.0,-1.75,1.25\n2.0,-1.75,1.5\n2.0,-1.75,1.75\n2.0,-1.75,2.0\n2.0,-1.75,2.25\n2.0,-1.75,2.5\n2.0,-1.5,-2.5\n2.0,-1.5,-2.25\n2.0,-1.5,-2.0\n2.0,-1.5,-1.75\n2.0,-1.5,-1.5\n2.0,-1.5,-1.25\n2.0,-1.5,-1.0\n2.0,-1.5,-0.75\n2.0,-1.5,-0.5\n2.0,-1.5,-0.25\n2.0,-1.5,0.0\n2.0,-1.5,0.25\n2.0,-1.5,0.5\n2.0,-1.5,0.75\n2.0,-1.5,1.0\n2.0,-1.5,1.25\n2.0,-1.5,1.5\n2.0,-1.5,1.75\n2.0,-1.5,2.0\n2.0,-1.5,2.25\n2.0,-1.5,2.5\n2.0,-1.25,-2.5\n2.0,-1.25,-2.25\n2.0,-1.25,-2.0\n2.0,-1.25,-1.75\n2.0,-1.25,-1.5\n2.0,-1.25,-1.25\n2.0,-1.25,-1.0\n2.0,-1.25,-0.75\n2.0,-1.25,-0.5\n2.0,-1.25,-0.25\n2.0,-1.25,0.0\n2.0,-1.25,0.25\n2.0,-1.25,0.5\n2.0,-1.25,0.75\n2.0,-1.25,1.0\n2.0,-1.25,1.25\n2.0,-1.25,1.5\n2.0,-1.25,1.75\n2.0,-1.25,2.0\n2.0,-1.25,2.25\n2.0,-1.25,2.5\n2.0,-1.0,-2.5\n2.0,-1.0,-2.25\n2.0,-1.0,-2.0\n2.0,-1.0,-1.75\n2.0,-1.0,-1.5\n2.0,-1.0,-1.25\n2.0,-1.0,-1.0\n2.0,-1.0,-0.75\n2.0,-1.0,-0.5\n2.0,-1.0,-0.25\n2.0,-1.0,0.0\n2.0,-1.0,0.25\n2.0,-1.0,0.5\n2.0,-1.0,0.75\n2.0,-1.0,1.0\n2.0,-1.0,1.25\n2.0,-1.0,1.5\n2.0,-1.0,1.75\n2.0,-1.0,2.0\n2.0,-1.0,2.25\n2.0,-1.0,2.5\n2.0,-0.75,-2.5\n2.0,-0.75,-2.25\n2.0,-0.75,-2.0\n2.0,-0.75,-1.75\n2.0,-0.75,-1.5\n2.0,-0.75,-1.25\n2.0,-0.75,-1.0\n2.0,-0.75,-0.75\n2.0,-0.75,-0.5\n2.0,-0.75,-0.25\n2.0,-0.75,0.0\n2.0,-0.75,0.25\n2.0,-0.75,0.5\n2.0,-0.75,0.75\n2.0,-0.75,1.0\n2.0,-0.75,1.25\n2.0,-0.75,1.5\n2.0,-0.75,1.75\n2.0,-0.75,2.0\n2.0,-0.75,2.25\n2.0,-0.75,2.5\n2.0,-0.5,-2.5\n2.0,-0.5,-2.25\n2.0,-0.5,-2.0\n2.0,-0.5,-1.75\n2.0,-0.5,-1.5\n2.0,-0.5,-1.25\n2.0,-0.5,-1.0\n2.0,-0.5,-0.75\n2.0,-0.5,-0.5\n2.0,-0.5,-0.25\n2.0,-0.5,0.0\n2.0,-0.5,0.25\n2.0,-0.5,0.5\n2.0,-0.5,0.75\n2.0,-0.5,1.0\n2.0,-0.5,1.25\n2.0,-0.5,1.5\n2.0,-0.5,1.75\n2.0,-0.5,2.0\n2.0,-0.5,2.25\n2.0,-0.5,2.5\n2.0,-0.25,-2.5\n2.0,-0.25,-2.25\n2.0,-0.25,-2.0\n2.0,-0.25,-1.75\n2.0,-0.25,-1.5\n2.0,-0.25,-1.25\n2.0,-0.25,-1.0\n2.0,-0.25,-0.75\n2.0,-0.25,-0.5\n2.0,-0.25,-0.25\n2.0,-0.25,0.0\n2.0,-0.25,0.25\n2.0,-0.25,0.5\n2.0,-0.25,0.75\n2.0,-0.25,1.0\n2.0,-0.25,1.25\n2.0,-0.25,1.5\n2.0,-0.25,1.75\n2.0,-0.25,2.0\n2.0,-0.25,2.25\n2.0,-0.25,2.5\n2.0,0.0,-2.5\n2.0,0.0,-2.25\n2.0,0.0,-2.0\n2.0,0.0,-1.75\n2.0,0.0,-1.5\n2.0,0.0,-1.25\n2.0,0.0,-1.0\n2.0,0.0,-0.75\n2.0,0.0,-0.5\n2.0,0.0,-0.25\n2.0,0.0,0.0\n2.0,0.0,0.25\n2.0,0.0,0.5\n2.0,0.0,0.75\n2.0,0.0,1.0\n2.0,0.0,1.25\n2.0,0.0,1.5\n2.0,0.0,1.75\n2.0,0.0,2.0\n2.0,0.0,2.25\n2.0,0.0,2.5\n2.0,0.25,-2.5\n2.0,0.25,-2.25\n2.0,0.25,-2.0\n2.0,0.25,-1.75\n2.0,0.25,-1.5\n2.0,0.25,-1.25\n2.0,0.25,-1.0\n2.0,0.25,-0.75\n2.0,0.25,-0.5\n2.0,0.25,-0.25\n2.0,0.25,0.0\n2.0,0.25,0.25\n2.0,0.25,0.5\n2.0,0.25,0.75\n2.0,0.25,1.0\n2.0,0.25,1.25\n2.0,0.25,1.5\n2.0,0.25,1.75\n2.0,0.25,2.0\n2.0,0.25,2.25\n2.0,0.25,2.5\n2.0,0.5,-2.5\n2.0,0.5,-2.25\n2.0,0.5,-2.0\n2.0,0.5,-1.75\n2.0,0.5,-1.5\n2.0,0.5,-1.25\n2.0,0.5,-1.0\n2.0,0.5,-0.75\n2.0,0.5,-0.5\n2.0,0.5,-0.25\n2.0,0.5,0.0\n2.0,0.5,0.25\n2.0,0.5,0.5\n2.0,0.5,0.75\n2.0,0.5,1.0\n2.0,0.5,1.25\n2.0,0.5,1.5\n2.0,0.5,1.75\n2.0,0.5,2.0\n2.0,0.5,2.25\n2.0,0.5,2.5\n2.0,0.75,-2.5\n2.0,0.75,-2.25\n2.0,0.75,-2.0\n2.0,0.75,-1.75\n2.0,0.75,-1.5\n2.0,0.75,-1.25\n2.0,0.75,-1.0\n2.0,0.75,-0.75\n2.0,0.75,-0.5\n2.0,0.75,-0.25\n2.0,0.75,0.0\n2.0,0.75,0.25\n2.0,0.75,0.5\n2.0,0.75,0.75\n2.0,0.75,1.0\n2.0,0.75,1.25\n2.0,0.75,1.5\n2.0,0.75,1.75\n2.0,0.75,2.0\n2.0,0.75,2.25\n2.0,0.75,2.5\n2.0,1.0,-2.5\n2.0,1.0,-2.25\n2.0,1.0,-2.0\n2.0,1.0,-1.75\n2.0,1.0,-1.5\n2.0,1.0,-1.25\n2.0,1.0,-1.0\n2.0,1.0,-0.75\n2.0,1.0,-0.5\n2.0,1.0,-0.25\n2.0,1.0,0.0\n2.0,1.0,0.25\n2.0,1.0,0.5\n2.0,1.0,0.75\n2.0,1.0,1.0\n2.0,1.0,1.25\n2.0,1.0,1.5\n2.0,1.0,1.75\n2.0,1.0,2.0\n2.0,1.0,2.25\n2.0,1.0,2.5\n2.0,1.25,-2.5\n2.0,1.25,-2.25\n2.0,1.25,-2.0\n2.0,1.25,-1.75\n2.0,1.25,-1.5\n2.0,1.25,-1.25\n2.0,1.25,-1.0\n2.0,1.25,-0.75\n2.0,1.25,-0.5\n2.0,1.25,-0.25\n2.0,1.25,0.0\n2.0,1.25,0.25\n2.0,1.25,0.5\n2.0,1.25,0.75\n2.0,1.25,1.0\n2.0,1.25,1.25\n2.0,1.25,1.5\n2.0,1.25,1.75\n2.0,1.25,2.0\n2.0,1.25,2.25\n2.0,1.25,2.5\n2.0,1.5,-2.5\n2.0,1.5,-2.25\n2.0,1.5,-2.0\n2.0,1.5,-1.75\n2.0,1.5,-1.5\n2.0,1.5,-1.25\n2.0,1.5,-1.0\n2.0,1.5,-0.75\n2.0,1.5,-0.5\n2.0,1.5,-0.25\n2.0,1.5,0.0\n2.0,1.5,0.25\n2.0,1.5,0.5\n2.0,1.5,0.75\n2.0,1.5,1.0\n2.0,1.5,1.25\n2.0,1.5,1.5\n2.0,1.5,1.75\n2.0,1.5,2.0\n2.0,1.5,2.25\n2.0,1.5,2.5\n2.0,1.75,-2.5\n2.0,1.75,-2.25\n2.0,1.75,-2.0\n2.0,1.75,-1.75\n2.0,1.75,-1.5\n2.0,1.75,-1.25\n2.0,1.75,-1.0\n2.0,1.75,-0.75\n2.0,1.75,-0.5\n2.0,1.75,-0.25\n2.0,1.75,0.0\n2.0,1.75,0.25\n2.0,1.75,0.5\n2.0,1.75,0.75\n2.0,1.75,1.0\n2.0,1.75,1.25\n2.0,1.75,1.5\n2.0,1.75,1.75\n2.0,1.75,2.0\n2.0,1.75,2.25\n2.0,1.75,2.5\n2.0,2.0,-2.5\n2.0,2.0,-2.25\n2.0,2.0,-2.0\n2.0,2.0,-1.75\n2.0,2.0,-1.5\n2.0,2.0,-1.25\n2.0,2.0,-1.0\n2.0,2.0,-0.75\n2.0,2.0,-0.5\n2.0,2.0,-0.25\n2.0,2.0,0.0\n2.0,2.0,0.25\n2.0,2.0,0.5\n2.0,2.0,0.75\n2.0,2.0,1.0\n2.0,2.0,1.25\n2.0,2.0,1.5\n2.0,2.0,1.75\n2.0,2.0,2.0\n2.0,2.0,2.25\n2.0,2.0,2.5\n2.0,2.25,-2.5\n2.0,2.25,-2.25\n2.0,2.25,-2.0\n2.0,2.25,-1.75\n2.0,2.25,-1.5\n2.0,2.25,-1.25\n2.0,2.25,-1.0\n2.0,2.25,-0.75\n2.0,2.25,-0.5\n2.0,2.25,-0.25\n2.0,2.25,0.0\n2.0,2.25,0.25\n2.0,2.25,0.5\n2.0,2.25,0.75\n2.0,2.25,1.0\n2.0,2.25,1.25\n2.0,2.25,1.5\n2.0,2.25,1.75\n2.0,2.25,2.0\n2.0,2.25,2.25\n2.0,2.25,2.5\n2.0,2.5,-2.5\n2.0,2.5,-2.25\n2.0,2.5,-2.0\n2.0,2.5,-1.75\n2.0,2.5,-1.5\n2.0,2.5,-1.25\n2.0,2.5,-1.0\n2.0,2.5,-0.75\n2.0,2.5,-0.5\n2.0,2.5,-0.25\n2.0,2.5,0.0\n2.0,2.5,0.25\n2.0,2.5,0.5\n2.0,2.5,0.75\n2.0,2.5,1.0\n2.0,2.5,1.25\n2.0,2.5,1.5\n2.0,2.5,1.75\n2.0,2.5,2.0\n2.0,2.5,2.25\n2.0,2.5,2.5\n2.25,-2.5,-2.5\n2.25,-2.5,-2.25\n2.25,-2.5,-2.0\n2.25,-2.5,-1.75\n2.25,-2.5,-1.5\n2.25,-2.5,-1.25\n2.25,-2.5,-1.0\n2.25,-2.5,-0.75\n2.25,-2.5,-0.5\n2.25,-2.5,-0.25\n2.25,-2.5,0.0\n2.25,-2.5,0.25\n2.25,-2.5,0.5\n2.25,-2.5,0.75\n2.25,-2.5,1.0\n2.25,-2.5,1.25\n2.25,-2.5,1.5\n2.25,-2.5,1.75\n2.25,-2.5,2.0\n2.25,-2.5,2.25\n2.25,-2.5,2.5\n2.25,-2.25,-2.5\n2.25,-2.25,-2.25\n2.25,-2.25,-2.0\n2.25,-2.25,-1.75\n2.25,-2.25,-1.5\n2.25,-2.25,-1.25\n2.25,-2.25,-1.0\n2.25,-2.25,-0.75\n2.25,-2.25,-0.5\n2.25,-2.25,-0.25\n2.25,-2.25,0.0\n2.25,-2.25,0.25\n2.25,-2.25,0.5\n2.25,-2.25,0.75\n2.25,-2.25,1.0\n2.25,-2.25,1.25\n2.25,-2.25,1.5\n2.25,-2.25,1.75\n2.25,-2.25,2.0\n2.25,-2.25,2.25\n2.25,-2.25,2.5\n2.25,-2.0,-2.5\n2.25,-2.0,-2.25\n2.25,-2.0,-2.0\n2.25,-2.0,-1.75\n2.25,-2.0,-1.5\n2.25,-2.0,-1.25\n2.25,-2.0,-1.0\n2.25,-2.0,-0.75\n2.25,-2.0,-0.5\n2.25,-2.0,-0.25\n2.25,-2.0,0.0\n2.25,-2.0,0.25\n2.25,-2.0,0.5\n2.25,-2.0,0.75\n2.25,-2.0,1.0\n2.25,-2.0,1.25\n2.25,-2.0,1.5\n2.25,-2.0,1.75\n2.25,-2.0,2.0\n2.25,-2.0,2.25\n2.25,-2.0,2.5\n2.25,-1.75,-2.5\n2.25,-1.75,-2.25\n2.25,-1.75,-2.0\n2.25,-1.75,-1.75\n2.25,-1.75,-1.5\n2.25,-1.75,-1.25\n2.25,-1.75,-1.0\n2.25,-1.75,-0.75\n2.25,-1.75,-0.5\n2.25,-1.75,-0.25\n2.25,-1.75,0.0\n2.25,-1.75,0.25\n2.25,-1.75,0.5\n2.25,-1.75,0.75\n2.25,-1.75,1.0\n2.25,-1.75,1.25\n2.25,-1.75,1.5\n2.25,-1.75,1.75\n2.25,-1.75,2.0\n2.25,-1.75,2.25\n2.25,-1.75,2.5\n2.25,-1.5,-2.5\n2.25,-1.5,-2.25\n2.25,-1.5,-2.0\n2.25,-1.5,-1.75\n2.25,-1.5,-1.5\n2.25,-1.5,-1.25\n2.25,-1.5,-1.0\n2.25,-1.5,-0.75\n2.25,-1.5,-0.5\n2.25,-1.5,-0.25\n2.25,-1.5,0.0\n2.25,-1.5,0.25\n2.25,-1.5,0.5\n2.25,-1.5,0.75\n2.25,-1.5,1.0\n2.25,-1.5,1.25\n2.25,-1.5,1.5\n2.25,-1.5,1.75\n2.25,-1.5,2.0\n2.25,-1.5,2.25\n2.25,-1.5,2.5\n2.25,-1.25,-2.5\n2.25,-1.25,-2.25\n2.25,-1.25,-2.0\n2.25,-1.25,-1.75\n2.25,-1.25,-1.5\n2.25,-1.25,-1.25\n2.25,-1.25,-1.0\n2.25,-1.25,-0.75\n2.25,-1.25,-0.5\n2.25,-1.25,-0.25\n2.25,-1.25,0.0\n2.25,-1.25,0.25\n2.25,-1.25,0.5\n2.25,-1.25,0.75\n2.25,-1.25,1.0\n2.25,-1.25,1.25\n2.25,-1.25,1.5\n2.25,-1.25,1.75\n2.25,-1.25,2.0\n2.25,-1.25,2.25\n2.25,-1.25,2.5\n2.25,-1.0,-2.5\n2.25,-1.0,-2.25\n2.25,-1.0,-2.0\n2.25,-1.0,-1.75\n2.25,-1.0,-1.5\n2.25,-1.0,-1.25\n2.25,-1.0,-1.0\n2.25,-1.0,-0.75\n2.25,-1.0,-0.5\n2.25,-1.0,-0.25\n2.25,-1.0,0.0\n2.25,-1.0,0.25\n2.25,-1.0,0.5\n2.25,-1.0,0.75\n2.25,-1.0,1.0\n2.25,-1.0,1.25\n2.25,-1.0,1.5\n2.25,-1.0,1.75\n2.25,-1.0,2.0\n2.25,-1.0,2.25\n2.25,-1.0,2.5\n2.25,-0.75,-2.5\n2.25,-0.75,-2.25\n2.25,-0.75,-2.0\n2.25,-0.75,-1.75\n2.25,-0.75,-1.5\n2.25,-0.75,-1.25\n2.25,-0.75,-1.0\n2.25,-0.75,-0.75\n2.25,-0.75,-0.5\n2.25,-0.75,-0.25\n2.25,-0.75,0.0\n2.25,-0.75,0.25\n2.25,-0.75,0.5\n2.25,-0.75,0.75\n2.25,-0.75,1.0\n2.25,-0.75,1.25\n2.25,-0.75,1.5\n2.25,-0.75,1.75\n2.25,-0.75,2.0\n2.25,-0.75,2.25\n2.25,-0.75,2.5\n2.25,-0.5,-2.5\n2.25,-0.5,-2.25\n2.25,-0.5,-2.0\n2.25,-0.5,-1.75\n2.25,-0.5,-1.5\n2.25,-0.5,-1.25\n2.25,-0.5,-1.0\n2.25,-0.5,-0.75\n2.25,-0.5,-0.5\n2.25,-0.5,-0.25\n2.25,-0.5,0.0\n2.25,-0.5,0.25\n2.25,-0.5,0.5\n2.25,-0.5,0.75\n2.25,-0.5,1.0\n2.25,-0.5,1.25\n2.25,-0.5,1.5\n2.25,-0.5,1.75\n2.25,-0.5,2.0\n2.25,-0.5,2.25\n2.25,-0.5,2.5\n2.25,-0.25,-2.5\n2.25,-0.25,-2.25\n2.25,-0.25,-2.0\n2.25,-0.25,-1.75\n2.25,-0.25,-1.5\n2.25,-0.25,-1.25\n2.25,-0.25,-1.0\n2.25,-0.25,-0.75\n2.25,-0.25,-0.5\n2.25,-0.25,-0.25\n2.25,-0.25,0.0\n2.25,-0.25,0.25\n2.25,-0.25,0.5\n2.25,-0.25,0.75\n2.25,-0.25,1.0\n2.25,-0.25,1.25\n2.25,-0.25,1.5\n2.25,-0.25,1.75\n2.25,-0.25,2.0\n2.25,-0.25,2.25\n2.25,-0.25,2.5\n2.25,0.0,-2.5\n2.25,0.0,-2.25\n2.25,0.0,-2.0\n2.25,0.0,-1.75\n2.25,0.0,-1.5\n2.25,0.0,-1.25\n2.25,0.0,-1.0\n2.25,0.0,-0.75\n2.25,0.0,-0.5\n2.25,0.0,-0.25\n2.25,0.0,0.0\n2.25,0.0,0.25\n2.25,0.0,0.5\n2.25,0.0,0.75\n2.25,0.0,1.0\n2.25,0.0,1.25\n2.25,0.0,1.5\n2.25,0.0,1.75\n2.25,0.0,2.0\n2.25,0.0,2.25\n2.25,0.0,2.5\n2.25,0.25,-2.5\n2.25,0.25,-2.25\n2.25,0.25,-2.0\n2.25,0.25,-1.75\n2.25,0.25,-1.5\n2.25,0.25,-1.25\n2.25,0.25,-1.0\n2.25,0.25,-0.75\n2.25,0.25,-0.5\n2.25,0.25,-0.25\n2.25,0.25,0.0\n2.25,0.25,0.25\n2.25,0.25,0.5\n2.25,0.25,0.75\n2.25,0.25,1.0\n2.25,0.25,1.25\n2.25,0.25,1.5\n2.25,0.25,1.75\n2.25,0.25,2.0\n2.25,0.25,2.25\n2.25,0.25,2.5\n2.25,0.5,-2.5\n2.25,0.5,-2.25\n2.25,0.5,-2.0\n2.25,0.5,-1.75\n2.25,0.5,-1.5\n2.25,0.5,-1.25\n2.25,0.5,-1.0\n2.25,0.5,-0.75\n2.25,0.5,-0.5\n2.25,0.5,-0.25\n2.25,0.5,0.0\n2.25,0.5,0.25\n2.25,0.5,0.5\n2.25,0.5,0.75\n2.25,0.5,1.0\n2.25,0.5,1.25\n2.25,0.5,1.5\n2.25,0.5,1.75\n2.25,0.5,2.0\n2.25,0.5,2.25\n2.25,0.5,2.5\n2.25,0.75,-2.5\n2.25,0.75,-2.25\n2.25,0.75,-2.0\n2.25,0.75,-1.75\n2.25,0.75,-1.5\n2.25,0.75,-1.25\n2.25,0.75,-1.0\n2.25,0.75,-0.75\n2.25,0.75,-0.5\n2.25,0.75,-0.25\n2.25,0.75,0.0\n2.25,0.75,0.25\n2.25,0.75,0.5\n2.25,0.75,0.75\n2.25,0.75,1.0\n2.25,0.75,1.25\n2.25,0.75,1.5\n2.25,0.75,1.75\n2.25,0.75,2.0\n2.25,0.75,2.25\n2.25,0.75,2.5\n2.25,1.0,-2.5\n2.25,1.0,-2.25\n2.25,1.0,-2.0\n2.25,1.0,-1.75\n2.25,1.0,-1.5\n2.25,1.0,-1.25\n2.25,1.0,-1.0\n2.25,1.0,-0.75\n2.25,1.0,-0.5\n2.25,1.0,-0.25\n2.25,1.0,0.0\n2.25,1.0,0.25\n2.25,1.0,0.5\n2.25,1.0,0.75\n2.25,1.0,1.0\n2.25,1.0,1.25\n2.25,1.0,1.5\n2.25,1.0,1.75\n2.25,1.0,2.0\n2.25,1.0,2.25\n2.25,1.0,2.5\n2.25,1.25,-2.5\n2.25,1.25,-2.25\n2.25,1.25,-2.0\n2.25,1.25,-1.75\n2.25,1.25,-1.5\n2.25,1.25,-1.25\n2.25,1.25,-1.0\n2.25,1.25,-0.75\n2.25,1.25,-0.5\n2.25,1.25,-0.25\n2.25,1.25,0.0\n2.25,1.25,0.25\n2.25,1.25,0.5\n2.25,1.25,0.75\n2.25,1.25,1.0\n2.25,1.25,1.25\n2.25,1.25,1.5\n2.25,1.25,1.75\n2.25,1.25,2.0\n2.25,1.25,2.25\n2.25,1.25,2.5\n2.25,1.5,-2.5\n2.25,1.5,-2.25\n2.25,1.5,-2.0\n2.25,1.5,-1.75\n2.25,1.5,-1.5\n2.25,1.5,-1.25\n2.25,1.5,-1.0\n2.25,1.5,-0.75\n2.25,1.5,-0.5\n2.25,1.5,-0.25\n2.25,1.5,0.0\n2.25,1.5,0.25\n2.25,1.5,0.5\n2.25,1.5,0.75\n2.25,1.5,1.0\n2.25,1.5,1.25\n2.25,1.5,1.5\n2.25,1.5,1.75\n2.25,1.5,2.0\n2.25,1.5,2.25\n2.25,1.5,2.5\n2.25,1.75,-2.5\n2.25,1.75,-2.25\n2.25,1.75,-2.0\n2.25,1.75,-1.75\n2.25,1.75,-1.5\n2.25,1.75,-1.25\n2.25,1.75,-1.0\n2.25,1.75,-0.75\n2.25,1.75,-0.5\n2.25,1.75,-0.25\n2.25,1.75,0.0\n2.25,1.75,0.25\n2.25,1.75,0.5\n2.25,1.75,0.75\n2.25,1.75,1.0\n2.25,1.75,1.25\n2.25,1.75,1.5\n2.25,1.75,1.75\n2.25,1.75,2.0\n2.25,1.75,2.25\n2.25,1.75,2.5\n2.25,2.0,-2.5\n2.25,2.0,-2.25\n2.25,2.0,-2.0\n2.25,2.0,-1.75\n2.25,2.0,-1.5\n2.25,2.0,-1.25\n2.25,2.0,-1.0\n2.25,2.0,-0.75\n2.25,2.0,-0.5\n2.25,2.0,-0.25\n2.25,2.0,0.0\n2.25,2.0,0.25\n2.25,2.0,0.5\n2.25,2.0,0.75\n2.25,2.0,1.0\n2.25,2.0,1.25\n2.25,2.0,1.5\n2.25,2.0,1.75\n2.25,2.0,2.0\n2.25,2.0,2.25\n2.25,2.0,2.5\n2.25,2.25,-2.5\n2.25,2.25,-2.25\n2.25,2.25,-2.0\n2.25,2.25,-1.75\n2.25,2.25,-1.5\n2.25,2.25,-1.25\n2.25,2.25,-1.0\n2.25,2.25,-0.75\n2.25,2.25,-0.5\n2.25,2.25,-0.25\n2.25,2.25,0.0\n2.25,2.25,0.25\n2.25,2.25,0.5\n2.25,2.25,0.75\n2.25,2.25,1.0\n2.25,2.25,1.25\n2.25,2.25,1.5\n2.25,2.25,1.75\n2.25,2.25,2.0\n2.25,2.25,2.25\n2.25,2.25,2.5\n2.25,2.5,-2.5\n2.25,2.5,-2.25\n2.25,2.5,-2.0\n2.25,2.5,-1.75\n2.25,2.5,-1.5\n2.25,2.5,-1.25\n2.25,2.5,-1.0\n2.25,2.5,-0.75\n2.25,2.5,-0.5\n2.25,2.5,-0.25\n2.25,2.5,0.0\n2.25,2.5,0.25\n2.25,2.5,0.5\n2.25,2.5,0.75\n2.25,2.5,1.0\n2.25,2.5,1.25\n2.25,2.5,1.5\n2.25,2.5,1.75\n2.25,2.5,2.0\n2.25,2.5,2.25\n2.25,2.5,2.5\n2.5,-2.5,-2.5\n2.5,-2.5,-2.25\n2.5,-2.5,-2.0\n2.5,-2.5,-1.75\n2.5,-2.5,-1.5\n2.5,-2.5,-1.25\n2.5,-2.5,-1.0\n2.5,-2.5,-0.75\n2.5,-2.5,-0.5\n2.5,-2.5,-0.25\n2.5,-2.5,0.0\n2.5,-2.5,0.25\n2.5,-2.5,0.5\n2.5,-2.5,0.75\n2.5,-2.5,1.0\n2.5,-2.5,1.25\n2.5,-2.5,1.5\n2.5,-2.5,1.75\n2.5,-2.5,2.0\n2.5,-2.5,2.25\n2.5,-2.5,2.5\n2.5,-2.25,-2.5\n2.5,-2.25,-2.25\n2.5,-2.25,-2.0\n2.5,-2.25,-1.75\n2.5,-2.25,-1.5\n2.5,-2.25,-1.25\n2.5,-2.25,-1.0\n2.5,-2.25,-0.75\n2.5,-2.25,-0.5\n2.5,-2.25,-0.25\n2.5,-2.25,0.0\n2.5,-2.25,0.25\n2.5,-2.25,0.5\n2.5,-2.25,0.75\n2.5,-2.25,1.0\n2.5,-2.25,1.25\n2.5,-2.25,1.5\n2.5,-2.25,1.75\n2.5,-2.25,2.0\n2.5,-2.25,2.25\n2.5,-2.25,2.5\n2.5,-2.0,-2.5\n2.5,-2.0,-2.25\n2.5,-2.0,-2.0\n2.5,-2.0,-1.75\n2.5,-2.0,-1.5\n2.5,-2.0,-1.25\n2.5,-2.0,-1.0\n2.5,-2.0,-0.75\n2.5,-2.0,-0.5\n2.5,-2.0,-0.25\n2.5,-2.0,0.0\n2.5,-2.0,0.25\n2.5,-2.0,0.5\n2.5,-2.0,0.75\n2.5,-2.0,1.0\n2.5,-2.0,1.25\n2.5,-2.0,1.5\n2.5,-2.0,1.75\n2.5,-2.0,2.0\n2.5,-2.0,2.25\n2.5,-2.0,2.5\n2.5,-1.75,-2.5\n2.5,-1.75,-2.25\n2.5,-1.75,-2.0\n2.5,-1.75,-1.75\n2.5,-1.75,-1.5\n2.5,-1.75,-1.25\n2.5,-1.75,-1.0\n2.5,-1.75,-0.75\n2.5,-1.75,-0.5\n2.5,-1.75,-0.25\n2.5,-1.75,0.0\n2.5,-1.75,0.25\n2.5,-1.75,0.5\n2.5,-1.75,0.75\n2.5,-1.75,1.0\n2.5,-1.75,1.25\n2.5,-1.75,1.5\n2.5,-1.75,1.75\n2.5,-1.75,2.0\n2.5,-1.75,2.25\n2.5,-1.75,2.5\n2.5,-1.5,-2.5\n2.5,-1.5,-2.25\n2.5,-1.5,-2.0\n2.5,-1.5,-1.75\n2.5,-1.5,-1.5\n2.5,-1.5,-1.25\n2.5,-1.5,-1.0\n2.5,-1.5,-0.75\n2.5,-1.5,-0.5\n2.5,-1.5,-0.25\n2.5,-1.5,0.0\n2.5,-1.5,0.25\n2.5,-1.5,0.5\n2.5,-1.5,0.75\n2.5,-1.5,1.0\n2.5,-1.5,1.25\n2.5,-1.5,1.5\n2.5,-1.5,1.75\n2.5,-1.5,2.0\n2.5,-1.5,2.25\n2.5,-1.5,2.5\n2.5,-1.25,-2.5\n2.5,-1.25,-2.25\n2.5,-1.25,-2.0\n2.5,-1.25,-1.75\n2.5,-1.25,-1.5\n2.5,-1.25,-1.25\n2.5,-1.25,-1.0\n2.5,-1.25,-0.75\n2.5,-1.25,-0.5\n2.5,-1.25,-0.25\n2.5,-1.25,0.0\n2.5,-1.25,0.25\n2.5,-1.25,0.5\n2.5,-1.25,0.75\n2.5,-1.25,1.0\n2.5,-1.25,1.25\n2.5,-1.25,1.5\n2.5,-1.25,1.75\n2.5,-1.25,2.0\n2.5,-1.25,2.25\n2.5,-1.25,2.5\n2.5,-1.0,-2.5\n2.5,-1.0,-2.25\n2.5,-1.0,-2.0\n2.5,-1.0,-1.75\n2.5,-1.0,-1.5\n2.5,-1.0,-1.25\n2.5,-1.0,-1.0\n2.5,-1.0,-0.75\n2.5,-1.0,-0.5\n2.5,-1.0,-0.25\n2.5,-1.0,0.0\n2.5,-1.0,0.25\n2.5,-1.0,0.5\n2.5,-1.0,0.75\n2.5,-1.0,1.0\n2.5,-1.0,1.25\n2.5,-1.0,1.5\n2.5,-1.0,1.75\n2.5,-1.0,2.0\n2.5,-1.0,2.25\n2.5,-1.0,2.5\n2.5,-0.75,-2.5\n2.5,-0.75,-2.25\n2.5,-0.75,-2.0\n2.5,-0.75,-1.75\n2.5,-0.75,-1.5\n2.5,-0.75,-1.25\n2.5,-0.75,-1.0\n2.5,-0.75,-0.75\n2.5,-0.75,-0.5\n2.5,-0.75,-0.25\n2.5,-0.75,0.0\n2.5,-0.75,0.25\n2.5,-0.75,0.5\n2.5,-0.75,0.75\n2.5,-0.75,1.0\n2.5,-0.75,1.25\n2.5,-0.75,1.5\n2.5,-0.75,1.75\n2.5,-0.75,2.0\n2.5,-0.75,2.25\n2.5,-0.75,2.5\n2.5,-0.5,-2.5\n2.5,-0.5,-2.25\n2.5,-0.5,-2.0\n2.5,-0.5,-1.75\n2.5,-0.5,-1.5\n2.5,-0.5,-1.25\n2.5,-0.5,-1.0\n2.5,-0.5,-0.75\n2.5,-0.5,-0.5\n2.5,-0.5,-0.25\n2.5,-0.5,0.0\n2.5,-0.5,0.25\n2.5,-0.5,0.5\n2.5,-0.5,0.75\n2.5,-0.5,1.0\n2.5,-0.5,1.25\n2.5,-0.5,1.5\n2.5,-0.5,1.75\n2.5,-0.5,2.0\n2.5,-0.5,2.25\n2.5,-0.5,2.5\n2.5,-0.25,-2.5\n2.5,-0.25,-2.25\n2.5,-0.25,-2.0\n2.5,-0.25,-1.75\n2.5,-0.25,-1.5\n2.5,-0.25,-1.25\n2.5,-0.25,-1.0\n2.5,-0.25,-0.75\n2.5,-0.25,-0.5\n2.5,-0.25,-0.25\n2.5,-0.25,0.0\n2.5,-0.25,0.25\n2.5,-0.25,0.5\n2.5,-0.25,0.75\n2.5,-0.25,1.0\n2.5,-0.25,1.25\n2.5,-0.25,1.5\n2.5,-0.25,1.75\n2.5,-0.25,2.0\n2.5,-0.25,2.25\n2.5,-0.25,2.5\n2.5,0.0,-2.5\n2.5,0.0,-2.25\n2.5,0.0,-2.0\n2.5,0.0,-1.75\n2.5,0.0,-1.5\n2.5,0.0,-1.25\n2.5,0.0,-1.0\n2.5,0.0,-0.75\n2.5,0.0,-0.5\n2.5,0.0,-0.25\n2.5,0.0,0.0\n2.5,0.0,0.25\n2.5,0.0,0.5\n2.5,0.0,0.75\n2.5,0.0,1.0\n2.5,0.0,1.25\n2.5,0.0,1.5\n2.5,0.0,1.75\n2.5,0.0,2.0\n2.5,0.0,2.25\n2.5,0.0,2.5\n2.5,0.25,-2.5\n2.5,0.25,-2.25\n2.5,0.25,-2.0\n2.5,0.25,-1.75\n2.5,0.25,-1.5\n2.5,0.25,-1.25\n2.5,0.25,-1.0\n2.5,0.25,-0.75\n2.5,0.25,-0.5\n2.5,0.25,-0.25\n2.5,0.25,0.0\n2.5,0.25,0.25\n2.5,0.25,0.5\n2.5,0.25,0.75\n2.5,0.25,1.0\n2.5,0.25,1.25\n2.5,0.25,1.5\n2.5,0.25,1.75\n2.5,0.25,2.0\n2.5,0.25,2.25\n2.5,0.25,2.5\n2.5,0.5,-2.5\n2.5,0.5,-2.25\n2.5,0.5,-2.0\n2.5,0.5,-1.75\n2.5,0.5,-1.5\n2.5,0.5,-1.25\n2.5,0.5,-1.0\n2.5,0.5,-0.75\n2.5,0.5,-0.5\n2.5,0.5,-0.25\n2.5,0.5,0.0\n2.5,0.5,0.25\n2.5,0.5,0.5\n2.5,0.5,0.75\n2.5,0.5,1.0\n2.5,0.5,1.25\n2.5,0.5,1.5\n2.5,0.5,1.75\n2.5,0.5,2.0\n2.5,0.5,2.25\n2.5,0.5,2.5\n2.5,0.75,-2.5\n2.5,0.75,-2.25\n2.5,0.75,-2.0\n2.5,0.75,-1.75\n2.5,0.75,-1.5\n2.5,0.75,-1.25\n2.5,0.75,-1.0\n2.5,0.75,-0.75\n2.5,0.75,-0.5\n2.5,0.75,-0.25\n2.5,0.75,0.0\n2.5,0.75,0.25\n2.5,0.75,0.5\n2.5,0.75,0.75\n2.5,0.75,1.0\n2.5,0.75,1.25\n2.5,0.75,1.5\n2.5,0.75,1.75\n2.5,0.75,2.0\n2.5,0.75,2.25\n2.5,0.75,2.5\n2.5,1.0,-2.5\n2.5,1.0,-2.25\n2.5,1.0,-2.0\n2.5,1.0,-1.75\n2.5,1.0,-1.5\n2.5,1.0,-1.25\n2.5,1.0,-1.0\n2.5,1.0,-0.75\n2.5,1.0,-0.5\n2.5,1.0,-0.25\n2.5,1.0,0.0\n2.5,1.0,0.25\n2.5,1.0,0.5\n2.5,1.0,0.75\n2.5,1.0,1.0\n2.5,1.0,1.25\n2.5,1.0,1.5\n2.5,1.0,1.75\n2.5,1.0,2.0\n2.5,1.0,2.25\n2.5,1.0,2.5\n2.5,1.25,-2.5\n2.5,1.25,-2.25\n2.5,1.25,-2.0\n2.5,1.25,-1.75\n2.5,1.25,-1.5\n2.5,1.25,-1.25\n2.5,1.25,-1.0\n2.5,1.25,-0.75\n2.5,1.25,-0.5\n2.5,1.25,-0.25\n2.5,1.25,0.0\n2.5,1.25,0.25\n2.5,1.25,0.5\n2.5,1.25,0.75\n2.5,1.25,1.0\n2.5,1.25,1.25\n2.5,1.25,1.5\n2.5,1.25,1.75\n2.5,1.25,2.0\n2.5,1.25,2.25\n2.5,1.25,2.5\n2.5,1.5,-2.5\n2.5,1.5,-2.25\n2.5,1.5,-2.0\n2.5,1.5,-1.75\n2.5,1.5,-1.5\n2.5,1.5,-1.25\n2.5,1.5,-1.0\n2.5,1.5,-0.75\n2.5,1.5,-0.5\n2.5,1.5,-0.25\n2.5,1.5,0.0\n2.5,1.5,0.25\n2.5,1.5,0.5\n2.5,1.5,0.75\n2.5,1.5,1.0\n2.5,1.5,1.25\n2.5,1.5,1.5\n2.5,1.5,1.75\n2.5,1.5,2.0\n2.5,1.5,2.25\n2.5,1.5,2.5\n2.5,1.75,-2.5\n2.5,1.75,-2.25\n2.5,1.75,-2.0\n2.5,1.75,-1.75\n2.5,1.75,-1.5\n2.5,1.75,-1.25\n2.5,1.75,-1.0\n2.5,1.75,-0.75\n2.5,1.75,-0.5\n2.5,1.75,-0.25\n2.5,1.75,0.0\n2.5,1.75,0.25\n2.5,1.75,0.5\n2.5,1.75,0.75\n2.5,1.75,1.0\n2.5,1.75,1.25\n2.5,1.75,1.5\n2.5,1.75,1.75\n2.5,1.75,2.0\n2.5,1.75,2.25\n2.5,1.75,2.5\n2.5,2.0,-2.5\n2.5,2.0,-2.25\n2.5,2.0,-2.0\n2.5,2.0,-1.75\n2.5,2.0,-1.5\n2.5,2.0,-1.25\n2.5,2.0,-1.0\n2.5,2.0,-0.75\n2.5,2.0,-0.5\n2.5,2.0,-0.25\n2.5,2.0,0.0\n2.5,2.0,0.25\n2.5,2.0,0.5\n2.5,2.0,0.75\n2.5,2.0,1.0\n2.5,2.0,1.25\n2.5,2.0,1.5\n2.5,2.0,1.75\n2.5,2.0,2.0\n2.5,2.0,2.25\n2.5,2.0,2.5\n2.5,2.25,-2.5\n2.5,2.25,-2.25\n2.5,2.25,-2.0\n2.5,2.25,-1.75\n2.5,2.25,-1.5\n2.5,2.25,-1.25\n2.5,2.25,-1.0\n2.5,2.25,-0.75\n2.5,2.25,-0.5\n2.5,2.25,-0.25\n2.5,2.25,0.0\n2.5,2.25,0.25\n2.5,2.25,0.5\n2.5,2.25,0.75\n2.5,2.25,1.0\n2.5,2.25,1.25\n2.5,2.25,1.5\n2.5,2.25,1.75\n2.5,2.25,2.0\n2.5,2.25,2.25\n2.5,2.25,2.5\n2.5,2.5,-2.5\n2.5,2.5,-2.25\n2.5,2.5,-2.0\n2.5,2.5,-1.75\n2.5,2.5,-1.5\n2.5,2.5,-1.25\n2.5,2.5,-1.0\n2.5,2.5,-0.75\n2.5,2.5,-0.5\n2.5,2.5,-0.25\n2.5,2.5,0.0\n2.5,2.5,0.25\n2.5,2.5,0.5\n2.5,2.5,0.75\n2.5,2.5,1.0\n2.5,2.5,1.25\n2.5,2.5,1.5\n2.5,2.5,1.75\n2.5,2.5,2.0\n2.5,2.5,2.25\n2.5,2.5,2.5\n".split("\n");
var positions = [];
positionsUnformatted.forEach(function (item, i) {
  var pos = item.split(",");
  positions.push(pos.map(function (x) {
    return parseFloat(x);
  }));
});
console.log("here 2", positions[10]);
console.log("hereee", logdust[10]);

function radialDistance(x, y, z) {
  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2));
} // var positions = positionsUnformatted.map(function (x) {
//   let singlpos = [];
//   x.split(",").map(function (x) {
//     singlpos.push(parseFloat(x));
//   });
//   console.log(singlpos);
//   return parseFloat(singlpos);
// });
// console.log(positions.length, positions);


var plasmaColors = (0, _colormap.default)({
  colormap: "plasma",
  nshades: 60,
  format: "rba",
  alpha: 1
});

function normalize(val, min, max) {
  //   console.log((val - min) / (max - min));
  return (val - min) / (max - min);
}

var baseCube = new _three.BoxBufferGeometry(1, 1, 1);

var Spheres = /*#__PURE__*/function (_Mesh) {
  _inherits(Spheres, _Mesh);

  var _super = _createSuper(Spheres);

  function Spheres(config, posOffset) {
    var _this;

    _classCallCheck(this, Spheres);

    _this = _super.call(this);
    _this.config = config;
    _this.posOffset = posOffset;
    _this.uniforms = {
      uScale: new _three.Uniform(config.scale)
    };
    var material = new _three.ShaderMaterial({
      fragmentShader: fragmentShader,
      vertexShader: vertexShader,
      uniforms: _this.uniforms
    });
    _this.material = material;
    return _this;
  }

  _createClass(Spheres, [{
    key: "init",
    value: function init(options) {
      var instancedGeometry = new _three.InstancedBufferGeometry().copy(baseCube);
      this.uniforms.uScale.value = this.config.scale;
      var aCurve = [];
      var aColor = []; // TODO NEXT only push what's necessary to aCurve
      // TODO NEXT based on r from dat.gui only add ones that are within bound

      for (var i = 0; i < positions.length; i++) {
        var radius = positions[i][0]; //random.float(30, 40);

        var progress = positions[i][1]; //random.float();

        var offset = positions[i][2]; // random.float(-5, 5);

        var radialDist = radialDistance(radius, progress, offset); //   console.log(radialDist);

        if (radialDist < options.radialDistance) {
          // console.log(radialDist, radius, progress, offset);
          aCurve.push(radius);
          aCurve.push(progress);
          aCurve.push(offset); // aCurve.push(0); // todo: try to fix this??

          var colorInd;

          switch (options.colorMaps) {
            case "integrated dust":
              colorInd = Math.floor(normalize(pred_A[i], minA, maxA) * plasmaColors.length);
              break;

            case "non integrated dust":
              colorInd = Math.floor(normalize(logdust[i], mindust, maxdust) * plasmaColors.length);
              break;

            case "sigma":
              colorInd = Math.floor(normalize(pred_A[i], minA, maxA) * plasmaColors.length);
              break;
          } // var colorInd = Math.floor(
          //   normalize(pred_A[i], mindust, maxdust) * plasmaColors.length
          // );


          if (colorInd >= plasmaColors.length) {
            colorInd = plasmaColors.length - 1;
          }

          var vx = void 0,
              vy = void 0,
              vz = void 0;

          if (plasmaColors[colorInd] !== undefined) {
            vx = normalize(plasmaColors[colorInd][0], 0, 255);
            vy = normalize(plasmaColors[colorInd][1], 0, 255);
            vz = normalize(plasmaColors[colorInd][2], 0, 255);
          } //   let color = this.colors[Math.floor(Math.random() * this.colors.length)];


          aColor.push(vx, vy, vz);
        }
      }

      instancedGeometry.addAttribute("aCurve", new _three.InstancedBufferAttribute(new Float32Array(aCurve), 3, false));
      instancedGeometry.addAttribute("aColor", new _three.InstancedBufferAttribute(new Float32Array(aColor), 3, false));
      instancedGeometry.maxInstancedCount = aCurve.length;
      this.geometry = instancedGeometry;
    }
  }, {
    key: "clean",
    value: function clean() {
      this.geometry.dispose();
    }
  }, {
    key: "dispose",
    value: function dispose() {
      this.geometry.dispose();
      baseGeometry.dispose();
      this.material.dispose();
    }
  }]);

  return Spheres;
}(_three.Mesh);

exports.Spheres = Spheres;
},{"three":"node_modules/three/build/three.module.js","colormap":"node_modules/colormap/index.js","fs":"node_modules/parcel-bundler/src/builtins/_empty.js"}],"node_modules/stats.js/build/stats.min.js":[function(require,module,exports) {
var define;
// stats.js - http://github.com/mrdoob/stats.js
(function(f,e){"object"===typeof exports&&"undefined"!==typeof module?module.exports=e():"function"===typeof define&&define.amd?define(e):f.Stats=e()})(this,function(){var f=function(){function e(a){c.appendChild(a.dom);return a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?"block":"none";l=a}var l=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";c.addEventListener("click",function(a){a.preventDefault();
u(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel("FPS","#0ff","#002")),h=e(new f.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var t=e(new f.Panel("MB","#f08","#201"));u(0);return{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();h.update(c-k,200);if(c>g+1E3&&(r.update(1E3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/
1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};f.Panel=function(e,f,l){var c=Infinity,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement("canvas");q.width=r;q.height=h;q.style.cssText="width:80px;height:48px";var b=q.getContext("2d");b.font="bold "+9*a+"px Helvetica,Arial,sans-serif";b.textBaseline="top";b.fillStyle=l;b.fillRect(0,0,r,h);b.fillStyle=f;b.fillText(e,t,v);
b.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(h,w){c=Math.min(c,h);k=Math.max(k,h);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=f;b.fillText(g(h)+" "+e+" ("+g(c)+"-"+g(k)+")",t,v);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}};return f});

},{}],"node_modules/dat.gui/build/dat.gui.module.js":[function(require,module,exports) {
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.gui = exports.dom = exports.default = exports.controllers = exports.color = exports.GUI = void 0;

/**
 * dat-gui JavaScript Controller Library
 * https://github.com/dataarts/dat.gui
 *
 * Copyright 2011 Data Arts Team, Google Creative Lab
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 */
function ___$insertStyle(css) {
  if (!css) {
    return;
  }

  if (typeof window === 'undefined') {
    return;
  }

  var style = document.createElement('style');
  style.setAttribute('type', 'text/css');
  style.innerHTML = css;
  document.head.appendChild(style);
  return css;
}

function colorToString(color, forceCSSHex) {
  var colorFormat = color.__state.conversionName.toString();

  var r = Math.round(color.r);
  var g = Math.round(color.g);
  var b = Math.round(color.b);
  var a = color.a;
  var h = Math.round(color.h);
  var s = color.s.toFixed(1);
  var v = color.v.toFixed(1);

  if (forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX') {
    var str = color.hex.toString(16);

    while (str.length < 6) {
      str = '0' + str;
    }

    return '#' + str;
  } else if (colorFormat === 'CSS_RGB') {
    return 'rgb(' + r + ',' + g + ',' + b + ')';
  } else if (colorFormat === 'CSS_RGBA') {
    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';
  } else if (colorFormat === 'HEX') {
    return '0x' + color.hex.toString(16);
  } else if (colorFormat === 'RGB_ARRAY') {
    return '[' + r + ',' + g + ',' + b + ']';
  } else if (colorFormat === 'RGBA_ARRAY') {
    return '[' + r + ',' + g + ',' + b + ',' + a + ']';
  } else if (colorFormat === 'RGB_OBJ') {
    return '{r:' + r + ',g:' + g + ',b:' + b + '}';
  } else if (colorFormat === 'RGBA_OBJ') {
    return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';
  } else if (colorFormat === 'HSV_OBJ') {
    return '{h:' + h + ',s:' + s + ',v:' + v + '}';
  } else if (colorFormat === 'HSVA_OBJ') {
    return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';
  }

  return 'unknown format';
}

var ARR_EACH = Array.prototype.forEach;
var ARR_SLICE = Array.prototype.slice;
var Common = {
  BREAK: {},
  extend: function extend(target) {
    this.each(ARR_SLICE.call(arguments, 1), function (obj) {
      var keys = this.isObject(obj) ? Object.keys(obj) : [];
      keys.forEach(function (key) {
        if (!this.isUndefined(obj[key])) {
          target[key] = obj[key];
        }
      }.bind(this));
    }, this);
    return target;
  },
  defaults: function defaults(target) {
    this.each(ARR_SLICE.call(arguments, 1), function (obj) {
      var keys = this.isObject(obj) ? Object.keys(obj) : [];
      keys.forEach(function (key) {
        if (this.isUndefined(target[key])) {
          target[key] = obj[key];
        }
      }.bind(this));
    }, this);
    return target;
  },
  compose: function compose() {
    var toCall = ARR_SLICE.call(arguments);
    return function () {
      var args = ARR_SLICE.call(arguments);

      for (var i = toCall.length - 1; i >= 0; i--) {
        args = [toCall[i].apply(this, args)];
      }

      return args[0];
    };
  },
  each: function each(obj, itr, scope) {
    if (!obj) {
      return;
    }

    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {
      obj.forEach(itr, scope);
    } else if (obj.length === obj.length + 0) {
      var key = void 0;
      var l = void 0;

      for (key = 0, l = obj.length; key < l; key++) {
        if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {
          return;
        }
      }
    } else {
      for (var _key in obj) {
        if (itr.call(scope, obj[_key], _key) === this.BREAK) {
          return;
        }
      }
    }
  },
  defer: function defer(fnc) {
    setTimeout(fnc, 0);
  },
  debounce: function debounce(func, threshold, callImmediately) {
    var timeout = void 0;
    return function () {
      var obj = this;
      var args = arguments;

      function delayed() {
        timeout = null;
        if (!callImmediately) func.apply(obj, args);
      }

      var callNow = callImmediately || !timeout;
      clearTimeout(timeout);
      timeout = setTimeout(delayed, threshold);

      if (callNow) {
        func.apply(obj, args);
      }
    };
  },
  toArray: function toArray(obj) {
    if (obj.toArray) return obj.toArray();
    return ARR_SLICE.call(obj);
  },
  isUndefined: function isUndefined(obj) {
    return obj === undefined;
  },
  isNull: function isNull(obj) {
    return obj === null;
  },
  isNaN: function (_isNaN) {
    function isNaN(_x) {
      return _isNaN.apply(this, arguments);
    }

    isNaN.toString = function () {
      return _isNaN.toString();
    };

    return isNaN;
  }(function (obj) {
    return isNaN(obj);
  }),
  isArray: Array.isArray || function (obj) {
    return obj.constructor === Array;
  },
  isObject: function isObject(obj) {
    return obj === Object(obj);
  },
  isNumber: function isNumber(obj) {
    return obj === obj + 0;
  },
  isString: function isString(obj) {
    return obj === obj + '';
  },
  isBoolean: function isBoolean(obj) {
    return obj === false || obj === true;
  },
  isFunction: function isFunction(obj) {
    return obj instanceof Function;
  }
};
var INTERPRETATIONS = [{
  litmus: Common.isString,
  conversions: {
    THREE_CHAR_HEX: {
      read: function read(original) {
        var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);

        if (test === null) {
          return false;
        }

        return {
          space: 'HEX',
          hex: parseInt('0x' + test[1].toString() + test[1].toString() + test[2].toString() + test[2].toString() + test[3].toString() + test[3].toString(), 0)
        };
      },
      write: colorToString
    },
    SIX_CHAR_HEX: {
      read: function read(original) {
        var test = original.match(/^#([A-F0-9]{6})$/i);

        if (test === null) {
          return false;
        }

        return {
          space: 'HEX',
          hex: parseInt('0x' + test[1].toString(), 0)
        };
      },
      write: colorToString
    },
    CSS_RGB: {
      read: function read(original) {
        var test = original.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);

        if (test === null) {
          return false;
        }

        return {
          space: 'RGB',
          r: parseFloat(test[1]),
          g: parseFloat(test[2]),
          b: parseFloat(test[3])
        };
      },
      write: colorToString
    },
    CSS_RGBA: {
      read: function read(original) {
        var test = original.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);

        if (test === null) {
          return false;
        }

        return {
          space: 'RGB',
          r: parseFloat(test[1]),
          g: parseFloat(test[2]),
          b: parseFloat(test[3]),
          a: parseFloat(test[4])
        };
      },
      write: colorToString
    }
  }
}, {
  litmus: Common.isNumber,
  conversions: {
    HEX: {
      read: function read(original) {
        return {
          space: 'HEX',
          hex: original,
          conversionName: 'HEX'
        };
      },
      write: function write(color) {
        return color.hex;
      }
    }
  }
}, {
  litmus: Common.isArray,
  conversions: {
    RGB_ARRAY: {
      read: function read(original) {
        if (original.length !== 3) {
          return false;
        }

        return {
          space: 'RGB',
          r: original[0],
          g: original[1],
          b: original[2]
        };
      },
      write: function write(color) {
        return [color.r, color.g, color.b];
      }
    },
    RGBA_ARRAY: {
      read: function read(original) {
        if (original.length !== 4) return false;
        return {
          space: 'RGB',
          r: original[0],
          g: original[1],
          b: original[2],
          a: original[3]
        };
      },
      write: function write(color) {
        return [color.r, color.g, color.b, color.a];
      }
    }
  }
}, {
  litmus: Common.isObject,
  conversions: {
    RGBA_OBJ: {
      read: function read(original) {
        if (Common.isNumber(original.r) && Common.isNumber(original.g) && Common.isNumber(original.b) && Common.isNumber(original.a)) {
          return {
            space: 'RGB',
            r: original.r,
            g: original.g,
            b: original.b,
            a: original.a
          };
        }

        return false;
      },
      write: function write(color) {
        return {
          r: color.r,
          g: color.g,
          b: color.b,
          a: color.a
        };
      }
    },
    RGB_OBJ: {
      read: function read(original) {
        if (Common.isNumber(original.r) && Common.isNumber(original.g) && Common.isNumber(original.b)) {
          return {
            space: 'RGB',
            r: original.r,
            g: original.g,
            b: original.b
          };
        }

        return false;
      },
      write: function write(color) {
        return {
          r: color.r,
          g: color.g,
          b: color.b
        };
      }
    },
    HSVA_OBJ: {
      read: function read(original) {
        if (Common.isNumber(original.h) && Common.isNumber(original.s) && Common.isNumber(original.v) && Common.isNumber(original.a)) {
          return {
            space: 'HSV',
            h: original.h,
            s: original.s,
            v: original.v,
            a: original.a
          };
        }

        return false;
      },
      write: function write(color) {
        return {
          h: color.h,
          s: color.s,
          v: color.v,
          a: color.a
        };
      }
    },
    HSV_OBJ: {
      read: function read(original) {
        if (Common.isNumber(original.h) && Common.isNumber(original.s) && Common.isNumber(original.v)) {
          return {
            space: 'HSV',
            h: original.h,
            s: original.s,
            v: original.v
          };
        }

        return false;
      },
      write: function write(color) {
        return {
          h: color.h,
          s: color.s,
          v: color.v
        };
      }
    }
  }
}];
var result = void 0;
var toReturn = void 0;

var interpret = function interpret() {
  toReturn = false;
  var original = arguments.length > 1 ? Common.toArray(arguments) : arguments[0];
  Common.each(INTERPRETATIONS, function (family) {
    if (family.litmus(original)) {
      Common.each(family.conversions, function (conversion, conversionName) {
        result = conversion.read(original);

        if (toReturn === false && result !== false) {
          toReturn = result;
          result.conversionName = conversionName;
          result.conversion = conversion;
          return Common.BREAK;
        }
      });
      return Common.BREAK;
    }
  });
  return toReturn;
};

var tmpComponent = void 0;
var ColorMath = {
  hsv_to_rgb: function hsv_to_rgb(h, s, v) {
    var hi = Math.floor(h / 60) % 6;
    var f = h / 60 - Math.floor(h / 60);
    var p = v * (1.0 - s);
    var q = v * (1.0 - f * s);
    var t = v * (1.0 - (1.0 - f) * s);
    var c = [[v, t, p], [q, v, p], [p, v, t], [p, q, v], [t, p, v], [v, p, q]][hi];
    return {
      r: c[0] * 255,
      g: c[1] * 255,
      b: c[2] * 255
    };
  },
  rgb_to_hsv: function rgb_to_hsv(r, g, b) {
    var min = Math.min(r, g, b);
    var max = Math.max(r, g, b);
    var delta = max - min;
    var h = void 0;
    var s = void 0;

    if (max !== 0) {
      s = delta / max;
    } else {
      return {
        h: NaN,
        s: 0,
        v: 0
      };
    }

    if (r === max) {
      h = (g - b) / delta;
    } else if (g === max) {
      h = 2 + (b - r) / delta;
    } else {
      h = 4 + (r - g) / delta;
    }

    h /= 6;

    if (h < 0) {
      h += 1;
    }

    return {
      h: h * 360,
      s: s,
      v: max / 255
    };
  },
  rgb_to_hex: function rgb_to_hex(r, g, b) {
    var hex = this.hex_with_component(0, 2, r);
    hex = this.hex_with_component(hex, 1, g);
    hex = this.hex_with_component(hex, 0, b);
    return hex;
  },
  component_from_hex: function component_from_hex(hex, componentIndex) {
    return hex >> componentIndex * 8 & 0xFF;
  },
  hex_with_component: function hex_with_component(hex, componentIndex, value) {
    return value << (tmpComponent = componentIndex * 8) | hex & ~(0xFF << tmpComponent);
  }
};

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

var get = function get(object, property, receiver) {
  if (object === null) object = Function.prototype;
  var desc = Object.getOwnPropertyDescriptor(object, property);

  if (desc === undefined) {
    var parent = Object.getPrototypeOf(object);

    if (parent === null) {
      return undefined;
    } else {
      return get(parent, property, receiver);
    }
  } else if ("value" in desc) {
    return desc.value;
  } else {
    var getter = desc.get;

    if (getter === undefined) {
      return undefined;
    }

    return getter.call(receiver);
  }
};

var inherits = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};

var possibleConstructorReturn = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && (typeof call === "object" || typeof call === "function") ? call : self;
};

var Color = function () {
  function Color() {
    classCallCheck(this, Color);
    this.__state = interpret.apply(this, arguments);

    if (this.__state === false) {
      throw new Error('Failed to interpret color arguments');
    }

    this.__state.a = this.__state.a || 1;
  }

  createClass(Color, [{
    key: 'toString',
    value: function toString() {
      return colorToString(this);
    }
  }, {
    key: 'toHexString',
    value: function toHexString() {
      return colorToString(this, true);
    }
  }, {
    key: 'toOriginal',
    value: function toOriginal() {
      return this.__state.conversion.write(this);
    }
  }]);
  return Color;
}();

function defineRGBComponent(target, component, componentHexIndex) {
  Object.defineProperty(target, component, {
    get: function get$$1() {
      if (this.__state.space === 'RGB') {
        return this.__state[component];
      }

      Color.recalculateRGB(this, component, componentHexIndex);
      return this.__state[component];
    },
    set: function set$$1(v) {
      if (this.__state.space !== 'RGB') {
        Color.recalculateRGB(this, component, componentHexIndex);
        this.__state.space = 'RGB';
      }

      this.__state[component] = v;
    }
  });
}

function defineHSVComponent(target, component) {
  Object.defineProperty(target, component, {
    get: function get$$1() {
      if (this.__state.space === 'HSV') {
        return this.__state[component];
      }

      Color.recalculateHSV(this);
      return this.__state[component];
    },
    set: function set$$1(v) {
      if (this.__state.space !== 'HSV') {
        Color.recalculateHSV(this);
        this.__state.space = 'HSV';
      }

      this.__state[component] = v;
    }
  });
}

Color.recalculateRGB = function (color, component, componentHexIndex) {
  if (color.__state.space === 'HEX') {
    color.__state[component] = ColorMath.component_from_hex(color.__state.hex, componentHexIndex);
  } else if (color.__state.space === 'HSV') {
    Common.extend(color.__state, ColorMath.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));
  } else {
    throw new Error('Corrupted color state');
  }
};

Color.recalculateHSV = function (color) {
  var result = ColorMath.rgb_to_hsv(color.r, color.g, color.b);
  Common.extend(color.__state, {
    s: result.s,
    v: result.v
  });

  if (!Common.isNaN(result.h)) {
    color.__state.h = result.h;
  } else if (Common.isUndefined(color.__state.h)) {
    color.__state.h = 0;
  }
};

Color.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];
defineRGBComponent(Color.prototype, 'r', 2);
defineRGBComponent(Color.prototype, 'g', 1);
defineRGBComponent(Color.prototype, 'b', 0);
defineHSVComponent(Color.prototype, 'h');
defineHSVComponent(Color.prototype, 's');
defineHSVComponent(Color.prototype, 'v');
Object.defineProperty(Color.prototype, 'a', {
  get: function get$$1() {
    return this.__state.a;
  },
  set: function set$$1(v) {
    this.__state.a = v;
  }
});
Object.defineProperty(Color.prototype, 'hex', {
  get: function get$$1() {
    if (this.__state.space !== 'HEX') {
      this.__state.hex = ColorMath.rgb_to_hex(this.r, this.g, this.b);
      this.__state.space = 'HEX';
    }

    return this.__state.hex;
  },
  set: function set$$1(v) {
    this.__state.space = 'HEX';
    this.__state.hex = v;
  }
});

var Controller = function () {
  function Controller(object, property) {
    classCallCheck(this, Controller);
    this.initialValue = object[property];
    this.domElement = document.createElement('div');
    this.object = object;
    this.property = property;
    this.__onChange = undefined;
    this.__onFinishChange = undefined;
  }

  createClass(Controller, [{
    key: 'onChange',
    value: function onChange(fnc) {
      this.__onChange = fnc;
      return this;
    }
  }, {
    key: 'onFinishChange',
    value: function onFinishChange(fnc) {
      this.__onFinishChange = fnc;
      return this;
    }
  }, {
    key: 'setValue',
    value: function setValue(newValue) {
      this.object[this.property] = newValue;

      if (this.__onChange) {
        this.__onChange.call(this, newValue);
      }

      this.updateDisplay();
      return this;
    }
  }, {
    key: 'getValue',
    value: function getValue() {
      return this.object[this.property];
    }
  }, {
    key: 'updateDisplay',
    value: function updateDisplay() {
      return this;
    }
  }, {
    key: 'isModified',
    value: function isModified() {
      return this.initialValue !== this.getValue();
    }
  }]);
  return Controller;
}();

var EVENT_MAP = {
  HTMLEvents: ['change'],
  MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],
  KeyboardEvents: ['keydown']
};
var EVENT_MAP_INV = {};
Common.each(EVENT_MAP, function (v, k) {
  Common.each(v, function (e) {
    EVENT_MAP_INV[e] = k;
  });
});
var CSS_VALUE_PIXELS = /(\d+(\.\d+)?)px/;

function cssValueToPixels(val) {
  if (val === '0' || Common.isUndefined(val)) {
    return 0;
  }

  var match = val.match(CSS_VALUE_PIXELS);

  if (!Common.isNull(match)) {
    return parseFloat(match[1]);
  }

  return 0;
}

var dom = {
  makeSelectable: function makeSelectable(elem, selectable) {
    if (elem === undefined || elem.style === undefined) return;
    elem.onselectstart = selectable ? function () {
      return false;
    } : function () {};
    elem.style.MozUserSelect = selectable ? 'auto' : 'none';
    elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';
    elem.unselectable = selectable ? 'on' : 'off';
  },
  makeFullscreen: function makeFullscreen(elem, hor, vert) {
    var vertical = vert;
    var horizontal = hor;

    if (Common.isUndefined(horizontal)) {
      horizontal = true;
    }

    if (Common.isUndefined(vertical)) {
      vertical = true;
    }

    elem.style.position = 'absolute';

    if (horizontal) {
      elem.style.left = 0;
      elem.style.right = 0;
    }

    if (vertical) {
      elem.style.top = 0;
      elem.style.bottom = 0;
    }
  },
  fakeEvent: function fakeEvent(elem, eventType, pars, aux) {
    var params = pars || {};
    var className = EVENT_MAP_INV[eventType];

    if (!className) {
      throw new Error('Event type ' + eventType + ' not supported.');
    }

    var evt = document.createEvent(className);

    switch (className) {
      case 'MouseEvents':
        {
          var clientX = params.x || params.clientX || 0;
          var clientY = params.y || params.clientY || 0;
          evt.initMouseEvent(eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0, 0, clientX, clientY, false, false, false, false, 0, null);
          break;
        }

      case 'KeyboardEvents':
        {
          var init = evt.initKeyboardEvent || evt.initKeyEvent;
          Common.defaults(params, {
            cancelable: true,
            ctrlKey: false,
            altKey: false,
            shiftKey: false,
            metaKey: false,
            keyCode: undefined,
            charCode: undefined
          });
          init(eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode);
          break;
        }

      default:
        {
          evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);
          break;
        }
    }

    Common.defaults(evt, aux);
    elem.dispatchEvent(evt);
  },
  bind: function bind(elem, event, func, newBool) {
    var bool = newBool || false;

    if (elem.addEventListener) {
      elem.addEventListener(event, func, bool);
    } else if (elem.attachEvent) {
      elem.attachEvent('on' + event, func);
    }

    return dom;
  },
  unbind: function unbind(elem, event, func, newBool) {
    var bool = newBool || false;

    if (elem.removeEventListener) {
      elem.removeEventListener(event, func, bool);
    } else if (elem.detachEvent) {
      elem.detachEvent('on' + event, func);
    }

    return dom;
  },
  addClass: function addClass(elem, className) {
    if (elem.className === undefined) {
      elem.className = className;
    } else if (elem.className !== className) {
      var classes = elem.className.split(/ +/);

      if (classes.indexOf(className) === -1) {
        classes.push(className);
        elem.className = classes.join(' ').replace(/^\s+/, '').replace(/\s+$/, '');
      }
    }

    return dom;
  },
  removeClass: function removeClass(elem, className) {
    if (className) {
      if (elem.className === className) {
        elem.removeAttribute('class');
      } else {
        var classes = elem.className.split(/ +/);
        var index = classes.indexOf(className);

        if (index !== -1) {
          classes.splice(index, 1);
          elem.className = classes.join(' ');
        }
      }
    } else {
      elem.className = undefined;
    }

    return dom;
  },
  hasClass: function hasClass(elem, className) {
    return new RegExp('(?:^|\\s+)' + className + '(?:\\s+|$)').test(elem.className) || false;
  },
  getWidth: function getWidth(elem) {
    var style = getComputedStyle(elem);
    return cssValueToPixels(style['border-left-width']) + cssValueToPixels(style['border-right-width']) + cssValueToPixels(style['padding-left']) + cssValueToPixels(style['padding-right']) + cssValueToPixels(style.width);
  },
  getHeight: function getHeight(elem) {
    var style = getComputedStyle(elem);
    return cssValueToPixels(style['border-top-width']) + cssValueToPixels(style['border-bottom-width']) + cssValueToPixels(style['padding-top']) + cssValueToPixels(style['padding-bottom']) + cssValueToPixels(style.height);
  },
  getOffset: function getOffset(el) {
    var elem = el;
    var offset = {
      left: 0,
      top: 0
    };

    if (elem.offsetParent) {
      do {
        offset.left += elem.offsetLeft;
        offset.top += elem.offsetTop;
        elem = elem.offsetParent;
      } while (elem);
    }

    return offset;
  },
  isActive: function isActive(elem) {
    return elem === document.activeElement && (elem.type || elem.href);
  }
};

var BooleanController = function (_Controller) {
  inherits(BooleanController, _Controller);

  function BooleanController(object, property) {
    classCallCheck(this, BooleanController);

    var _this2 = possibleConstructorReturn(this, (BooleanController.__proto__ || Object.getPrototypeOf(BooleanController)).call(this, object, property));

    var _this = _this2;
    _this2.__prev = _this2.getValue();
    _this2.__checkbox = document.createElement('input');

    _this2.__checkbox.setAttribute('type', 'checkbox');

    function onChange() {
      _this.setValue(!_this.__prev);
    }

    dom.bind(_this2.__checkbox, 'change', onChange, false);

    _this2.domElement.appendChild(_this2.__checkbox);

    _this2.updateDisplay();

    return _this2;
  }

  createClass(BooleanController, [{
    key: 'setValue',
    value: function setValue(v) {
      var toReturn = get(BooleanController.prototype.__proto__ || Object.getPrototypeOf(BooleanController.prototype), 'setValue', this).call(this, v);

      if (this.__onFinishChange) {
        this.__onFinishChange.call(this, this.getValue());
      }

      this.__prev = this.getValue();
      return toReturn;
    }
  }, {
    key: 'updateDisplay',
    value: function updateDisplay() {
      if (this.getValue() === true) {
        this.__checkbox.setAttribute('checked', 'checked');

        this.__checkbox.checked = true;
        this.__prev = true;
      } else {
        this.__checkbox.checked = false;
        this.__prev = false;
      }

      return get(BooleanController.prototype.__proto__ || Object.getPrototypeOf(BooleanController.prototype), 'updateDisplay', this).call(this);
    }
  }]);
  return BooleanController;
}(Controller);

var OptionController = function (_Controller) {
  inherits(OptionController, _Controller);

  function OptionController(object, property, opts) {
    classCallCheck(this, OptionController);

    var _this2 = possibleConstructorReturn(this, (OptionController.__proto__ || Object.getPrototypeOf(OptionController)).call(this, object, property));

    var options = opts;
    var _this = _this2;
    _this2.__select = document.createElement('select');

    if (Common.isArray(options)) {
      var map = {};
      Common.each(options, function (element) {
        map[element] = element;
      });
      options = map;
    }

    Common.each(options, function (value, key) {
      var opt = document.createElement('option');
      opt.innerHTML = key;
      opt.setAttribute('value', value);

      _this.__select.appendChild(opt);
    });

    _this2.updateDisplay();

    dom.bind(_this2.__select, 'change', function () {
      var desiredValue = this.options[this.selectedIndex].value;

      _this.setValue(desiredValue);
    });

    _this2.domElement.appendChild(_this2.__select);

    return _this2;
  }

  createClass(OptionController, [{
    key: 'setValue',
    value: function setValue(v) {
      var toReturn = get(OptionController.prototype.__proto__ || Object.getPrototypeOf(OptionController.prototype), 'setValue', this).call(this, v);

      if (this.__onFinishChange) {
        this.__onFinishChange.call(this, this.getValue());
      }

      return toReturn;
    }
  }, {
    key: 'updateDisplay',
    value: function updateDisplay() {
      if (dom.isActive(this.__select)) return this;
      this.__select.value = this.getValue();
      return get(OptionController.prototype.__proto__ || Object.getPrototypeOf(OptionController.prototype), 'updateDisplay', this).call(this);
    }
  }]);
  return OptionController;
}(Controller);

var StringController = function (_Controller) {
  inherits(StringController, _Controller);

  function StringController(object, property) {
    classCallCheck(this, StringController);

    var _this2 = possibleConstructorReturn(this, (StringController.__proto__ || Object.getPrototypeOf(StringController)).call(this, object, property));

    var _this = _this2;

    function onChange() {
      _this.setValue(_this.__input.value);
    }

    function onBlur() {
      if (_this.__onFinishChange) {
        _this.__onFinishChange.call(_this, _this.getValue());
      }
    }

    _this2.__input = document.createElement('input');

    _this2.__input.setAttribute('type', 'text');

    dom.bind(_this2.__input, 'keyup', onChange);
    dom.bind(_this2.__input, 'change', onChange);
    dom.bind(_this2.__input, 'blur', onBlur);
    dom.bind(_this2.__input, 'keydown', function (e) {
      if (e.keyCode === 13) {
        this.blur();
      }
    });

    _this2.updateDisplay();

    _this2.domElement.appendChild(_this2.__input);

    return _this2;
  }

  createClass(StringController, [{
    key: 'updateDisplay',
    value: function updateDisplay() {
      if (!dom.isActive(this.__input)) {
        this.__input.value = this.getValue();
      }

      return get(StringController.prototype.__proto__ || Object.getPrototypeOf(StringController.prototype), 'updateDisplay', this).call(this);
    }
  }]);
  return StringController;
}(Controller);

function numDecimals(x) {
  var _x = x.toString();

  if (_x.indexOf('.') > -1) {
    return _x.length - _x.indexOf('.') - 1;
  }

  return 0;
}

var NumberController = function (_Controller) {
  inherits(NumberController, _Controller);

  function NumberController(object, property, params) {
    classCallCheck(this, NumberController);

    var _this = possibleConstructorReturn(this, (NumberController.__proto__ || Object.getPrototypeOf(NumberController)).call(this, object, property));

    var _params = params || {};

    _this.__min = _params.min;
    _this.__max = _params.max;
    _this.__step = _params.step;

    if (Common.isUndefined(_this.__step)) {
      if (_this.initialValue === 0) {
        _this.__impliedStep = 1;
      } else {
        _this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(_this.initialValue)) / Math.LN10)) / 10;
      }
    } else {
      _this.__impliedStep = _this.__step;
    }

    _this.__precision = numDecimals(_this.__impliedStep);
    return _this;
  }

  createClass(NumberController, [{
    key: 'setValue',
    value: function setValue(v) {
      var _v = v;

      if (this.__min !== undefined && _v < this.__min) {
        _v = this.__min;
      } else if (this.__max !== undefined && _v > this.__max) {
        _v = this.__max;
      }

      if (this.__step !== undefined && _v % this.__step !== 0) {
        _v = Math.round(_v / this.__step) * this.__step;
      }

      return get(NumberController.prototype.__proto__ || Object.getPrototypeOf(NumberController.prototype), 'setValue', this).call(this, _v);
    }
  }, {
    key: 'min',
    value: function min(minValue) {
      this.__min = minValue;
      return this;
    }
  }, {
    key: 'max',
    value: function max(maxValue) {
      this.__max = maxValue;
      return this;
    }
  }, {
    key: 'step',
    value: function step(stepValue) {
      this.__step = stepValue;
      this.__impliedStep = stepValue;
      this.__precision = numDecimals(stepValue);
      return this;
    }
  }]);
  return NumberController;
}(Controller);

function roundToDecimal(value, decimals) {
  var tenTo = Math.pow(10, decimals);
  return Math.round(value * tenTo) / tenTo;
}

var NumberControllerBox = function (_NumberController) {
  inherits(NumberControllerBox, _NumberController);

  function NumberControllerBox(object, property, params) {
    classCallCheck(this, NumberControllerBox);

    var _this2 = possibleConstructorReturn(this, (NumberControllerBox.__proto__ || Object.getPrototypeOf(NumberControllerBox)).call(this, object, property, params));

    _this2.__truncationSuspended = false;
    var _this = _this2;
    var prevY = void 0;

    function onChange() {
      var attempted = parseFloat(_this.__input.value);

      if (!Common.isNaN(attempted)) {
        _this.setValue(attempted);
      }
    }

    function onFinish() {
      if (_this.__onFinishChange) {
        _this.__onFinishChange.call(_this, _this.getValue());
      }
    }

    function onBlur() {
      onFinish();
    }

    function onMouseDrag(e) {
      var diff = prevY - e.clientY;

      _this.setValue(_this.getValue() + diff * _this.__impliedStep);

      prevY = e.clientY;
    }

    function onMouseUp() {
      dom.unbind(window, 'mousemove', onMouseDrag);
      dom.unbind(window, 'mouseup', onMouseUp);
      onFinish();
    }

    function onMouseDown(e) {
      dom.bind(window, 'mousemove', onMouseDrag);
      dom.bind(window, 'mouseup', onMouseUp);
      prevY = e.clientY;
    }

    _this2.__input = document.createElement('input');

    _this2.__input.setAttribute('type', 'text');

    dom.bind(_this2.__input, 'change', onChange);
    dom.bind(_this2.__input, 'blur', onBlur);
    dom.bind(_this2.__input, 'mousedown', onMouseDown);
    dom.bind(_this2.__input, 'keydown', function (e) {
      if (e.keyCode === 13) {
        _this.__truncationSuspended = true;
        this.blur();
        _this.__truncationSuspended = false;
        onFinish();
      }
    });

    _this2.updateDisplay();

    _this2.domElement.appendChild(_this2.__input);

    return _this2;
  }

  createClass(NumberControllerBox, [{
    key: 'updateDisplay',
    value: function updateDisplay() {
      this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);
      return get(NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf(NumberControllerBox.prototype), 'updateDisplay', this).call(this);
    }
  }]);
  return NumberControllerBox;
}(NumberController);

function map(v, i1, i2, o1, o2) {
  return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));
}

var NumberControllerSlider = function (_NumberController) {
  inherits(NumberControllerSlider, _NumberController);

  function NumberControllerSlider(object, property, min, max, step) {
    classCallCheck(this, NumberControllerSlider);

    var _this2 = possibleConstructorReturn(this, (NumberControllerSlider.__proto__ || Object.getPrototypeOf(NumberControllerSlider)).call(this, object, property, {
      min: min,
      max: max,
      step: step
    }));

    var _this = _this2;
    _this2.__background = document.createElement('div');
    _this2.__foreground = document.createElement('div');
    dom.bind(_this2.__background, 'mousedown', onMouseDown);
    dom.bind(_this2.__background, 'touchstart', onTouchStart);
    dom.addClass(_this2.__background, 'slider');
    dom.addClass(_this2.__foreground, 'slider-fg');

    function onMouseDown(e) {
      document.activeElement.blur();
      dom.bind(window, 'mousemove', onMouseDrag);
      dom.bind(window, 'mouseup', onMouseUp);
      onMouseDrag(e);
    }

    function onMouseDrag(e) {
      e.preventDefault();

      var bgRect = _this.__background.getBoundingClientRect();

      _this.setValue(map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));

      return false;
    }

    function onMouseUp() {
      dom.unbind(window, 'mousemove', onMouseDrag);
      dom.unbind(window, 'mouseup', onMouseUp);

      if (_this.__onFinishChange) {
        _this.__onFinishChange.call(_this, _this.getValue());
      }
    }

    function onTouchStart(e) {
      if (e.touches.length !== 1) {
        return;
      }

      dom.bind(window, 'touchmove', onTouchMove);
      dom.bind(window, 'touchend', onTouchEnd);
      onTouchMove(e);
    }

    function onTouchMove(e) {
      var clientX = e.touches[0].clientX;

      var bgRect = _this.__background.getBoundingClientRect();

      _this.setValue(map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));
    }

    function onTouchEnd() {
      dom.unbind(window, 'touchmove', onTouchMove);
      dom.unbind(window, 'touchend', onTouchEnd);

      if (_this.__onFinishChange) {
        _this.__onFinishChange.call(_this, _this.getValue());
      }
    }

    _this2.updateDisplay();

    _this2.__background.appendChild(_this2.__foreground);

    _this2.domElement.appendChild(_this2.__background);

    return _this2;
  }

  createClass(NumberControllerSlider, [{
    key: 'updateDisplay',
    value: function updateDisplay() {
      var pct = (this.getValue() - this.__min) / (this.__max - this.__min);

      this.__foreground.style.width = pct * 100 + '%';
      return get(NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf(NumberControllerSlider.prototype), 'updateDisplay', this).call(this);
    }
  }]);
  return NumberControllerSlider;
}(NumberController);

var FunctionController = function (_Controller) {
  inherits(FunctionController, _Controller);

  function FunctionController(object, property, text) {
    classCallCheck(this, FunctionController);

    var _this2 = possibleConstructorReturn(this, (FunctionController.__proto__ || Object.getPrototypeOf(FunctionController)).call(this, object, property));

    var _this = _this2;
    _this2.__button = document.createElement('div');
    _this2.__button.innerHTML = text === undefined ? 'Fire' : text;
    dom.bind(_this2.__button, 'click', function (e) {
      e.preventDefault();

      _this.fire();

      return false;
    });
    dom.addClass(_this2.__button, 'button');

    _this2.domElement.appendChild(_this2.__button);

    return _this2;
  }

  createClass(FunctionController, [{
    key: 'fire',
    value: function fire() {
      if (this.__onChange) {
        this.__onChange.call(this);
      }

      this.getValue().call(this.object);

      if (this.__onFinishChange) {
        this.__onFinishChange.call(this, this.getValue());
      }
    }
  }]);
  return FunctionController;
}(Controller);

var ColorController = function (_Controller) {
  inherits(ColorController, _Controller);

  function ColorController(object, property) {
    classCallCheck(this, ColorController);

    var _this2 = possibleConstructorReturn(this, (ColorController.__proto__ || Object.getPrototypeOf(ColorController)).call(this, object, property));

    _this2.__color = new Color(_this2.getValue());
    _this2.__temp = new Color(0);
    var _this = _this2;
    _this2.domElement = document.createElement('div');
    dom.makeSelectable(_this2.domElement, false);
    _this2.__selector = document.createElement('div');
    _this2.__selector.className = 'selector';
    _this2.__saturation_field = document.createElement('div');
    _this2.__saturation_field.className = 'saturation-field';
    _this2.__field_knob = document.createElement('div');
    _this2.__field_knob.className = 'field-knob';
    _this2.__field_knob_border = '2px solid ';
    _this2.__hue_knob = document.createElement('div');
    _this2.__hue_knob.className = 'hue-knob';
    _this2.__hue_field = document.createElement('div');
    _this2.__hue_field.className = 'hue-field';
    _this2.__input = document.createElement('input');
    _this2.__input.type = 'text';
    _this2.__input_textShadow = '0 1px 1px ';
    dom.bind(_this2.__input, 'keydown', function (e) {
      if (e.keyCode === 13) {
        onBlur.call(this);
      }
    });
    dom.bind(_this2.__input, 'blur', onBlur);
    dom.bind(_this2.__selector, 'mousedown', function () {
      dom.addClass(this, 'drag').bind(window, 'mouseup', function () {
        dom.removeClass(_this.__selector, 'drag');
      });
    });
    dom.bind(_this2.__selector, 'touchstart', function () {
      dom.addClass(this, 'drag').bind(window, 'touchend', function () {
        dom.removeClass(_this.__selector, 'drag');
      });
    });
    var valueField = document.createElement('div');
    Common.extend(_this2.__selector.style, {
      width: '122px',
      height: '102px',
      padding: '3px',
      backgroundColor: '#222',
      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'
    });
    Common.extend(_this2.__field_knob.style, {
      position: 'absolute',
      width: '12px',
      height: '12px',
      border: _this2.__field_knob_border + (_this2.__color.v < 0.5 ? '#fff' : '#000'),
      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',
      borderRadius: '12px',
      zIndex: 1
    });
    Common.extend(_this2.__hue_knob.style, {
      position: 'absolute',
      width: '15px',
      height: '2px',
      borderRight: '4px solid #fff',
      zIndex: 1
    });
    Common.extend(_this2.__saturation_field.style, {
      width: '100px',
      height: '100px',
      border: '1px solid #555',
      marginRight: '3px',
      display: 'inline-block',
      cursor: 'pointer'
    });
    Common.extend(valueField.style, {
      width: '100%',
      height: '100%',
      background: 'none'
    });
    linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');
    Common.extend(_this2.__hue_field.style, {
      width: '15px',
      height: '100px',
      border: '1px solid #555',
      cursor: 'ns-resize',
      position: 'absolute',
      top: '3px',
      right: '3px'
    });
    hueGradient(_this2.__hue_field);
    Common.extend(_this2.__input.style, {
      outline: 'none',
      textAlign: 'center',
      color: '#fff',
      border: 0,
      fontWeight: 'bold',
      textShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'
    });
    dom.bind(_this2.__saturation_field, 'mousedown', fieldDown);
    dom.bind(_this2.__saturation_field, 'touchstart', fieldDown);
    dom.bind(_this2.__field_knob, 'mousedown', fieldDown);
    dom.bind(_this2.__field_knob, 'touchstart', fieldDown);
    dom.bind(_this2.__hue_field, 'mousedown', fieldDownH);
    dom.bind(_this2.__hue_field, 'touchstart', fieldDownH);

    function fieldDown(e) {
      setSV(e);
      dom.bind(window, 'mousemove', setSV);
      dom.bind(window, 'touchmove', setSV);
      dom.bind(window, 'mouseup', fieldUpSV);
      dom.bind(window, 'touchend', fieldUpSV);
    }

    function fieldDownH(e) {
      setH(e);
      dom.bind(window, 'mousemove', setH);
      dom.bind(window, 'touchmove', setH);
      dom.bind(window, 'mouseup', fieldUpH);
      dom.bind(window, 'touchend', fieldUpH);
    }

    function fieldUpSV() {
      dom.unbind(window, 'mousemove', setSV);
      dom.unbind(window, 'touchmove', setSV);
      dom.unbind(window, 'mouseup', fieldUpSV);
      dom.unbind(window, 'touchend', fieldUpSV);
      onFinish();
    }

    function fieldUpH() {
      dom.unbind(window, 'mousemove', setH);
      dom.unbind(window, 'touchmove', setH);
      dom.unbind(window, 'mouseup', fieldUpH);
      dom.unbind(window, 'touchend', fieldUpH);
      onFinish();
    }

    function onBlur() {
      var i = interpret(this.value);

      if (i !== false) {
        _this.__color.__state = i;

        _this.setValue(_this.__color.toOriginal());
      } else {
        this.value = _this.__color.toString();
      }
    }

    function onFinish() {
      if (_this.__onFinishChange) {
        _this.__onFinishChange.call(_this, _this.__color.toOriginal());
      }
    }

    _this2.__saturation_field.appendChild(valueField);

    _this2.__selector.appendChild(_this2.__field_knob);

    _this2.__selector.appendChild(_this2.__saturation_field);

    _this2.__selector.appendChild(_this2.__hue_field);

    _this2.__hue_field.appendChild(_this2.__hue_knob);

    _this2.domElement.appendChild(_this2.__input);

    _this2.domElement.appendChild(_this2.__selector);

    _this2.updateDisplay();

    function setSV(e) {
      if (e.type.indexOf('touch') === -1) {
        e.preventDefault();
      }

      var fieldRect = _this.__saturation_field.getBoundingClientRect();

      var _ref = e.touches && e.touches[0] || e,
          clientX = _ref.clientX,
          clientY = _ref.clientY;

      var s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);
      var v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);

      if (v > 1) {
        v = 1;
      } else if (v < 0) {
        v = 0;
      }

      if (s > 1) {
        s = 1;
      } else if (s < 0) {
        s = 0;
      }

      _this.__color.v = v;
      _this.__color.s = s;

      _this.setValue(_this.__color.toOriginal());

      return false;
    }

    function setH(e) {
      if (e.type.indexOf('touch') === -1) {
        e.preventDefault();
      }

      var fieldRect = _this.__hue_field.getBoundingClientRect();

      var _ref2 = e.touches && e.touches[0] || e,
          clientY = _ref2.clientY;

      var h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);

      if (h > 1) {
        h = 1;
      } else if (h < 0) {
        h = 0;
      }

      _this.__color.h = h * 360;

      _this.setValue(_this.__color.toOriginal());

      return false;
    }

    return _this2;
  }

  createClass(ColorController, [{
    key: 'updateDisplay',
    value: function updateDisplay() {
      var i = interpret(this.getValue());

      if (i !== false) {
        var mismatch = false;
        Common.each(Color.COMPONENTS, function (component) {
          if (!Common.isUndefined(i[component]) && !Common.isUndefined(this.__color.__state[component]) && i[component] !== this.__color.__state[component]) {
            mismatch = true;
            return {};
          }
        }, this);

        if (mismatch) {
          Common.extend(this.__color.__state, i);
        }
      }

      Common.extend(this.__temp.__state, this.__color.__state);
      this.__temp.a = 1;
      var flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;

      var _flip = 255 - flip;

      Common.extend(this.__field_knob.style, {
        marginLeft: 100 * this.__color.s - 7 + 'px',
        marginTop: 100 * (1 - this.__color.v) - 7 + 'px',
        backgroundColor: this.__temp.toHexString(),
        border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'
      });
      this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';
      this.__temp.s = 1;
      this.__temp.v = 1;
      linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());
      this.__input.value = this.__color.toString();
      Common.extend(this.__input.style, {
        backgroundColor: this.__color.toHexString(),
        color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',
        textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'
      });
    }
  }]);
  return ColorController;
}(Controller);

var vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];

function linearGradient(elem, x, a, b) {
  elem.style.background = '';
  Common.each(vendors, function (vendor) {
    elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';
  });
}

function hueGradient(elem) {
  elem.style.background = '';
  elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';
  elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';
  elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';
  elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';
  elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';
}

var css = {
  load: function load(url, indoc) {
    var doc = indoc || document;
    var link = doc.createElement('link');
    link.type = 'text/css';
    link.rel = 'stylesheet';
    link.href = url;
    doc.getElementsByTagName('head')[0].appendChild(link);
  },
  inject: function inject(cssContent, indoc) {
    var doc = indoc || document;
    var injected = document.createElement('style');
    injected.type = 'text/css';
    injected.innerHTML = cssContent;
    var head = doc.getElementsByTagName('head')[0];

    try {
      head.appendChild(injected);
    } catch (e) {}
  }
};
var saveDialogContents = "<div id=\"dg-save\" class=\"dg dialogue\">\n\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\n\n  <textarea id=\"dg-new-constructor\"></textarea>\n\n  <div id=\"dg-save-locally\">\n\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>";

var ControllerFactory = function ControllerFactory(object, property) {
  var initialValue = object[property];

  if (Common.isArray(arguments[2]) || Common.isObject(arguments[2])) {
    return new OptionController(object, property, arguments[2]);
  }

  if (Common.isNumber(initialValue)) {
    if (Common.isNumber(arguments[2]) && Common.isNumber(arguments[3])) {
      if (Common.isNumber(arguments[4])) {
        return new NumberControllerSlider(object, property, arguments[2], arguments[3], arguments[4]);
      }

      return new NumberControllerSlider(object, property, arguments[2], arguments[3]);
    }

    if (Common.isNumber(arguments[4])) {
      return new NumberControllerBox(object, property, {
        min: arguments[2],
        max: arguments[3],
        step: arguments[4]
      });
    }

    return new NumberControllerBox(object, property, {
      min: arguments[2],
      max: arguments[3]
    });
  }

  if (Common.isString(initialValue)) {
    return new StringController(object, property);
  }

  if (Common.isFunction(initialValue)) {
    return new FunctionController(object, property, '');
  }

  if (Common.isBoolean(initialValue)) {
    return new BooleanController(object, property);
  }

  return null;
};

function requestAnimationFrame(callback) {
  setTimeout(callback, 1000 / 60);
}

var requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;

var CenteredDiv = function () {
  function CenteredDiv() {
    classCallCheck(this, CenteredDiv);
    this.backgroundElement = document.createElement('div');
    Common.extend(this.backgroundElement.style, {
      backgroundColor: 'rgba(0,0,0,0.8)',
      top: 0,
      left: 0,
      display: 'none',
      zIndex: '1000',
      opacity: 0,
      WebkitTransition: 'opacity 0.2s linear',
      transition: 'opacity 0.2s linear'
    });
    dom.makeFullscreen(this.backgroundElement);
    this.backgroundElement.style.position = 'fixed';
    this.domElement = document.createElement('div');
    Common.extend(this.domElement.style, {
      position: 'fixed',
      display: 'none',
      zIndex: '1001',
      opacity: 0,
      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',
      transition: 'transform 0.2s ease-out, opacity 0.2s linear'
    });
    document.body.appendChild(this.backgroundElement);
    document.body.appendChild(this.domElement);

    var _this = this;

    dom.bind(this.backgroundElement, 'click', function () {
      _this.hide();
    });
  }

  createClass(CenteredDiv, [{
    key: 'show',
    value: function show() {
      var _this = this;

      this.backgroundElement.style.display = 'block';
      this.domElement.style.display = 'block';
      this.domElement.style.opacity = 0;
      this.domElement.style.webkitTransform = 'scale(1.1)';
      this.layout();
      Common.defer(function () {
        _this.backgroundElement.style.opacity = 1;
        _this.domElement.style.opacity = 1;
        _this.domElement.style.webkitTransform = 'scale(1)';
      });
    }
  }, {
    key: 'hide',
    value: function hide() {
      var _this = this;

      var hide = function hide() {
        _this.domElement.style.display = 'none';
        _this.backgroundElement.style.display = 'none';
        dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);
        dom.unbind(_this.domElement, 'transitionend', hide);
        dom.unbind(_this.domElement, 'oTransitionEnd', hide);
      };

      dom.bind(this.domElement, 'webkitTransitionEnd', hide);
      dom.bind(this.domElement, 'transitionend', hide);
      dom.bind(this.domElement, 'oTransitionEnd', hide);
      this.backgroundElement.style.opacity = 0;
      this.domElement.style.opacity = 0;
      this.domElement.style.webkitTransform = 'scale(1.1)';
    }
  }, {
    key: 'layout',
    value: function layout() {
      this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';
      this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';
    }
  }]);
  return CenteredDiv;
}();

var styleSheet = ___$insertStyle(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");

css.inject(styleSheet);
var CSS_NAMESPACE = 'dg';
var HIDE_KEY_CODE = 72;
var CLOSE_BUTTON_HEIGHT = 20;
var DEFAULT_DEFAULT_PRESET_NAME = 'Default';

var SUPPORTS_LOCAL_STORAGE = function () {
  try {
    return !!window.localStorage;
  } catch (e) {
    return false;
  }
}();

var SAVE_DIALOGUE = void 0;
var autoPlaceVirgin = true;
var autoPlaceContainer = void 0;
var hide = false;
var hideableGuis = [];

var GUI = function GUI(pars) {
  var _this = this;

  var params = pars || {};
  this.domElement = document.createElement('div');
  this.__ul = document.createElement('ul');
  this.domElement.appendChild(this.__ul);
  dom.addClass(this.domElement, CSS_NAMESPACE);
  this.__folders = {};
  this.__controllers = [];
  this.__rememberedObjects = [];
  this.__rememberedObjectIndecesToControllers = [];
  this.__listening = [];
  params = Common.defaults(params, {
    closeOnTop: false,
    autoPlace: true,
    width: GUI.DEFAULT_WIDTH
  });
  params = Common.defaults(params, {
    resizable: params.autoPlace,
    hideable: params.autoPlace
  });

  if (!Common.isUndefined(params.load)) {
    if (params.preset) {
      params.load.preset = params.preset;
    }
  } else {
    params.load = {
      preset: DEFAULT_DEFAULT_PRESET_NAME
    };
  }

  if (Common.isUndefined(params.parent) && params.hideable) {
    hideableGuis.push(this);
  }

  params.resizable = Common.isUndefined(params.parent) && params.resizable;

  if (params.autoPlace && Common.isUndefined(params.scrollable)) {
    params.scrollable = true;
  }

  var useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';
  var saveToLocalStorage = void 0;
  var titleRow = void 0;
  Object.defineProperties(this, {
    parent: {
      get: function get$$1() {
        return params.parent;
      }
    },
    scrollable: {
      get: function get$$1() {
        return params.scrollable;
      }
    },
    autoPlace: {
      get: function get$$1() {
        return params.autoPlace;
      }
    },
    closeOnTop: {
      get: function get$$1() {
        return params.closeOnTop;
      }
    },
    preset: {
      get: function get$$1() {
        if (_this.parent) {
          return _this.getRoot().preset;
        }

        return params.load.preset;
      },
      set: function set$$1(v) {
        if (_this.parent) {
          _this.getRoot().preset = v;
        } else {
          params.load.preset = v;
        }

        setPresetSelectIndex(this);

        _this.revert();
      }
    },
    width: {
      get: function get$$1() {
        return params.width;
      },
      set: function set$$1(v) {
        params.width = v;
        setWidth(_this, v);
      }
    },
    name: {
      get: function get$$1() {
        return params.name;
      },
      set: function set$$1(v) {
        params.name = v;

        if (titleRow) {
          titleRow.innerHTML = params.name;
        }
      }
    },
    closed: {
      get: function get$$1() {
        return params.closed;
      },
      set: function set$$1(v) {
        params.closed = v;

        if (params.closed) {
          dom.addClass(_this.__ul, GUI.CLASS_CLOSED);
        } else {
          dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);
        }

        this.onResize();

        if (_this.__closeButton) {
          _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;
        }
      }
    },
    load: {
      get: function get$$1() {
        return params.load;
      }
    },
    useLocalStorage: {
      get: function get$$1() {
        return useLocalStorage;
      },
      set: function set$$1(bool) {
        if (SUPPORTS_LOCAL_STORAGE) {
          useLocalStorage = bool;

          if (bool) {
            dom.bind(window, 'unload', saveToLocalStorage);
          } else {
            dom.unbind(window, 'unload', saveToLocalStorage);
          }

          localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);
        }
      }
    }
  });

  if (Common.isUndefined(params.parent)) {
    this.closed = params.closed || false;
    dom.addClass(this.domElement, GUI.CLASS_MAIN);
    dom.makeSelectable(this.domElement, false);

    if (SUPPORTS_LOCAL_STORAGE) {
      if (useLocalStorage) {
        _this.useLocalStorage = true;
        var savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));

        if (savedGui) {
          params.load = JSON.parse(savedGui);
        }
      }
    }

    this.__closeButton = document.createElement('div');
    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;
    dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);

    if (params.closeOnTop) {
      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);
      this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);
    } else {
      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);
      this.domElement.appendChild(this.__closeButton);
    }

    dom.bind(this.__closeButton, 'click', function () {
      _this.closed = !_this.closed;
    });
  } else {
    if (params.closed === undefined) {
      params.closed = true;
    }

    var titleRowName = document.createTextNode(params.name);
    dom.addClass(titleRowName, 'controller-name');
    titleRow = addRow(_this, titleRowName);

    var onClickTitle = function onClickTitle(e) {
      e.preventDefault();
      _this.closed = !_this.closed;
      return false;
    };

    dom.addClass(this.__ul, GUI.CLASS_CLOSED);
    dom.addClass(titleRow, 'title');
    dom.bind(titleRow, 'click', onClickTitle);

    if (!params.closed) {
      this.closed = false;
    }
  }

  if (params.autoPlace) {
    if (Common.isUndefined(params.parent)) {
      if (autoPlaceVirgin) {
        autoPlaceContainer = document.createElement('div');
        dom.addClass(autoPlaceContainer, CSS_NAMESPACE);
        dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);
        document.body.appendChild(autoPlaceContainer);
        autoPlaceVirgin = false;
      }

      autoPlaceContainer.appendChild(this.domElement);
      dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);
    }

    if (!this.parent) {
      setWidth(_this, params.width);
    }
  }

  this.__resizeHandler = function () {
    _this.onResizeDebounced();
  };

  dom.bind(window, 'resize', this.__resizeHandler);
  dom.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);
  dom.bind(this.__ul, 'transitionend', this.__resizeHandler);
  dom.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);
  this.onResize();

  if (params.resizable) {
    addResizeHandle(this);
  }

  saveToLocalStorage = function saveToLocalStorage() {
    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {
      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));
    }
  };

  this.saveToLocalStorageIfPossible = saveToLocalStorage;

  function resetWidth() {
    var root = _this.getRoot();

    root.width += 1;
    Common.defer(function () {
      root.width -= 1;
    });
  }

  if (!params.parent) {
    resetWidth();
  }
};

GUI.toggleHide = function () {
  hide = !hide;
  Common.each(hideableGuis, function (gui) {
    gui.domElement.style.display = hide ? 'none' : '';
  });
};

GUI.CLASS_AUTO_PLACE = 'a';
GUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';
GUI.CLASS_MAIN = 'main';
GUI.CLASS_CONTROLLER_ROW = 'cr';
GUI.CLASS_TOO_TALL = 'taller-than-window';
GUI.CLASS_CLOSED = 'closed';
GUI.CLASS_CLOSE_BUTTON = 'close-button';
GUI.CLASS_CLOSE_TOP = 'close-top';
GUI.CLASS_CLOSE_BOTTOM = 'close-bottom';
GUI.CLASS_DRAG = 'drag';
GUI.DEFAULT_WIDTH = 245;
GUI.TEXT_CLOSED = 'Close Controls';
GUI.TEXT_OPEN = 'Open Controls';

GUI._keydownHandler = function (e) {
  if (document.activeElement.type !== 'text' && (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {
    GUI.toggleHide();
  }
};

dom.bind(window, 'keydown', GUI._keydownHandler, false);
Common.extend(GUI.prototype, {
  add: function add(object, property) {
    return _add(this, object, property, {
      factoryArgs: Array.prototype.slice.call(arguments, 2)
    });
  },
  addColor: function addColor(object, property) {
    return _add(this, object, property, {
      color: true
    });
  },
  remove: function remove(controller) {
    this.__ul.removeChild(controller.__li);

    this.__controllers.splice(this.__controllers.indexOf(controller), 1);

    var _this = this;

    Common.defer(function () {
      _this.onResize();
    });
  },
  destroy: function destroy() {
    if (this.parent) {
      throw new Error('Only the root GUI should be removed with .destroy(). ' + 'For subfolders, use gui.removeFolder(folder) instead.');
    }

    if (this.autoPlace) {
      autoPlaceContainer.removeChild(this.domElement);
    }

    var _this = this;

    Common.each(this.__folders, function (subfolder) {
      _this.removeFolder(subfolder);
    });
    dom.unbind(window, 'keydown', GUI._keydownHandler, false);
    removeListeners(this);
  },
  addFolder: function addFolder(name) {
    if (this.__folders[name] !== undefined) {
      throw new Error('You already have a folder in this GUI by the' + ' name "' + name + '"');
    }

    var newGuiParams = {
      name: name,
      parent: this
    };
    newGuiParams.autoPlace = this.autoPlace;

    if (this.load && this.load.folders && this.load.folders[name]) {
      newGuiParams.closed = this.load.folders[name].closed;
      newGuiParams.load = this.load.folders[name];
    }

    var gui = new GUI(newGuiParams);
    this.__folders[name] = gui;
    var li = addRow(this, gui.domElement);
    dom.addClass(li, 'folder');
    return gui;
  },
  removeFolder: function removeFolder(folder) {
    this.__ul.removeChild(folder.domElement.parentElement);

    delete this.__folders[folder.name];

    if (this.load && this.load.folders && this.load.folders[folder.name]) {
      delete this.load.folders[folder.name];
    }

    removeListeners(folder);

    var _this = this;

    Common.each(folder.__folders, function (subfolder) {
      folder.removeFolder(subfolder);
    });
    Common.defer(function () {
      _this.onResize();
    });
  },
  open: function open() {
    this.closed = false;
  },
  close: function close() {
    this.closed = true;
  },
  hide: function hide() {
    this.domElement.style.display = 'none';
  },
  show: function show() {
    this.domElement.style.display = '';
  },
  onResize: function onResize() {
    var root = this.getRoot();

    if (root.scrollable) {
      var top = dom.getOffset(root.__ul).top;
      var h = 0;
      Common.each(root.__ul.childNodes, function (node) {
        if (!(root.autoPlace && node === root.__save_row)) {
          h += dom.getHeight(node);
        }
      });

      if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {
        dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);
        root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';
      } else {
        dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);
        root.__ul.style.height = 'auto';
      }
    }

    if (root.__resize_handle) {
      Common.defer(function () {
        root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';
      });
    }

    if (root.__closeButton) {
      root.__closeButton.style.width = root.width + 'px';
    }
  },
  onResizeDebounced: Common.debounce(function () {
    this.onResize();
  }, 50),
  remember: function remember() {
    if (Common.isUndefined(SAVE_DIALOGUE)) {
      SAVE_DIALOGUE = new CenteredDiv();
      SAVE_DIALOGUE.domElement.innerHTML = saveDialogContents;
    }

    if (this.parent) {
      throw new Error('You can only call remember on a top level GUI.');
    }

    var _this = this;

    Common.each(Array.prototype.slice.call(arguments), function (object) {
      if (_this.__rememberedObjects.length === 0) {
        addSaveMenu(_this);
      }

      if (_this.__rememberedObjects.indexOf(object) === -1) {
        _this.__rememberedObjects.push(object);
      }
    });

    if (this.autoPlace) {
      setWidth(this, this.width);
    }
  },
  getRoot: function getRoot() {
    var gui = this;

    while (gui.parent) {
      gui = gui.parent;
    }

    return gui;
  },
  getSaveObject: function getSaveObject() {
    var toReturn = this.load;
    toReturn.closed = this.closed;

    if (this.__rememberedObjects.length > 0) {
      toReturn.preset = this.preset;

      if (!toReturn.remembered) {
        toReturn.remembered = {};
      }

      toReturn.remembered[this.preset] = getCurrentPreset(this);
    }

    toReturn.folders = {};
    Common.each(this.__folders, function (element, key) {
      toReturn.folders[key] = element.getSaveObject();
    });
    return toReturn;
  },
  save: function save() {
    if (!this.load.remembered) {
      this.load.remembered = {};
    }

    this.load.remembered[this.preset] = getCurrentPreset(this);
    markPresetModified(this, false);
    this.saveToLocalStorageIfPossible();
  },
  saveAs: function saveAs(presetName) {
    if (!this.load.remembered) {
      this.load.remembered = {};
      this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);
    }

    this.load.remembered[presetName] = getCurrentPreset(this);
    this.preset = presetName;
    addPresetOption(this, presetName, true);
    this.saveToLocalStorageIfPossible();
  },
  revert: function revert(gui) {
    Common.each(this.__controllers, function (controller) {
      if (!this.getRoot().load.remembered) {
        controller.setValue(controller.initialValue);
      } else {
        recallSavedValue(gui || this.getRoot(), controller);
      }

      if (controller.__onFinishChange) {
        controller.__onFinishChange.call(controller, controller.getValue());
      }
    }, this);
    Common.each(this.__folders, function (folder) {
      folder.revert(folder);
    });

    if (!gui) {
      markPresetModified(this.getRoot(), false);
    }
  },
  listen: function listen(controller) {
    var init = this.__listening.length === 0;

    this.__listening.push(controller);

    if (init) {
      updateDisplays(this.__listening);
    }
  },
  updateDisplay: function updateDisplay() {
    Common.each(this.__controllers, function (controller) {
      controller.updateDisplay();
    });
    Common.each(this.__folders, function (folder) {
      folder.updateDisplay();
    });
  }
});

function addRow(gui, newDom, liBefore) {
  var li = document.createElement('li');

  if (newDom) {
    li.appendChild(newDom);
  }

  if (liBefore) {
    gui.__ul.insertBefore(li, liBefore);
  } else {
    gui.__ul.appendChild(li);
  }

  gui.onResize();
  return li;
}

function removeListeners(gui) {
  dom.unbind(window, 'resize', gui.__resizeHandler);

  if (gui.saveToLocalStorageIfPossible) {
    dom.unbind(window, 'unload', gui.saveToLocalStorageIfPossible);
  }
}

function markPresetModified(gui, modified) {
  var opt = gui.__preset_select[gui.__preset_select.selectedIndex];

  if (modified) {
    opt.innerHTML = opt.value + '*';
  } else {
    opt.innerHTML = opt.value;
  }
}

function augmentController(gui, li, controller) {
  controller.__li = li;
  controller.__gui = gui;
  Common.extend(controller, {
    options: function options(_options) {
      if (arguments.length > 1) {
        var nextSibling = controller.__li.nextElementSibling;
        controller.remove();
        return _add(gui, controller.object, controller.property, {
          before: nextSibling,
          factoryArgs: [Common.toArray(arguments)]
        });
      }

      if (Common.isArray(_options) || Common.isObject(_options)) {
        var _nextSibling = controller.__li.nextElementSibling;
        controller.remove();
        return _add(gui, controller.object, controller.property, {
          before: _nextSibling,
          factoryArgs: [_options]
        });
      }
    },
    name: function name(_name) {
      controller.__li.firstElementChild.firstElementChild.innerHTML = _name;
      return controller;
    },
    listen: function listen() {
      controller.__gui.listen(controller);

      return controller;
    },
    remove: function remove() {
      controller.__gui.remove(controller);

      return controller;
    }
  });

  if (controller instanceof NumberControllerSlider) {
    var box = new NumberControllerBox(controller.object, controller.property, {
      min: controller.__min,
      max: controller.__max,
      step: controller.__step
    });
    Common.each(['updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max'], function (method) {
      var pc = controller[method];
      var pb = box[method];

      controller[method] = box[method] = function () {
        var args = Array.prototype.slice.call(arguments);
        pb.apply(box, args);
        return pc.apply(controller, args);
      };
    });
    dom.addClass(li, 'has-slider');
    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);
  } else if (controller instanceof NumberControllerBox) {
    var r = function r(returned) {
      if (Common.isNumber(controller.__min) && Common.isNumber(controller.__max)) {
        var oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;
        var wasListening = controller.__gui.__listening.indexOf(controller) > -1;
        controller.remove();

        var newController = _add(gui, controller.object, controller.property, {
          before: controller.__li.nextElementSibling,
          factoryArgs: [controller.__min, controller.__max, controller.__step]
        });

        newController.name(oldName);
        if (wasListening) newController.listen();
        return newController;
      }

      return returned;
    };

    controller.min = Common.compose(r, controller.min);
    controller.max = Common.compose(r, controller.max);
  } else if (controller instanceof BooleanController) {
    dom.bind(li, 'click', function () {
      dom.fakeEvent(controller.__checkbox, 'click');
    });
    dom.bind(controller.__checkbox, 'click', function (e) {
      e.stopPropagation();
    });
  } else if (controller instanceof FunctionController) {
    dom.bind(li, 'click', function () {
      dom.fakeEvent(controller.__button, 'click');
    });
    dom.bind(li, 'mouseover', function () {
      dom.addClass(controller.__button, 'hover');
    });
    dom.bind(li, 'mouseout', function () {
      dom.removeClass(controller.__button, 'hover');
    });
  } else if (controller instanceof ColorController) {
    dom.addClass(li, 'color');
    controller.updateDisplay = Common.compose(function (val) {
      li.style.borderLeftColor = controller.__color.toString();
      return val;
    }, controller.updateDisplay);
    controller.updateDisplay();
  }

  controller.setValue = Common.compose(function (val) {
    if (gui.getRoot().__preset_select && controller.isModified()) {
      markPresetModified(gui.getRoot(), true);
    }

    return val;
  }, controller.setValue);
}

function recallSavedValue(gui, controller) {
  var root = gui.getRoot();

  var matchedIndex = root.__rememberedObjects.indexOf(controller.object);

  if (matchedIndex !== -1) {
    var controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];

    if (controllerMap === undefined) {
      controllerMap = {};
      root.__rememberedObjectIndecesToControllers[matchedIndex] = controllerMap;
    }

    controllerMap[controller.property] = controller;

    if (root.load && root.load.remembered) {
      var presetMap = root.load.remembered;
      var preset = void 0;

      if (presetMap[gui.preset]) {
        preset = presetMap[gui.preset];
      } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {
        preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];
      } else {
        return;
      }

      if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {
        var value = preset[matchedIndex][controller.property];
        controller.initialValue = value;
        controller.setValue(value);
      }
    }
  }
}

function _add(gui, object, property, params) {
  if (object[property] === undefined) {
    throw new Error('Object "' + object + '" has no property "' + property + '"');
  }

  var controller = void 0;

  if (params.color) {
    controller = new ColorController(object, property);
  } else {
    var factoryArgs = [object, property].concat(params.factoryArgs);
    controller = ControllerFactory.apply(gui, factoryArgs);
  }

  if (params.before instanceof Controller) {
    params.before = params.before.__li;
  }

  recallSavedValue(gui, controller);
  dom.addClass(controller.domElement, 'c');
  var name = document.createElement('span');
  dom.addClass(name, 'property-name');
  name.innerHTML = controller.property;
  var container = document.createElement('div');
  container.appendChild(name);
  container.appendChild(controller.domElement);
  var li = addRow(gui, container, params.before);
  dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);

  if (controller instanceof ColorController) {
    dom.addClass(li, 'color');
  } else {
    dom.addClass(li, _typeof(controller.getValue()));
  }

  augmentController(gui, li, controller);

  gui.__controllers.push(controller);

  return controller;
}

function getLocalStorageHash(gui, key) {
  return document.location.href + '.' + key;
}

function addPresetOption(gui, name, setSelected) {
  var opt = document.createElement('option');
  opt.innerHTML = name;
  opt.value = name;

  gui.__preset_select.appendChild(opt);

  if (setSelected) {
    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;
  }
}

function showHideExplain(gui, explain) {
  explain.style.display = gui.useLocalStorage ? 'block' : 'none';
}

function addSaveMenu(gui) {
  var div = gui.__save_row = document.createElement('li');
  dom.addClass(gui.domElement, 'has-save');

  gui.__ul.insertBefore(div, gui.__ul.firstChild);

  dom.addClass(div, 'save-row');
  var gears = document.createElement('span');
  gears.innerHTML = '&nbsp;';
  dom.addClass(gears, 'button gears');
  var button = document.createElement('span');
  button.innerHTML = 'Save';
  dom.addClass(button, 'button');
  dom.addClass(button, 'save');
  var button2 = document.createElement('span');
  button2.innerHTML = 'New';
  dom.addClass(button2, 'button');
  dom.addClass(button2, 'save-as');
  var button3 = document.createElement('span');
  button3.innerHTML = 'Revert';
  dom.addClass(button3, 'button');
  dom.addClass(button3, 'revert');
  var select = gui.__preset_select = document.createElement('select');

  if (gui.load && gui.load.remembered) {
    Common.each(gui.load.remembered, function (value, key) {
      addPresetOption(gui, key, key === gui.preset);
    });
  } else {
    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);
  }

  dom.bind(select, 'change', function () {
    for (var index = 0; index < gui.__preset_select.length; index++) {
      gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;
    }

    gui.preset = this.value;
  });
  div.appendChild(select);
  div.appendChild(gears);
  div.appendChild(button);
  div.appendChild(button2);
  div.appendChild(button3);

  if (SUPPORTS_LOCAL_STORAGE) {
    var explain = document.getElementById('dg-local-explain');
    var localStorageCheckBox = document.getElementById('dg-local-storage');
    var saveLocally = document.getElementById('dg-save-locally');
    saveLocally.style.display = 'block';

    if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {
      localStorageCheckBox.setAttribute('checked', 'checked');
    }

    showHideExplain(gui, explain);
    dom.bind(localStorageCheckBox, 'change', function () {
      gui.useLocalStorage = !gui.useLocalStorage;
      showHideExplain(gui, explain);
    });
  }

  var newConstructorTextArea = document.getElementById('dg-new-constructor');
  dom.bind(newConstructorTextArea, 'keydown', function (e) {
    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {
      SAVE_DIALOGUE.hide();
    }
  });
  dom.bind(gears, 'click', function () {
    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);
    SAVE_DIALOGUE.show();
    newConstructorTextArea.focus();
    newConstructorTextArea.select();
  });
  dom.bind(button, 'click', function () {
    gui.save();
  });
  dom.bind(button2, 'click', function () {
    var presetName = prompt('Enter a new preset name.');

    if (presetName) {
      gui.saveAs(presetName);
    }
  });
  dom.bind(button3, 'click', function () {
    gui.revert();
  });
}

function addResizeHandle(gui) {
  var pmouseX = void 0;
  gui.__resize_handle = document.createElement('div');
  Common.extend(gui.__resize_handle.style, {
    width: '6px',
    marginLeft: '-3px',
    height: '200px',
    cursor: 'ew-resize',
    position: 'absolute'
  });

  function drag(e) {
    e.preventDefault();
    gui.width += pmouseX - e.clientX;
    gui.onResize();
    pmouseX = e.clientX;
    return false;
  }

  function dragStop() {
    dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);
    dom.unbind(window, 'mousemove', drag);
    dom.unbind(window, 'mouseup', dragStop);
  }

  function dragStart(e) {
    e.preventDefault();
    pmouseX = e.clientX;
    dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);
    dom.bind(window, 'mousemove', drag);
    dom.bind(window, 'mouseup', dragStop);
    return false;
  }

  dom.bind(gui.__resize_handle, 'mousedown', dragStart);
  dom.bind(gui.__closeButton, 'mousedown', dragStart);
  gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);
}

function setWidth(gui, w) {
  gui.domElement.style.width = w + 'px';

  if (gui.__save_row && gui.autoPlace) {
    gui.__save_row.style.width = w + 'px';
  }

  if (gui.__closeButton) {
    gui.__closeButton.style.width = w + 'px';
  }
}

function getCurrentPreset(gui, useInitialValues) {
  var toReturn = {};
  Common.each(gui.__rememberedObjects, function (val, index) {
    var savedValues = {};
    var controllerMap = gui.__rememberedObjectIndecesToControllers[index];
    Common.each(controllerMap, function (controller, property) {
      savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();
    });
    toReturn[index] = savedValues;
  });
  return toReturn;
}

function setPresetSelectIndex(gui) {
  for (var index = 0; index < gui.__preset_select.length; index++) {
    if (gui.__preset_select[index].value === gui.preset) {
      gui.__preset_select.selectedIndex = index;
    }
  }
}

function updateDisplays(controllerArray) {
  if (controllerArray.length !== 0) {
    requestAnimationFrame$1.call(window, function () {
      updateDisplays(controllerArray);
    });
  }

  Common.each(controllerArray, function (c) {
    c.updateDisplay();
  });
}

var color = {
  Color: Color,
  math: ColorMath,
  interpret: interpret
};
exports.color = color;
var controllers = {
  Controller: Controller,
  BooleanController: BooleanController,
  OptionController: OptionController,
  StringController: StringController,
  NumberController: NumberController,
  NumberControllerBox: NumberControllerBox,
  NumberControllerSlider: NumberControllerSlider,
  FunctionController: FunctionController,
  ColorController: ColorController
};
exports.controllers = controllers;
var dom$1 = {
  dom: dom
};
exports.dom = dom$1;
var gui = {
  GUI: GUI
};
exports.gui = gui;
var GUI$1 = GUI;
exports.GUI = GUI$1;
var index = {
  color: color,
  controllers: controllers,
  dom: dom$1,
  gui: gui,
  GUI: GUI$1
};
var _default = index;
exports.default = _default;
},{}],"js/App.js":[function(require,module,exports) {
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.App = void 0;

require("./../styles.css");

var _three = require("three");

var _ThreeScene = require("./ThreeScene");

var _spheres = require("./spheres");

var _stats = _interopRequireDefault(require("stats.js"));

var _dat = require("dat.gui");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// TODO NEXT
// json object of x,y,z and their reddenings/residual for each plot seperatel - can easily get r
// load the all the jsons only once when app loaded and create a 3D object for everything
// restart the app if the r in dat.gui is updated display them if they are within the range r
// do this for a single map for now
// TODO NEXT
// sort the x,y,z positions so they range from smallest r to biggest r
// sort the reddening/sigma/residual values the same order
// normalize r range between 0 and 1 - remmeber to take into account the fact that they are cubes not spheres
// display only portion of the array like half if r is 0.5
// TODO NEXT store the results as consts here
// TODO NEXT laod the arrays in the App constro
// TODO
var coneAng = 0.349066;
var options = {
  theta: 0,
  phi: 0,
  radialDistance: 3.0,
  focusOnLOS: true,
  colorMaps: "integrated dust"
};

function spherical2cart(r, theta, phi) {
  var x = r * Math.sin(phi) * Math.cos(theta);
  var y = r * Math.sin(phi) * Math.sin(theta);
  var z = r * Math.cos(phi);
  var pos = [x, y, z];
  console.log(pos);
  return pos;
}

function getLineOfSightImgTitle(r, x, y, z) {
  var ret = "./data/losPlots/" + (x / r).toFixed(2) + "i_" + (y / r).toFixed(2) + "j_" + (z / r).toFixed(2) + "k.png";
  console.log(ret);
  return ret; ///0.87i_0.00j_0.50k.849a139b.pn
}

var App = /*#__PURE__*/function (_BasicThreeDemo) {
  _inherits(App, _BasicThreeDemo);

  var _super = _createSuper(App);

  function App(container, config) {
    var _this;

    _classCallCheck(this, App);

    _this = _super.call(this, container);
    _this.config = config; // this.camera.position.z = 50;
    // this.controls = new OrbitControls(this.camera, this.renderer.domElement);

    _this.text = new Text(_assertThisInitialized(_this));
    _this.topSpheres = new _spheres.Spheres(config, -50);
    _this.bottomSpheres = new _spheres.Spheres(config, 50);
    _this.leftSpheres = new _spheres.Spheres(config, 0); // this.los = new LineOfSight(100, options.theta, options.phi);
    // NEW LOS

    _this.losMaterial = new _three.LineBasicMaterial({
      color: 0x00ffff,
      linewidth: 7
    });
    _this.points = [];

    _this.points.push(new _three.Vector3(0, 0, 0));

    _this.points.push(new _three.Vector3(100, 0, 0)); // initially add LOS over the x axis


    _this.losGeometry = new _three.BufferGeometry().setFromPoints(_this.points);
    _this.losLine = new _three.Line(_this.losGeometry, _this.losMaterial);
    _this.h = _this.points[0].distanceTo(_this.points[1]);
    _this.g = new _three.ConeGeometry(2, _this.h);

    _this.g.translate(0, _this.h * 0.5, 0); // base to 0


    _this.g.rotateX(Math.PI * 0.5); // align along Z-axis


    _this.m = new _three.MeshBasicMaterial({
      opacity: 0.5
    }); // or any other material

    _this.o = new _three.Mesh(_this.g, _this.m);

    _this.o.position.copy(_this.points[0]);

    _this.o.lookAt(_this.points[1]); // NEW LOS


    _this.scene.background = new _three.Color("black");
    _this.restart = _this.restart.bind(_assertThisInitialized(_this));
    _this.axesHelper = new _three.AxesHelper(5); // setting up dat.gui

    _this.stats = new _stats.default();
    document.body.appendChild(_this.stats.dom);
    _this.gui = new _dat.GUI(); // setting up gui
    // TODO: every 20 degrees -> 0.349066 radians

    _this.gui.add(options, "radialDistance", 0, 5.0, 0.1).onChange(function (val) {
      console.log("changing roughness", val);

      _this.restart();
    }); // NEW: theta range in rad (0, PI) changes every 2PI/10=PI/5 degrees
    // FIXME fix the range of phi and theta
    // TODO NOTE: x is green axis, blue is z I think?? so it's inverted


    _this.gui.add(options, "theta", -Math.PI, Math.PI, coneAng).onChange(function (val) {
      console.log("changing theta", val);

      _this.restart();
    });

    _this.gui.add(options, "phi", 0, Math.PI, coneAng).onChange(function (val) {
      console.log("changing phi", val); // todo: change the los image path -> call the image updater instead of restarting each time

      _this.restart();
    });

    _this.gui.add(options, "colorMaps", ["integrated dust", "non integrated dust", "sigma"]).onChange(function (val) {
      console.log("changing colormap", val); // todo: change the los image path -> call the image updater instead of restarting each time

      _this.restart();
    });

    return _this;
  }

  _createClass(App, [{
    key: "restart",
    value: function restart() {
      this.topSpheres.clean();
      this.bottomSpheres.clean(); // this.leftSpheres.clean();
      // this.losGeometry.dispose();

      this.scene.remove(this.losLine);
      this.scene.remove(this.o); // this.los.clean();

      this.topSpheres.init(options);
      this.bottomSpheres.init(options);
      this.leftSpheres.init(options); // NEW LOS init

      var cartPos = spherical2cart(10, options.theta, options.phi);
      this.points[1] = new _three.Vector3(cartPos[0], cartPos[1], cartPos[2]);
      console.log("THIS ONE", document.getElementById("los").src, getLineOfSightImgTitle(10, cartPos[0], cartPos[1], cartPos[2]));
      document.getElementById("los").src = getLineOfSightImgTitle(10, cartPos[0], cartPos[1], cartPos[2]);
      document.getElementById("los").alt = getLineOfSightImgTitle(10, cartPos[0], cartPos[1], cartPos[2]); // points.push(new Vector3(10, 0, 0));

      this.losGeometry = new _three.BufferGeometry().setFromPoints(this.points);
      this.losLine = new _three.Line(this.losGeometry, this.losMaterial);
      this.scene.add(this.losLine);
      this.h = this.points[0].distanceTo(this.points[1]) - 3;
      this.g = new _three.ConeGeometry(1, this.h, 10, 10, true);
      this.g.translate(0, -this.h * 0.5, 0); // base to 0

      this.g.rotateX(-Math.PI * 0.5); // align along Z-axis

      this.m = new _three.MeshBasicMaterial({
        color: 0x00ff00,
        opacity: 0.6,
        transparent: true
      }); // or any other material

      this.o = new _three.Mesh(this.g, this.m); // TODO: figure out how to add outlines to the cone

      this.o.position.copy(this.points[0]);
      this.o.lookAt(this.points[1]);
      this.scene.add(this.o); // NEW LOS
    }
  }, {
    key: "dispose",
    value: function dispose() {
      this.disposed = true;
      this.scene.dispose();
    }
  }, {
    key: "init",
    value: function init() {
      // FIXME make sure that these multiple spheres instances are necessary
      this.topSpheres.init(options);
      this.bottomSpheres.init(options); // this.los.init(options);

      this.leftSpheres.init(options); // TODO this is sending the radial distance to the objects

      this.scene.add(this.bottomSpheres);
      this.scene.add(this.topSpheres);
      this.scene.add(this.leftSpheres);
      this.scene.add(this.axesHelper);
      console.log("ADDED LINE"); // this.scene.add(this.losLine);
      // three js thinks object is outside the frustum

      this.bottomSpheres.frustumCulled = false;
      this.leftSpheres.frustumCulled = false;
      this.topSpheres.frustumCulled = false;
      this.stats.begin();
      this.tick();
      document.addEventListener("mousemove", this.onDocumentMouseMove); // TODO
    }
  }]);

  return App;
}(_ThreeScene.BasicThreeDemo);

exports.App = App;
},{"./../styles.css":"styles.css","three":"node_modules/three/build/three.module.js","./ThreeScene":"js/ThreeScene.js","./spheres":"js/spheres.js","stats.js":"node_modules/stats.js/build/stats.min.js","dat.gui":"node_modules/dat.gui/build/dat.gui.module.js"}],"node_modules/parcel-bundler/src/builtins/hmr-runtime.js":[function(require,module,exports) {
var global = arguments[3];
var OVERLAY_ID = '__parcel__error__overlay__';
var OldModule = module.bundle.Module;

function Module(moduleName) {
  OldModule.call(this, moduleName);
  this.hot = {
    data: module.bundle.hotData,
    _acceptCallbacks: [],
    _disposeCallbacks: [],
    accept: function (fn) {
      this._acceptCallbacks.push(fn || function () {});
    },
    dispose: function (fn) {
      this._disposeCallbacks.push(fn);
    }
  };
  module.bundle.hotData = null;
}

module.bundle.Module = Module;
var checkedAssets, assetsToAccept;
var parent = module.bundle.parent;

if ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {
  var hostname = "" || location.hostname;
  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';
  var ws = new WebSocket(protocol + '://' + hostname + ':' + "33903" + '/');

  ws.onmessage = function (event) {
    checkedAssets = {};
    assetsToAccept = [];
    var data = JSON.parse(event.data);

    if (data.type === 'update') {
      var handled = false;
      data.assets.forEach(function (asset) {
        if (!asset.isNew) {
          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);

          if (didAccept) {
            handled = true;
          }
        }
      }); // Enable HMR for CSS by default.

      handled = handled || data.assets.every(function (asset) {
        return asset.type === 'css' && asset.generated.js;
      });

      if (handled) {
        console.clear();
        data.assets.forEach(function (asset) {
          hmrApply(global.parcelRequire, asset);
        });
        assetsToAccept.forEach(function (v) {
          hmrAcceptRun(v[0], v[1]);
        });
      } else if (location.reload) {
        // `location` global exists in a web worker context but lacks `.reload()` function.
        location.reload();
      }
    }

    if (data.type === 'reload') {
      ws.close();

      ws.onclose = function () {
        location.reload();
      };
    }

    if (data.type === 'error-resolved') {
      console.log('[parcel] ✨ Error resolved');
      removeErrorOverlay();
    }

    if (data.type === 'error') {
      console.error('[parcel] 🚨  ' + data.error.message + '\n' + data.error.stack);
      removeErrorOverlay();
      var overlay = createErrorOverlay(data);
      document.body.appendChild(overlay);
    }
  };
}

function removeErrorOverlay() {
  var overlay = document.getElementById(OVERLAY_ID);

  if (overlay) {
    overlay.remove();
  }
}

function createErrorOverlay(data) {
  var overlay = document.createElement('div');
  overlay.id = OVERLAY_ID; // html encode message and stack trace

  var message = document.createElement('div');
  var stackTrace = document.createElement('pre');
  message.innerText = data.error.message;
  stackTrace.innerText = data.error.stack;
  overlay.innerHTML = '<div style="background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;">' + '<span style="background: red; padding: 2px 4px; border-radius: 2px;">ERROR</span>' + '<span style="top: 2px; margin-left: 5px; position: relative;">🚨</span>' + '<div style="font-size: 18px; font-weight: bold; margin-top: 20px;">' + message.innerHTML + '</div>' + '<pre>' + stackTrace.innerHTML + '</pre>' + '</div>';
  return overlay;
}

function getParents(bundle, id) {
  var modules = bundle.modules;

  if (!modules) {
    return [];
  }

  var parents = [];
  var k, d, dep;

  for (k in modules) {
    for (d in modules[k][1]) {
      dep = modules[k][1][d];

      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {
        parents.push(k);
      }
    }
  }

  if (bundle.parent) {
    parents = parents.concat(getParents(bundle.parent, id));
  }

  return parents;
}

function hmrApply(bundle, asset) {
  var modules = bundle.modules;

  if (!modules) {
    return;
  }

  if (modules[asset.id] || !bundle.parent) {
    var fn = new Function('require', 'module', 'exports', asset.generated.js);
    asset.isNew = !modules[asset.id];
    modules[asset.id] = [fn, asset.deps];
  } else if (bundle.parent) {
    hmrApply(bundle.parent, asset);
  }
}

function hmrAcceptCheck(bundle, id) {
  var modules = bundle.modules;

  if (!modules) {
    return;
  }

  if (!modules[id] && bundle.parent) {
    return hmrAcceptCheck(bundle.parent, id);
  }

  if (checkedAssets[id]) {
    return;
  }

  checkedAssets[id] = true;
  var cached = bundle.cache[id];
  assetsToAccept.push([bundle, id]);

  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {
    return true;
  }

  return getParents(global.parcelRequire, id).some(function (id) {
    return hmrAcceptCheck(global.parcelRequire, id);
  });
}

function hmrAcceptRun(bundle, id) {
  var cached = bundle.cache[id];
  bundle.hotData = {};

  if (cached) {
    cached.hot.data = bundle.hotData;
  }

  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {
    cached.hot._disposeCallbacks.forEach(function (cb) {
      cb(bundle.hotData);
    });
  }

  delete bundle.cache[id];
  bundle(id);
  cached = bundle.cache[id];

  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {
    cached.hot._acceptCallbacks.forEach(function (cb) {
      cb();
    });

    return true;
  }
}
},{}]},{},["node_modules/parcel-bundler/src/builtins/hmr-runtime.js","js/App.js"], null)
//# sourceMappingURL=/App.dc58c3d0.js.map